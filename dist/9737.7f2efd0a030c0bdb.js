"use strict";(self.webpackChunkskeleton=self.webpackChunkskeleton||[]).push([[9737],{76822:(D,F,c)=>{c.d(F,{K:()=>u});var u=function(h){return h.BROUILLON="BROUILLON",h.APPROBATION="APPROBATION",h.APPROUVE="APPROUVE",h.ENVOYE="ENVOYE",h.VALIDE="VALIDE",h.ANNULE="ANNULE",h}(u||{})},92120:(D,F,c)=>{c.d(F,{r:()=>d});var u=c(21626),h=c(84412),m=c(25558),v=c(99437),f=c(18810),x=c(88141),e=c(22525),M=c(54438),a=c(88026);let d=(()=>{class l{constructor(i,n){this.http=i,this.usersService=n,this.apiUrl=e.c.apiBaseUrl,this.entrepriseSubject=new h.t([]),this.entreprise$=this.entrepriseSubject.asObservable()}getListEntreprises(){return this.usersService.getValidAccessToken().pipe((0,m.n)(i=>{const n=new u.Lr({Authorization:`Bearer ${i}`,"Content-Type":"application/json"});return this.http.get(`${this.apiUrl}/entreprises`,{headers:n})}),(0,v.W)(i=>{let n="Erreur inconnue";return i.error instanceof ErrorEvent?n=`Erreur: ${i.error.message}`:404===i.status&&(n="Aucune entreprise trouv\xe9e"),(0,f.$)(()=>new Error(n))}))}addEntreprise(i){return this.usersService.getValidAccessToken().pipe((0,m.n)(n=>{const o=new u.Lr({Authorization:`Bearer ${n}`,"Content-Type":"application/json"});return this.http.post(`${this.apiUrl}/entreprise-clients`,i,{headers:o})}),(0,x.M)(n=>{this.entrepriseSubject.next([...this.entrepriseSubject.value,n])}),(0,v.W)(n=>{let o="Erreur inconnue";return n.error instanceof ErrorEvent?o=`Erreur: ${n.error.message}`:400===n.status&&(o=n.error||"Donn\xe9es invalides"),(0,f.$)(()=>new Error(o))}))}getListEntreprise(){return this.usersService.getValidAccessToken().pipe((0,m.n)(i=>{if(!i)return console.error("Token vide ou non d\xe9fini ! V\xe9rifiez que l'utilisateur est bien connect\xe9."),(0,f.$)(()=>new Error("Token manquant"));const n=(new u.Lr).set("Authorization",`Bearer ${i}`);return console.log("En-t\xeates envoy\xe9s : ",n),this.http.get(`${this.apiUrl}/entreprises`,{headers:n})}),(0,x.M)(i=>{this.entrepriseSubject.next(i)}),(0,v.W)(i=>(console.error("Erreur lors de la r\xe9cup\xe9ration des entreprises:",i),(0,f.$)(()=>i))))}getEntrepriseById(i){return this.usersService.getValidAccessToken().pipe((0,m.n)(n=>{if(!n)return console.error("Token manquant"),(0,f.$)(()=>new Error("Token manquant"));const o=new u.Lr({Authorization:`Bearer ${n}`,"Content-Type":"application/json"});return this.http.get(`${this.apiUrl}/entreprises/${i}`,{headers:o})}),(0,v.W)(n=>{let o="Erreur inconnue";return n.error instanceof ErrorEvent?o=`Erreur: ${n.error.message}`:404===n.status&&(o="Entreprise non trouv\xe9e"),(0,f.$)(()=>new Error(o))}))}updateEntreprise(i,n){return this.usersService.getValidAccessToken().pipe((0,m.n)(o=>{if(!o)return(0,f.$)(()=>new Error("Token manquant"));const g=new u.Lr({Authorization:`Bearer ${o}`});return this.http.patch(`${this.apiUrl}/updateEntreprise/${i}`,n,{headers:g,responseType:"text"})}),(0,v.W)(o=>{let g="Erreur inconnue";return o.error instanceof ErrorEvent?g=`Erreur: ${o.error.message}`:400===o.status&&(g=o.error||"Donn\xe9es invalides"),(0,f.$)(()=>new Error(g))}))}getEntrepriseInfo(){return this.usersService.getValidAccessToken().pipe((0,m.n)(i=>{if(!i)return(0,f.$)(()=>new Error("Aucun token trouv\xe9"));const n=new u.Lr({Authorization:`Bearer ${i}`});return this.http.get(`${this.apiUrl}/myEntreprise`,{headers:n}).pipe((0,x.M)(o=>{localStorage.setItem("entreprise",JSON.stringify(o))}))}),(0,v.W)(i=>(console.error("Erreur r\xe9cup\xe9ration info entreprise:",i),(0,f.$)(()=>i))))}decodeJwt(i){return JSON.parse(atob(i.split(".")[1]))}isTokenExpired(i){return new Date(1e3*i.exp)<new Date}getNewTokenFromApi(){const i=localStorage.getItem("refreshToken");return this.http.post(`${this.apiUrl}/refresh-token`,{refreshToken:i})}static{this.\u0275fac=function(n){return new(n||l)(M.KVO(u.Qq),M.KVO(a.g))}}static{this.\u0275prov=M.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})()},72409:(D,F,c)=>{c.d(F,{c:()=>d});var u=c(21626),h=c(25558),m=c(88141),v=c(99437),f=c(18810),x=c(76822),e=c(22525),M=c(54438),a=c(88026);let d=(()=>{class l{constructor(i,n){this.http=i,this.usersService=n,this.apiUrl=e.c.apiBaseUrl}creerFactureProforma(i,n,o,g){return this.usersService.getValidAccessToken().pipe((0,h.n)(b=>{const P=new u.Lr({Authorization:`Bearer ${b}`});let O=new u.Nl;return g&&(void 0!==n&&(O=O.set("remisePourcentage",n.toString())),void 0!==o&&(O=O.set("appliquerTVA",o.toString()))),this.http.post(`${this.apiUrl}/ajouter`,i,{headers:P,params:O})}),(0,m.M)(b=>console.log("Facture cr\xe9\xe9e avec succ\xe8s:",b)),(0,v.W)(b=>(console.error("Erreur d\xe9taill\xe9e:",b),console.log("Corps de la r\xe9ponse:",b.error),(0,f.$)(()=>b))))}getAlFactproformaOfEntreprise(i){return this.usersService.getValidAccessToken().pipe((0,h.n)(n=>{const o=new u.Lr({Authorization:`Bearer ${n}`});return this.http.get(`${this.apiUrl}/mes-factures`,{headers:o})}))}getFactureProformaById(i){return this.usersService.getValidAccessToken().pipe((0,h.n)(n=>{const o=new u.Lr({Authorization:`Bearer ${n}`});return this.http.get(`${this.apiUrl}/factureProforma/${i}`,{headers:o})}))}updateFactureProforma(i,n,o,g,b){return this.usersService.getValidAccessToken().pipe((0,h.n)(P=>{const O=new u.Lr({Authorization:`Bearer ${P}`,"Content-Type":"application/json"});let I=new u.Nl;return void 0!==n&&(I=I.set("remisePourcentage",n.toString())),void 0!==o&&(I=I.set("appliquerTVA",o.toString())),b&&b.length>0&&b.forEach(y=>{I=I.append("idsApprobateurs",y.toString())}),g.statut===x.K.ANNULE&&(I=I.set("isAnnulation","true")),this.http.put(`${this.apiUrl}/updatefacture/${i}`,g,{headers:O,params:I}).pipe((0,m.M)(y=>console.log("Facture mise \xe0 jour:",y)),(0,v.W)(y=>(console.error("Erreur mise \xe0 jour:",y),(0,f.$)(()=>y))))}))}envoyerFactureEmail(i,n){const o=new FormData;return o.append("to",n.to),o.append("cc",n.cc),o.append("subject",n.subject),o.append("body",n.body),n.attachments&&n.attachments.forEach((g,b)=>{o.append("attachments",g,g.name)}),this.usersService.getValidAccessToken().pipe((0,h.n)(g=>{const b=new u.Lr({Authorization:`Bearer ${g}`});return this.http.post(`${this.apiUrl}/factures/${i}/envoyer-email`,o,{headers:b,responseType:"text"})}))}getHistoriqueFacture(i){return this.usersService.getValidAccessToken().pipe((0,h.n)(n=>{const o=new u.Lr({Authorization:`Bearer ${n}`});return this.http.get(`${this.apiUrl}/factpro/${i}/historique`,{headers:o})}),(0,v.W)(n=>(console.error("Erreur r\xe9cup\xe9ration historique facture:",n),(0,f.$)(()=>n))))}getNotesFactureProforma(i){return this.usersService.getValidAccessToken().pipe((0,h.n)(n=>{const o=new u.Lr({Authorization:`Bearer ${n}`});return this.http.get(`${this.apiUrl}/factures/${i}/notes`,{headers:o})}),(0,v.W)(n=>(console.error("Erreur r\xe9cup\xe9ration historique facture:",n),(0,f.$)(()=>n))))}getNoteById(i,n){return this.usersService.getValidAccessToken().pipe((0,h.n)(o=>{const g=new u.Lr({Authorization:`Bearer ${o}`,Accept:"application/json"});return this.http.get(`${this.apiUrl}/auth/${i}/notes/${n}`,{headers:g})}),(0,v.W)(o=>(console.error("Erreur lors de la r\xe9cup\xe9ration de la note:",o),(0,f.$)(()=>o))))}updateNote(i,n,o){return this.usersService.getValidAccessToken().pipe((0,h.n)(g=>{const b=new u.Lr({Authorization:`Bearer ${g}`,"Content-Type":"application/json"});return this.http.put(`${this.apiUrl}/${i}/notes/${n}`,{nouveauContenu:o},{headers:b})}),(0,m.M)(g=>console.log("Note modifi\xe9e avec succ\xe8s:",g)),(0,v.W)(g=>(console.error("Erreur lors de la modification de la note:",g),(0,f.$)(()=>g))))}deletNoteFactureProforma(i,n){return this.usersService.getValidAccessToken().pipe((0,h.n)(o=>{const g=new u.Lr({Authorization:`Bearer ${o}`,Accept:"application/json"});return this.http.delete(`${this.apiUrl}/${i}/notes/${n}/supprimer`,{headers:g})}),(0,v.W)(o=>(console.error("Erreur lors de la suppression de la note:",o),(0,f.$)(()=>o))))}getFacturesByClient(i,n){return this.usersService.getValidAccessToken().pipe((0,h.n)(o=>{let g=new u.Nl;void 0!==i&&(g=g.set("clientId",i.toString())),void 0!==n&&(g=g.set("entrepriseClientId",n.toString()));const b=new u.Lr({Authorization:`Bearer ${o}`});return this.http.get(`${this.apiUrl}/factures/client`,{headers:b,params:g})}),(0,v.W)(o=>(console.error("Erreur dans getFacturesByClient:",o),(0,f.$)(()=>o))))}getFacturesParPeriode(i,n,o){return this.usersService.getValidAccessToken().pipe((0,h.n)(g=>{const b=new u.Lr({Authorization:`Bearer ${g}`});let P=(new u.Nl).set("type",i);if("personnalise"===i){if(!n||!o)throw new Error("Pour 'personnalise', les dates dateDebut et dateFin sont obligatoires.");P=P.set("dateDebut",n).set("dateFin",o)}return this.http.get(`${this.apiUrl}/mes-factures/par-periode`,{headers:b,params:P})}))}deletFactureProforma(i){return this.usersService.getValidAccessToken().pipe((0,h.n)(n=>{const o=new u.Lr({Authorization:`Bearer ${n}`,Accept:"application/json"});return this.http.delete(`${this.apiUrl}/deletefactureproforma/${i}`,{headers:o})}),(0,v.W)(n=>(console.error("Erreur lors de la suppression de la note:",n),(0,f.$)(()=>n))))}static{this.\u0275fac=function(n){return new(n||l)(M.KVO(u.Qq),M.KVO(a.g))}}static{this.\u0275prov=M.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})()},19589:(D,F,c)=>{c.r(F),c.d(F,{DetailEditEntrepriseComponent:()=>te});var u=c(10467),h=c(60177),m=c(89417),v=c(96115),f=c(96850),x=c(22525),e=c(54438),M=c(49192),a=c(31673),d=c(72409),l=c(92120),E=c(44413);const i=["fileInput"],n=(r,_,t,p)=>({draft:r,sent:_,approved:t,valid:p});function o(r,_){if(1&r&&(e.j41(0,"div",81),e.EFF(1),e.k0s()),2&r){const t=e.XpG();e.R7$(),e.SpI(" ",t.errorMessage," ")}}function g(r,_){if(1&r&&(e.j41(0,"div",82),e.EFF(1),e.k0s()),2&r){const t=e.XpG();e.R7$(),e.SpI(" ",t.successMessage," ")}}function b(r,_){1&r&&(e.j41(0,"div",83)(1,"div",84),e.nrm(2,"div",85),e.j41(3,"p"),e.EFF(4,"Creation en cours..."),e.k0s()()())}function P(r,_){if(1&r){const t=e.RV6();e.j41(0,"div",86)(1,"div",87)(2,"h4",88),e.EFF(3,"Confirmation"),e.k0s(),e.j41(4,"p",89),e.EFF(5,"\xcates-vous s\xfbr de vouloir supprimer cette entreprise ?"),e.k0s(),e.j41(6,"div",90)(7,"button",91),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.confirmDeleteE())}),e.EFF(8,"OUI"),e.k0s(),e.j41(9,"button",92),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.showConfirmationModalE=!1)}),e.EFF(10,"NON"),e.k0s()()()()}}function O(r,_){if(1&r){const t=e.RV6();e.j41(0,"i",93),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.toggleEditing())}),e.k0s()}}function I(r,_){if(1&r){const t=e.RV6();e.j41(0,"i",94),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.toggleEditing())}),e.k0s()}}function y(r,_){1&r&&(e.j41(0,"small"),e.EFF(1,"Champ requis."),e.k0s())}function R(r,_){1&r&&(e.j41(0,"small"),e.EFF(1,"Au moins 2 caract\xe8res."),e.k0s())}function T(r,_){if(1&r&&(e.j41(0,"div",95),e.DNE(1,y,2,0,"small",70)(2,R,2,0,"small",70),e.k0s()),2&r){let t,p;const s=e.XpG();e.R7$(),e.Y8G("ngIf",null==(t=s.entrepriseForm.get("nom"))||null==t.errors?null:t.errors.required),e.R7$(),e.Y8G("ngIf",null==(p=s.entrepriseForm.get("nom"))||null==p.errors?null:p.errors.minlength)}}function w(r,_){1&r&&(e.j41(0,"small"),e.EFF(1,"Format invalide."),e.k0s())}function $(r,_){if(1&r&&(e.j41(0,"div",95),e.DNE(1,w,2,0,"small",70),e.k0s()),2&r){let t;const p=e.XpG();e.R7$(),e.Y8G("ngIf",null==(t=p.entrepriseForm.get("email"))||null==t.errors?null:t.errors.email)}}function B(r,_){1&r&&(e.j41(0,"div",95)(1,"small"),e.EFF(2,"Format invalide"),e.k0s()())}function S(r,_){if(1&r){const t=e.RV6();e.j41(0,"div",96),e.nrm(1,"div",97),e.j41(2,"div",98)(3,"div",99)(4,"button",100),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.goToClients())}),e.EFF(5),e.k0s()(),e.j41(6,"div",101)(7,"button",102),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.onSubmit())}),e.EFF(8," Modifier "),e.k0s()()()()}if(2&r){const t=e.XpG();e.R7$(5),e.JRh(t.isEditing?"Annuler":"Retour"),e.R7$(2),e.xc7("background-color",t.entrepriseForm.valid?"#0672E4":"#0671e434")("color",t.entrepriseForm.valid?"#ffffff":"#00000073")("cursor",t.entrepriseForm.valid?"pointer":"no-drop"),e.Y8G("disabled",t.entrepriseForm.invalid)}}function L(r,_){if(1&r&&(e.j41(0,"div",103)(1,"span"),e.EFF(2,"Factures entreprise"),e.k0s(),e.j41(3,"span",104),e.EFF(4),e.k0s()()),2&r){const t=e.XpG();e.R7$(4),e.JRh(t.factureCount)}}function U(r,_){if(1&r&&(e.j41(0,"tr")(1,"td",125),e.EFF(2),e.k0s(),e.j41(3,"td",125),e.EFF(4),e.k0s(),e.j41(5,"td",125),e.EFF(6),e.nI1(7,"customNumber"),e.k0s(),e.j41(8,"td",125),e.EFF(9),e.k0s(),e.j41(10,"td",125),e.EFF(11),e.nI1(12,"customNumber"),e.k0s()()),2&r){const t=_.$implicit;e.R7$(2),e.JRh(t.nomProduit),e.R7$(2),e.JRh(t.ligneDescription),e.R7$(2),e.JRh(e.bMT(7,5,t.prixUnitaire)),e.R7$(3),e.JRh(t.quantite),e.R7$(2),e.JRh(e.bMT(12,7,t.montantTotal))}}function N(r,_){1&r&&(e.j41(0,"tr")(1,"td",124),e.EFF(2,"Remise 0%"),e.k0s(),e.j41(3,"td",125),e.EFF(4,"0000"),e.k0s()())}function z(r,_){1&r&&(e.j41(0,"tr")(1,"td",124),e.EFF(2,"TVA 0%"),e.k0s(),e.j41(3,"td",125),e.EFF(4,"000"),e.k0s()())}function V(r,_){if(1&r&&(e.j41(0,"div",105)(1,"div",106)(2,"div",107),e.nrm(3,"img",108),e.k0s(),e.j41(4,"div",109)(5,"p",110),e.EFF(6),e.k0s(),e.j41(7,"p",110),e.EFF(8),e.k0s(),e.j41(9,"div",110),e.EFF(10),e.k0s()()(),e.nrm(11,"hr")(12,"hr"),e.j41(13,"div",111)(14,"h6"),e.EFF(15,"Facture proforma: "),e.j41(16,"span",112),e.EFF(17),e.k0s()()(),e.j41(18,"div",113)(19,"p",114),e.EFF(20),e.nI1(21,"date"),e.k0s()(),e.j41(22,"div",115)(23,"div",116)(24,"h6",117),e.EFF(25,"Doit : "),e.k0s(),e.j41(26,"p",117),e.EFF(27),e.k0s()(),e.j41(28,"div",118)(29,"h6",117),e.EFF(30,"Objet : "),e.k0s(),e.j41(31,"p",117),e.EFF(32),e.k0s()()(),e.j41(33,"div",119)(34,"table",120)(35,"thead")(36,"tr")(37,"th",121),e.EFF(38,"D\xe9signation"),e.k0s(),e.j41(39,"th",121),e.EFF(40,"Description"),e.k0s(),e.j41(41,"th",121),e.EFF(42,"PU"),e.k0s(),e.j41(43,"th",121),e.EFF(44,"Quantit\xe9"),e.k0s(),e.j41(45,"th",121),e.EFF(46,"Montant (FCFA)"),e.k0s()()(),e.j41(47,"tbody"),e.DNE(48,U,13,9,"tr",122),e.k0s(),e.j41(49,"tfoot",123)(50,"tr")(51,"td",124),e.EFF(52,"Total HT"),e.k0s(),e.j41(53,"td",125),e.EFF(54),e.nI1(55,"customNumber"),e.k0s()(),e.DNE(56,N,5,0,"tr",70)(57,z,5,0,"tr",70),e.j41(58,"tr")(59,"td",124),e.EFF(60,"Montant TTC"),e.k0s(),e.j41(61,"td",125),e.EFF(62),e.nI1(63,"customNumber"),e.k0s()()()()(),e.j41(64,"div",126)(65,"p",127),e.EFF(66,"Arr\xeat\xe9 la pr\xe9sente facture \xe0 la somme de : Zero ....."),e.k0s()(),e.j41(67,"div",128)(68,"div",129)(69,"p",130),e.EFF(70),e.k0s()(),e.j41(71,"div",131)(72,"p",130),e.EFF(73),e.k0s()()(),e.j41(74,"div",132)(75,"div",133),e.nrm(76,"hr"),e.j41(77,"p",134)(78,"strong"),e.EFF(79),e.k0s()(),e.j41(80,"div",135)(81,"em"),e.EFF(82),e.k0s()(),e.j41(83,"div",136)(84,"em"),e.EFF(85),e.k0s()()()()()),2&r){const t=e.XpG();e.R7$(3),e.Y8G("src",t.entrepriseEmitter.logo?t.imgUrl+t.entrepriseEmitter.logo:"assets/img/entreprise-icon.png",e.B4B),e.R7$(3),e.JRh(t.entrepriseNom),e.R7$(2),e.SpI("Secteur: ",t.entrepriseSecteur,""),e.R7$(2),e.Lme(" Email: ",t.entrepriseEmail," T\xe9l\xe9phone: ",t.entrepriseTelephone," "),e.R7$(7),e.SpI(" ",t.factureDetails.numeroFacture," "),e.R7$(3),e.Lme(" ",t.entrepriseSiege,", ",e.i5U(21,24,t.factureDetails.dateCreation,"dd/MM/yyyy")," "),e.R7$(7),e.SpI(" ",(null==t.factureDetails.client?null:t.factureDetails.client.nomComplet)||(null==t.factureDetails.entrepriseClient?null:t.factureDetails.entrepriseClient.nom)," "),e.R7$(5),e.SpI(" ",t.factureDetails.description," "),e.R7$(16),e.Y8G("ngForOf",t.factureDetails.lignesFacture),e.R7$(6),e.JRh(e.bMT(55,27,t.factureDetails.totalHT)),e.R7$(2),e.Y8G("ngIf",t.factureDetails.remise>0),e.R7$(),e.Y8G("ngIf",t.factureDetails.tva),e.R7$(5),e.JRh(e.bMT(63,29,t.factureDetails.totalFacture)),e.R7$(8),e.JRh(t.entrepriseSignataire),e.R7$(3),e.JRh(t.entrepriseSignataireNom),e.R7$(6),e.JRh(t.entrepriseSiteWeb),e.R7$(3),e.LHq(" NINA: ",t.entrepriseNina," RCCM: ",t.entrepriseRccm," NIF: ",t.entrepriseNif," Banque: ",t.entrepriseBanque," "),e.R7$(3),e.Lme("Adresse : ",t.entrepriseAdresse," /",t.entreprisePays,"")}}function K(r,_){1&r&&(e.j41(0,"div",137),e.nrm(1,"i",138),e.j41(2,"p"),e.EFF(3,"S\xe9lectionnez une facture pour l'aper\xe7u"),e.k0s()())}function W(r,_){1&r&&(e.j41(0,"div",139),e.nrm(1,"i",140),e.EFF(2," Chargement des factures... "),e.k0s())}function G(r,_){if(1&r&&(e.j41(0,"div",141),e.EFF(1),e.k0s()),2&r){const t=e.XpG();e.R7$(),e.SpI(" ",t.errorFactures," ")}}function Y(r,_){1&r&&(e.j41(0,"div",142),e.nrm(1,"i",143),e.j41(2,"p"),e.EFF(3,"Aucune facture trouv\xe9e pour cette entreprise"),e.k0s()())}function J(r,_){if(1&r){const t=e.RV6();e.j41(0,"tr",144),e.bIt("click",function(){const s=e.eBV(t).$implicit,C=e.XpG(2);return e.Njj(C.onSelectFacture(s))}),e.j41(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.nI1(5,"date"),e.k0s(),e.j41(6,"td")(7,"span",145),e.EFF(8),e.k0s()(),e.j41(9,"td",74),e.EFF(10),e.nI1(11,"customNumber"),e.k0s()()}if(2&r){const t=_.$implicit,p=e.XpG(2);e.AVh("selected-row",p.selectedFactureId===t.id),e.R7$(2),e.JRh(t.numeroFacture),e.R7$(2),e.JRh(e.i5U(5,7,t.dateFacture,"dd/MM/yyyy")),e.R7$(3),e.Y8G("ngClass",e.ziG(12,n,"BROUILLON"===t.statut,"ENVOYE"===t.statut,"APPROUVE"===t.statut,"VALIDE"===t.statut)),e.R7$(),e.SpI(" ",t.statut," "),e.R7$(2),e.JRh(e.bMT(11,10,t.totalFacture))}}function X(r,_){if(1&r&&(e.j41(0,"table")(1,"thead")(2,"tr",73)(3,"th"),e.EFF(4,"Num\xe9ro"),e.k0s(),e.j41(5,"th"),e.EFF(6,"Date"),e.k0s(),e.j41(7,"th"),e.EFF(8,"Statut"),e.k0s(),e.j41(9,"th",74),e.EFF(10,"Montant"),e.k0s()()(),e.j41(11,"tbody"),e.DNE(12,J,12,17,"tr",75),e.k0s()()),2&r){const t=e.XpG();e.R7$(12),e.Y8G("ngForOf",t.facturesEntreprise)}}function H(r,_){if(1&r&&(e.j41(0,"div",76)(1,"table",77)(2,"tfoot",78)(3,"tr")(4,"td",79),e.EFF(5,"Total"),e.k0s(),e.j41(6,"td",80),e.EFF(7),e.nI1(8,"customNumber"),e.k0s()()()()()),2&r){const t=e.XpG();e.R7$(7),e.SpI(" ",e.bMT(8,1,t.getTotalFactures())," ")}}function Q(r,_){if(1&r&&(e.j41(0,"div",103)(1,"span"),e.EFF(2,"Achats"),e.k0s(),e.j41(3,"span",104),e.EFF(4),e.k0s()()),2&r){const t=e.XpG();e.R7$(4),e.JRh(t.achatCount)}}function Z(r,_){if(1&r&&(e.j41(0,"tr")(1,"td",125),e.EFF(2),e.k0s(),e.j41(3,"td",125),e.EFF(4),e.nI1(5,"number"),e.k0s(),e.j41(6,"td",125),e.EFF(7),e.k0s(),e.j41(8,"td",125),e.EFF(9),e.nI1(10,"number"),e.k0s(),e.j41(11,"td",125),e.EFF(12),e.k0s()()),2&r){const t=_.$implicit;e.R7$(2),e.JRh(t.nomProduit),e.R7$(2),e.JRh(e.i5U(5,5,t.prixUnitaire,"1.0-0")),e.R7$(3),e.JRh(t.quantite),e.R7$(2),e.JRh(e.i5U(10,8,t.montantLigne,"1.0-0")),e.R7$(3),e.JRh(t.remise)}}function q(r,_){if(1&r&&(e.j41(0,"div",105)(1,"div",106)(2,"div",107),e.nrm(3,"img",146),e.k0s(),e.j41(4,"div",109)(5,"p",110),e.EFF(6,"Nom Entreprise"),e.k0s(),e.j41(7,"p",110),e.EFF(8,"Secteur Entreprise"),e.k0s(),e.j41(9,"div",110),e.EFF(10," Email: emailentreprise.com T\xe9l\xe9phone: 000000000 "),e.k0s()()(),e.nrm(11,"hr")(12,"hr"),e.j41(13,"div",111)(14,"h6"),e.EFF(15,"Facture proforma: "),e.j41(16,"span",112),e.EFF(17),e.k0s()()(),e.j41(18,"div",113)(19,"p",114),e.EFF(20),e.nI1(21,"date"),e.k0s()(),e.j41(22,"div",115)(23,"div",116)(24,"h6",117),e.EFF(25,"Vendeur : "),e.k0s(),e.j41(26,"p",117),e.EFF(27),e.k0s()(),e.j41(28,"div",118)(29,"h6",117),e.EFF(30,"Objet : "),e.k0s(),e.j41(31,"p",117),e.EFF(32),e.k0s()()(),e.j41(33,"div",119)(34,"table",120)(35,"thead")(36,"tr")(37,"th",121),e.EFF(38,"D\xe9signation"),e.k0s(),e.j41(39,"th",121),e.EFF(40,"PU"),e.k0s(),e.j41(41,"th",121),e.EFF(42,"Quantit\xe9"),e.k0s(),e.j41(43,"th",121),e.EFF(44,"Montant (FCFA)"),e.k0s(),e.j41(45,"th",121),e.EFF(46,"Remise "),e.k0s()()(),e.j41(47,"tbody"),e.DNE(48,Z,13,11,"tr",122),e.k0s(),e.j41(49,"tfoot",123)(50,"tr")(51,"td",124),e.EFF(52,"Total HT"),e.k0s(),e.j41(53,"td",125),e.EFF(54),e.nI1(55,"number"),e.k0s()(),e.j41(56,"tr")(57,"td",124),e.EFF(58,"Remise 0%"),e.k0s(),e.j41(59,"td",125),e.EFF(60),e.nI1(61,"number"),e.k0s()(),e.j41(62,"tr")(63,"td",124),e.EFF(64,"Montant TTC"),e.k0s(),e.j41(65,"td",125),e.EFF(66),e.nI1(67,"number"),e.k0s()()()()(),e.j41(68,"div",126)(69,"p",127),e.EFF(70,"Arr\xeat\xe9 la pr\xe9sente facture \xe0 la somme de : Zero ....."),e.k0s()(),e.j41(71,"div",128)(72,"div",129)(73,"p",130),e.EFF(74,"Signataire"),e.k0s()(),e.j41(75,"div",131)(76,"p",130),e.EFF(77,"Nom Signataire"),e.k0s()()(),e.j41(78,"div",132)(79,"div",133),e.nrm(80,"hr"),e.j41(81,"p",134)(82,"strong"),e.EFF(83,"www.siteweb.com"),e.k0s()(),e.j41(84,"div",135)(85,"em"),e.EFF(86," NINA: 000000 RCCM: 000000 NIF: 000000 Banque: Banque "),e.k0s()(),e.j41(87,"div",136)(88,"em"),e.EFF(89,"Adresse : Rue / Pays"),e.k0s()()()()()),2&r){const t=e.XpG();e.R7$(17),e.SpI(" ",t.selectedAchat.numeroFacture," "),e.R7$(3),e.SpI(" ",e.i5U(21,8,t.selectedAchat.dateVente,"dd/MM/yyyy HH:mm")," "),e.R7$(7),e.JRh(t.selectedAchat.nomVendeur),e.R7$(5),e.JRh(t.selectedAchat.description),e.R7$(16),e.Y8G("ngForOf",t.selectedAchat.lignes),e.R7$(6),e.JRh(e.i5U(55,11,t.selectedAchat.montantTotal,"1.0-0")),e.R7$(6),e.JRh(e.i5U(61,14,t.selectedAchat.remiseGlobale,"1.0-0")),e.R7$(6),e.JRh(e.i5U(67,17,t.selectedAchat.montantTotal-t.selectedAchat.remiseGlobale,"1.0-0"))}}function ee(r,_){if(1&r){const t=e.RV6();e.j41(0,"tr",144),e.bIt("click",function(){const s=e.eBV(t).$implicit,C=e.XpG();return e.Njj(C.onSelectAchat(s))}),e.j41(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.nI1(5,"date"),e.k0s(),e.j41(6,"td")(7,"span",147),e.EFF(8),e.k0s()(),e.j41(9,"td",74),e.EFF(10),e.nI1(11,"number"),e.k0s()()}if(2&r){const t=_.$implicit,p=e.XpG();e.AVh("selected-row",p.selectedAchatId===t.venteId),e.R7$(2),e.JRh(t.numeroFacture),e.R7$(2),e.JRh(e.i5U(5,6,t.dateVente,"dd/MM/yyyy")),e.R7$(4),e.JRh(t.modePaiement),e.R7$(2),e.JRh(e.i5U(11,9,t.montantTotal,"1.0-0"))}}let te=(()=>{class r{constructor(t,p,s,C,k,j,A){this.router=t,this.route=p,this.fb=s,this.entrepriseService=C,this.factureService=k,this.entrepriseService2=j,this.venteService=A,this.imgUrl=x.c.imgUrl,this.errorMessage="",this.successMessage="",this.indicatif="",this.maxPhoneLength=0,this.facturesEntreprise=[],this.isLoading=!1,this.loadingFactures=!1,this.errorFactures="",this.isEditing=!1,this.control=new m.MJ,this.selectedFactureId=null,this.factureDetails=null,this.entrepriseEmitter={},this.factureCount=0,this.achatCount=0,this.entrepriseNom="Nom entreprise",this.entrepriseSecteur="Secteur",this.entrepriseEmail="email@entreprise.com",this.entrepriseTelephone="+223 00 00 00 00",this.entrepriseSiege="Si\xe8ge social",this.entrepriseLogo="assets/img/entreprise-icon.png",this.entrepriseSiteWeb="www.entreprise.com",this.entrepriseNina="NINA",this.entrepriseRccm="RCCM",this.entrepriseNif="NIF",this.entrepriseBanque="Banque",this.entrepriseAdresse="Adresse",this.entreprisePays="Pays",this.entrepriseSignataireNom="Nom signataire",this.entrepriseSignataire="Fonction signataire",this.newPhotoUrl=null,this.selectedFile=null,this.clientPhotoUrl=null,this.paysIndicatifs={Mali:{indicatif:"+223",longueur:8},S\u00e9n\u00e9gal:{indicatif:"+221",longueur:9},"C\xf4te d'Ivoire":{indicatif:"+225",longueur:10}},this.entrepriseClient=null,this.showConfirmationModalE=!1,this.isDeletingE=!1,this.loading=!1,this.ventes=[],this.selectedAchatId=null,this.selectedAchat=null}ngOnInit(){this.initializeForm(),this.route.params.subscribe(t=>{this.entrepriseId=+t.id,this.loadEntrepriseData(),this.loadFacturesEntreprise(),this.entrepriseClientId=this.entrepriseId,this.clientId=void 0,this.getVentes()}),this.loadEntrepriseEmitter(),this.entrepriseForm.disable(),this.control.disable()}loadEntrepriseEmitter(){this.entrepriseService2.getEntrepriseInfo().subscribe({next:t=>{this.entrepriseEmitter=t},error:t=>{console.error("Erreur chargement infos entreprise \xe9mettrice",t)}})}loadFacturesEntreprise(){this.loadingFactures=!0,this.factureService.getFacturesByClient(void 0,this.entrepriseId).subscribe({next:t=>{this.facturesEntreprise=t,this.factureCount=t.length,this.loadingFactures=!1,this.facturesEntreprise.length>0&&this.onSelectFacture(this.facturesEntreprise[0])},error:t=>{this.errorFactures="Erreur lors du chargement des factures",this.loadingFactures=!1,console.error(t)}})}onSelectFacture(t){this.selectedFactureId=t.id,this.loadFactureDetails(t.id)}loadFactureDetails(t){this.factureService.getFactureProformaById(t).subscribe({next:p=>{this.factureDetails=p},error:p=>{console.error("Erreur chargement d\xe9tails facture",p)}})}getTotalFactures(){const t=this.facturesEntreprise.reduce((p,s)=>p+s.totalFacture,0);return Math.round(t)}onPaysChange(t){const s=this.paysIndicatifs[t.target.value];s&&(this.indicatif=`${s.indicatif} `,this.maxPhoneLength=this.indicatif.length+s.longueur,this.entrepriseForm.get("telephone")?.value.startsWith(this.indicatif)||this.entrepriseForm.get("telephone")?.setValue(this.indicatif),this.updatePhoneValidator(s.longueur))}updatePhoneValidator(t){const p=[];if(this.indicatif){const s=new RegExp(`^\\${this.indicatif}\\s*\\d{${t}}$`);p.push(m.k0.pattern(s))}this.entrepriseForm.get("telephone")?.setValidators(p),this.entrepriseForm.get("telephone")?.updateValueAndValidity()}formatPhoneNumber(){let t=this.entrepriseForm.get("telephone")?.value;if(!t.startsWith(this.indicatif))return void this.entrepriseForm.get("telephone")?.setValue(this.indicatif);const p=t.replace(this.indicatif,"").replace(/\D/g,""),s=this.indicatif+p;this.entrepriseForm.get("telephone")?.setValue(s.slice(0,this.maxPhoneLength))}initializeForm(){this.entrepriseForm=this.fb.group({nom:["",[m.k0.required,m.k0.minLength(2)]],email:["",[m.k0.email]],telephone:[""],pays:[""],adresse:[""],siege:[""],secteur:[""]})}loadEntrepriseData(){this.entrepriseService.getEntrepriseById(this.entrepriseId).subscribe({next:t=>{this.entrepriseData=t,this.entrepriseNom=t.nom,this.entrepriseSecteur=t.secteur||"",this.entrepriseEmail=t.email||"",this.entrepriseTelephone=t.telephone||"",this.entrepriseSiege=t.siege||"",this.entrepriseAdresse=t.adresse||"",this.entreprisePays=t.pays||"";let p=t.telephone;t.telephone&&t.telephone.includes(" ")&&(p=t.telephone.replace(/\s/g,"")),this.entrepriseForm.patchValue({nom:t.nom,email:t.email,telephone:p,pays:t.pays,adresse:t.adresse,siege:t.siege,secteur:t.secteur}),t.pays&&this.paysIndicatifs[t.pays]&&(this.indicatif=this.paysIndicatifs[t.pays].indicatif,this.maxPhoneLength=this.indicatif.length+this.paysIndicatifs[t.pays].longueur,this.updatePhoneValidator(this.paysIndicatifs[t.pays].longueur))},error:t=>{this.errorMessage=t.message||"Erreur lors du chargement"}})}toggleEditing(){this.isEditing=!this.isEditing,this.isEditing?this.entrepriseForm.enable():(this.entrepriseForm.disable(),this.loadEntrepriseData())}goToClients(){this.isEditing?this.toggleEditing():this.router.navigate(["/clients"])}triggerFileInput(){this.isEditing&&this.fileInput.nativeElement.click()}onSubmit(){this.entrepriseForm.invalid||(this.errorMessage="",this.successMessage="",this.isLoading=!0,setTimeout(()=>{const t={...this.entrepriseData,...this.entrepriseForm.value};this.entrepriseService.updateEntrepriseClient(this.entrepriseId,t).subscribe({next:()=>{this.successMessage="Entreprise modifi\xe9e avec succ\xe8s!",this.errorMessage="",this.isLoading=!1,setTimeout(()=>{this.isEditing=!1,this.entrepriseForm.disable(),this.loadEntrepriseData()},2e3)},error:p=>{this.errorMessage=p.message||"Erreur lors de la modification",this.successMessage="",this.isLoading=!1}})},3e3))}navigateBack(){this.router.navigate(["/clients"])}deleteEntreprise(){this.entrepriseClient||this.entrepriseId?this.showConfirmationModalE=!0:console.error("Entreprise cliente ou ID non disponible.")}confirmDeleteE(){var t=this;return(0,u.A)(function*(){if(t.showConfirmationModalE=!1,t.entrepriseClient||t.entrepriseId){t.isDeletingE=!0,t.errorMessage="",t.successMessage="";try{const p=t.entrepriseClient?.id||t.entrepriseId,s=yield t.entrepriseService.deleteEntreprise(p).toPromise();t.successMessage=s||"Entreprise supprim\xe9e avec succ\xe8s !",setTimeout(()=>{t.router.navigate(["/clients"])},2e3)}catch(p){let s=p?.error?.error||"Erreur lors de la suppression.";const C="Une erreur est survenue : ";s.startsWith(C)&&(s=s.substring(C.length)),t.errorMessage=s}finally{t.isDeletingE=!1,setTimeout(()=>{t.errorMessage="",t.successMessage=""},5e3)}}else t.errorMessage="Entreprise non disponible pour suppression."})()}onSelectAchat(t){this.selectedAchat=t,this.selectedAchatId=t.venteId,console.log("Achat s\xe9lectionn\xe9:",this.selectedAchat)}getVentes(){if(this.loading=!0,this.errorMessage="",!this.clientId&&!this.entrepriseClientId)return console.warn("Aucun client ou entreprise s\xe9lectionn\xe9, impossible de r\xe9cup\xe9rer les ventes."),void(this.loading=!1);this.venteService.getVenteByClient(this.clientId,this.entrepriseClientId).subscribe({next:t=>{console.log("donn\xe9es re\xe7ues :",t),this.ventes=t,this.achatCount=this.ventes.length,this.ventes.length>0&&(this.selectedAchatId=this.ventes[0].venteId,this.selectedAchat=this.ventes[0],console.log("Premier achat s\xe9lectionn\xe9 automatiquement :",this.selectedAchatId)),this.loading=!1},error:t=>{console.error("Erreur r\xe9cup\xe9ration ventes :",t),this.errorMessage="Impossible de r\xe9cup\xe9rer les ventes.",this.loading=!1}})}selectEntrepriseClient(t){this.entrepriseClientId=t.id,this.clientId=void 0,this.getVentes()}selectClient(t){this.clientId=t.id,this.entrepriseClientId=void 0,this.getVentes()}get totalMontant(){return this.ventes?.reduce(function(t,p){return t+(p.montantTotal||0)},0)||0}static{this.\u0275fac=function(p){return new(p||r)(e.rXU(M.Ix),e.rXU(M.nX),e.rXU(m.ok),e.rXU(a.K),e.rXU(d.c),e.rXU(l.r),e.rXU(E.W))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-detail-edit-entreprise"]],viewQuery:function(p,s){if(1&p&&e.GBs(i,5),2&p){let C;e.mGM(C=e.lsd())&&(s.fileInput=C.first)}},decls:140,vars:26,consts:[["noFactureSelected",""],[1,"toast-container"],["class","alert alert-danger toast-message-danger",4,"ngIf"],["class","alert alert-success toast-message-success",4,"ngIf"],["title","Retour sur la page entreprise client",1,"retour_icon_text",2,"cursor","pointer","color","#0672E4","margin-bottom","15px",3,"click"],[1,"ri-arrow-left-s-line"],[2,"margin-left","8px","font-size","12px"],[1,"container_client"],["class","loading-overlay",4,"ngIf"],[1,"information_cadre",2,"margin-bottom","20px","padding","20px"],[1,"information_grid_two"],[1,"profil_section"],[1,"section_title"],[1,"title"],[1,"profile-img-wrapper",3,"click"],["src","assets/img/office_building.png","alt","Photo de profil",1,"profile-img"],[1,"overlay"],["src","assets/img/appareil.jpg","alt","Modifier",1,"camera-icon"],[1,"delete-entrepriseClient-container",2,"margin-top","22px"],[2,"font-size","13px"],[1,"switch2"],["aria-label","Supprimer la boutique","title","Supprimer la boutique",1,"delete-boutique-btn",3,"click","disabled"],[1,"fas","fa-trash-alt"],["class","confirmation-modal-averB",4,"ngIf"],[1,"info_section"],[1,"title","title_display"],[1,"icon_edit"],["class","ri-edit-box-line","title","Cliquer ici pour modifier",3,"click",4,"ngIf"],["style","color: #ff0000;","class","ri-close-line","title","Fermer l'\xe9dition",3,"click",4,"ngIf"],[1,"container_formulaire",3,"formGroup"],[1,"champ_grid_true"],[1,"champ_input"],["type","text","id","nom","formControlName","nom","placeholder","Saisis le nom de l'entreprise",1,"input_focus"],["for","nom",1,"label"],["class","error",4,"ngIf"],["type","email","id","email","formControlName","email","placeholder","Saisis l'email",1,"input_focus"],["for","email",1,"label"],["id","secteur","formControlName","secteur","placeholder","Saisis le secteur",1,"input_focus"],["for","secteur",1,"label"],[1,"champ_grid"],[1,"champ_input","div1"],["formControlName","pays",1,"input_focus",3,"change"],["value","","disabled",""],["value","Mali"],["value","S\xe9n\xe9gal"],["value","C\xf4te d'Ivoire"],["for","pays",1,"label"],[1,"champ_input","div2"],["type","tel","id","telephone","formControlName","telephone","placeholder","Saisis le num\xe9ro de t\xe9l\xe9phone",1,"input_focus",3,"input"],["for","telephone",1,"label"],["id","adresse","formControlName","adresse","placeholder","Saisis l'adresse",1,"input_focus"],["for","adresse",1,"label"],["id","siege","formControlName","siege","placeholder","Saisis la ville",1,"input_focus"],["for","siege",1,"label"],["class","information_cadre_save",4,"ngIf"],[1,"information_cadre"],[1,"section_navbar"],[1,"custom-tabs",3,"selectedIndex"],["mat-tab-label",""],[1,"tab-content"],[1,"content_client"],[1,"profil_section","profil_section_facture"],["class","facture_model",4,"ngIf","ngIfElse"],[1,"info_section",2,"padding","0"],[1,"contact_info__"],[1,"section_title","section_title2",2,"padding","20px 20px 6px"],[1,"table-container",2,"max-height","41vh","border-radius","10px","display","flex","flex-direction","column","position","relative"],["class","loading-indicator",4,"ngIf"],["class","error-message",4,"ngIf"],["class","empty-state",4,"ngIf"],[4,"ngIf"],["class","sticky-footer",4,"ngIf"],["class","facture_model",4,"ngIf"],[2,"position","sticky","top","0","background","white","z-index","10","box-shadow","0 2px 2px -1px rgba(0,0,0,0.1)"],[1,"text-right"],[3,"selected-row","click",4,"ngFor","ngForOf"],[1,"sticky-footer"],[2,"width","100%"],[2,"background-color","#ffffff"],["colspan","3",1,"text-bold"],[1,"text-right","text-bold"],[1,"alert","alert-danger","toast-message-danger"],[1,"alert","alert-success","toast-message-success"],[1,"loading-overlay"],[1,"loading-content"],[1,"spinner"],[1,"confirmation-modal-averB"],[1,"modal-content-averB"],[2,"font-size","16px","margin-bottom","10px"],[2,"margin","0","font-size","12px"],[1,"modal-actions-averB"],[1,"btn-confirm",2,"font-size","12px",3,"click"],[1,"btn-cancel",2,"font-size","12px",3,"click"],["title","Cliquer ici pour modifier",1,"ri-edit-box-line",3,"click"],["title","Fermer l'\xe9dition",1,"ri-close-line",2,"color","#ff0000",3,"click"],[1,"error"],[1,"information_cadre_save"],[1,"container_error_message"],[1,"info_titre_input","info_titre_input_btn"],[1,"btn_annuler"],[1,"btn_cancel",3,"click"],[1,"btn_ajouter"],[1,"btn_save",3,"click","disabled"],[1,"tab-label"],[1,"facture-count"],[1,"facture_model"],[1,"header_apercu",2,"display","flex","align-items","center","gap","5px","margin","10px"],[1,"logo_entreprise"],[3,"src"],[1,"entete_entreprise"],[1,"para1"],[1,"titre",2,"text-align","center","font-size","8px"],[2,"color","#0000003e"],[1,"date_right"],[2,"margin","0 10px","font-size","8px","text-align","right"],[1,"name_client",2,"margin-left","10px"],[1,"doit",2,"display","flex","align-items","center","gap","3px"],[2,"margin","0","font-size","8px"],[1,"objets",2,"display","flex","align-items","center","gap","3px"],[1,"container_table",2,"display","flex","justify-content","center"],[1,"table"],[1,"th"],[4,"ngFor","ngForOf"],[1,"tfoot"],["colspan","4",1,"td"],[1,"td"],[1,"arret_somme"],[2,"margin","0 0 0 10px","font-size","6px"],[1,"signature",2,"text-align","right","margin","20px 10px 16px 0"],[1,"post_signateure"],[2,"font-size","8px"],[1,"nom_signateure"],[1,"container_footer"],[1,"footer"],[2,"text-align","center","font-size","8px","margin","0 0 3px 0"],[2,"font-size","5px","text-align","center"],[2,"margin-top","0px","font-size","5px","text-align","center"],[1,"empty-preview"],[1,"ri-file-text-line"],[1,"loading-indicator"],[1,"ri-loader-4-line","spin"],[1,"error-message"],[1,"empty-state"],[1,"ri-file-list-2-line"],[3,"click"],[1,"status-badge",3,"ngClass"],["src","assets/img/Votre.png"],[1,"status-badge"]],template:function(p,s){if(1&p){const C=e.RV6();e.j41(0,"div",1),e.DNE(1,o,2,1,"div",2)(2,g,2,1,"div",3),e.k0s(),e.j41(3,"p",4),e.bIt("click",function(){return e.eBV(C),e.Njj(s.navigateBack())}),e.nrm(4,"i",5),e.j41(5,"span",6),e.EFF(6,"Entreprise clients"),e.k0s()(),e.j41(7,"div",7),e.DNE(8,b,5,0,"div",8),e.j41(9,"div",9)(10,"div",10)(11,"div",11)(12,"div",12)(13,"div",13)(14,"h6"),e.EFF(15,"Logo"),e.k0s()()(),e.j41(16,"div",14),e.bIt("click",function(){return e.eBV(C),e.Njj(s.triggerFileInput())}),e.nrm(17,"img",15),e.j41(18,"div",16),e.nrm(19,"img",17),e.k0s()(),e.j41(20,"div",18)(21,"span",19)(22,"span",19),e.EFF(23," Supprimer Entreprise "),e.k0s()(),e.j41(24,"label",20)(25,"button",21),e.bIt("click",function(){return e.eBV(C),e.Njj(s.deleteEntreprise())}),e.nrm(26,"i",22),e.k0s()()()(),e.DNE(27,P,11,0,"div",23),e.j41(28,"div",24)(29,"div",12)(30,"div",25)(31,"h6"),e.EFF(32,"Informations Entreprise"),e.k0s(),e.j41(33,"div",26),e.DNE(34,O,1,0,"i",27)(35,I,1,0,"i",28),e.k0s()()(),e.j41(36,"form",29)(37,"div",30)(38,"div",31),e.nrm(39,"input",32),e.j41(40,"label",33),e.EFF(41,"Nom entreprise"),e.k0s(),e.DNE(42,T,3,2,"div",34),e.k0s(),e.j41(43,"div",31),e.nrm(44,"input",35),e.j41(45,"label",36),e.EFF(46,"Email"),e.k0s(),e.DNE(47,$,2,1,"div",34),e.k0s(),e.j41(48,"div",31),e.nrm(49,"input",37),e.j41(50,"label",38),e.EFF(51,"Secteur"),e.k0s()()(),e.j41(52,"div",39)(53,"div",40)(54,"select",41),e.bIt("change",function(j){return e.eBV(C),e.Njj(s.onPaysChange(j))}),e.j41(55,"option",42),e.EFF(56,"Pays"),e.k0s(),e.j41(57,"option",43),e.EFF(58,"Mali"),e.k0s(),e.j41(59,"option",44),e.EFF(60,"S\xe9n\xe9gal"),e.k0s(),e.j41(61,"option",45),e.EFF(62,"C\xf4te d'Ivoire"),e.k0s()(),e.j41(63,"label",46),e.EFF(64,"Pays"),e.k0s()(),e.j41(65,"div",47)(66,"input",48),e.bIt("input",function(){return e.eBV(C),e.Njj(s.formatPhoneNumber())}),e.k0s(),e.j41(67,"label",49),e.EFF(68,"T\xe9l\xe9phone"),e.k0s(),e.DNE(69,B,3,0,"div",34),e.k0s()(),e.j41(70,"div",39)(71,"div",31),e.nrm(72,"input",50),e.j41(73,"label",51),e.EFF(74,"Adresse"),e.k0s()(),e.j41(75,"div",31),e.nrm(76,"input",52),e.j41(77,"label",53),e.EFF(78,"Ville"),e.k0s()()(),e.DNE(79,S,9,8,"div",54),e.k0s()()()(),e.j41(80,"div",55)(81,"div",56)(82,"mat-tab-group",57)(83,"mat-tab"),e.DNE(84,L,5,1,"ng-template",58),e.j41(85,"div",59)(86,"div",60)(87,"div",10)(88,"div",61),e.DNE(89,V,86,31,"div",62)(90,K,4,0,"ng-template",null,0,e.C5r),e.k0s(),e.j41(92,"div",63)(93,"div",64)(94,"div",65)(95,"div",13)(96,"h6"),e.EFF(97,"Toutes les factures"),e.k0s()()(),e.j41(98,"div",66),e.DNE(99,W,3,0,"div",67)(100,G,2,1,"div",68)(101,Y,4,0,"div",69)(102,X,13,1,"table",70),e.k0s(),e.DNE(103,H,9,3,"div",71),e.k0s()()()()()(),e.j41(104,"mat-tab"),e.DNE(105,Q,5,1,"ng-template",58),e.j41(106,"div",59)(107,"div",60)(108,"div",10)(109,"div",61),e.DNE(110,q,90,20,"div",72),e.k0s(),e.j41(111,"div",63)(112,"div",64)(113,"div",65)(114,"div",13)(115,"h6"),e.EFF(116,"Toutes les achats"),e.k0s()()(),e.j41(117,"div",66)(118,"table")(119,"thead")(120,"tr",73)(121,"th"),e.EFF(122,"Num\xe9ro Facture"),e.k0s(),e.j41(123,"th"),e.EFF(124,"Date"),e.k0s(),e.j41(125,"th"),e.EFF(126,"Mode Paiement"),e.k0s(),e.j41(127,"th",74),e.EFF(128,"Montant"),e.k0s()()(),e.j41(129,"tbody"),e.DNE(130,ee,12,12,"tr",75),e.k0s()()(),e.j41(131,"div",76)(132,"table",77)(133,"tfoot",78)(134,"tr")(135,"td",79),e.EFF(136,"Total"),e.k0s(),e.j41(137,"td",80),e.EFF(138),e.nI1(139,"number"),e.k0s()()()()()()()()()()()()()()()}if(2&p){let C,k,j;const A=e.sdS(91);e.R7$(),e.Y8G("ngIf",s.errorMessage),e.R7$(),e.Y8G("ngIf",s.successMessage),e.R7$(6),e.Y8G("ngIf",s.isLoading),e.R7$(17),e.Y8G("disabled",s.isDeletingE),e.R7$(2),e.Y8G("ngIf",s.showConfirmationModalE),e.R7$(7),e.Y8G("ngIf",!s.isEditing),e.R7$(),e.Y8G("ngIf",s.isEditing),e.R7$(),e.Y8G("formGroup",s.entrepriseForm),e.R7$(6),e.Y8G("ngIf",(null==(C=s.entrepriseForm.get("nom"))?null:C.touched)&&(null==(C=s.entrepriseForm.get("nom"))?null:C.invalid)),e.R7$(5),e.Y8G("ngIf",(null==(k=s.entrepriseForm.get("email"))?null:k.touched)&&(null==(k=s.entrepriseForm.get("email"))?null:k.invalid)),e.R7$(22),e.Y8G("ngIf",(null==(j=s.entrepriseForm.get("telephone"))?null:j.touched)&&(null==(j=s.entrepriseForm.get("telephone"))?null:j.invalid)),e.R7$(10),e.Y8G("ngIf",s.isEditing),e.R7$(3),e.Y8G("selectedIndex",0),e.R7$(7),e.Y8G("ngIf",s.factureDetails)("ngIfElse",A),e.R7$(10),e.Y8G("ngIf",s.loadingFactures),e.R7$(),e.Y8G("ngIf",!s.loadingFactures&&s.errorFactures),e.R7$(),e.Y8G("ngIf",!s.loadingFactures&&!s.errorFactures&&0===s.facturesEntreprise.length),e.R7$(),e.Y8G("ngIf",!s.loadingFactures&&!s.errorFactures&&s.facturesEntreprise.length>0),e.R7$(),e.Y8G("ngIf",!s.loadingFactures&&!s.errorFactures&&s.facturesEntreprise.length>0),e.R7$(7),e.Y8G("ngIf",s.selectedAchat),e.R7$(20),e.Y8G("ngForOf",s.ventes),e.R7$(8),e.SpI(" ",e.i5U(139,23,s.totalMontant,"1.0-0")," ")}},dependencies:[m.YN,m.qT,m.xH,m.y7,m.me,m.wz,m.BC,m.cb,h.MD,h.YU,h.Sq,h.bT,h.QX,h.vh,m.X1,m.j4,m.JD,v.v,f.RI,f.ES,f.mq,f.T8],styles:['@charset "UTF-8";.container_client[_ngcontent-%COMP%]{width:100%;background:transparent;border-radius:12px;box-shadow:0 10px 30px #0000001a;overflow:hidden}.information_cadre[_ngcontent-%COMP%]{width:100%;height:auto;background-color:#fff;box-shadow:2px 2px 30px #0000001c;border-radius:5px;margin-top:0;margin-bottom:10px;padding:10px 0}.content_client[_ngcontent-%COMP%]{padding:30px}.information_grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 2fr 2fr;gap:20px}.information_grid_two[_ngcontent-%COMP%]{display:grid;grid-template-columns:27% 2fr;gap:20px}.section_title[_ngcontent-%COMP%]{margin-bottom:10px;position:relative;padding-bottom:2px}.section_title[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:#2c3e50;text-transform:uppercase;letter-spacing:1px}.title_display[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.section_title[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:50px;height:3px;background:linear-gradient(to right,#4b6cb7,#182848);border-radius:3px}.section_title2[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:21px;width:50px;height:3px;background:linear-gradient(to right,#4b6cb7,#182848);border-radius:3px}.profil_section[_ngcontent-%COMP%]{padding:25px;background-color:#fff;border:1px solid #e9e9e9;box-shadow:#00000001 0 0 0 1px;border-radius:20px}.profil_section_facture[_ngcontent-%COMP%]{min-height:50vh;padding:0!important}.info_section[_ngcontent-%COMP%]{padding:25px;background-color:#fff;border:1px solid #e9e9e9;box-shadow:#00000001 0 0 0 1px;border-radius:20px}.info_grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:20px}.champ_grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-template-rows:1fr;grid-column-gap:0px;grid-row-gap:0px;gap:20px}.champ_grid_true[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:1fr;grid-column-gap:0px;grid-row-gap:0px;gap:20px}.champ_input[_ngcontent-%COMP%]{position:relative;margin-bottom:5px}.input_focus[_ngcontent-%COMP%]{width:100%;height:40px;outline:none;border-bottom:1px solid rgb(53,50,50);border-top:none;border-left:none;border-right:none;margin:10px 0 0;transition:all .3s;font-size:10px;background:none;color:#000}.champ_input[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{position:absolute;top:22px;left:4px;pointer-events:none;color:#999}.input_focus[_ngcontent-%COMP%]:hover{border-bottom:1px solid #0672E4;border-top:none;border-left:none;border-right:none}.input_focus[_ngcontent-%COMP%]:not(:placeholder-shown) + .label[_ngcontent-%COMP%], .input_focus[_ngcontent-%COMP%]:focus + .label[_ngcontent-%COMP%]{color:#0672e4;top:5px;left:0;transition:all .3s ease-in-out;background:none;font-size:10px;padding:0}.input_focus[_ngcontent-%COMP%]::placeholder{opacity:0}.input_focus[_ngcontent-%COMP%]:focus::placeholder{opacity:1;animation-delay:1s;font-size:12px;transition:all .2s ease-in-out}.profile-img-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block;width:100px;height:100px;overflow:hidden;cursor:pointer;transition:transform .2s ease-in-out;display:flex;justify-content:center;margin:20px auto}.profile-img-wrapper[_ngcontent-%COMP%]:hover{transform:scale(1.01)}.profile-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;left:10px;position:relative}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0000004d;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .3s ease-in-out;border-radius:50px}.profile-img-wrapper[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{opacity:1}.camera-icon[_ngcontent-%COMP%]{width:30px;height:30px;background:#fff;padding:6px;border-radius:50%;box-shadow:0 0 4px #00000026}.icon_edit[_ngcontent-%COMP%]{margin-top:-7px}.icon_edit[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px;cursor:pointer}@media (max-width: 768px){.information_grid[_ngcontent-%COMP%], .information_grid_two[_ngcontent-%COMP%], .info_grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.info_item[_ngcontent-%COMP%]{margin-bottom:20px}.info_label[_ngcontent-%COMP%]{font-size:14px;color:#6c757d;font-weight:500;margin-bottom:5px}.info_value[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#2c3e50}.contact_info[_ngcontent-%COMP%]{margin-top:20px}.contact_item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:15px}.contact_icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:#e9ecef;display:flex;align-items:center;justify-content:center;color:#4b6cb7;font-size:18px}.tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;margin-top:20px}.tag[_ngcontent-%COMP%]{background:#e3f2fd;color:#1976d2;padding:6px 12px;border-radius:20px;font-size:13px;font-weight:500}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:30px;height:15px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0 0 0 2px;background-color:#ccc;transition:.4s;border-radius:24px}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:11px;width:11px;left:2px;bottom:2px;background-color:#fff;transition:.4s;border-radius:50%}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#0672e4}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(13px)}.input_cursor[_ngcontent-%COMP%]{cursor:pointer}.icon_arrow[_ngcontent-%COMP%]{position:absolute;right:10px;top:25px}.icon_arrow[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:17px;color:#000}.popup-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.popup-content[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;width:50%}.popup-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.popup-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer}.popup-footer[_ngcontent-%COMP%]{margin-top:20px;text-align:right}.btn-cancel[_ngcontent-%COMP%], .btn-submit[_ngcontent-%COMP%]{margin-left:10px;border:none;border-radius:4px;cursor:pointer}.btn-cancel[_ngcontent-%COMP%]{background-color:red;padding:6px 25px;color:#fff}.btn-cancel[_ngcontent-%COMP%]:hover{background-color:#d80101;transition:all ease-in .5s}.btn-submit[_ngcontent-%COMP%]{background-color:#0672e4;padding:6px 25px;color:#fff;cursor:pointer;cursor:no-drop}.btn-submit[_ngcontent-%COMP%]:hover{background-color:#0863c5;transition:all ease-in .5s}.error-text[_ngcontent-%COMP%]{color:#f44;font-size:.8rem;margin-top:4px}.btn-submit[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.error-messageApi[_ngcontent-%COMP%]{font-size:9px;color:red;font-weight:700;position:relative;top:-20px;left:-20px}.success-messageApi[_ngcontent-%COMP%]{font-size:9px;color:#0672e4;font-weight:700;position:relative;top:-20px;left:-20px}.error-messageApi2[_ngcontent-%COMP%]{font-size:9px;color:red;font-weight:700}.success-messageApi2[_ngcontent-%COMP%]{font-size:9px;color:#0672e4;font-weight:700}.error[_ngcontent-%COMP%]{font-size:9px;color:red;font-weight:700;position:relative}.champ_input_inventaire[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}.champ_input_inventaire[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.table-container[_ngcontent-%COMP%]{margin:0;overflow:auto}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:2px;height:2px}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#0003;border-radius:3px}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:12px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;border-bottom:1px solid #eee}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#fff;font-weight:600;color:#000;letter-spacing:.6px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background-color .2s}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#f1f3f5}table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:600;color:#212529}.text-right[_ngcontent-%COMP%]{text-align:right}.text-bold[_ngcontent-%COMP%]{font-weight:600}.status-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 8px;border-radius:12px;font-size:9px;font-weight:500}.status-badge.draft[_ngcontent-%COMP%]{background-color:#e9ecef;color:#495057}.status-badge.sent[_ngcontent-%COMP%]{background-color:#fff3cd;color:#856404}.status-badge.approved[_ngcontent-%COMP%]{background-color:#c5c5e2;color:#00f}.status-badge.valid[_ngcontent-%COMP%]{background-color:#d5e6d5;color:green}.loading-indicator[_ngcontent-%COMP%]{padding:20px;text-align:center;color:#6c757d}.loading-indicator[_ngcontent-%COMP%]   .spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-right:8px}.empty-state[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;color:#6c757d}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:48px;margin-bottom:16px;color:#ced4da}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.error-message[_ngcontent-%COMP%]{padding:20px;text-align:center;color:#dc3545;background-color:#fff8f8;border-radius:8px;margin:10px 0}.table-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}.table-wrapper[_ngcontent-%COMP%]{flex:1;overflow-y:auto}.sticky-footer[_ngcontent-%COMP%]{position:sticky;bottom:0;background:#fff;z-index:10;box-shadow:0 -2px 5px #0000001a;border-top:1px solid #eee}.sticky-footer[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{position:sticky;top:0;background:#fff;z-index:10;box-shadow:0 2px 5px #0000001a}.logo_entreprise[_ngcontent-%COMP%]{width:50px}.logo_entreprise[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.para1[_ngcontent-%COMP%]{font-size:6px;margin:0}hr[_ngcontent-%COMP%]{margin:3px}.titre[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:10px}.table[_ngcontent-%COMP%]{width:93%;border-collapse:collapse;margin:4px 0;font-size:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:3px 5px;text-align:center}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{background-color:#f5f5f5;font-weight:600}.table[_ngcontent-%COMP%]   .tfoot[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{font-weight:600;background-color:#f9f9f9}@media (max-width: 768px){table[_ngcontent-%COMP%]{font-size:11px}}@media (max-width: 480px){table[_ngcontent-%COMP%]{font-size:10px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px 3px}}.btn_annuler[_ngcontent-%COMP%]   .btn_cancel[_ngcontent-%COMP%]{padding:6px 20px;font-size:10px;letter-spacing:.6px;border:none;border-radius:5px;background-color:red;color:#fff}.btn_annuler[_ngcontent-%COMP%]   .btn_cancel[_ngcontent-%COMP%]:hover{background-color:#d80101;transition:all ease-in .5s}.btn_ajouter[_ngcontent-%COMP%]   .btn_save[_ngcontent-%COMP%]{padding:6px 20px;font-size:10px;letter-spacing:.6px;border:none;border-radius:5px;background-color:#0672e4;color:#fff}.btn_ajouter[_ngcontent-%COMP%]   .btn_save[_ngcontent-%COMP%]:hover{background-color:#0863c5;transition:all .5s}.info_titre_input_btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:end;gap:8px;margin-top:12px}.grid_colonne[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:1fr;grid-column-gap:0px;grid-row-gap:0px;gap:20px}.div1[_ngcontent-%COMP%]{grid-area:1/1/2/2}.div2[_ngcontent-%COMP%]{grid-area:1/2/2/3}.div3[_ngcontent-%COMP%]{grid-area:1/3/2/4}.selected-row[_ngcontent-%COMP%]{border:2px solid #0672E4;background-color:#f0f8ff}.empty-preview[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;color:#6c757d}.empty-preview[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:48px;margin-bottom:10px}.empty-preview[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;text-align:center}.tab-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.facture-count[_ngcontent-%COMP%]{background-color:#ddd;color:#000;border-radius:50%;font-size:12px;min-width:22px;height:22px;display:flex;justify-content:center;align-items:center;padding:2px}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;color:#fff;font-size:18px;z-index:1000}.loading-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px}.spinner[_ngcontent-%COMP%]{border:4px solid rgba(255,255,255,.3);border-top:4px solid white;border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.container_error_message[_ngcontent-%COMP%]{margin-top:10px}.information_cadre_save[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.success-messageApi2[_ngcontent-%COMP%]{font-size:12px;color:#0672e4;font-weight:700}.toast-container[_ngcontent-%COMP%]{position:fixed;top:60px;right:35px;z-index:9999}.toast-message-success[_ngcontent-%COMP%]{background-color:#77eb87;border:1px solid #ACCEBC;color:#000;padding:10px;border-radius:8px;font-size:13px;box-shadow:0 4px 6px #0000001a;opacity:0;animation:_ngcontent-%COMP%_fadeInOut 4s ease-in-out;transform:translateY(-20px)}.toast-message-danger[_ngcontent-%COMP%], .toast-message-warning[_ngcontent-%COMP%]{background-color:#f3d8da;border:1px solid #E7B1B6;color:#000;padding:10px;border-radius:8px;font-size:13px;box-shadow:0 4px 6px #0000001a;opacity:0;animation:_ngcontent-%COMP%_fadeInOut 4s ease-in-out;transform:translateY(-20px)}@keyframes _ngcontent-%COMP%_fadeInOut{0%{opacity:0;transform:translateY(-20px)}20%{opacity:1;transform:translateY(0)}80%{opacity:1}to{opacity:0;transform:translateY(2px)}}.delete-entrepriseClient-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.delete-boutique-btn[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#7a7a7ae7;cursor:pointer;font-size:20px;padding:0;transition:color .2s;bottom:10px;position:relative;left:10px}.delete-boutique-btn[_ngcontent-%COMP%]:hover{color:#fa2a2a}.btn-confirm[_ngcontent-%COMP%], .btn-cancel[_ngcontent-%COMP%]{flex:1;padding:8px 0;border:none;border-radius:5px;font-size:13px;cursor:pointer;transition:background .2s ease}.btn-confirm[_ngcontent-%COMP%]{background-color:#0672e4;color:#fff}.btn-confirm[_ngcontent-%COMP%]:hover{background-color:#1b83f2;color:#fff}.btn-cancel[_ngcontent-%COMP%]{background-color:#e0e0e0;color:#333}.btn-cancel[_ngcontent-%COMP%]:hover{background-color:#c8c8c8}.switch2[_ngcontent-%COMP%]{position:relative;display:inline-block;width:30px;height:15px}.confirmation-modal-averB[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1050}.confirmation-modal-averB[_ngcontent-%COMP%]   .modal-content-averB[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 4px 8px #0003;width:300px;color:#000}.modal-actions-averB[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:10px}.btn-confirmB[_ngcontent-%COMP%]{background-color:#0672e4;color:#fff;border:none;padding:4px 10px;border-radius:4px;cursor:pointer}']})}}return r})()},43381:(D,F,c)=>{c.d(F,{L:()=>e});var u=c(54438),h=c(18359),m=c(21413),v=c(42774),f=c(67336),x=c(17035);class e{_items;_activeItemIndex=-1;_activeItem=(0,u.vPA)(null);_wrap=!1;_typeaheadSubscription=h.yU.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=a=>a.disabled;constructor(a,d){this._items=a,a instanceof u.rOR?this._itemChangesSubscription=a.changes.subscribe(l=>this._itemsChanged(l.toArray())):(0,u.Hps)(a)&&(this._effectRef=(0,u.QZP)(()=>this._itemsChanged(a()),{injector:d}))}tabOut=new m.B;change=new m.B;skipPredicate(a){return this._skipPredicateFn=a,this}withWrap(a=!0){return this._wrap=a,this}withVerticalOrientation(a=!0){return this._vertical=a,this}withHorizontalOrientation(a){return this._horizontal=a,this}withAllowedModifierKeys(a){return this._allowedModifierKeys=a,this}withTypeAhead(a=200){this._typeaheadSubscription.unsubscribe();const d=this._getItemsArray();return this._typeahead=new v.T(d,{debounceInterval:"number"==typeof a?a:void 0,skipPredicate:l=>this._skipPredicateFn(l)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(l=>{this.setActiveItem(l)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(a=!0){return this._homeAndEnd=a,this}withPageUpDown(a=!0,d=10){return this._pageUpAndDown={enabled:a,delta:d},this}setActiveItem(a){const d=this._activeItem();this.updateActiveItem(a),this._activeItem()!==d&&this.change.next(this._activeItemIndex)}onKeydown(a){const d=a.keyCode,E=["altKey","ctrlKey","metaKey","shiftKey"].every(i=>!a[i]||this._allowedModifierKeys.indexOf(i)>-1);switch(d){case x.T:return void this.tabOut.next();case x.D:if(this._vertical&&E){this.setNextItemActive();break}return;case x.U:if(this._vertical&&E){this.setPreviousItemActive();break}return;case x.R:if(this._horizontal&&E){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case x.L:if(this._horizontal&&E){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case x.H:if(this._homeAndEnd&&E){this.setFirstItemActive();break}return;case x.E:if(this._homeAndEnd&&E){this.setLastItemActive();break}return;case x.a:if(this._pageUpAndDown.enabled&&E){const i=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(i>0?i:0,1);break}return;case x.P:if(this._pageUpAndDown.enabled&&E){const i=this._activeItemIndex+this._pageUpAndDown.delta,n=this._getItemsArray().length;this._setActiveItemByIndex(i<n?i:n-1,-1);break}return;default:return void((E||(0,f.rp)(a,"shiftKey"))&&this._typeahead?.handleKey(a))}this._typeahead?.reset(),a.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(a){const d=this._getItemsArray(),l="number"==typeof a?a:d.indexOf(a);this._activeItem.set(d[l]??null),this._activeItemIndex=l,this._typeahead?.setCurrentSelectedItemIndex(l)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(a){this._wrap?this._setActiveInWrapMode(a):this._setActiveInDefaultMode(a)}_setActiveInWrapMode(a){const d=this._getItemsArray();for(let l=1;l<=d.length;l++){const E=(this._activeItemIndex+a*l+d.length)%d.length;if(!this._skipPredicateFn(d[E]))return void this.setActiveItem(E)}}_setActiveInDefaultMode(a){this._setActiveItemByIndex(this._activeItemIndex+a,a)}_setActiveItemByIndex(a,d){const l=this._getItemsArray();if(l[a]){for(;this._skipPredicateFn(l[a]);)if(!l[a+=d])return;this.setActiveItem(a)}}_getItemsArray(){return(0,u.Hps)(this._items)?this._items():this._items instanceof u.rOR?this._items.toArray():this._items}_itemsChanged(a){this._typeahead?.setItems(a);const d=this._activeItem();if(d){const l=a.indexOf(d);l>-1&&l!==this._activeItemIndex&&(this._activeItemIndex=l,this._typeahead?.setCurrentSelectedItemIndex(l))}}}},42774:(D,F,c)=>{c.d(F,{T:()=>M});var u=c(21413),h=c(88141),m=c(70152),v=c(5964),f=c(96354),x=c(17035);class M{_letterKeyStream=new u.B;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new u.B;selectedItem=this._selectedItem;constructor(d,l){const E="number"==typeof l?.debounceInterval?l.debounceInterval:200;l?.skipPredicate&&(this._skipPredicateFn=l.skipPredicate),this.setItems(d),this._setupKeyHandler(E)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(d){this._selectedItemIndex=d}setItems(d){this._items=d}handleKey(d){const l=d.keyCode;d.key&&1===d.key.length?this._letterKeyStream.next(d.key.toLocaleUpperCase()):(l>=x.A&&l<=x.Z||l>=x.b&&l<=x.N)&&this._letterKeyStream.next(String.fromCharCode(l))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(d){this._letterKeyStream.pipe((0,h.M)(l=>this._pressedLetters.push(l)),(0,m.B)(d),(0,v.p)(()=>this._pressedLetters.length>0),(0,f.T)(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(l=>{for(let E=1;E<this._items.length+1;E++){const n=this._items[(this._selectedItemIndex+E)%this._items.length];if(!this._skipPredicateFn?.(n)&&0===n.getLabel?.().toLocaleUpperCase().trim().indexOf(l)){this._selectedItem.next(n);break}}this._pressedLetters=[]})}}}}]);