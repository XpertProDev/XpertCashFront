"use strict";(self.webpackChunkskeleton=self.webpackChunkskeleton||[]).push([[1955],{1955:(j,g,c)=>{c.r(g),c.d(g,{AddFournisseurComponent:()=>E});var f=c(177),s=c(9417),n=c(4438),_=c(5408),m=c(9192);function h(t,a){1&t&&(n.j41(0,"div",40)(1,"div",41),n.nrm(2,"div",42),n.j41(3,"p"),n.EFF(4,"Creation en cours..."),n.k0s()()())}function b(t,a){1&t&&(n.j41(0,"small"),n.EFF(1,"Champ requis."),n.k0s())}function C(t,a){1&t&&(n.j41(0,"small"),n.EFF(1,"Au moins 2 caract\xe8res."),n.k0s())}function x(t,a){if(1&t&&(n.j41(0,"div",43),n.DNE(1,b,2,0,"small",44)(2,C,2,0,"small",44),n.k0s()),2&t){let o,i;const e=n.XpG();n.R7$(),n.Y8G("ngIf",null==(o=e.fournisseurForm.get("nomComplet"))||null==o.errors?null:o.errors.required),n.R7$(),n.Y8G("ngIf",null==(i=e.fournisseurForm.get("nomComplet"))||null==i.errors?null:i.errors.minlength)}}function M(t,a){1&t&&(n.j41(0,"div",43)(1,"small"),n.EFF(2,"Ce champ est requis"),n.k0s()())}function P(t,a){if(1&t&&(n.j41(0,"div",43)(1,"small"),n.EFF(2),n.k0s()()),2&t){const o=a.ngIf,i=n.XpG();n.R7$(2),n.Lme(" Le num\xe9ro doit contenir ",i.paysIndicatifs[o].longueur," chiffres apr\xe8s l\u2019indicatif ",i.paysIndicatifs[o].indicatif.trim(),". ")}}function v(t,a){1&t&&(n.j41(0,"div",43)(1,"small"),n.EFF(2,"Le t\xe9l\xe9phone est requis."),n.k0s()())}function O(t,a){1&t&&(n.j41(0,"small"),n.EFF(1,"Format invalide."),n.k0s())}function F(t,a){if(1&t&&(n.j41(0,"div",43),n.DNE(1,O,2,0,"small",44),n.k0s()),2&t){let o;const i=n.XpG();n.R7$(),n.Y8G("ngIf",null==(o=i.fournisseurForm.get("email"))||null==o.errors?null:o.errors.email)}}function k(t,a){if(1&t&&(n.j41(0,"div",45),n.EFF(1),n.k0s()),2&t){const o=n.XpG();n.R7$(),n.JRh(o.errorMessage)}}function y(t,a){if(1&t&&(n.j41(0,"div",46),n.EFF(1),n.k0s()),2&t){const o=n.XpG();n.R7$(),n.JRh(o.successMessage)}}let E=(()=>{class t{constructor(o,i,e){this.fb=o,this.fournisseurService=i,this.router=e,this.isLoading=!1,this.errorMessage="",this.successMessage="",this.errorMessageApi="",this.indicatif="",this.maxPhoneLength=0,this.paysIndicatifs={Mali:{indicatif:"+223 ",longueur:8},S\u00e9n\u00e9gal:{indicatif:"+221 ",longueur:9},"C\xf4te d'Ivoire":{indicatif:"+225 ",longueur:10}}}ngOnInit(){this.getInitForm()}getInitForm(){this.fournisseurForm=this.fb.group({nomComplet:["",[s.k0.required,s.k0.minLength(2)]],email:["",[s.k0.email]],adresse:[""],pays:[""],telephone:[""],ville:[""]})}onPaysChange(o){const r=this.paysIndicatifs[o.target.value];if(r){this.indicatif=r.indicatif,this.maxPhoneLength=r.longueur;const l=this.fournisseurForm.get("telephone");l.value?.startsWith(this.indicatif)||l.setValue(this.indicatif),this.updatePhoneValidator(r.longueur)}}updatePhoneValidator(o){const i=this.fournisseurForm.get("telephone"),e=new RegExp(`^\\${this.indicatif}\\d{${o}}$`);i.setValidators([s.k0.required,s.k0.pattern(e)]),i.updateValueAndValidity()}formatPhoneNumber(){const o=this.fournisseurForm.get("telephone");let i=o.value;const e=this.fournisseurForm.get("pays")?.value,r=this.paysIndicatifs[e];r&&i.startsWith(r.indicatif)&&(i=i.substring(r.indicatif.length));const l=i.replace(/\D/g,""),u=r?`${r.indicatif}${l}`.slice(0,r.indicatif.length+r.longueur):l;o.setValue(u,{emitEvent:!1})}ajouterFournisseur(){if(this.fournisseurForm.invalid)return void this.fournisseurForm.markAllAsTouched();this.isLoading=!0,this.errorMessage="",this.successMessage="";const o={...this.fournisseurForm.value,telephone:this.fournisseurForm.value.telephone.replace(/\s/g,"")};this.fournisseurService.addFournisseur(o).subscribe({next:i=>{this.isLoading=!1,this.successMessage="Fournisseur ajout\xe9 avec succ\xe8s!",setTimeout(()=>this.router.navigate(["/fournisseurs"]),2e3)},error:i=>{this.isLoading=!1,this.errorMessage=i.error?.error||"Une erreur est survenue"}})}goToFournisseur(){this.router.navigate(["/fournisseurs"])}static{this.\u0275fac=function(i){return new(i||t)(n.rXU(s.ok),n.rXU(_.n),n.rXU(m.Ix))}}static{this.\u0275cmp=n.VBU({type:t,selectors:[["app-add-fournisseur"]],decls:62,vars:17,consts:[[1,"container_global"],["class","loading-overlay",4,"ngIf"],[1,"content_formulaire"],[1,"modal-body"],[1,"container_formulaire",3,"formGroup"],[1,"Title"],[1,"form_left_right"],[1,"formulaire"],[1,"information_cadre"],[1,"info_titre_input"],[1,"grid_colonne"],[1,"champ_input","div1"],["type","text","id","nomComplet","formControlName","nomComplet","name","nomComplet","placeholder","Saisis le nom et pr\xe9nom",1,"input_focus"],["for","nomComplet",1,"label"],["class","error",4,"ngIf"],[1,"champ_input","div2"],["formControlName","pays",1,"input_focus",3,"change"],["value","","disabled","","selected",""],["value","Mali"],["value","S\xe9n\xe9gal"],["value","C\xf4te d'Ivoire"],["for","pays",1,"label"],[1,"champ_input","div3"],["type","tel","id","telephone","formControlName","telephone","name","telephone","placeholder","Saisis le num\xe9ro de t\xe9l\xe9phone",1,"input_focus",3,"input"],["for","telephone",1,"label"],["type","email","id","email","formControlName","email","name","email","placeholder","Saisis l'email",1,"input_focus"],["for","email",1,"label"],["id","adresse","formControlName","adresse","name","adresse","placeholder","Saisis l'adresse",1,"input_focus"],["for","adresse",1,"label"],["id","ville","formControlName","ville","name","ville","placeholder","Saisis la ville",1,"input_focus"],["for","ville",1,"label"],[1,"information_cadre","information_cadre_save"],[1,"container_error_message"],["class","error-messageApi2",4,"ngIf"],["class","success-messageApi2",4,"ngIf"],[1,"info_titre_input","info_titre_input_btn"],[1,"btn_annuler"],[1,"btn_cancel",3,"click"],[1,"btn_ajouter"],[1,"btn_save",3,"click","disabled"],[1,"loading-overlay"],[1,"loading-content"],[1,"spinner"],[1,"error"],[4,"ngIf"],[1,"error-messageApi2"],[1,"success-messageApi2"]],template:function(i,e){if(1&i&&(n.j41(0,"div",0),n.DNE(1,h,5,0,"div",1),n.j41(2,"div",2)(3,"div",3)(4,"form",4)(5,"div",5)(6,"h3"),n.EFF(7,"Ajouter un fournisseur"),n.k0s()(),n.j41(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"div",11),n.nrm(14,"input",12),n.j41(15,"label",13),n.EFF(16,"Nom et pr\xe9nom"),n.k0s(),n.DNE(17,x,3,2,"div",14),n.k0s(),n.j41(18,"div",15)(19,"select",16),n.bIt("change",function(l){return e.onPaysChange(l)}),n.j41(20,"option",17),n.EFF(21,"Pays"),n.k0s(),n.j41(22,"option",18),n.EFF(23,"Mali"),n.k0s(),n.j41(24,"option",19),n.EFF(25,"S\xe9n\xe9gal"),n.k0s(),n.j41(26,"option",20),n.EFF(27,"C\xf4te d'Ivoire"),n.k0s()(),n.j41(28,"label",21),n.EFF(29,"Pays"),n.k0s(),n.DNE(30,M,3,0,"div",14),n.k0s(),n.j41(31,"div",22)(32,"input",23),n.bIt("input",function(){return e.formatPhoneNumber()}),n.k0s(),n.j41(33,"label",24),n.EFF(34,"T\xe9l\xe9phone"),n.k0s(),n.DNE(35,P,3,2,"div",14)(36,v,3,0,"div",14),n.k0s()(),n.j41(37,"div",10)(38,"div",11),n.nrm(39,"input",25),n.j41(40,"label",26),n.EFF(41,"Email"),n.k0s(),n.DNE(42,F,2,1,"div",14),n.k0s(),n.j41(43,"div",15),n.nrm(44,"input",27),n.j41(45,"label",28),n.EFF(46,"Adresse"),n.k0s()(),n.j41(47,"div",22),n.nrm(48,"input",29),n.j41(49,"label",30),n.EFF(50,"Ville"),n.k0s()()()()(),n.j41(51,"div",31)(52,"div",32),n.DNE(53,k,2,1,"div",33)(54,y,2,1,"div",34),n.k0s(),n.j41(55,"div",35)(56,"div",36)(57,"button",37),n.bIt("click",function(){return e.goToFournisseur()}),n.EFF(58,"Annuler"),n.k0s()(),n.j41(59,"div",38)(60,"button",39),n.bIt("click",function(){return e.ajouterFournisseur()}),n.EFF(61," Ajouter "),n.k0s()()()()()()()()()()),2&i){let r,l,u,p,d;n.R7$(),n.Y8G("ngIf",e.isLoading),n.R7$(3),n.Y8G("formGroup",e.fournisseurForm),n.R7$(13),n.Y8G("ngIf",(null==(r=e.fournisseurForm.get("nomComplet"))?null:r.touched)&&(null==(r=e.fournisseurForm.get("nomComplet"))?null:r.invalid)),n.R7$(13),n.Y8G("ngIf",(null==(l=e.fournisseurForm.get("pays"))?null:l.invalid)&&(null==(l=e.fournisseurForm.get("pays"))?null:l.touched)),n.R7$(5),n.Y8G("ngIf",(null==(u=e.fournisseurForm.get("telephone"))?null:u.touched)&&(null==(u=e.fournisseurForm.get("telephone"))||null==u.errors?null:u.errors.pattern)&&(null==(u=e.fournisseurForm.get("pays"))?null:u.value)),n.R7$(),n.Y8G("ngIf",(null==(p=e.fournisseurForm.get("telephone"))?null:p.touched)&&(null==(p=e.fournisseurForm.get("telephone"))||null==p.errors?null:p.errors.required)),n.R7$(6),n.Y8G("ngIf",(null==(d=e.fournisseurForm.get("email"))?null:d.touched)&&(null==(d=e.fournisseurForm.get("email"))?null:d.invalid)),n.R7$(11),n.Y8G("ngIf",e.errorMessage),n.R7$(),n.Y8G("ngIf",e.successMessage),n.R7$(6),n.xc7("background-color",e.fournisseurForm.valid?"#0672E4":"#0671e434")("color",e.fournisseurForm.valid?"#ffffff":"#00000073")("cursor",e.fournisseurForm.valid?"pointer":"no-drop"),n.Y8G("disabled",e.fournisseurForm.invalid)("disabled",e.fournisseurForm.invalid)}},dependencies:[s.YN,s.qT,s.xH,s.y7,s.me,s.wz,s.BC,s.cb,f.MD,f.bT,s.X1,s.j4,s.JD],styles:['@charset "UTF-8";.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;color:#fff;font-size:18px;z-index:1000}.loading-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px}.spinner[_ngcontent-%COMP%]{border:4px solid rgba(255,255,255,.3);border-top:4px solid white;border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.container_global[_ngcontent-%COMP%]{margin-right:15%}.title[_ngcontent-%COMP%]{font-size:18px}.champ_input[_ngcontent-%COMP%]{position:relative;margin-bottom:30px}.champ_input_list_stock[_ngcontent-%COMP%]{position:relative;margin-bottom:10px}.champ_input[_ngcontent-%COMP%]   .title_input[_ngcontent-%COMP%]{position:absolute;top:-18px}.champ_input_Categorie[_ngcontent-%COMP%]{margin-bottom:15px!important}.formulaire[_ngcontent-%COMP%]{position:relative}.Title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px}.input_focus[_ngcontent-%COMP%]{width:100%;height:49px;outline:none;border-bottom:1px solid rgb(53,50,50);border-top:none;border-left:none;border-right:none;margin:10px 0 0;transition:all .3s;font-size:14px;background:none;color:#695c5c}.champ_input[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{position:absolute;top:22px;left:4px;pointer-events:none;color:#6b6666}.input_focus[_ngcontent-%COMP%]:hover{border-bottom:1px solid #0672E4;border-top:none;border-left:none;border-right:none}.input_focus[_ngcontent-%COMP%]:not(:placeholder-shown) + .label[_ngcontent-%COMP%], .input_focus[_ngcontent-%COMP%]:focus + .label[_ngcontent-%COMP%]{color:#0672e4;top:5px;left:0;transition:all .3s ease-in-out;background:none;font-size:11px;padding:0}.input_focus[_ngcontent-%COMP%]::placeholder{opacity:0}.input_focus[_ngcontent-%COMP%]:focus::placeholder{opacity:1;animation-delay:1s;font-size:12px;transition:all .2s ease-in-out}.input_focus2[_ngcontent-%COMP%]{width:100%;min-width:250px;height:57px;outline:none;border-top:none;border-left:none;border-right:none;margin:10px 0 0;transition:all .3s;font-size:14px;padding-left:10px;background:none;color:#777474;border-radius:5px;padding-top:10px;border-bottom:1px solid rgb(53,50,50);resize:none}.input_focus2[_ngcontent-%COMP%]:hover{border-bottom:1px solid #0672E4;border-top:none;border-left:none;border-right:none}.champ_input2[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{position:absolute;top:22px;left:0;pointer-events:none;color:#423838}.champ_input[_ngcontent-%COMP%]   .labelCategory[_ngcontent-%COMP%]{color:#423838;left:0;font-size:14px}.input_focus2[_ngcontent-%COMP%]:not(:placeholder-shown) + .label[_ngcontent-%COMP%], .input_focus2[_ngcontent-%COMP%]:focus + .label[_ngcontent-%COMP%]{color:#0672e4;top:0;left:0;transition:all .3s ease-in-out;background:none;font-size:11px;padding:0;background-color:#fff}.input_focus2[_ngcontent-%COMP%]::placeholder{opacity:0}.input_focus2[_ngcontent-%COMP%]:focus::placeholder{opacity:1;animation-delay:1s;font-size:15px;transition:all .2s ease-in-out}.info_titre_input[_ngcontent-%COMP%]{padding:20px}.info_titre_input[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;letter-spacing:.6px}.champ_input2[_ngcontent-%COMP%]{display:inline-block;width:50%;box-sizing:border-box;vertical-align:top}.champ_grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-template-rows:1fr;grid-column-gap:0px;grid-row-gap:0px;gap:20px}.information_cadre[_ngcontent-%COMP%]{width:100%;height:auto;background-color:#fff;box-shadow:2px 2px 30px #0000001c;border-radius:5px;margin-top:20px;margin-bottom:20px}.double_input[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;margin-top:30px}.container_file[_ngcontent-%COMP%]{width:150px;border-radius:10px;box-shadow:4px 4px 30px #0003;display:flex;flex-direction:column;align-items:center;justify-content:space-between;padding:10px;gap:5px;background-color:#006eff0a;margin-bottom:10px;margin-top:20px}.header_file[_ngcontent-%COMP%]{height:140px;width:140px;border:1px dashed rgba(6,113,228,.6156862745);border-radius:10px;flex-direction:column;overflow:hidden;display:flex;align-items:center;justify-content:center;box-shadow:#959da533 0 8px 24px}.header_file[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:cover;transition:transform .2s}.header_file[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:100px}.header_file[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;color:#000}.footer_file[_ngcontent-%COMP%]{background-color:#006eff13;width:140px;height:35px;padding:5px 8px;border-radius:5px;cursor:pointer;display:flex;align-items:center;color:#000;border:none;margin-top:3px}.footer_file[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0!important;font-size:10px}.footer_file[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px;margin-right:7px}#file[_ngcontent-%COMP%]{display:none}.header_file[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.container_error_message[_ngcontent-%COMP%]{margin-left:20px}.error-message[_ngcontent-%COMP%]{font-size:14px;color:red;font-weight:700}.information_cadre_save[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.info_titre_input_btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:end;gap:20px}.btn_annuler[_ngcontent-%COMP%]   .btn_cancel[_ngcontent-%COMP%]{padding:8px 30px;border:none;border-radius:5px;background-color:red;color:#fff}.btn_annuler[_ngcontent-%COMP%]   .btn_cancel[_ngcontent-%COMP%]:hover{background-color:#d80101;transition:all ease-in .5s}.btn_ajouter[_ngcontent-%COMP%]   .btn_save[_ngcontent-%COMP%]{padding:8px 30px;border:none;border-radius:5px;background-color:#0672e4;color:#fff}.btn_ajouter[_ngcontent-%COMP%]   .btn_save[_ngcontent-%COMP%]:hover{background-color:#0863c5;transition:all .5s}.champ_input_inventaire[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}.champ_input_inventaire[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:50px;height:24px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;transition:.4s;border-radius:24px}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:18px;width:18px;left:3px;bottom:3px;background-color:#fff;transition:.4s;border-radius:50%}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#0672e4}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(26px)}.input_cursor[_ngcontent-%COMP%]{cursor:pointer}.icon_arrow[_ngcontent-%COMP%]{position:absolute;right:10px;top:25px}.icon_arrow[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:17px;color:#000}.popup-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.popup-content[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;width:50%}.popup-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.popup-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer}.popup-footer[_ngcontent-%COMP%]{margin-top:20px;text-align:right}.btn-cancel[_ngcontent-%COMP%], .btn-submit[_ngcontent-%COMP%]{margin-left:10px;border:none;border-radius:4px;cursor:pointer}.btn-cancel[_ngcontent-%COMP%]{background-color:red;padding:6px 25px;color:#fff}.btn-cancel[_ngcontent-%COMP%]:hover{background-color:#d80101;transition:all ease-in .5s}.btn-submit[_ngcontent-%COMP%]{background-color:#0672e4;padding:6px 25px;color:#fff;cursor:pointer;cursor:no-drop}.btn-submit[_ngcontent-%COMP%]:hover{background-color:#0863c5;transition:all ease-in .5s}.error-text[_ngcontent-%COMP%]{color:#f44;font-size:.8rem;margin-top:4px}.btn-submit[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.error-messageApi[_ngcontent-%COMP%]{font-size:14px;color:red;font-weight:700;position:relative;top:-20px;left:-20px}.success-messageApi[_ngcontent-%COMP%]{font-size:14px;color:#0672e4;font-weight:700;position:relative;top:-20px;left:-20px}.error-messageApi2[_ngcontent-%COMP%]{font-size:14px;color:red;font-weight:700}.success-messageApi2[_ngcontent-%COMP%]{font-size:14px;color:#0672e4;font-weight:700}.error[_ngcontent-%COMP%]{font-size:14px;color:red;font-weight:700;position:relative}.grid_colonne[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:1fr;grid-column-gap:0px;grid-row-gap:0px;gap:20px}.div1[_ngcontent-%COMP%]{grid-area:1/1/2/2}.div2[_ngcontent-%COMP%]{grid-area:1/2/2/3}.div3[_ngcontent-%COMP%]{grid-area:1/3/2/4}input[type=tel][_ngcontent-%COMP%]{letter-spacing:.5px}.input-focus[type=tel][_ngcontent-%COMP%]{padding-left:50px;position:relative}.country-code[_ngcontent-%COMP%]{position:absolute;left:15px;top:50%;transform:translateY(-50%);pointer-events:none;color:#666}']})}}return t})()}}]);