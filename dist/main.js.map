{"version":3,"file":"main.js","mappings":"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","sources":["./src/app/admin-page/MODELS/customNumberPipe.ts","./src/app/admin-page/SERVICES/Module-Service.ts","./src/app/admin-page/SERVICES/auth.service.ts","./src/app/admin-page/SERVICES/global_notification_service.ts","./src/app/admin-page/SERVICES/lock.service.ts","./src/app/admin-page/SERVICES/modalService.ts","./src/app/admin-page/SERVICES/stocks.service.ts","./src/app/admin-page/SERVICES/users.service.ts","./src/app/admin-page/SERVICES/websocket.service.ts","./src/app/admin-page/guards/GlobalUrlEncoderSerializer.ts","./src/app/admin-page/guards/ModuleAccessGuard.ts","./src/app/admin-page/guards/auth.guard.ts","./src/app/admin-page/guards/guestGuard.ts","./src/app/admin-page/guards/roleGuard.ts","./src/app/admin-page/payment-form/payment-form.component.ts","./src/app/admin-page/payment-form/payment-form.component.html","./src/app/admin-page/pricing-card/pricing-card.component.ts","./src/app/admin-page/pricing-card/pricing-card.component.html","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/theme/layout/admin/admin.component.ts","./src/app/theme/layout/admin/admin.component.html","./src/app/theme/layout/admin/configuration/configuration.component.ts","./src/app/theme/layout/admin/nav-bar/nav-bar.component.ts","./src/app/theme/layout/admin/nav-bar/nav-bar.component.html","./src/app/theme/layout/admin/nav-bar/nav-left/nav-left.component.ts","./src/app/theme/layout/admin/nav-bar/nav-right/nav-right.component.ts","./src/app/theme/layout/admin/nav-bar/nav-right/nav-right.component.html","./src/app/theme/layout/admin/navigation/nav-content/nav-collapse/nav-collapse.component.ts","./src/app/theme/layout/admin/navigation/nav-content/nav-collapse/nav-collapse.component.html","./src/app/theme/layout/admin/navigation/nav-content/nav-content.component.ts","./src/app/theme/layout/admin/navigation/nav-content/nav-content.component.html","./src/app/theme/layout/admin/navigation/nav-content/nav-group/nav-group.component.ts","./src/app/theme/layout/admin/navigation/nav-content/nav-group/nav-group.component.html","./src/app/theme/layout/admin/navigation/nav-content/nav-item/nav-item.component.ts","./src/app/theme/layout/admin/navigation/nav-content/nav-item/nav-item.component.html","./src/app/theme/layout/admin/navigation/navigation.component.ts","./src/app/theme/layout/admin/navigation/navigation.component.html","./src/app/theme/layout/admin/navigation/navigation.ts","./src/app/theme/layout/guest/guest.component.ts","./src/app/theme/layout/guest/guest.component.html","./src/app/theme/shared/components/breadcrumb/breadcrumb.component.ts","./src/app/theme/shared/components/card/card.component.ts","./src/app/theme/shared/components/card/card.component.html","./src/app/theme/shared/components/spinner/spinkits.ts","./src/app/theme/shared/components/spinner/spinner.component.ts","./src/app/theme/shared/components/spinner/spinner.component.html","./src/app/theme/shared/session-expired-modal/session-expired-modal.component.ts","./src/app/theme/shared/session-expired-modal/session-expired-modal.component.html","./src/app/theme/shared/shared.module.ts","./src/app/unlock-dialog/unlock-dialog.component.ts","./src/app/unlock-dialog/unlock-dialog.component.html","./src/environments/environment.ts","./src/main.ts"],"sourcesContent":["import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'customNumber'\n})\nexport class CustomNumberPipe implements PipeTransform {\n  transform(value: number): string {\n    if (value == null) return '';\n    // Remplacer les milliers par des points\n    return value.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ' ');\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpErrorResponse, HttpHeaders } from '@angular/common/http';\nimport { catchError, Observable, of, switchMap, throwError } from 'rxjs';\nimport { Module } from '../MODELS/Module-model';\nimport { UsersService } from './users.service';\nimport { environment } from 'src/environments/environment';\nimport { ModulePaiementModel } from '../MODELS/module-paiement-model';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ModuleService {\n\n  private apiUrl = environment.apiBaseUrl;\n\n  constructor(private http: HttpClient, private usersService: UsersService) {}\n getModulesEntreprise(): Observable<Module[]> {\n  return this.usersService.getValidAccessToken().pipe(\n    switchMap(token => {\n      const headers = new HttpHeaders({\n        'Authorization': `Bearer ${token}`\n      });\n\n      const url = `${this.apiUrl}/entreprise/modules`;\n      return this.http.get<Module[]>(url, { headers });\n    }),\n    catchError(err => {\n      console.error('❌ Erreur lors de la récupération des modules :', err);\n      return throwError(() => new Error('Impossible de récupérer les modules'));\n    })\n  );\n}\n\n\n  // Dans module.service.ts\n  // activerModule(demande: ModulePaiementModel): Observable<{ referenceTransaction: string }> {\n  //   const token = localStorage.getItem('accessToken');\n  //   if (!token) {\n  //     return throwError(() => new Error('Token manquant'));\n  //   }\n\n  //   const headers = new HttpHeaders({\n  //     'Authorization': `Bearer ${token}`,\n  //     'Content-Type': 'application/json'\n  //   });\n\n  //   return this.http.post<{ referenceTransaction: string }>(\n  //     `${this.apiUrl}/modules/activer`, \n  //     demande, \n  //     { headers }\n  //   ).pipe(\n  //     catchError(this.handlePaymentError)\n  //   );\n  // }\n\n activerModule(demande: ModulePaiementModel): Observable<any> {\n  return this.usersService.getValidAccessToken().pipe(\n    switchMap(token => {\n      const headers = new HttpHeaders({\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      });\n\n      return this.http.post(\n        `${this.apiUrl}/modules/activer`, \n        demande, \n        { headers, responseType: 'text' }\n      );\n    }),\n    catchError(this.handlePaymentError)\n  );\n}\n\n\n  private handlePaymentError(error: HttpErrorResponse) {\n    let errorMessage = 'Erreur inconnue';\n    \n    try {\n      // Essayer de parser la réponse JSON\n      const errorResponse = JSON.parse(error.error);\n      if (errorResponse.error) {\n        errorMessage = errorResponse.error;\n      } else if (errorResponse.message) {\n        errorMessage = errorResponse.message;\n      }\n    } catch (e) {\n      // Si le parsing échoue, utiliser le texte brut\n      errorMessage = error.error || error.message || 'Erreur inconnue';\n    }\n    \n    return throwError(() => ({\n      status: error.status,\n      message: errorMessage\n    }));\n  }\n\n   \n}\n\n","// auth.service.ts\nimport { Injectable } from '@angular/core';\nimport { UsersService } from './users.service';\nimport { catchError, map, Observable, of } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n  private readonly ACCESS_TOKEN_KEY = 'accessToken';\n  private readonly REFRESH_TOKEN_KEY = 'refreshToken';\n\n  constructor(private usersService: UsersService) {}\n\n  // Sauvegarder les deux tokens\n  saveTokens(accessToken: string, refreshToken: string): void {\n    localStorage.setItem('accessToken', accessToken);\n    localStorage.setItem('refreshToken', refreshToken);\n  }\n  saveAccessToken(token: string): void {\n    localStorage.setItem('accessToken', token);\n  }\n\n  // Récupérer l'accessToken\n  getAccessToken(): void {\n    this.usersService.getValidAccessToken().subscribe({\n      next: (token) => {\n        console.log('🪪 Token lu depuis localStorage (async) :', token);\n        // utilise le token ici\n      },\n      error: (err) => {\n        console.error('Erreur lors de la récupération du token :', err);\n      }\n    });\n  }\n\n  public getToken(): string | null {\n    return localStorage.getItem(this.ACCESS_TOKEN_KEY);\n  }\n\n  public fetchAccessToken(): Observable<string> {\n    return this.usersService.getValidAccessToken();\n  }\n\n  // Récupérer le refreshToken\n  getRefreshToken(): string | null {\n    return localStorage.getItem('refreshToken');\n  }\n\n  // Supprimer les tokens à la déconnexion\n  removeTokens(): void {\n    localStorage.removeItem('accessToken');\n    localStorage.removeItem('refreshToken');\n  }\n\n  // Méthode d'authentification simple\n  isAuthenticated(): Observable<boolean> {\n    return this.usersService.getValidAccessToken().pipe(\n      map(token => !!token),\n      catchError(() => of(false))\n    );\n  }\n\n\n  isLoggedIn(): Observable<boolean> {\n    return this.isAuthenticated();\n  }\n\n\n  // public getCurrentUserToken(): Observable<string | null> {\n  //   // on récupère le même champ que dans saveTokens()\n  //   return of(localStorage.getItem(this.ACCESS_TOKEN_KEY));\n  // }\n  \n  public getCurrentUserToken(): Observable<string> {\n    const token = localStorage.getItem(this.ACCESS_TOKEN_KEY);\n    if (!token) {\n      // soit on propage une erreur :\n      throw new Error('Aucun token trouvé en localStorage');\n      // — ou bien on renvoie une chaîne vide pour éviter le null :\n      // return of('');\n    }\n    return of(token);\n  }\n\n\n  // ici\n  // \n  \n}\n\n","import { HttpClient, HttpHeaders } from \"@angular/common/http\";\nimport { Injectable } from \"@angular/core\";\nimport { catchError, Observable, switchMap, throwError } from \"rxjs\";\nimport { GlobalNotificationDto } from \"../MODELS/global_notification.dto\";\nimport { environment } from \"src/environments/environment\";\nimport { UsersService } from \"./users.service\";\n\n@Injectable({ providedIn: 'root' })\nexport class GlobalNotificationService {\n    private apiUrl = environment.apiBaseUrl;\n\n    constructor(\n        private http: HttpClient,\n        private usersService: UsersService,\n    ) {}\n\n    // getAllForCurrentUser(): Observable<GlobalNotificationDto[]> {\n    //     return this.usersService.getValidAccessToken().pipe(\n    //         switchMap(token => {\n    //             const headers = new HttpHeaders({\n    //             'Authorization': `Bearer ${token}`\n    //             });\n        \n    //             return this.http.get<GlobalNotificationDto[]>(`${this.apiUrl}/list/global/notifications`,  { headers });\n    //         }),\n    //         catchError((error) => {\n    //             console.error('Erreur lors de la récupération de la facture réelle :', error);\n    //             return throwError(() => error);\n    //         })\n    //     );\n    // }\n\n    getAllForCurrentUser(): Observable<GlobalNotificationDto[]> {\n        return this.usersService.getValidAccessToken().pipe(\n            switchMap(token => {\n            return this.http.get<GlobalNotificationDto[]>(\n                `${this.apiUrl}/list/global/notifications`,\n                { headers: new HttpHeaders({ 'Authorization': `Bearer ${token}` }) }\n            );\n            })\n        );\n    }\n\nmarkAsRead(notificationId: number): Observable<any> {\n    return this.usersService.getValidAccessToken().pipe(\n        switchMap(token => {\n            return this.http.put(\n                // AJOUTEZ LE CHEMIN COMPLET\n                `${this.apiUrl}/notifications/${notificationId}/read`,\n                null,\n                { \n                    headers: new HttpHeaders({ \n                        'Authorization': `Bearer ${token}` \n                    }) \n                }\n            );\n        })\n    );\n}\n\n    \n}","import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { AppComponent } from 'src/app/app.component';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LockService {\n  private appComponent!: AppComponent;\n\n  constructor() {\n  this.lockAudio.volume = 0.3;\n  this.unlockAudio.volume = 0.3;\n}\n\n  private lockAudio = new Audio('assets/sounds/lock.mp3');\n  private unlockAudio = new Audio('assets/sounds/lock.mp3');\n\n  // 🔐 État réactif du verrouillage\n  private isLockedSubject = new BehaviorSubject<boolean>(false);\n  isLocked$ = this.isLockedSubject.asObservable();\n\n  registerApp(app: AppComponent) {\n    this.appComponent = app;\n    this.isLockedSubject.next(app.isLocked); // init état\n  }\n\n  lockNow() {\n    if (this.appComponent) {\n      this.appComponent.lockScreen();\n      this.isLockedSubject.next(true);\n    }\n  }\n\n  unlock() {\n    this.isLockedSubject.next(false);\n  }\n\n  updateLockState(value: boolean) {\n    this.isLockedSubject.next(value);\n  }\n\nplaySound(type: 'lock' | 'unlock') {\n  const audio = type === 'lock' ? this.lockAudio : this.unlockAudio;\n  audio.currentTime = 0;\n  audio.play().catch(err => {\n    console.warn(`🔇 Échec audio ${type}:`, err);\n  });\n}\n\n\n}\n","import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ModalService {\n  private sessionExpiredModalSubject = new Subject<void>();\n\n  // Observable que le composant va écouter\n  sessionExpiredModal$ = this.sessionExpiredModalSubject.asObservable();\n\n  // Méthode appelée depuis l'interceptor ou service\n  triggerSessionExpiredModal(): void {\n    this.sessionExpiredModalSubject.next();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Observable, switchMap } from 'rxjs';\nimport { environment } from 'src/environments/environment';\nimport { UsersService } from './users.service';\n\n@Injectable({\n    providedIn: 'root'\n  })\n\n  export class StockService {\n\n    private apiUrl = environment.apiBaseUrl;\n  \n\n  constructor(private http: HttpClient, private usersService: UsersService) { }\n\najouterStock(stockPayload: any): Observable<any> {\n  return this.usersService.getValidAccessToken().pipe(\n    switchMap((token: string) => {\n      const headers = new HttpHeaders({\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      });\n\n      return this.http.patch(`${this.apiUrl}/ajouterStock`, stockPayload, { headers });\n    })\n  );\n}\n\n\nretirerStock(stockPayload: any): Observable<any> {\n  return this.usersService.getValidAccessToken().pipe(\n    switchMap((token: string) => {\n      const headers = new HttpHeaders({\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      });\n\n      return this.http.patch(`${this.apiUrl}/retirerStock`, stockPayload, { headers });\n    })\n  );\n}\n\n\n getAllstockhistorique(produitId: number): Observable<any[]> {\n  return this.usersService.getValidAccessToken().pipe(\n    switchMap((token: string) => {\n      const headers = new HttpHeaders().set('Authorization', `Bearer ${token}`);\n      return this.http.get<any[]>(`${this.apiUrl}/stockhistorique/${produitId}`, { headers });\n    })\n  );\n}\n\n\n\n getAllStocks(): Observable<any[]> {\n  return this.usersService.getValidAccessToken().pipe(\n    switchMap((token: string) => {\n      const headers = new HttpHeaders().set('Authorization', `Bearer ${token}`);\n      return this.http.get<any[]>(`${this.apiUrl}/getAllStock`, { headers });\n    })\n  );\n}\n\n getAllhistorique(): Observable<any[]> {\n  return this.usersService.getValidAccessToken().pipe(\n    switchMap((token: string) => {\n      const headers = new HttpHeaders().set('Authorization', `Bearer ${token}`);\n      return this.http.get<any[]>(`${this.apiUrl}/stockhistorique`, { headers });\n    })\n  );\n}\n\n  \n  \n  \n\n}","import { ChangeDetectorRef, Injectable } from '@angular/core';\nimport { Users } from '../MODELS/utilisateur.model';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { catchError, map, Observable, of, switchMap, tap, throwError } from 'rxjs';\nimport { UserNewRequest } from '../MODELS/user-new-request.model';\nimport { UserRequest } from '../MODELS/user-request';\nimport { environment } from 'src/environments/environment';\nimport { AuthService } from './auth.service';\nimport { Router } from '@angular/router';\nimport { ModalService } from './modalService';\n\ninterface RefreshTokenResponse {\n  accessToken: string;\n  message: string;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\n\nexport class UsersService {\n  private apiUrl = environment.apiBaseUrl;\n  public isLocked: boolean = false;\n\n  constructor(\n    private http: HttpClient,\n    // private authService: AuthService,\n     private router: Router,\n     private modalService: ModalService\n   ) {}\n\n  \n\n  // Méthode pour récupérer le token\n  getToken(): string | null {\n    return localStorage.getItem('accessToken');\n  }\n\n  //Inscription\n  registerUser(user: Users): Observable<{ message?: string; error?: string }> {\n    return this.http.post<{ message?: string; error?: string }>(`${this.apiUrl}/register`, user);\n  }\n\n  // Connexion\nconnexionUser(credentials: { email: string; password: string }): Observable<{\n  accessToken?: string;\n  refreshToken?: string;\n  message?: string;\n  error?: string;\n}> {\n  return this.http.post<{\n    accessToken?: string;\n    refreshToken?: string;\n    message?: string;\n    error?: string;\n  }>(`${this.apiUrl}/login`, credentials, { withCredentials: true });\n}\n\n\n\n\n  // Déconnexion\n  logoutUser(): void {\n    localStorage.removeItem('accessToken');  \n    localStorage.removeItem('refreshToken');\n    localStorage.removeItem('isLocked');\n    localStorage.removeItem('user');\n    localStorage.removeItem('photo');\n    window.dispatchEvent(new Event('storage-photo-update'));\n    this.isLocked = false;\n    window.dispatchEvent(new Event('user-logged-out'));\n    this.router.navigate(['/connexion']);\n  }\n  \n  \n  \n  //Information sur User\ngetUserInfo(): Observable<UserRequest> {\n  return this.getValidAccessToken().pipe(\n    switchMap((token) => {\n      const headers = new HttpHeaders({\n        Authorization: `Bearer ${token}`\n      });\n      return this.http.get<UserRequest>(`${this.apiUrl}/user/info`, { headers }).pipe(\n        tap(user => localStorage.setItem('user', JSON.stringify(user)))\n      );\n    })\n  );\n}\ngetValidAccessToken(): Observable<string> {\n  const token = localStorage.getItem('accessToken');\n\n  if (!token || token === 'null' || token.trim() === '') {\n    console.error('❌ Aucun token valide trouvé dans le localStorage');\n    return throwError(() => new Error('Aucun token valide trouvé'));\n  }\n\n  const decodedToken = this.decodeJwt(token);\n  const isTokenExpired = this.isTokenExpired(decodedToken);\n\n  if (!isTokenExpired) {\n    return of(token);\n  }\n\n  console.warn('⏳ Token expiré, tentative de refresh...');\n\n  return this.getNewTokenFromApi().pipe(\n    map((response: RefreshTokenResponse) => {\n      const newToken = response.accessToken;\n      if (!newToken || newToken.trim() === '') {\n        throw new Error('Token rafraîchi invalide');\n      }\n      localStorage.setItem('accessToken', newToken);\n      return newToken;\n    }),\n    catchError(err => {\n      if (!this.sessionExpiredHandled) {\n        this.sessionExpiredHandled = false;\n        this.modalService.triggerSessionExpiredModal();\n      }\n      return throwError(() => new Error('Session expirée'));\n    })\n  );\n}\n\n\n\n\n  \n    \n  // Simpl dcodage JWT pour vérifier si le token est expiré\n  decodeJwt(token: string): any {\n    return JSON.parse(atob(token.split('.')[1]));\n  }\n  \n// Vérifier si le token est expiré (avec marge de sécurité de 30 secondes)\nisTokenExpired(decodedToken: any): boolean {\n  const expirationDate = new Date(decodedToken.exp * 1000);\n  return expirationDate.getTime() < new Date().getTime() + 30 * 1000;\n}\n    \n  // Rafraîchir le token avec un refresh token (si applicable)\ngetNewTokenFromApi(): Observable<RefreshTokenResponse> {\n  const refreshToken = localStorage.getItem('refreshToken');\n\n  if (!refreshToken || refreshToken.trim() === '') {\n    console.error('❌ Aucun refresh token trouvé');\n    return throwError(() => new Error('Refresh token manquant'));\n  }\n\n  return this.http.post<RefreshTokenResponse>(\n    `${this.apiUrl}/refresh-token`,\n    { refreshToken } // Le backend doit l'accepter dans le body\n  );\n}\n\n\nprivate sessionExpiredHandled = false;\n\n\n\n\n\n  getUserBoutiqueId(): number | null {\n    const user = JSON.parse(localStorage.getItem('user') || '{}');\n    console.log('Utilisateur récupéré de localStorage:', user); // Vérification du contenu de 'user'\n  \n    // Si l'utilisateur et la liste des boutiques existent\n    if (user && user.boutiques && user.boutiques.length > 0) {\n      // Si l'utilisateur a plusieurs boutiques, choisir celle par défaut (par exemple la première)\n      const boutiqueId = user.boutiques[0].id; // Id de la première boutique\n      console.log('ID de la boutique récupéré:', boutiqueId);\n      return boutiqueId;\n    } else {\n      console.error('Aucune boutique trouvée pour cet utilisateur');\n      return null;\n    }\n  }\n    \n    // Méthode pour extraire l'ID de l'utilisateur connecté depuis le token\n  extractUserIdFromToken(token: string): number | null {\n    try {\n      const decodedToken = JSON.parse(atob(token.split('.')[1])); // Décodage du payload du token\n      return decodedToken.sub ? parseInt(decodedToken.sub, 10) : null; // Assurez-vous que 'sub' contient l'ID\n    } catch (error) {\n      console.error('Erreur lors de l\\'extraction de l\\'ID depuis le token :', error);\n      return null;\n    }\n  }\n\n  // addUserToEntreprise(userData: any, token: string): Observable<string> {\n  //   const headers = { Authorization: `Bearer ${token}` };\n  //   return this.http.post<string>(`${this.apiUrl}/addNewUsers`, userData, { headers });\n  // }\n  \n  addUserToEntreprise(userData: any, token: string): Observable<UserNewRequest> {\n  const headers = { Authorization: `Bearer ${token}` };\n  return this.http.post<UserNewRequest>(`${this.apiUrl}/addNewUsers`, userData, { headers });\n}\n\n  // // Connexion\n  //   ccc(credentials: { email: string; password: string }): Observable<{ message?: string; token?: string; error?: string }> {\n  //     return this.http.post<{ message?: string; token?: string; error?: string }>(`${this.apiUrl}/login`, credentials);\n  // }\n  \n\nupdateBoutique(id: number, updates: { nomBoutique: string; adresse: string }): Observable<{ message?: string; error?: string }> {\n  return this.getValidAccessToken().pipe(\n    switchMap(token => {\n      if (!token) {\n        console.error('Aucun token trouvé');\n        return throwError(() => new Error('Aucun token trouvé'));\n      }\n\n      const headers = new HttpHeaders({\n        Authorization: `Bearer ${token}`\n      });\n\n      return this.http.put<{ message?: string; error?: string }>(`${this.apiUrl}/updatedBoutique/${id}`, updates, { headers });\n    }),\n    catchError(error => {\n      console.error('Erreur lors de la mise à jour de la boutique:', error);\n      return throwError(() => error);\n    })\n  );\n}\n\n\nupdateUser(id: number, formData: FormData): Observable<any> {\n  return this.getValidAccessToken().pipe(\n    switchMap(token => {\n      if (!token) {\n        console.error('Aucun token trouvé');\n        return throwError(() => new Error('Aucun token trouvé'));\n      }\n\n      const headers = new HttpHeaders({\n        Authorization: `Bearer ${token}`\n      });\n\n      return this.http.patch(`${this.apiUrl}/updateUsers/${id}`, formData, { headers, responseType: 'text' });\n    }),\n    catchError(error => {\n      console.error('Erreur lors de la mise à jour de l\\'utilisateur:', error);\n      return throwError(() => error);\n    })\n  );\n}\n\n//Delet user\ndeleteUserFromEntreprise(userId: number): Observable<any> {\n  return this.getValidAccessToken().pipe(\n    switchMap(token => {\n      if (!token) {\n        console.error('Token non trouvé');\n        return throwError(() => new Error('Token JWT manquant'));\n      }\n\n      const headers = new HttpHeaders({\n        'Authorization': `Bearer ${token}`\n      });\n\n      return this.http.delete(`${this.apiUrl}/delete/${userId}`, { headers });\n    }),\n    catchError(error => {\n      console.error('Erreur lors de la suppression de l\\'utilisateur:', error);\n      return throwError(() => error);\n    })\n  );\n}\n\n\n\n\n  getAllUsersOfEntreprise(entrepriseId: number): Observable<any[]> {\n  return this.getValidAccessToken().pipe(\n    switchMap(token => {\n      if (!token) {\n        console.error(\"Aucun token trouvé, requête annulée.\");\n        return throwError(() => new Error(\"Aucun token trouvé\"));\n      }\n\n      const headers = new HttpHeaders({\n        Authorization: `Bearer ${token}`\n      });\n\n      return this.http.get<any[]>(`${this.apiUrl}/entreprise/${entrepriseId}/allusers`, { headers });\n    }),\n    catchError(error => {\n      console.error('Erreur lors de la récupération des utilisateurs:', error);\n      return throwError(() => error);\n    })\n  );\n}\n\n  // Get Count of users dans l'entreprise\n  countUsersInEntreprise(): Observable<number> {\n    return this.getValidAccessToken().pipe(\n      switchMap((token) => {\n        const headers = new HttpHeaders({\n          Authorization: `Bearer ${token}`\n        });\n        return this.http.get<number>(`${this.apiUrl}/entreprise/countUsers`, { headers });\n      })\n    );\n  }\n\n  \ngetUserById(userId: number): Observable<UserNewRequest> {\n  return this.getValidAccessToken().pipe(\n    switchMap((token: string) => {\n      const headers = new HttpHeaders({ 'Authorization': `Bearer ${token}` });\n      return this.http.get<UserNewRequest>(`${this.apiUrl}/user/${userId}`, { headers });\n    }),\n    catchError(error => {\n      console.error(`Erreur lors de la récupération de l'utilisateur ${userId}:`, error);\n      return throwError(() => error);\n    })\n  );\n}\n\n\n\n\n  // Methode pour le service permission\nassignPermissionsToUser(userId: number, permissions: { [key: string]: boolean }): Observable<UserNewRequest> {\n  return this.getValidAccessToken().pipe(\n    switchMap((token: string) => {\n      const headers = new HttpHeaders({ 'Authorization': `Bearer ${token}` });\n      return this.http.post<UserNewRequest>(`${this.apiUrl}/${userId}/permissions`, permissions, { headers });\n    })\n  );\n}\n\n\n\n  //Ajout de la boutique\naddBoutique(boutique: any): Observable<any> {\n  return this.getValidAccessToken().pipe(\n    switchMap((token: string) => {\n      const headers = new HttpHeaders({\n        Authorization: `Bearer ${token}`\n      });\n\n      console.log(\"Envoi de la requête POST à :\", `${this.apiUrl}/ajouterBoutique`, \"avec données :\", boutique);\n\n      return this.http.post<any>(`${this.apiUrl}/ajouterBoutique`, boutique, { headers });\n    })\n  );\n}\n\n  \n  // LL recuperation de boutique dans e/ses\n  getBoutiquesByEntreprise(): Observable<any[]> {\n    return this.getValidAccessToken().pipe(\n      switchMap((token: string) => {\n        const headers = new HttpHeaders({\n          Authorization: `Bearer ${token}`\n        });\n\n        return this.http.get<any[]>(`${this.apiUrl}/boutiqueEntreprise`, { headers });\n      })\n    );\n  }\n\n\n  // Service pour suspendre user\nsuspendUser(userId: number, suspend: boolean): Observable<any> {\n  return this.getValidAccessToken().pipe(\n    switchMap((token: string) => {\n      const headers = new HttpHeaders({\n        'Authorization': `Bearer ${token}`\n      });\n\n      return this.http.put(\n        `${this.apiUrl}/suspendre/${userId}`,\n        null,\n        {\n          headers,\n          params: { suspend: suspend.toString() },\n          responseType: 'text' // si l'API retourne du texte brut\n        }\n      );\n    })\n  );\n}\n\n\n    // Ajouter cette méthode dans UsersService\n  forgotPassword(email: string): Observable<any> {\n    return this.http.post(`${this.apiUrl}/forgot-password`, { email });\n  }\n\n  resetPassword(token: string, newPassword: string): Observable<any> {\n    return this.http.post(`${this.apiUrl}/reset-password`, { token, newPassword });\n  }\n\n  validateOtp(email: string, code: string): Observable<any> {\n    return this.http.post(`${this.apiUrl}/validate-otp`, { email, code });\n  }\n  \n\n  // Verification de role\n  isAdminOrManager(): Observable<boolean> {\n  return this.getUserInfo().pipe(\n    map(user => ['ADMIN', 'MANAGER'].includes(user.roleType)),\n    catchError(() => of(false))\n  );\n}\n\n\n  getCurrentUser(): UserRequest | null {\n    const userString = localStorage.getItem('user');\n    if (!userString) return null;\n\n    try {\n      return JSON.parse(userString) as UserRequest;\n    } catch (e) {\n      console.error('Erreur lors du parsing du user du localStorage :', e);\n      return null;\n    }\n  }\n\n  // Dans UsersService\n  // verifyCode(pin: string): Observable<boolean> {\n  //   const currentUser = this.getCurrentUser();\n    \n  //   if (!currentUser) {\n  //     console.error('Aucun utilisateur connecté');\n  //     return of(false);\n  //   }\n\n  //   // Vérifier que l'utilisateur est admin ou manager\n  //   const isAdminOrManager = ['ADMIN', 'MANAGER'].includes(currentUser.roleType);\n    \n  //   if (!isAdminOrManager) {\n  //     console.warn('L\\'utilisateur n\\'est pas admin/manager');\n  //     return of(false);\n  //   }\n\n  //   // Comparer le PIN saisi avec le personalCode\n  //   const isValid = currentUser.personalCode === pin;\n  //   return of(isValid);\n  // }\n\n  verifyCode(pin: string, allowedRoles: string[] = ['ADMIN', 'MANAGER']): Observable<boolean> {\n    const currentUser = this.getCurrentUser();\n    \n    if (!currentUser) {\n      return of(false);\n    }\n\n    // Vérifier le rôle\n    const hasRequiredRole = allowedRoles.includes(currentUser.roleType);\n    \n    if (!hasRequiredRole) {\n      return of(false);\n    }\n\n    // Vérifier le code\n    return of(currentUser.personalCode === pin);\n  }\n\n  getAssignedBoutiques(): any[] {\n    const user = this.getCurrentUser();\n    return (user && user.boutiques) ? user.boutiques : [];\n  }\n\n\n}\n","// src/app/admin-page/SERVICES/websocket.service.ts\nimport { Injectable } from '@angular/core';\nimport { AuthService } from './auth.service';\nimport { Client, Frame, IMessage } from '@stomp/stompjs';\nimport * as SockJS from 'sockjs-client';\nimport { Observable } from 'rxjs';\nimport { environment } from 'src/environments/environment';\n\n@Injectable({ providedIn: 'root' })\nexport class WebSocketService {\n  private client: Client;\n  \n\n  constructor(private authService: AuthService) {\n    this.client = new Client({\n      webSocketFactory: () => new SockJS(environment.wsEndpoint),\n      reconnectDelay: 5000,\n    });\n  }\n\n  public connect(): Observable<Frame> {\n    return new Observable<Frame>(observer => {\n      const jwt = this.authService.getToken();\n      if (!jwt) {\n        observer.error(new Error('JWT manquant, impossible de se connecter au WS'));\n        return;\n      }\n\n      // On n’envoie plus de XSRF-TOKEN ici\n      this.client.connectHeaders = {\n        // selon votre config backend, gardez Authorization ou X-Auth-Token\n        Authorization: `Bearer ${jwt}`\n      };\n\n      this.client.onConnect = (frame: Frame) => {\n        observer.next(frame);\n        observer.complete();\n      };\n      this.client.onStompError = frame => {\n        observer.error(new Error(`STOMP ERROR ${frame.headers['message']}`));\n      };\n\n      this.client.activate();\n    });\n  }\n\n  public disconnect(): void {\n    this.client.deactivate();\n  }\n\n  public subscribe(topic: string, cb: (msg: any) => void): void {\n    this.client.subscribe(topic, (message: IMessage) => {\n      cb(JSON.parse(message.body));\n    });\n  }\n\n  public send(destination: string, payload: any): void {\n    this.client.publish({\n      destination,\n      body: JSON.stringify(payload)\n    });\n  }\n}\n","import { DefaultUrlSerializer, UrlTree, UrlSerializer } from '@angular/router';\n\nexport class GlobalUrlEncoderSerializer implements UrlSerializer {\n  private readonly defaultSerializer = new DefaultUrlSerializer();\n  private readonly ENCODED_PREFIX = 't_';\n\n  // Liste des chemins où on encode l'ID numérique\n  private readonly TARGET_PATHS = [\n    'detail-boutique',\n    'detail-produit',\n    'detail-client',\n    'detail-stock',\n    'facture-proforma-details',\n    'userPermission',\n    'facture-reel-details',\n    'detail-entreprise'\n  ];\n\n  parse(url: string): UrlTree {\n    const [baseUrl, fragment] = url.split('#');\n    const [path, queryParams] = baseUrl.split('?');\n\n    const decodedPath = path.split('/')\n      .map((segment, index, segments) => this.decodeSegmentIfNeeded(segment, segments, index))\n      .join('/');\n\n    const decodedQuery = queryParams \n      ? queryParams.split('&')\n          .map(param => {\n            const [key, value] = param.split('=');\n            return [\n              this.decodeSimple(key),\n              value ? this.decodeSimple(value) : ''\n            ].join('=');\n          })\n          .join('&')\n      : undefined;\n\n    let fullUrl = decodedPath;\n    if (decodedQuery) fullUrl += `?${decodedQuery}`;\n    if (fragment) fullUrl += `#${fragment}`;\n\n    return this.defaultSerializer.parse(fullUrl);\n  }\n\n  serialize(tree: UrlTree): string {\n    const rawUrl = this.defaultSerializer.serialize(tree);\n    const [baseUrl, fragment] = rawUrl.split('#');\n    const [path, queryParams] = baseUrl.split('?');\n\n    const encodedPath = path.split('/')\n      .map((segment, index, segments) => this.encodeSegmentIfNeeded(segment, segments, index))\n      .join('/');\n\n    const encodedQuery = queryParams\n      ? queryParams.split('&')\n          .map(param => {\n            const [key, value] = param.split('=');\n            return [\n              this.encodeSimple(key),\n              value ? this.encodeSimple(value) : ''\n            ].join('=');\n          })\n          .join('&')\n      : undefined;\n\n    let fullUrl = encodedPath;\n    if (encodedQuery) fullUrl += `?${encodedQuery}`;\n    if (fragment) fullUrl += `#${fragment}`;\n\n    return fullUrl;\n  }\n\n  private decodeSegmentIfNeeded(segment: string, segments: string[], index: number): string {\n    if (!segment?.startsWith(this.ENCODED_PREFIX)) return segment;\n\n    const encodedContent = segment.substring(this.ENCODED_PREFIX.length);\n    \n    try {\n      return decodeURIComponent(atob(encodedContent));\n    } catch {\n      return segment;\n    }\n  }\n\n  private encodeSegmentIfNeeded(segment: string, segments: string[], index: number): string {\n    if (!segment) return segment;\n\n    // On cible uniquement l'ID qui suit un chemin spécifique\n    if (index > 0 && this.TARGET_PATHS.includes(segments[index - 1]) && /^\\d+$/.test(segment)) {\n      return `${this.ENCODED_PREFIX}${btoa(encodeURIComponent(segment))}`;\n    }\n    \n    return segment;\n  }\n\n  private encodeSimple(value: string): string {\n    return value;\n  }\n\n  private decodeSimple(value: string): string {\n    return value;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { CanActivate, ActivatedRouteSnapshot, Router, UrlTree } from '@angular/router';\nimport { Observable, of } from 'rxjs';\nimport { map, catchError } from 'rxjs/operators';\nimport { ModuleService } from '../SERVICES/Module-Service';\nimport { MatSnackBar } from '@angular/material/snack-bar';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ModuleAccessGuard implements CanActivate {\n\n  constructor(\n    private moduleService: ModuleService,\n    private router: Router,\n     private snackBar: MatSnackBar\n  ) {}\n\n  canActivate(\n    route: ActivatedRouteSnapshot\n  ): Observable<boolean | UrlTree> {\n\n    const codeModule = route.data['codeModule'] as string;\n\n    if (!codeModule) {\n      console.error('Aucun codeModule spécifié dans la route');\n      return of(this.router.parseUrl('/'));\n    }\n\n   return this.moduleService.getModulesEntreprise().pipe(\n    map(modules => {\n    const module = modules.find(m => m.code === codeModule);\n\n    if (module && module.actif) {\n      return true;\n    } else {\n      this.snackBar.open('Accès refusé : module inactif ou essai terminé.', 'Fermer', {\n         duration: 5000\n        });\n      return this.router.parseUrl('/');\n    }\n  }),\n  catchError(err => {\n    console.error('Erreur de vérification du module', err);\n    this.snackBar.open('Erreur lors de la vérification du module.', 'Fermer', { duration: 3000 });\n    return of(this.router.parseUrl('/'));\n  })\n);\n\n  }\n}\n","import { inject } from '@angular/core';\nimport { CanActivateFn, Router } from '@angular/router';\nimport { catchError, map, of, switchMap } from 'rxjs';\nimport { UsersService } from '../SERVICES/users.service';\n\nexport const authGuard: CanActivateFn = (route, state) => {\n  const router = inject(Router);\n  const usersService = inject(UsersService);\n\n  return usersService.getValidAccessToken().pipe(\n    map(token => {\n      if (token) {\n        return true;\n      } else {\n        router.navigate(['/connexion']);\n        return false;\n      }\n    }),\n    catchError(() => {\n      router.navigate(['/connexion']);\n      return of(false);\n    })\n  );\n};\n","import { CanActivateFn } from '@angular/router';\nimport { inject } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { UsersService } from '../SERVICES/users.service';\nimport { catchError, map, of } from 'rxjs';\n\nexport const guestGuard: CanActivateFn = (route, state) => {\n  const router = inject(Router);\n  const usersService = inject(UsersService);\n\n  return usersService.getValidAccessToken().pipe(\n    map(token => {\n      if (token) {\n        router.navigate(['/analytics']);\n        return false;\n      } else {\n        return true;\n      }\n    }),\n    catchError(() => {\n      // En cas d’erreur, on considère pas connecté donc accès autorisé\n      return of(true);\n    })\n  );\n};\n","import { inject } from \"@angular/core\";\nimport { CanActivateFn, Router } from \"@angular/router\";\nimport { map, catchError, of } from \"rxjs\";\nimport { UsersService } from \"../SERVICES/users.service\";\n\nexport const roleGuard: CanActivateFn = () => {\n  const router = inject(Router);\n  const usersService = inject(UsersService);\n\n  return usersService.getUserInfo().pipe(\n    map(user => {\n      const role = user.roleType;\n      const permissions = user.permissions || [];\n\n      const hasAccess =\n        role === 'ADMIN' ||\n        role === 'MANAGER' ||\n        permissions.includes('GERER_UTILISATEURS');\n\n      if (hasAccess) {\n        return true;\n      }\n\n      router.navigate(['/unauthorized']);\n      return false;\n    }),\n    catchError(() => {\n      router.navigate(['/unauthorized']);\n      return of(false);\n    })\n  );\n};\n\n","import { Component, OnInit, OnDestroy, ChangeDetectorRef } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators, FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { distinctUntilChanged, Subscription } from 'rxjs';\nimport { ModuleService } from '../SERVICES/Module-Service';\nimport { ModulePaiementModel } from '../MODELS/module-paiement-model';\nimport { Module } from '../MODELS/Module-model'; // Import ajouté\nimport { CommonModule } from '@angular/common';\nimport { CustomNumberPipe } from '../MODELS/customNumberPipe';\n\ninterface Country {\n  code: string;\n  name: string;\n}\n\n@Component({\n  selector: 'app-payment-form',\n  imports: [FormsModule, CommonModule, ReactiveFormsModule, CustomNumberPipe],\n  templateUrl: './payment-form.component.html',\n  styleUrls: ['./payment-form.component.scss']\n})\nexport class PaymentFormComponent implements OnInit, OnDestroy {\n  paymentForm!: FormGroup;\n  planType: string = '';\n  planDetails: any = null;\n  isLoading = false;\n  private subscription: Subscription = new Subscription();\n  errorMessage: string = '';\n  successMessage = '';\n  isSubmitting = false;\n  allSucceeded = true;\n\n  paymentError: string | null = null;\n  private activationCounter = 0; // Ajouté\n  private totalModules = 0; // Ajouté\n\n  cardNumberDisplay: string = '•••• •••• •••• ••••';\n  cardExpiryDisplay: string = '••/••';\n  cardNameDisplay: string = 'NOM TITULAIRE';\n  cardCvcDisplay: string = '•••';\n  cardFlipped: boolean = false;\n\n  countries: Country[] = [\n    { code: 'ML', name: 'Mali' },\n    { code: 'CI', name: 'Côte d\\'Ivoire' },\n    { code: 'SN', name: 'Sénégal' },\n  ];\n\n  cardPreview: any = {};\n\n  constructor(\n    private fb: FormBuilder,\n    private route: ActivatedRoute,\n    private router: Router,\n    private moduleService: ModuleService,\n    private cdr: ChangeDetectorRef\n  ) {}\n\n  ngOnInit(): void {\n    this.paymentForm = this.fb.group({\n      nomModule: ['', Validators.required],\n      dureeMois: [0, Validators.required],\n      numeroCarte: ['', [Validators.required, Validators.pattern(/^[\\d\\s]{16,19}$/)]],\n      dateExpiration: ['', [Validators.required, Validators.pattern(/^(0[1-9]|1[0-2])\\/\\d{2}$/)]],\n      cvc: ['', [Validators.required, Validators.pattern(/^\\d{3,4}$/)]],\n      nomCompletProprietaire: ['', Validators.required],\n      emailProprietaireCarte: ['', [Validators.required, Validators.email]],\n      pays: ['ML', Validators.required],\n      adresse: ['', Validators.required],\n      ville: ['', Validators.required],\n      acceptTerms: [false, Validators.requiredTrue]\n    });\n\n    this.route.paramMap\n      .pipe(distinctUntilChanged((prev, curr) => prev.get('plan') === curr.get('plan')))\n      .subscribe(params => {\n        this.planType = this.route.snapshot.paramMap.get('plan') || '';\n        this.resetPlanDetails();\n        this.loadPlanDetails();\n      });\n  }\n\n  resetPlanDetails() {\n    this.planDetails = null;\n    // this.isLoading = true;\n    this.cardPreview = {};\n    \n    if (this.paymentForm) {\n      this.paymentForm.reset({\n        pays: 'ML',\n        acceptTerms: false\n      });\n    }\n    \n    this.cdr.detectChanges();\n    \n    this.cardNumberDisplay = '•••• •••• •••• ••••';\n    this.cardExpiryDisplay = '••/••';\n    this.cardNameDisplay = 'NOM TITULAIRE';\n    this.cardCvcDisplay = '•••';\n    this.cardFlipped = false;\n  }\n\n  loadPlanDetails() {\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n    }\n\n    this.subscription = this.moduleService.getModulesEntreprise().subscribe({\n      next: (modules: Module[]) => {\n        const paidModules = modules.filter(m => m.payant);\n        const totalMensuel = paidModules.reduce((sum, module) => sum + (module.prix || 0), 0);\n        \n        let name = '';\n        let duration = '';\n        let subtotal = 0;\n        \n        if (this.planType === 'TCHAKEDA_PLUS') {\n          name = 'Tchakeda Plus';\n          duration = '3 mois';\n          subtotal = totalMensuel * 3;\n        } else if (this.planType === 'PRO') {\n          name = 'Pro';\n          duration = '1 an';\n          subtotal = totalMensuel * 12 * 0.9;\n        }\n\n        this.planDetails = {\n          name,\n          duration,\n          pricePerModule: paidModules,\n          subtotal,\n          taxes: 0,\n          total: subtotal\n        };\n\n        if (this.paymentForm) {\n          this.paymentForm.patchValue({\n            nomModule: this.planType,\n            dureeMois: this.planType === 'TCHAKEDA_PLUS' ? 3 : 12\n          });\n        }\n\n        // this.isLoading = false;\n        this.cdr.detectChanges();\n      },\n      error: (error) => {\n        console.error('Error loading modules', error);\n        // this.isLoading = false;\n        this.cdr.detectChanges();\n      }\n    });\n  }\n\n\n  formatExpDate(event: Event): void {\n    const input = event.target as HTMLInputElement;\n    let value = input.value.replace(/\\D/g, '');\n    \n    if (value.length > 4) value = value.substring(0, 4);\n    if (value.length > 2) value = value.replace(/^(\\d{2})/, '$1/');\n    \n    this.paymentForm.get('dateExpiration')?.setValue(value, { emitEvent: false });\n    this.cardExpiryDisplay = value || '••/••';\n  }\n\n  // Ajoutez cette nouvelle méthode pour le nom\n  formatCardHolderName(event: Event): void {\n    const input = event.target as HTMLInputElement;\n    const value = input.value;\n    this.cardNameDisplay = value.toUpperCase() || 'NOM TITULAIRE';\n  }\n\n  // Ajoutez cette méthode pour le CVC\n  onCvcInput(event: Event): void {\n    const input = event.target as HTMLInputElement;\n    let value = input.value.replace(/\\D/g, '');\n    if (value.length > 4) value = value.substring(0, 4);\n    this.cardCvcDisplay = value || '•••';\n  }\n\n  // Ajoutez cette méthode pour retourner la carte\n  flipCard(flip: boolean): void {\n    this.cardFlipped = flip;\n  }\n\n  onSubmit() {\n    if (!this.paymentForm || this.paymentForm.invalid || !this.planDetails) return;\n    \n    // this.isSubmitting = true;\n    this.errorMessage = '';\n    this.successMessage = '';\n    this.activationCounter = 0;\n    this.allSucceeded = true;\n    this.isLoading = true;\n\n    const formData = this.paymentForm.value;\n    const modulesToActivate = this.planDetails.pricePerModule.map((mod: any) => mod.nom);\n    this.totalModules = modulesToActivate.length;\n\n    setTimeout(() => {\n      modulesToActivate.forEach((moduleName: string) => {\n        const demande: ModulePaiementModel = {\n            nomModule: moduleName,\n            dureeMois: formData.dureeMois,\n            numeroCarte: formData.numeroCarte.replace(/\\s/g, ''),\n            cvc: formData.cvc,\n            dateExpiration: formData.dateExpiration.replace('/', ''),\n            nomCompletProprietaire: formData.nomCompletProprietaire,\n            emailProprietaireCarte: formData.emailProprietaireCarte,\n            pays: formData.pays,\n            adresse: formData.adresse,\n            ville: formData.ville\n          };\n        \n        this.moduleService.activerModule(demande).subscribe({\n          next: (response: string) => {\n            this.activationCounter++;\n            this.successMessage = response;\n            this.checkIfAllDone();\n            this.isLoading = false;\n          },\n          error: (err) => {\n            this.activationCounter++;\n            this.errorMessage = err.message; \n            this.allSucceeded = false;\n            this.checkIfAllDone();\n            this.isLoading = false;\n          }\n        });\n      });\n    }, 3000);\n  }\n\n  // Ajoutez cette nouvelle méthode\n  private checkIfAllDone() {\n    if (this.activationCounter === this.totalModules) {\n      setTimeout(() => {\n        // this.isSubmitting = false;\n        \n        if (this.allSucceeded) {\n          // Réinitialiser le formulaire\n          this.paymentForm.reset({\n            pays: 'ML',\n            acceptTerms: false\n          });\n          \n          // Réappliquer les valeurs du plan\n          if (this.planDetails) {\n            this.paymentForm.patchValue({\n              nomModule: this.planType,\n              dureeMois: this.planType === 'TCHAKEDA_PLUS' ? 3 : 12\n            });\n          }\n          \n          this.cardPreview = {};\n          this.successMessage = ''; // Effacer le message de succès\n\n          this.cardNumberDisplay = '•••• •••• •••• ••••';\n          this.cardExpiryDisplay = '••/••';\n          this.cardNameDisplay = 'NOM TITULAIRE';\n          this.cardCvcDisplay = '•••';\n          this.cardFlipped = false;\n        }\n      }, 3000);\n    }\n  }\n\n  private handleError(err: any) {\n    console.error('Payment error', err);\n    \n    if (err.error instanceof ErrorEvent) {\n      // Erreur client\n      this.errorMessage = err.error.message;\n    } else {\n      // Erreur serveur\n      this.errorMessage = this.getUserFriendlyError(err);\n    }\n    \n    // Effacer le message après 5 secondes\n    setTimeout(() => {\n      this.errorMessage = ''; // Utiliser une chaîne vide au lieu de null\n    }, 5000);\n  }\n\n  private getUserFriendlyError(error: any): string {\n    if (error.status === 402) {\n      return 'Paiement refusé. Vérifiez vos informations bancaires.';\n    } else if (error.status === 400) {\n      return 'Données de paiement invalides.';\n    } else if (error.status === 403) {\n      return 'Action non autorisée. Seuls les administrateurs peuvent activer des modules.';\n    } else if (error.status === 404) {\n      return 'Module non trouvée.';\n    } else if (error.status === 500) {\n      return 'Erreur interne du serveur. Veuillez réessayer plus tard.';\n    }\n    return 'Une erreur inattendue est survenue. Veuillez réessayer.';\n  }\n\n  ngOnDestroy() {\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n    }\n  }\n\ncardType: string = 'inconnue';\n\n\nformatCardNumber(event: Event): void {\n  const input = event.target as HTMLInputElement;\n  let value = input.value.replace(/\\D/g, '');\n\n  if (value.length > 16) value = value.substring(0, 16);\n\n  const formattedValue = value.replace(/(\\d{4})(?=\\d)/g, '$1 ');\n\n  this.paymentForm.get('numeroCarte')?.setValue(formattedValue, { emitEvent: false });\n\n  this.cardNumberDisplay = formattedValue || '•••• •••• •••• ••••';\n\n  this.cardType = this.detectCardType(value);\n}\n\ndetectCardType(cardNumber: string): string {\n  if (/^4/.test(cardNumber)) return 'visa';\n  if (/^5[1-5]/.test(cardNumber) || /^2(2[2-9]|[3-6][0-9]|7[01]|720)/.test(cardNumber)) return 'mastercard';\n  if (/^3[47]/.test(cardNumber)) return 'amex';\n  if (/^6(?:011|5)/.test(cardNumber)) return 'discover';\n  return 'inconnue';\n}\n\n\n\n}","\n<div class=\"toast-container\">\n  <!-- Message d'erreur principal -->\n  <div *ngIf=\"errorMessage\" class=\"alert alert-danger toast-message-danger\">\n    {{ errorMessage }}\n  </div>\n  \n  <!-- Message de succès -->\n  <div *ngIf=\"successMessage\" class=\"alert alert-success toast-message-success\">\n    {{ successMessage }}\n  </div>\n</div>\n\n  <div *ngIf=\"isLoading\" class=\"loading-overlay\">\n    <div class=\"loading-content\">\n      <div class=\"spinner\"></div>\n      <p>Paiement en cours...</p>\n    </div>\n  </div>\n\n\n<div class=\"payment-container\">\n\n  <!-- Colonne de gauche : résumé -->\n  <div class=\"summary-card\" *ngIf=\"planDetails && planDetails.name\">\n    <div class=\"brand-header\">\n      <div class=\"logo-placeholder\"></div>\n      <h2>{{ planDetails.name }}</h2>\n    </div>\n    \n    <div class=\"divider\"></div>\n    \n    <div class=\"price-display\">\n      <span class=\"amount\">{{ planDetails.total | customNumber }}&nbsp;CFA</span>\n      <span class=\"period\">/ {{ planDetails.duration }}</span>\n    </div>\n\n    <div class=\"summary-list\">\n      <div class=\"list-item\" *ngFor=\"let module of planDetails.pricePerModule\">\n        <span>{{ module.nom }}</span>\n        <span>{{ module.prix | customNumber }} CFA</span>\n      </div>\n      \n      <div class=\"list-item\">\n        <span>Sous-total</span>\n        <span>{{ planDetails.subtotal | customNumber }} CFA</span>\n      </div>\n      \n      <div class=\"list-item\">\n        <span>Taxes</span>\n        <span>{{ planDetails.taxes | customNumber }} CFA</span>\n      </div>\n    </div>\n\n    <div class=\"divider\"></div>\n\n    <div class=\"total-container\">\n      <h3>Total dû </h3>\n      <div class=\"total-amount\">{{ planDetails.total | customNumber }}&nbsp;CFA</div>\n    </div>\n    \n    <div class=\"security-badges\">\n      <div class=\"lock-icon\">🔒</div>\n      <span>Paiement sécurisé SSL</span>\n    </div>\n  </div>\n\n  <!-- <div *ngIf=\"isLoading\" class=\"loading-state\">\n    <div class=\"loader\"></div>\n    <p>Chargement des détails du paiement...</p>\n  </div>\n\n  <div *ngIf=\"!isLoading && !planDetails\" class=\"error-state\">\n    <p>Impossible de charger les détails du plan. Veuillez réessayer.</p>\n    <button (click)=\"loadPlanDetails()\">Réessayer</button>\n  </div> -->\n\n  <!-- Colonne de droite : formulaire -->\n  <form [formGroup]=\"paymentForm\" class=\"form-card\" \n      *ngIf=\"planDetails\">\n    <h2>Informations de paiement</h2>\n    \n    <h3>Moyen de paiement</h3>\n    \n    <!-- <div class=\"card-preview\">\n      <div class=\"card-chip\"></div>\n      <div class=\"card-number\">{{ cardPreview?.number || '•••• •••• •••• ••••' }}</div>\n      <div class=\"card-footer\">\n        <span>{{ cardPreview?.name || 'NOM TITULAIRE' }}</span>\n        <span>{{ cardPreview?.expiry || 'MM/AA' }}</span>\n      </div>\n    </div> -->\n\n    <!-- From Uiverse.io by Praashoo7 --> \n    <div class=\"flip-card\">\n        <div class=\"flip-card-inner\">\n            <div class=\"flip-card-front\" [ngClass]=\"cardType\">\n                <p class=\"heading_8264\">{{ cardType.toUpperCase() }}</p>\n                \n               \n                <svg version=\"1.1\" class=\"chip\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"40px\" height=\"40px\" viewBox=\"0 0 50 50\" xml:space=\"preserve\">  <image id=\"image0\" width=\"50\" height=\"50\" x=\"0\" y=\"0\" href=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAABGdBTUEAALGPC/xhBQAAACBjSFJN\n                  AAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAB6VBMVEUAAACNcTiVeUKVeUOY\n                  fEaafEeUeUSYfEWZfEaykleyklaXe0SWekSZZjOYfEWYe0WXfUWXe0WcgEicfkiXe0SVekSXekSW\n                  ekKYe0a9nF67m12ZfUWUeEaXfESVekOdgEmVeUWWekSniU+VeUKVeUOrjFKYfEWliE6WeESZe0GS\n                  e0WYfES7ml2Xe0WXeESUeEOWfEWcf0eWfESXe0SXfEWYekSVeUKXfEWxklawkVaZfEWWekOUekOW\n                  ekSYfESZe0eXekWYfEWZe0WZe0eVeUSWeETAnmDCoWLJpmbxy4P1zoXwyoLIpWbjvXjivnjgu3bf\n                  u3beunWvkFWxkle/nmDivXiWekTnwXvkwHrCoWOuj1SXe0TEo2TDo2PlwHratnKZfEbQrWvPrWua\n                  fUfbt3PJp2agg0v0zYX0zYSfgkvKp2frxX7mwHrlv3rsxn/yzIPgvHfduXWXe0XuyIDzzISsjVO1\n                  lVm0lFitjVPzzIPqxX7duna0lVncuHTLqGjvyIHeuXXxyYGZfUayk1iyk1e2lln1zYTEomO2llrb\n                  tnOafkjFpGSbfkfZtXLhvHfkv3nqxH3mwXujhU3KqWizlFilh06khk2fgkqsjlPHpWXJp2erjVOh\n                  g0yWe0SliE+XekShhEvAn2D///+gx8TWAAAARnRSTlMACVCTtsRl7Pv7+vxkBab7pZv5+ZlL/UnU\n                  /f3SJCVe+Fx39naA9/75XSMh0/3SSkia+pil/KRj7Pr662JPkrbP7OLQ0JFOijI1MwAAAAFiS0dE\n                  orDd34wAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfnAg0IDx2lsiuJAAACLElEQVRIx2Ng\n                  GAXkAUYmZhZWPICFmYkRVQcbOwenmzse4MbFzc6DpIGXj8PD04sA8PbhF+CFaxEU8iWkAQT8hEVg\n                  OkTF/InR4eUVICYO1SIhCRMLDAoKDvFDVhUaEhwUFAjjSUlDdMiEhcOEItzdI6OiYxA6YqODIt3d\n                  I2DcuDBZsBY5eVTr4xMSYcyk5BRUOXkFsBZFJTQnp6alQxgZmVloUkrKYC0qqmji2WE5EEZuWB6a\n                  lKoKdi35YQUQRkFYPpFaCouKIYzi6EDitJSUlsGY5RWVRGjJLyxNy4ZxqtIqqvOxaVELQwZFZdkI\n                  JVU1RSiSalAt6rUwUBdWG1CP6pT6gNqwOrgCdQyHNYR5YQFhDXj8MiK1IAeyN6aORiyBjByVTc0F\n                  qBoKWpqwRCVSgilOaY2OaUPw29qjOzqLvTAchpos47u6EZyYnngUSRwpuTe6D+6qaFQdOPNLRzOM\n                  1dzhRZyW+CZouHk3dWLXglFcFIflQhj9YWjJGlZcaKAVSvjyPrRQ0oQVKDAQHlYFYUwIm4gqExGm\n                  BSkutaVQJeomwViTJqPK6OhCy2Q9sQBk8cY0DxjTJw0lAQWK6cOKfgNhpKK7ZMpUeF3jPa28BCET\n                  amiEqJKM+X1gxvWXpoUjVIVPnwErw71nmpgiqiQGBjNzbgs3j1nus+fMndc+Cwm0T52/oNR9lsdC\n                  S24ra7Tq1cbWjpXV3sHRCb1idXZ0sGdltXNxRateRwHRAACYHutzk/2I5QAAACV0RVh0ZGF0ZTpj\n                  cmVhdGUAMjAyMy0wMi0xM1QwODoxNToyOSswMDowMEUnN7UAAAAldEVYdGRhdGU6bW9kaWZ5ADIw\n                  MjMtMDItMTNUMDg6MTU6MjkrMDA6MDA0eo8JAAAAKHRFWHRkYXRlOnRpbWVzdGFtcAAyMDIzLTAy\n                  LTEzVDA4OjE1OjI5KzAwOjAwY2+u1gAAAABJRU5ErkJggg==\"></image>\n                </svg>\n                <svg version=\"1.1\" class=\"contactless\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"20px\" height=\"20px\" viewBox=\"0 0 50 50\" xml:space=\"preserve\">  <image id=\"image0\" width=\"50\" height=\"50\" x=\"0\" y=\"0\" href=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAQAAAC0NkA6AAAABGdBTUEAALGPC/xhBQAAACBjSFJN\n                  AAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAJcEhZ\n                  cwAACxMAAAsTAQCanBgAAAAHdElNRQfnAg0IEzgIwaKTAAADDklEQVRYw+1XS0iUURQ+f5qPyjQf\n                  lGRFEEFK76koKGxRbWyVVLSOgsCgwjZBJJYuKogSIoOonUK4q3U0WVBWFPZYiIE6kuArG3VGzK/F\n                  fPeMM/MLt99/NuHdfPd888/57jn3nvsQWWj/VcMlvMMd5KRTogqx9iCdIjUUmcGR9ImUYowyP3xN\n                  GQJoRLVaZ2DaZf8kyjEJALhI28ELioyiwC+Rc3QZwRYyO/DH51hQgWm6DMIh10KmD4u9O16K49it\n                  VoPOAmcGAWWOepXIRScAoJZ2Frro8oN+EyTT6lWkkg6msZfMSR35QTJmjU0g15tIGSJ08ZZMJkJk\n                  HpNZgSkyXosS13TkJpZ62mPIJvOSzC1bp8vRhhCakEk7G9/o4gmZdbpsTcKu0m63FbnBP9Qrc15z\n                  bkbemfgNDtEOI8NO5L5O9VYyRYgmJayZ9nPaxZrSjW4+F6Uw9yQqIiIZwhp2huQTf6OIvCZyGM6g\n                  DJBZbyXifJXr7FZjGXsdxADxI7HUJFB6iWvsIhFpkoiIiGTJfjJfiCuJg2ZEspq9EHGVpYgzKqwJ\n                  qSAOEwuJQ/pxPvE3cYltJCLdxBLiSKKIE5HxJKcTRNeadxfhDiuYw44zVs1dxKwRk/uCxIiQkxKB\n                  sSctRVAge9g1E15EHE6yRUaJecRxcWlukdRIbGFOSZCMWQA/iWauIP3slREHXPyliqBcrrD71Amz\n                  Z+rD1Mt2Yr8TZc/UR4/YtFnbijnHi3UrN9vKQ9rPaJf867ZiaqDB+czeKYmd3pNa6fuI75MiC0uX\n                  XSR5aEMf7s7a6r/PudVXkjFb/SsrCRfROk0Fx6+H1i9kkTGn/E1vEmt1m089fh+RKdQ5O+xNJPUi\n                  cUIjO0Dm7HwvErEr0YxeibL1StSh37STafE4I7zcBdRq1DiOkdmlTJVnkQTBTS7X1FYyvfO4piaI\n                  nKbDCDaT2anLudYXCRFsQBgAcIF2/Okwgvz5+Z4tsw118dzruvIvjhTB+HOuWy8UvovEH6beitBK\n                  xDyxm9MmISKCWrzB7bSlaqGlsf0FC0gMjzTg6GgAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDIt\n                  MTNUMDg6MTk6NTYrMDA6MDCjlq7LAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTAyLTEzVDA4OjE5\n                  OjU2KzAwOjAw0ssWdwAAACh0RVh0ZGF0ZTp0aW1lc3RhbXAAMjAyMy0wMi0xM1QwODoxOTo1Nisw\n                  MDowMIXeN6gAAAAASUVORK5CYII=\"></image>\n                </svg>\n                <ng-container [ngSwitch]=\"cardType\">\n                <img *ngSwitchCase=\"'mastercard'\" class=\"logo\" src=\"assets/card/mastercard.png\" alt=\"Mastercard\" />\n                <img *ngSwitchCase=\"'visa'\" class=\"logo\" src=\"assets/card/visa.png\" alt=\"Visa\" />\n                <img *ngSwitchCase=\"'amex'\" class=\"logo\" src=\"assets/card/amex.png\" alt=\"American Express\" />\n                <img *ngSwitchCase=\"'discover'\" class=\"logo\" src=\"assets/card/discover.svg\" alt=\"Discover\" />\n                <img *ngSwitchDefault class=\"logo\" src=\"assets/card/default.png\" alt=\"Carte\" />\n              </ng-container>\n\n                <!-- <p class=\"valid_thru\">VALID THRU</p> -->\n                <p class=\"number\">{{ cardNumberDisplay }}</p>\n                <p class=\"date_8264\">{{ cardExpiryDisplay }}</p>\n                <p class=\"name\">{{ cardNameDisplay }}</p>\n\n               \n            </div>\n\n            <div class=\"flip-card-back\" [ngClass]=\"cardType\">\n                <div class=\"strip\"></div>\n                <div class=\"mstrip\"></div>\n                <div class=\"sstrip\">\n                  <p class=\"code\">{{ cardCvcDisplay }}</p>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"form-group\">\n      <label>Module(s) inclus</label>\n      <div class=\"modules-list\">\n        <div *ngFor=\"let module of planDetails.pricePerModule\">\n          {{ module.nom }}\n        </div>\n      </div>\n    </div>\n\n    <input type=\"hidden\" formControlName=\"dureeMois\">\n    \n    <div class=\"form-group\">\n      <label>Numéro de carte <span style=\"color: #ff0000;\">*</span></label>\n      <div class=\"input-with-icon\">\n        <!-- Activer le formatage ici -->\n        <input formControlName=\"numeroCarte\" placeholder=\"1234 5678 9012 3456\" \n               (input)=\"formatCardNumber($event)\">\n        <span class=\"input-icon\">💳</span>\n      </div>\n      <!-- Corriger la validation ici -->\n      <div *ngIf=\"paymentForm.get('numeroCarte')?.invalid && paymentForm.get('numeroCarte')?.touched\" \n           class=\"error-message\">\n        Numéro de carte invalide\n      </div>\n    </div>\n\n    <div class=\"row\">\n      <div class=\"form-group exp-field\">\n        <label>Date d'expiration <span style=\"color: #ff0000;\">*</span></label>\n        <input formControlName=\"dateExpiration\" placeholder=\"MM/AA\" \n               (input)=\"formatExpDate($event)\" maxlength=\"5\">\n        <div *ngIf=\"paymentForm.get('dateExpiration')?.invalid && paymentForm.get('dateExpiration')?.touched\" \n             class=\"error-message\">\n          Format MM/AA requis\n        </div>\n      </div>\n      \n      <div class=\"form-group cvc-field\">\n        <label>CVC <span style=\"color: #ff0000;\">*</span></label>\n        <div class=\"input-with-icon\">\n          <input  formControlName=\"cvc\" (input)=\"onCvcInput($event)\" (focus)=\"flipCard(true)\" (blur)=\"flipCard(false)\" placeholder=\"123\" type=\"password\" maxlength=\"4\">\n          <span class=\"input-icon\" title=\"Code de sécurité au dos de la carte\">❓</span>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"form-group\">\n      <label>Nom du titulaire <span style=\"color: #ff0000;\">*</span></label>\n      <input formControlName=\"nomCompletProprietaire\" (input)=\"formatCardHolderName($event)\" placeholder=\"Nom complet\">\n    </div>\n    \n    <div class=\"form-group\">\n      <label>E-mail <span style=\"color: #ff0000;\">*</span></label>\n      <input type=\"email\" formControlName=\"emailProprietaireCarte\" placeholder=\"Votre email\">\n    </div>\n\n    <h3>Adresse de facturation</h3>\n    \n    <div class=\"form-group\">\n      <label>Pays <span style=\"color: #ff0000;\">*</span></label>\n      <select formControlName=\"pays\">\n        <option *ngFor=\"let c of countries\" [value]=\"c.code\">{{ c.name }}</option>\n      </select>\n    </div>\n    \n    <div class=\"form-group address-field\">\n      <label>Adresse <span style=\"color: #ff0000;\">*</span></label>\n      <input formControlName=\"adresse\" placeholder=\"Votre adresse...\">\n    </div>\n    \n    <div class=\"form-group\">\n      <label>Ville <span style=\"color: #ff0000;\">*</span></label>\n      <input formControlName=\"ville\" placeholder=\"Votre ville...\">\n    </div>\n\n    <!-- <div class=\"checkbox-group\">\n      <input type=\"checkbox\" id=\"saveInfo\" formControlName=\"saveInfo\">\n      <label for=\"saveInfo\">Enregistrer mes informations pour les prochains paiements</label>\n    </div> -->\n    \n    <div class=\"checkbox-group\">\n      <!-- Correction: utiliser acceptTerms qui existe dans le FormGroup -->\n      <input type=\"checkbox\" id=\"acceptTerms\" formControlName=\"acceptTerms\">\n      <label for=\"acceptTerms\">J'accepte les <a href=\"#\" class=\"terms-link\">conditions d'utilisation</a></label>\n    </div>\n    \n    <button type=\"submit\"  (click)=\"onSubmit()\"\n        [disabled]=\"paymentForm.invalid || isSubmitting\" \n        class=\"submit-btn\">\n  \n        <!-- Afficher le spinner pendant la soumission -->\n        <span *ngIf=\"isSubmitting\" class=\"btn-spinner\"></span>\n        \n        <span class=\"btn-icon\" *ngIf=\"!isSubmitting\">🔒</span>\n        \n        <span>\n          {{ isSubmitting ? 'Traitement en cours...' : 'Payer ' + (planDetails?.total | customNumber) + ' CFA' }}\n            <!-- {{ (planDetails?.total | customNumber) + ' CFA' }} -->\n        </span>\n      </button>\n    \n    <!-- <div class=\"payment-methods\">\n      <div class=\"payment-icon\">Visa</div>\n      <div class=\"payment-icon\">Mastercard</div>\n    </div> -->\n  </form>\n</div>","import { CommonModule } from '@angular/common';\nimport { Component, HostListener } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { ActivatedRoute, Router, RouterLink } from '@angular/router';\nimport { ModuleService } from '../SERVICES/Module-Service';\nimport { CustomNumberPipe } from '../MODELS/customNumberPipe';\nimport { Module } from '../MODELS/Module-model';\n\n@Component({\n  selector: 'app-pricing-card',\n  imports: [FormsModule, CommonModule, ReactiveFormsModule, RouterLink, CustomNumberPipe],\n  templateUrl: './pricing-card.component.html',\n  styleUrl: './pricing-card.component.scss'\n})\nexport class PricingCardComponent {\n  freeModules: Module[] = [];\n  trialModules: Module[] = [];\n  paidModules: Module[] = [];\n  allModules: Module[] = [];\n  modulePrice: number = 0; \n  moduleName: string = 'Nom module'; \n  totalMensuel: number = 0;\n\n  allPaidModules: Module[] = []; // Tous les modules payants (avec ou sans essai)\n  priceTchakedaPlus: number = 0;\n  pricePro: number = 0;\n\n  prixAnnuelSansRemise: number = 0;\n\n  // isPremiumHovered = false;\n  constructor(\n    private route: ActivatedRoute,\n    private moduleService: ModuleService,\n    private router: Router,\n  ) {\n  }\n\n  ngOnInit() {\n    this.loadModules();\n  }\n\n  loadModuleDetails() {}\n\n  subscribe(event: MouseEvent, module: Module) {\n    const button = event.target as HTMLElement;\n    const wave = button.querySelector('.wave') as HTMLElement;\n    if (wave) {\n      // Positionner l'effet vague au point de clic\n      const rect = button.getBoundingClientRect();\n      const x = event.clientX - rect.left;\n      const y = event.clientY - rect.top;\n      \n      wave.style.left = `${x}px`;\n      wave.style.top = `${y}px`;\n      // this.router.navigate(['/payment-form', module.code]);\n      \n      // Réinitialiser et relancer l'animation\n      wave.style.animation = 'none';\n      setTimeout(() => {\n        wave.style.animation = 'wave 1s ease';\n      }, 10);\n    }\n\n    // Naviguer vers /payment-form/:moduleCode\n    this.router.navigate(['/payment-form', module.code]);\n  }\n\n\n  loadModules() {\n    this.moduleService.getModulesEntreprise().subscribe({\n      next: (modules) => {\n        // Modules gratuits\n        this.freeModules = modules.filter(m => !m.payant);\n        \n        // Modules payants avec période d'essai active\n        this.trialModules = modules.filter(m => \n          m.payant && \n          m.tempsRestantEssai && \n          m.tempsRestantEssai !== 'Terminé'\n        );\n        \n        // Modules payants (sans période d'essai)\n        this.paidModules = modules.filter(m => \n          m.payant && \n          (!m.tempsRestantEssai || m.tempsRestantEssai === 'Terminé')\n        );\n        \n        // Tous les modules payants combinés (essai + sans essai)\n        this.allPaidModules = [...this.trialModules, ...this.paidModules];\n        \n        // Calcul du total mensuel des modules payants\n        const totalMensuel = this.allPaidModules.reduce(\n          (sum, module) => sum + (module.prix || 0), \n          0\n        );\n\n        // Calcul des prix pour les offres\n        this.priceTchakedaPlus = totalMensuel * 3;\n        // this.pricePro = totalMensuel * 12; // Pour 12 mois\n\n        // Prix annuel avec remise de 10%\n        const prixAnnuelSansRemise = totalMensuel * 12;\n        this.pricePro = prixAnnuelSansRemise * 0.9; // 10% de remise\n\n        // Formatage pour affichage\n        // this.priceProFormatted = this.customNumberPipe.transform(this.pricePro);\n      },\n      error: (error) => console.error(error)\n    });\n  }\n\n  getStatusIcon(active: boolean): string {\n    return active ? '✓' : '✗';\n  }\n\n  getStatusClass(active: boolean): string {\n    return active ? 'available' : 'unavailable';\n  }\n}","<section class=\"pricing-section\">\n\n  <div class=\"icon_close\" routerLink=\"/account-settings\">\n    <i class=\"ri-close-fill\"></i>\n  </div>\n\n  <div class=\"pricing-container\">\n    <!-- Colonne Professional (Gratuit) -->\n    <div class=\"plan-card\" [class.highlight]=\"true\" style=\"height: 10%;\">\n      <div class=\"plan-header\">\n        <h2>Gratuit</h2>\n        \n        <div class=\"price\">\n          0 CFA\n          <div class=\"device\">\n            / 1 mois\n          </div>\n        </div>\n      </div>\n\n      <table class=\"features-table\">\n        <tr *ngFor=\"let module of paidModules\">\n          <td>{{ module.nom }}</td>\n          <td>\n            <span class=\"unavailable\"></span>\n          </td>\n        </tr>\n        <tr *ngFor=\"let module of freeModules\">\n          <td>{{ module.nom }}</td>\n          <td>\n            <span [class.available]=\"module.actif\" [class.unavailable]=\"!module.actif\">\n              <!-- {{ module.actif ? '✓' : '✗' }} -->\n            </span>\n          </td>\n        </tr>\n      </table>\n\n      <button class=\"select-btn\" style=\"cursor: no-drop;\" [class.highlight]=\"true\">Votre plan actuel</button>\n    </div>\n\n    <!-- Colonne Business (3 mois) - Affiche TOUS les modules -->\n    <div class=\"plan-card\" [class.highlight]=\"false\">\n      <div class=\"plan-header\">\n        <h2>Tchakeda Plus</h2>\n        <div class=\"price\">\n          {{ priceTchakedaPlus | customNumber }} CFA\n          <div class=\"device\">\n            / 3 mois\n          </div>\n        </div>\n      </div>\n\n      <table class=\"features-table\">\n        \n        <!-- Modules payants avec période d'essai -->\n        <tr *ngFor=\"let module of trialModules\">\n          <td>{{ module.nom }}</td>\n          <td>\n            <span [class.available]=\"module.actif\" [class.unavailable]=\"!module.actif\">\n              <!-- {{ module.actif ? '✓' : '✗' }} -->\n            </span>\n          </td>\n        </tr>\n        \n        <!-- Modules payants sans période d'essai -->\n        <tr *ngFor=\"let module of paidModules\">\n          <td>{{ module.nom }}</td>\n          <td>\n            <span class=\"available\"></span>\n            <!-- <span [class.available]=\"module.actif\" [class.unavailable]=\"!module.actif\">\n              {{ module.actif ? '✓' : '✗' }}\n            </span> -->\n          </td>\n        </tr>\n        <!-- // Facture Pro forma  -->\n        <tr>\n          <td>Facture Pro forma</td>\n          <td>\n            <span class=\"availablee\">✓</span>\n            <!-- <span [class.available]=\"module.actif\" [class.unavailable]=\"!module.actif\">\n              {{ module.actif ? '✓' : '✗' }}\n            </span> -->\n          </td>\n        </tr>\n        <!-- // Facture Reelle  -->\n        <tr>\n          <td>Facture Réelle</td>\n          <td>\n            <span class=\"availablee\">✓</span>\n            <!-- <span [class.available]=\"module.actif\" [class.unavailable]=\"!module.actif\">\n              {{ module.actif ? '✓' : '✗' }}\n            </span> -->\n          </td>\n        </tr>\n        <!-- Modules gratuits -->\n        <tr *ngFor=\"let module of freeModules\">\n          <td>{{ module.nom }}</td>\n          <td>\n            <span [class.available]=\"module.actif\" [class.unavailable]=\"!module.actif\">\n              <!-- {{ module.actif ? '✓' : '✗' }} -->\n            </span>\n          </td>\n        </tr>\n      </table>\n\n      <!-- <button class=\"select-btn\">Sélectionner</button> -->\n      <button\n        class=\"select-btn\"\n        [routerLink]=\"['/payment-form', 'TCHAKEDA_PLUS']\">\n        Sélectionner\n      </button>\n    </div>\n\n    <!-- Colonne Enterprise (1 an) -->\n    <div class=\"plan-card\" [class.highlight]=\"false\">\n      <div class=\"plan-header\">\n        <h2>Pro</h2>\n        <!-- <div class=\"price\">\n          {{ pricePro | customNumber }} CFA\n          <div class=\"device\">\n            / 1 ans\n          </div>\n        </div> -->\n        <div class=\"price\">\n          <!-- Prix barré sans remise -->\n          <!-- <span class=\"original-price\" *ngIf=\"pricePro\">\n            {{ (totalMensuel * 12) | customNumber }} CFA\n          </span> -->\n          \n          <!-- Prix avec remise -->\n          {{ pricePro | customNumber }} CFA\n          \n          <div class=\"device\">\n            / 1 an\n            <span class=\"discount-badge\">-10%</span>\n          </div>\n        </div>\n        <div class=\"badge\">Meilleur</div>\n      </div>\n\n      <table class=\"features-table\">\n        \n        <!-- Modules payants avec période d'essai -->\n        <tr *ngFor=\"let module of trialModules\">\n          <td>{{ module.nom }}</td>\n          <td>\n            <span [class.available]=\"module.actif\" [class.unavailable]=\"!module.actif\">\n              <!-- {{ module.actif ? '✓' : '✗' }} -->\n            </span>\n          </td>\n        </tr>\n        \n        <!-- Modules payants sans période d'essai -->\n        <tr *ngFor=\"let module of paidModules\">\n          <td>{{ module.nom }}</td>\n          <td>\n            <span class=\"available\"></span>\n            <!-- <span [class.available]=\"module.actif\" [class.unavailable]=\"!module.actif\">\n              {{ module.actif ? '✓' : '✗' }}\n            </span> -->\n          </td>\n        </tr>\n        <!-- // Facture Pro forma  -->\n        <tr>\n          <td>Facture Pro forma</td>\n          <td>\n            <span class=\"availablee\">✓</span>\n            <!-- <span [class.available]=\"module.actif\" [class.unavailable]=\"!module.actif\">\n              {{ module.actif ? '✓' : '✗' }}\n            </span> -->\n          </td>\n        </tr>\n        <!-- // Facture Reelle  -->\n        <tr>\n          <td>Facture Réelle</td>\n          <td>\n            <span class=\"availablee\">✓</span>\n            <!-- <span [class.available]=\"module.actif\" [class.unavailable]=\"!module.actif\">\n              {{ module.actif ? '✓' : '✗' }}\n            </span> -->\n          </td>\n        </tr>\n        <!-- Modules gratuits -->\n        <tr *ngFor=\"let module of freeModules\">\n          <td>{{ module.nom }}</td>\n          <td>\n            <span [class.available]=\"module.actif\" [class.unavailable]=\"!module.actif\">\n              <!-- {{ module.actif ? '✓' : '✗' }} -->\n            </span>\n          </td>\n        </tr>\n      </table>\n\n      <button\n        class=\"select-btn\"\n        [routerLink]=\"['/payment-form', 'PRO']\">\n        Sélectionner\n      </button>\n    </div>\n  </div>\n</section>","// Angular Import\nimport { NgModule } from '@angular/core';\nimport { Routes, RouterModule, UrlSerializer } from '@angular/router';\n\n// project import\nimport { AdminComponent } from './theme/layout/admin/admin.component';\nimport { GuestComponent } from './theme/layout/guest/guest.component';\nimport { authGuard } from './admin-page/guards/auth.guard';\nimport { guestGuard } from './admin-page/guards/guestGuard';\nimport { ModuleAccessGuard } from './admin-page/guards/ModuleAccessGuard';\nimport { PricingCardComponent } from './admin-page/pricing-card/pricing-card.component';\nimport { PaymentFormComponent } from './admin-page/payment-form/payment-form.component';\nimport { GlobalUrlEncoderSerializer } from './admin-page/guards/GlobalUrlEncoderSerializer';\nimport { roleGuard } from './admin-page/guards/roleGuard';\n\n\n\nconst routes: Routes = [\n  // Routes publiques (non authentifiées)\n  {\n    path: '',\n    component: GuestComponent,\n    canActivate: [guestGuard], // Empêche l'accès si déjà connecté\n    children: [\n      {\n        path: '',\n        loadComponent: () => import('./demo/pages/authentication/login/login-page/login-page.component').then(m => m.LoginPageComponent)\n      },\n      {\n        path: 'inscription',\n        loadComponent: () => import('./demo/pages/authentication/login/inscription/inscription.component').then(m => m.InscriptionComponent)\n      },\n      {\n        path: 'connexion',\n        loadComponent: () => import('./demo/pages/authentication/login/connexion-page/connexion-page.component').then(m => m.ConnexionPageComponent)\n      },\n      {\n        path: 'auth/signup',\n        loadComponent: () => import('./demo/pages/authentication/sign-up/sign-up.component')\n      },\n      {\n        path: 'auth/signin',\n        loadComponent: () => import('./demo/pages/authentication/sign-in/sign-in.component')\n      },\n      // {\n      //   path: 'pos-accueil',\n      //   loadComponent: () => import('./demo/pages/authentication/pos-accueil/pos-accueil.component')\n      // },\n\n    ]\n  },\n\n  // … dans AppRoutingModule, en dehors du component: AdminComponent\n  // {\n  //   path: 'pos-accueil',\n  //   loadComponent: () =>\n  //     import('./POS/pos-accueil/pos-accueil.component')\n  //       .then(m => m.PosAccueilComponent),\n  //   canActivate: [authGuard],\n  //   data: {\n  //     hideHeader: true,\n  //     hideSidebar: true\n  //   }\n  // },\n\n{\n  path: 'pos-caisse',\n  loadComponent: () => import('./POS/pos-caisse-header/pos-caisse-header.component')\n    .then(m => m.PosCaisseHeaderComponent),\n  canActivate: [authGuard],\n  data: { hideHeader: true, hideSidebar: true },\n  children: [\n    {\n      path: '',\n      loadComponent: () =>\n        import('./POS/pos-caisse/pos-caisse.component')\n          .then(m => m.PosCaisseComponent),\n    },\n    // {\n    //   path: 'pos-journal-caisse',\n    //   loadComponent: () =>\n    //     import('./POS/pos-journal-caisse/pos-journal-caisse.component')\n    //       .then(m => m.PosJournalCaisseComponent),\n    // },\n  ]\n},\n\n{\n  path: 'pos-journal-caisse',\n  loadComponent: () => import('./POS/pos-journal-caisse/pos-journal-caisse.component')\n    .then(m => m.PosJournalCaisseComponent),\n  canActivate: [authGuard],\n  // data: { hideHeader: true, hideSidebar: true },\n  // children: [\n  //   {\n  //     path: '',\n  //     loadComponent: () =>\n  //       import('./POS/pos-caisse/pos-caisse.component')\n  //         .then(m => m.PosCaisseComponent),\n  //   },\n  //   {\n  //     path: 'pos-journal-caisse',\n  //     loadComponent: () =>\n  //       import('./POS/pos-journal-caisse/pos-journal-caisse.component')\n  //         .then(m => m.PosJournalCaisseComponent),\n  //   },\n  // ]\n},\n\n{\n  path: 'pos-accueil',\n  loadComponent: () =>\n    import('./POS/pos-accueil/pos-accueil.component')\n      .then(m => m.PosAccueilComponent),\n      canActivate: [authGuard],\n      data: { hideHeader: true, hideSidebar: true },\n      children: [\n        {\n          path: '',\n          loadComponent: () =>\n            import('./POS/pos-vente/pos-vente.component')\n              .then(m => m.PosVenteComponent),\n        },\n        {\n          path: 'commandes',\n          loadComponent: () =>\n            import('./POS/pos-commande/pos-commande.component')\n              .then(m => m.PosCommandeComponent),\n        },\n        {\n          path: 'paiement',\n          loadComponent: () =>\n            import('./POS/pos-paiement/pos-paiement.component')\n              .then(m => m.PosPaiementComponent),\n        }\n      ]\n},\n\n//home page\n  {\n  path: 'home', // mettre en minuscules\n  loadComponent: () => import('./admin-page/home/home.component').then(m => m.HomeComponent),\n  },\n\n \n\n\n  // puis votre bloc AdminComponent { … } sans la route pos-accueil à l’intérieur\n\n\n  // Routes privées (authentifiées)\n  {\n    path: '',\n    component: AdminComponent,\n    canActivate: [authGuard], // Protection globale\n    children: [\n      // Redirection par défaut\n      {\n        path: '',\n        redirectTo: 'analytics',\n        pathMatch: 'full'\n      },\n\n      // Vos routes protégées\n      {\n        path: 'loginPage',\n        loadComponent: () => import('./demo/pages/authentication/login/login-page/login-page.component').then(m => m.LoginPageComponent)\n      },\n      {\n        path: 'analytics',\n        loadComponent: () => import('./demo/dashboard/dash-analytics.component')\n      },\n      {\n        path: 'component',\n        loadChildren: () => import('./demo/ui-element/ui-basic.module').then((m) => m.UiBasicModule)\n      },\n      {\n        path: 'chart',\n        loadComponent: () => import('./demo/chart-maps/core-apex.component')\n      },\n      {\n        path: 'forms',\n        loadComponent: () => import('./demo/forms/form-elements/form-elements.component')\n      },\n      {\n        path: 'tables',\n        loadComponent: () => import('./demo/tables/tbl-bootstrap/tbl-bootstrap.component')\n      },\n      {\n        path: 'sample-page',\n        loadComponent: () => import('./demo/other/sample-page/sample-page.component')\n      },\n      {\n        path: 'produit',\n        loadComponent: () => import('./admin-page/produits/produits.component').then(m => m.ProduitsComponent)\n      },\n      {\n        path: 'addProduit',\n        loadComponent: () => import('./admin-page/produits/add-produit/add-produit.component').then(m => m.AddProduitComponent)\n      },\n      {\n        path: 'detail-produit/:id',\n        loadComponent: () => import('./admin-page/produits/list-produit/list-produit.component').then(m => m.ListProduitComponent)\n      },\n      {\n        path: 'detail-stock/:id',\n        loadComponent: () => import('./admin-page/detail-stock/detail-stock.component').then(m => m.DetailStockComponent)\n      },\n      {\n        path: 'entrer',\n        loadComponent: () => import('./admin-page/entrer/entrer.component').then(m => m.EntrerComponent)\n      },\n      {\n        path: 'vente',\n        loadComponent: () => import('./admin-page/vente/vente.component').then(m => m.VenteComponent)\n      },\n      {\n        path: 'stocks',\n        loadComponent: () => import('./admin-page/stocks/stocks.component').then(m => m.StocksComponent)\n      },\n      {\n        path: 'stock_ajustement',\n        loadComponent: () => import('./admin-page/add-stock-ajustement/add-stock-ajustement.component').then(m => m.AddStockAjustementComponent)\n      },\n      {\n        path: 'clients',\n        loadComponent: () => import('./admin-page/clients/clients.component').then(m => m.ClientsComponent)\n      },\n      {\n        path: 'fournisseurs',\n        loadComponent: () => import('./admin-page/fournisseurs/fournisseurs.component').then(m => m.FournisseursComponent)\n      },\n      {\n        path: 'facture',\n        loadComponent: () => import('./admin-page/facture/facture.component').then(m => m.FactureComponent)\n      },\n      {\n        canActivate: [authGuard, roleGuard],\n        path: 'utilisateur',\n        loadComponent: () => import('./admin-page/compte/compte.component').then(m => m.CompteComponent)\n      },\n      {\n        path: 'profil',\n        loadComponent: () => import('./admin-page/profil/profil.component').then(m => m.ProfilComponent)\n      },\n      {\n        path: 'userPermission/:userId',\n        loadComponent: () => import('./admin-page/permission/permission.component').then(m => m.PermissionComponent)\n      },\n      {\n        path: 'boutique',\n        loadComponent: () => import('./admin-page/boutique/boutique.component').then(m => m.BoutiqueComponent)\n      },\n      {\n        path: 'detail-boutique/:id',\n        loadComponent: () => import('./admin-page/detail-boutique/detail-boutique.component').then(m => m.DetailBoutiqueComponent)\n      },\n      {\n        path: 'comptabilite',\n        loadComponent: () => import('./admin-page/comptabilite/comptabilite.component').then(m => m.ComptabiliteComponent)\n      },\n      {\n        path: 'ajouter-client',\n        loadComponent: () => import('./admin-page/clients/addClient/add-clients/add-clients.component').then(m => m.AddClientsComponent)\n      },\n      {\n        path: 'ajouter-entreprise-client',\n        loadComponent: () => import('./admin-page/clients/add-entreprise-client/add-entreprise-client.component').then(m => m.AddEntrepriseClientComponent)\n      },\n      {\n        path: 'detail-client/:id',\n        loadComponent: () => import('./admin-page/clients/detail-edit-client/detail-edit-client.component').then(m => m.DetailEditClientComponent)\n      },\n      {\n        path: 'detail-entreprise-client/:id',\n        loadComponent: () => import('./admin-page/clients/detail-edit-entreprise-client/detail-edit-entreprise-client.component').then(m => m.DetailEditEntrepriseClientComponent)\n      },\n      {\n        path: 'detail-entreprise/:id',\n        loadComponent: () => import('./admin-page/clients/detail-edit-entreprise/detail-edit-entreprise.component').then(m => m.DetailEditEntrepriseComponent)\n      },\n      {\n        path: 'facture-proforma',\n        loadComponent: () => import('./admin-page/facture-proforma/facture-proforma.component').then(m => m.FactureProformaComponent)\n      },\n      {\n        path: 'facture-reel',\n        loadComponent: () => import('./admin-page/facture-reel/facture-reel.component').then(m => m.FactureReelComponent)\n      },\n      {\n        path: 'addfacture-proforma',\n        loadComponent: () => import('./admin-page/facture-proforma/addfacture-proforma/addfacture-proforma.component').then(m => m.AddfactureProformaComponent)\n      },\n      {\n        path: 'facture-proforma-details/:id',\n        loadComponent: () => import('./admin-page/facture-proforma/detail-facture-proforma/detail-facture-proforma.component').then(m => m.DetailFactureProformaComponent),\n        canActivate: [ModuleAccessGuard],\n        data: { codeModule: 'GESTION_FACTURATION' }\n      },\n      {\n        path: 'ajouter-fournisseur',\n        loadComponent: () => import('./admin-page/fournisseurs/add-fournisseur/add-fournisseur.component').then(m => m.AddFournisseurComponent)\n      },\n      {\n        path: 'detail-fournisseur/:id',\n        loadComponent: () => import('./admin-page/fournisseurs/detail-edit-fournisseur/detail-edit-fournisseur.component').then(m => m.DetailEditFournisseurComponent)\n      },\n      {\n        path: 'facture-proforma-apercu',\n        loadComponent: () => import('./admin-page/facture-proforma/facture-proforma-apercu/facture-proforma-apercu.component').then(m => m.FactureProformaApercuComponent)\n      },\n      {\n        path: 'detail-facture-proforma-apercu',\n        loadComponent: () => import('./admin-page/facture-proforma/detail-facture-proforma-apercu/detail-facture-proforma-apercu.component').then(m => m.DetailFactureProformaApercuComponent)\n      },\n      {\n        path: 'facture-proforma-apercu/:id',\n        loadComponent: () => import('./admin-page/facture-proforma/facture-proforma-apercu/facture-proforma-apercu.component').then(m => m.FactureProformaApercuComponent)\n      },\n      {\n        path: 'facture-reel-details/:id',\n        loadComponent: () => import('./admin-page/facture-reel/facture-reel-details/facture-reel-details.component').then(m => m.FactureReelDetailsComponent),\n        canActivate: [ModuleAccessGuard],\n        data: { codeModule: 'GESTION_FACTURATION' }\n      },\n      {\n        path: 'account-settings',\n        loadComponent: () => import('./admin-page/account-settings/account-settings.component').then(m => m.AccountSettingsComponent)\n      },\n      {\n        path: 'style-facture',\n        loadComponent: () => import('./admin-page/facture-proforma/style-facture/style-facture.component').then(m => m.StyleFactureComponent)\n      },\n      {\n        path: 'pricing/:moduleCode', \n        component: PricingCardComponent \n      },\n      // { \n      //   path: 'payment-form/:moduleCode', \n      //   loadComponent: () => import('./admin-page/payment-form/payment-form.component').then(m => m.PaymentFormComponent)\n      // },\n      {\n        path: 'payment-form/:plan',\n        component: PaymentFormComponent\n      },\n      // {\n      //   path: 'payment-form',\n      //   loadComponent: () => import('./admin-page/payment-form/payment-form.component').then(m => m.PaymentFormComponent)\n      // },\n    ]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  providers: [\n    { provide: UrlSerializer, useClass: GlobalUrlEncoderSerializer }\n  ],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule {}","import { ChangeDetectorRef, Component, HostListener, OnInit, inject } from '@angular/core';\nimport { NavigationEnd, Router, RouterModule } from '@angular/router';\nimport { SpinnerComponent } from './theme/shared/components/spinner/spinner.component';\nimport { MatDialog } from '@angular/material/dialog';\nimport { UnlockDialogComponent } from './unlock-dialog/unlock-dialog.component';\nimport { CommonModule } from '@angular/common';\nimport { UsersService } from './admin-page/SERVICES/users.service';\nimport { SessionExpiredModalComponent } from './theme/shared/session-expired-modal/session-expired-modal.component';\nimport { ModalService } from './admin-page/SERVICES/modalService';\nimport { LockService } from './admin-page/SERVICES/lock.service';\nimport { tap } from 'rxjs';\nimport { UserRequest } from './admin-page/MODELS/user-request';\n\n@Component({\n  selector: 'app-root',\n  imports: [RouterModule, SpinnerComponent, CommonModule, UnlockDialogComponent, SessionExpiredModalComponent],\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss'],\n  standalone: true,\n  \n})\n\nexport class AppComponent implements OnInit {\n  private router = inject(Router);\n  private inactivityTimer: any;\n  isLocked = false;\n  isDialogOpen = false;\n\nconstructor(\n  private dialog: MatDialog,\n  private cdRef: ChangeDetectorRef,\n  private usersService: UsersService,\n  private modalService: ModalService,\n  private lockService: LockService\n) {\n  window.addEventListener('user-logged-out', () => {\n    this.isLocked = false;\n    clearTimeout(this.inactivityTimer);\n    this.isDialogOpen = false;\n    this.dialog.closeAll();\n  });\n}\n\n  @HostListener('window:mousemove')\n  @HostListener('window:keydown')\n  @HostListener('window:click')\n  resetTimer() {\n    if (this.isLocked) return;\n    if (!this.isLoggedIn) return; \n\n    clearTimeout(this.inactivityTimer);\n    this.inactivityTimer = setTimeout(() => this.lockScreen(), 2.75 * 60 * 60 * 1000);\n  }\n\n  lockScreen() {\n    const user = JSON.parse(localStorage.getItem('user') || 'null');\n  \n    \n    if (!user || !user.personalCode) {\n      console.warn(\"⚠️ Aucun utilisateur connecté, pas de verrouillage.\");\n      return;\n    }\n  \n    if (user.actif === false) {\n      console.log(\"L'utilisateur est désactivé, aucun déverrouillage requis.\");\n      return;\n    }\n  \n    this.isLocked = true;\n    this.lockService.updateLockState(true);\n    this.lockService.playSound('lock');\n    localStorage.setItem('isLocked', 'true');\n    this.isDialogOpen = true;\n  \n    const dialogRef = this.dialog.open(UnlockDialogComponent, {\n      disableClose: true,\n      data: { \n        message: 'Veuillez entrer votre Code PIN pour déverrouiller',\n        userPersonalCode: user.personalCode,\n      }\n    });\n  \n    dialogRef.afterOpened().subscribe(() => {\n      setTimeout(() => {\n        const input = document.querySelector('.popup input') as HTMLInputElement;\n        if (input) input.focus();\n      }, 100);\n    });\n  \n    dialogRef.afterClosed().subscribe(codeEntered => {\n      if (codeEntered === user.personalCode) {\n        console.log(\"Code correct, déverrouillage...\");\n        this.isLocked = false;\n        this.lockService.updateLockState(false);\n        this.lockService.playSound('lock');\n        this.isDialogOpen = false;\n        localStorage.removeItem('isLocked');\n      \n        this.dialog.closeAll();\n        this.resetTimer();\n    \n        console.log(\"isLocked:\", this.isLocked);\n      } else {\n        console.warn(\"⛔ Code incorrect, veuillez réessayer.\");\n        \n        // Vérifie si isLocked est encore vrai avant de rouvrir le pop-up\n        setTimeout(() => {\n          if (this.isLocked) {\n            this.lockScreen();\n          }\n        }, 500);\n      }\n    });\n    \n  }\n  \n\ncheckLockStatus() {\n   if (!this.isLoggedIn) {\n    localStorage.removeItem('isLocked');\n    return;\n  }\n\n    const wasLocked = localStorage.getItem('isLocked') === 'true';\n    const user = JSON.parse(localStorage.getItem('user') || 'null');\n\n    if (!user || !user.personalCode) {\n        console.warn(\"⚠️ Aucun utilisateur trouvée, pas de verrouillage.\");\n        localStorage.removeItem('isLocked');\n        return;\n    }\n\n    if (wasLocked) {\n        this.lockScreen();\n    }\n}\n\nget isLoggedIn(): boolean {\n  return !!localStorage.getItem('user');\n}\n\n\n\nngOnInit() {\n  this.lockService.registerApp(this);\n  this.checkLockStatus();\n    this.checkAccountStatus();\n\n\n  this.router.events.subscribe((evt) => {\n    if (evt instanceof NavigationEnd) {\n      window.scrollTo(0, 0);\n    }\n  });\n\n  this.modalService.sessionExpiredModal$.subscribe(() => {\n    console.log('✅ Session expirée détectée, affichage de la modale');\n    this.showSessionModal = true;\n  });\n}\n\nshowSessionModal = false;\n\n  handleSessionConfirm() {\n    this.usersService.logoutUser();\n    this.showSessionModal = false;\n  }\n\n  showBlockedPopup: boolean = false;\n  isAdmin: boolean = false;\n  userEmail: string = '';\n\n\n   onLogout(): void {\n    this.usersService.logoutUser();\n  }\n\n  private checkAccountStatus(): void {\n    this.usersService.getUserInfo()\n      .pipe(tap(user => console.log('[checkAccountStatus] user:', user)))\n      .subscribe((user: UserRequest) => {\n        this.userEmail = user.email;\n        this.isAdmin = user.roleType?.toUpperCase() === 'ADMIN';\n        const now = Date.now();\n  \n        const createdAt = this.isAdmin\n          ? user.createdAt\n          : user.adminCreatedAt;\n  \n        const parsedCreatedAt = createdAt ? Date.parse(createdAt) : null;\n        const diffInHours = parsedCreatedAt ? (now - parsedCreatedAt) / (1000 * 60 * 60) : 0;\n  \n        const adminActivated = this.isAdmin\n          ? user.adminActivated\n          : user.adminActivated;\n  \n        console.log(`[${this.isAdmin ? 'Admin' : 'User'}] adminActivated=${adminActivated}, hours since admin creation=${diffInHours}`);\n  \n        this.showBlockedPopup = adminActivated === false && diffInHours > 24;\n  \n        console.log('=> showBlockedPopup =', this.showBlockedPopup);\n      });\n  }\n\n}\n","<app-spinner></app-spinner>\n<router-outlet>\n</router-outlet>\n\n<app-session-expired-modal *ngIf=\"showSessionModal\" (confirmed)=\"handleSessionConfirm()\"></app-session-expired-modal>\n\n<div class=\"lock-overlay\" *ngIf=\"isLocked\"></div>\n\n<app-unlock-dialog *ngIf=\"isDialogOpen\"></app-unlock-dialog>\n\n<!-- Bandeau commun avec message conditionnel -->\n<div *ngIf=\"showBlockedPopup\" class=\"top-banner\" role=\"alert\" aria-live=\"assertive\">\n  <div class=\"banner-content\">\n    <span class=\"icon\">⚠️</span>\n    \n    <span *ngIf=\"isAdmin\" class=\"message\">\n      Votre période d'accès temporaire a expiré. Veuillez vérifier votre boîte mail et activer votre compte.\n    </span>\n    \n    <span *ngIf=\"!isAdmin\" class=\"message\">\n      Votre administrateur n'a pas activé son compte dans les délais. Veuillez patienter ou le contacter.\n    </span>\n    \n    <button class=\"logout-btn\" (click)=\"onLogout()\">Se déconnecter</button>\n  </div>\n</div>\n\n<div *ngIf=\"showBlockedPopup\" class=\"click-blocker\"></div>","// Angular Import\nimport { Component, HostListener, inject } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { CommonModule, Location, LocationStrategy } from '@angular/common';\n\n// Project Import\nimport { ConfigurationComponent } from './configuration/configuration.component';\nimport { NavBarComponent } from './nav-bar/nav-bar.component';\nimport { NavigationComponent } from './navigation/navigation.component';\nimport { BreadcrumbComponent } from '../../shared/components/breadcrumb/breadcrumb.component';\n\n@Component({\n  selector: 'app-admin',\n  imports: [ConfigurationComponent, RouterModule, NavBarComponent, NavigationComponent, CommonModule, BreadcrumbComponent],\n  templateUrl: './admin.component.html',\n  styleUrls: ['./admin.component.scss']\n})\nexport class AdminComponent {\n  private location = inject(Location);\n  private locationStrategy = inject(LocationStrategy);\n\n  // public props\n  navCollapsed!: boolean;\n  navCollapsedMob: boolean;\n  windowWidth: number;\n\n  // constructor\n  constructor() {\n    this.windowWidth = window.innerWidth;\n    this.navCollapsedMob = false;\n  }\n\n  @HostListener('window:resize', ['$event'])\n  // eslint-disable-next-line\n  onResize(event: any): void {\n    this.windowWidth = event.target.innerWidth;\n    if (this.windowWidth < 992) {\n      document.querySelector('.pcoded-navbar')?.classList.add('menupos-static');\n      if (document.querySelector('app-navigation.pcoded-navbar')?.classList.contains('navbar-collapsed')) {\n        document.querySelector('app-navigation.pcoded-navbar')?.classList.remove('navbar-collapsed');\n      }\n    }\n  }\n\n  // public method\n  navMobClick() {\n    if (this.windowWidth < 992) {\n      if (this.navCollapsedMob && !document.querySelector('app-navigation.pcoded-navbar')?.classList.contains('mob-open')) {\n        this.navCollapsedMob = !this.navCollapsedMob;\n        setTimeout(() => {\n          this.navCollapsedMob = !this.navCollapsedMob;\n        }, 100);\n      } else {\n        this.navCollapsedMob = !this.navCollapsedMob;\n      }\n    }\n  }\n\n  handleKeyDown(event: KeyboardEvent): void {\n    if (event.key === 'Escape') {\n      this.closeMenu();\n    }\n  }\n\n  closeMenu() {\n    if (document.querySelector('app-navigation.pcoded-navbar')?.classList.contains('mob-open')) {\n      document.querySelector('app-navigation.pcoded-navbar')?.classList.remove('mob-open');\n    }\n  }\n}\n","<app-navigation\n  class=\"pcoded-navbar menupos-fixed menu-light\"\n  [ngClass]=\"{\n    'navbar-collapsed': navCollapsed,\n    'mob-open': navCollapsedMob\n  }\"\n  (NavCollapsedMob)=\"navMobClick()\"\n></app-navigation>\n<app-nav-bar\n  class=\"navbar pcoded-header navbar-expand-lg navbar-light header-blue headerPos-fixed\"\n  (NavCollapse)=\"this.navCollapsed = !this.navCollapsed\"\n  (NavCollapsedMob)=\"navMobClick()\"\n></app-nav-bar>\n<div class=\"pcoded-main-container\">\n  <div class=\"pcoded-wrapper\">\n    <div class=\"pcoded-content\">\n      <div class=\"pcoded-inner-content\">\n        <div class=\"main-body\">\n          <div class=\"page-wrapper\">\n            <app-breadcrumb></app-breadcrumb>\n            <router-outlet></router-outlet>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"pc-menu-overlay\" (click)=\"closeMenu()\" (keydown)=\"handleKeyDown($event)\" tabindex=\"0\"></div>\n</div>\n<app-configuration></app-configuration>\n","// Angular Import\nimport { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-configuration',\n  templateUrl: './configuration.component.html',\n  styleUrls: ['./configuration.component.scss']\n})\nexport class ConfigurationComponent {}\n","// angular import\nimport { Component, output } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { CommonModule } from '@angular/common';\n\n// project import\nimport { SharedModule } from 'src/app/theme/shared/shared.module';\nimport { NavLeftComponent } from './nav-left/nav-left.component';\nimport { NavRightComponent } from './nav-right/nav-right.component';\n\n@Component({\n  selector: 'app-nav-bar',\n  imports: [SharedModule, NavLeftComponent, NavRightComponent, RouterModule, CommonModule],\n  templateUrl: './nav-bar.component.html',\n  styleUrls: ['./nav-bar.component.scss']\n})\nexport class NavBarComponent {\n \n  // public props\n  menuClass: boolean;\n  collapseStyle: string;\n  windowWidth: number;\n\n  NavCollapse = output();\n  NavCollapsedMob = output();\n\n  // constructor\n  constructor() {\n    this.menuClass = false;\n    this.collapseStyle = 'none';\n    this.windowWidth = window.innerWidth;\n  }\n\n \n  // public method\n  toggleMobOption() {\n    this.menuClass = !this.menuClass;\n    this.collapseStyle = this.menuClass ? 'block' : 'none';\n  }\n\n  navCollapse() {\n    if (this.windowWidth >= 992) {\n      this.NavCollapse.emit();\n    }\n  }\n\n  navCollapseMob() {\n    if (this.windowWidth < 992) {\n      this.NavCollapsedMob.emit();\n    }\n  }\n\n}\n","<div class=\"m-header\">\n  <a href=\"javascript:\" class=\"mobile-menu\" id=\"mobile-collapse\" title=\"Click to Menu Collapse\" (click)=\"navCollapse()\"><span></span></a>\n  <a href=\"javascript:\" class=\"header-mobile-collapse\" id=\"mobile-collapse1\" (click)=\"navCollapseMob()\">\n    <i class=\"feather icon-menu\"></i>\n  </a>\n  <!-- <a [routerLink]=\"['/dashboard/analytics']\" class=\"b-brand\">\n    <img id=\"main-logo\" src=\"assets/images/logo.png\" alt=\"logo-img\" class=\"logo\" />\n    <img src=\"assets/images/logo-icon.png\" alt=\"logo-icon-img\" class=\"logo-thumb\" />\n  </a> -->\n  <div class=\"module\">\n    <div class=\"logo_tchakeda\">\n      <img src=\"assets/logo/tchakeda.png\" alt=\"Logo entreprise\">\n    </div>\n  </div>\n  <a class=\"mob-toggler\" [ngClass]=\"{ on: this.menuClass }\" href=\"javascript:\" (click)=\"toggleMobOption()\">\n    <i class=\"feather icon-more-vertical\"></i>\n  </a>\n</div>\n<div class=\"collapse navbar-collapse\" [style.display]=\"this.collapseStyle\">\n  <app-nav-left class=\"me-auto\" />\n  <app-nav-right class=\"ms-auto\" />\n</div>\n\n<ng-template #mainHeader>\n  <div class=\"m-header\">\n    <a href=\"javascript:\" class=\"mobile-menu\" id=\"mobile-collapse\" title=\"Click to Menu Collapse\" (click)=\"navCollapse()\"><span></span></a>\n    <a href=\"javascript:\" class=\"header-mobile-collapse\" id=\"mobile-collapse1\" (click)=\"this.NavCollapsedMob.emit()\">\n      <i class=\"feather icon-menu\"></i>\n    </a>\n    <a [routerLink]=\"['/dashboard/analytics']\" class=\"b-brand\">\n      <img id=\"main-logo\" src=\"assets/images/logo.png\" alt=\"logo-img\" class=\"logo\" />\n      <img src=\"assets/images/logo-icon.png\" alt=\"logo-icon-img\" class=\"logo-thumb\" />\n    </a>\n    <a class=\"mob-toggler\" [ngClass]=\"{ on: this.menuClass }\" href=\"javascript:\" (click)=\"toggleMobOption()\">\n      <i class=\"feather icon-more-vertical\"></i>\n    </a>\n  </div>\n  <div class=\"collapse navbar-collapse\" [style.display]=\"this.collapseStyle\">\n    <app-nav-left class=\"me-auto\" />\n    <app-nav-right class=\"ms-auto\" />\n  </div>\n</ng-template>\n","// angular import\nimport { Component } from '@angular/core';\n\n// project import\nimport { SharedModule } from 'src/app/theme/shared/shared.module';\nimport { NavSearchComponent } from './nav-search/nav-search.component';\n\n@Component({\n  selector: 'app-nav-left',\n  imports: [SharedModule, ],\n  templateUrl: './nav-left.component.html',\n  styleUrls: ['./nav-left.component.scss']\n})\nexport class NavLeftComponent {}\n","// angular import\nimport { ChangeDetectorRef, Component, OnDestroy, OnInit } from '@angular/core';\nimport { animate, style, transition, trigger } from '@angular/animations';\nimport { filter, take } from 'rxjs/operators'; // Import manquant ajouté\n\n// bootstrap import\nimport { NgbDropdownConfig } from '@ng-bootstrap/ng-bootstrap';\n\n// project import\nimport { SharedModule } from 'src/app/theme/shared/shared.module';\nimport { ChatMsgComponent } from './chat-msg/chat-msg.component';\nimport { UsersService } from 'src/app/admin-page/SERVICES/users.service';\nimport { Router, RouterLink } from '@angular/router';\nimport { StockService } from 'src/app/admin-page/SERVICES/stocks.service';\nimport { LockService } from 'src/app/admin-page/SERVICES/lock.service';\nimport { WebSocketService } from 'src/app/admin-page/SERVICES/websocket.service';\nimport { GlobalNotificationDto } from 'src/app/admin-page/MODELS/global_notification.dto';\nimport { BehaviorSubject, catchError, of, Subject, Subscription, switchMap, takeUntil } from 'rxjs';\nimport { GlobalNotificationService } from 'src/app/admin-page/SERVICES/global_notification_service';\n\n@Component({\n  selector: 'app-nav-right',\n  imports: [\n    SharedModule,\n    RouterLink,\n  ],\n  templateUrl: './nav-right.component.html',\n  styleUrls: ['./nav-right.component.scss'],\n  providers: [NgbDropdownConfig],\n  animations: [\n    trigger('slideInOutLeft', [\n      transition(':enter', [style({ transform: 'translateX(100%)' }), animate('300ms ease-in', style({ transform: 'translateX(0%)' }))]),\n      transition(':leave', [animate('300ms ease-in', style({ transform: 'translateX(100%)' }))])\n    ]),\n    trigger('slideInOutRight', [\n      transition(':enter', [style({ transform: 'translateX(-100%)' }), animate('300ms ease-in', style({ transform: 'translateX(0%)' }))]),\n      transition(':leave', [animate('300ms ease-in', style({ transform: 'translateX(-100%)' }))])\n    ])\n  ]\n})\nexport class NavRightComponent implements OnInit, OnDestroy {\n  stockHistory: any[] = [];\n  notificationsList: GlobalNotificationDto[] = [];\n  visibleUserList: boolean;\n  chatMessage: boolean;\n  friendId!: number;\n  userName: string = '';\n  nomEntreprise = '';\n  photo: string | null = null;\n  photoUrl: string | null = null;\n  isLocked = false;\n  \n  private boundUpdatePhotoListener = this.updatePhotoListener.bind(this);\n  private notificationsSubject = new BehaviorSubject<GlobalNotificationDto | null>(null);\n  public notifications$ = this.notificationsSubject.asObservable();\n  private destroy$ = new Subject<void>();\n  private notificationSubscription: Subscription | null = null;\n\n  get unreadCount(): number {\n    return this.notificationsList.filter(notif => !notif.read).length;\n  }\n\n  // get unreadNotifications() {\n  //   return this.notificationsList.filter(n => !n.read);\n  // }\n\n  constructor(\n    private userService: UsersService,\n    private router: Router,\n    private stockService: StockService,\n    private lockService: LockService,\n    private webSocketService: WebSocketService,\n    private globalNotificationService: GlobalNotificationService,\n    private cdr: ChangeDetectorRef,\n  ) {\n    this.visibleUserList = false;\n    this.chatMessage = false;\n  }\n\n  private updatePhotoListener(event: Event): void {\n    const newPhoto = localStorage.getItem('photo');\n    if (newPhoto) {\n      this.photo = newPhoto;\n      this.photoUrl = this.base64ToObjectUrl(newPhoto);\n    } else {\n      this.photo = null;\n      this.photoUrl = null;\n    }\n  }\n\n  ngOnInit(): void {\n    this.getUserInfo();\n    this.updatePhotoFromLocalStorage();\n    this.setupLockScreenListener();\n    this.loadStockHistory();\n    // this.setupNotificationSystem();\n    // this.setupWebSocket();\n    this.loadInitialNotifications();\n    this.initializeWebSocket();\n    // this.calculateUnreadCount();\n    this.checkUserAccess();\n  }\n\n  // Méthode pour marquer une notification comme lue\n  markNotificationAsRead(notification: GlobalNotificationDto, event?: Event) {\n    if (event) {\n      event.stopPropagation(); // Empêcher la propagation du clic\n    }\n\n    if (notification.read) return; // Déjà lue\n\n    this.globalNotificationService.markAsRead(notification.id).subscribe({\n      next: () => {\n        notification.read = true;\n      },\n      error: (err) => console.error('Erreur', err)\n    });\n  }\n\n  // Calculer le nombre de notifications non lues\n  // private calculateUnreadCount() {\n  //   this.unreadCount = this.notificationsList.filter(n => !n.read).length;\n  // }\n\n  private initializeWebSocket(): void {\n    // 1) listener photo\n    window.addEventListener('storage-photo-update', this.boundUpdatePhotoListener);\n\n    // 2) connexion STOMP + abonnement notifications\n    this.webSocketService.connect().pipe(\n      takeUntil(this.destroy$)\n    ).subscribe({\n      next: (frame) => {\n        console.log('STOMP connecté :', frame);\n        // this.subscribeNotifications();\n        // on s'abonne à notre topic de notifications\n        this.webSocketService.subscribe(\n          '/user/queue/notifications',\n          (notif: GlobalNotificationDto) => {\n            notif.read = false; // Nouvelles notifications non lues\n            this.notificationsList = [notif, ...this.notificationsList];\n            // this.calculateUnreadCount();\n            this.flashNotificationBadge();\n          }\n        );\n      },\n      error: (err) => console.error('Erreur de connexion WebSocket :', err)\n    });\n  }\n\n  // private subscribeNotifications() {\n  //   this.webSocketService.subscribe(\n  //     '/user/queue/notifications',\n  //     (notif: GlobalNotificationDto) => {\n  //       console.log('🥳 Notification reçue !', notif);\n  //       this.notificationsList.unshift(notif);\n  //     }\n  //   );\n  // }\n\n\n  // private setupWebSocket() {\n  //   this.webSocketService.connect().pipe(\n  //     takeUntil(this.destroy$)\n  //   ).subscribe({\n  //     next: (notification: GlobalNotificationDto) => {\n  //       this.notificationsList = [notification, ...this.notificationsList];\n  //       this.flashNotificationBadge();\n  //     },\n  //     error: (err) => console.error('WebSocket error:', err)\n  //   });\n  // }\n\nprivate loadInitialNotifications() {\n    this.globalNotificationService.getAllForCurrentUser().pipe(\n        takeUntil(this.destroy$)\n    ).subscribe(notifications => {\n        this.notificationsList = notifications;\n        this.cdr.detectChanges();\n    });\n}\n\n  private updatePhotoFromLocalStorage(): void {\n    const savedPhoto = localStorage.getItem('photo');\n    if (savedPhoto) {\n      this.photo = savedPhoto;\n      this.photoUrl = this.base64ToObjectUrl(savedPhoto);\n    }\n  }\n\n  private setupLockScreenListener(): void {\n    this.lockService.isLocked$.pipe(takeUntil(this.destroy$))\n      .subscribe(locked => this.isLocked = locked);\n  }\n\n  private loadStockHistory(): void {\n    this.stockService.getAllhistorique().pipe(\n      takeUntil(this.destroy$),\n      catchError(err => {\n        console.error('Erreur historique stock:', err);\n        return of([]);\n      })\n    ).subscribe(data => {\n      this.stockHistory = data\n        .map(item => ({ \n          ...item, \n          relativeTime: this.getRelativeTime(item.createdAt) \n        }))\n        .sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime());\n    });\n  }\n\n  // private setupNotificationSystem(): void {\n  //   this.globalNotificationService.getAllForCurrentUser().pipe(\n  //     takeUntil(this.destroy$)\n  //   ).subscribe(list => this.notificationsList = list);\n  // }\n\n  private flashNotificationBadge() {\n    const badge = document.querySelector('.notification-badge');\n    if (badge) {\n      badge.classList.add('flash');\n      setTimeout(() => badge.classList.remove('flash'), 2000);\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n    this.webSocketService.disconnect();\n    window.removeEventListener('storage-photo-update', this.boundUpdatePhotoListener);\n  }\n\n  onChatToggle(friendID: any) {\n    this.friendId = friendID;\n    this.chatMessage = !this.chatMessage;\n  }\n\n  getUserInfo(): void {\n    this.userService.getUserInfo().subscribe({\n      next: (user) => {\n        this.userName = user.nomComplet;\n        this.nomEntreprise = user.nomEntreprise;\n      },\n      error: (err) => {\n        console.error(\"Erreur lors de la récupération des infos utilisateur :\", err);\n      }\n    });\n  }\n\n  getRelativeTime(date: string): string {\n    const currentTime = new Date();\n    const eventTime = new Date(date);\n    const timeDiff = currentTime.getTime() - eventTime.getTime();\n  \n    const seconds = Math.floor(timeDiff / 1000);\n    const minutes = Math.floor(seconds / 60);\n    const hours = Math.floor(minutes / 60);\n    const days = Math.floor(hours / 24);\n  \n    if (seconds < 60) {\n      return `Il y a ${seconds} seconde${seconds > 1 ? 's' : ''}`;\n    } \n    if (minutes < 60) {\n      return `Il y a ${minutes} minute${minutes > 1 ? 's' : ''}`;\n    } \n    if (hours < 24) {\n      return `Il y a ${hours} heure${hours > 1 ? 's' : ''}`;\n    }\n    if (days === 1) {\n      return 'Hier';\n    }\n    return `Il y a ${days} jour${days > 1 ? 's' : ''}`;\n  }\n\n  goToCompte() {\n    this.router.navigate(['/utilisateur']);\n  }\n\n  onLogout(): void {\n    this.userService.logoutUser();\n  }\n \n  private base64ToObjectUrl(base64: string): string {\n    const byteString = atob(base64.split(',')[1]);\n    const mimeString = base64.split(',')[0].split(':')[1].split(';')[0];\n\n    const ab = new ArrayBuffer(byteString.length);\n    const ia = new Uint8Array(ab);\n    for (let i = 0; i < byteString.length; i++) {\n      ia[i] = byteString.charCodeAt(i);\n    }\n\n    const blob = new Blob([ab], { type: mimeString });\n    return URL.createObjectURL(blob);\n  }\n\n  lockManually() {\n    this.lockService.lockNow();\n  }\ncanAccessUserManagement = false;\n\n  private checkUserAccess(): void {\n  this.userService.getUserInfo().pipe(take(1)).subscribe({\n    next: (user) => {\n      const { roleType, permissions = [] } = user;\n\n      this.canAccessUserManagement =\n        roleType === 'ADMIN' ||\n        roleType === 'MANAGER' ||\n        permissions.includes('GERER_UTILISATEURS');\n    },\n    error: (err) => {\n      console.error('Erreur lors de la récupération des infos utilisateur :', err);\n      this.canAccessUserManagement = false;\n    }\n  });\n}\n}","<ul class=\"navbar-nav ms-auto\">\n  <li>\n    <div class=\"dropdown\" ngbDropdown placement=\"auto\">\n      <a ngbDropdownToggle href=\"javascript:\">\n        <i class=\"icon feather icon-bell\" title=\"Notification\"></i>\n        <!-- <span class=\"badge bg-danger\"><span class=\"sr-only\"></span></span> -->\n        <!-- <span class=\"badge bg-danger\" *ngIf=\"notificationsList.length > 0\">\n          {{ notificationsList.length }}\n        </span> -->\n        <span class=\"badge bg-danger notification-badge\" *ngIf=\"unreadCount > 0\">\n            {{ unreadCount }}\n        </span>\n      </a>\n      <div ngbDropdownMenu class=\"dropdown-menu dropdown-menu-end notification\">\n        <div class=\"noti-head\">\n          <h6 class=\"d-inline-block m-b-0\">Notifications</h6>\n          <!-- <div class=\"float-end\">\n            <a href=\"javascript:\" class=\"m-r-10\">mark as read</a>\n            <a href=\"javascript:\">clear all</a>\n          </div> -->\n        </div>\n         <ul class=\"noti-body\">\n          <!-- <li class=\"n-title\">\n            <p class=\"m-b-0\">NEW</p>\n          </li>-->\n         \n          <!-- <li class=\"notification\">\n            <div class=\"media\">\n              <img class=\"img-radius\" src=\"assets/images/user/avatar-1.jpg\" alt=\"Generic placeholder image\" />\n              <div class=\"media-body\">\n                <p>\n                  <strong>John Doe</strong>\n                  <span class=\"n-time text-muted\">\n                    <i class=\"icon feather icon-clock m-r-10\"></i>\n                    30 min\n                  </span>\n                </p>\n                <p>New ticket Added</p>\n              </div>\n            </div>\n          </li>\n          <li class=\"n-title\">\n            <p class=\"m-b-0\">EARLIER</p>\n          </li>\n          <li class=\"notification\">\n            <div class=\"media\">\n              <img class=\"img-radius\" src=\"assets/images/user/avatar-2.jpg\" alt=\"Generic placeholder image\" />\n              <div class=\"media-body\">\n                <p>\n                  <strong>Joseph William</strong>\n                  <span class=\"n-time text-muted\">\n                    <i class=\"icon feather icon-clock m-r-10\"></i>\n                    30 min\n                  </span>\n                </p>\n                <p>Purchase New Theme and make payment</p>\n              </div>\n            </div>\n          </li>\n          <li class=\"notification\">\n            <div class=\"media\">\n              <img class=\"img-radius\" src=\"assets/images/user/avatar-3.jpg\" alt=\"Generic placeholder image\" />\n              <div class=\"media-body\">\n                <p>\n                  <strong>Sara Soudein</strong>\n                  <span class=\"n-time text-muted\">\n                    <i class=\"icon feather icon-clock m-r-10\"></i>\n                    30 min\n                  </span>\n                </p>\n                <p>currently login</p>\n              </div>\n            </div>\n          </li>-->\n\n          <ul class=\"noti-body notifications\">\n            <li class=\"notification\" *ngFor=\"let notif of notificationsList\" \n                [class.unread]=\"!notif.read\"\n                (click)=\"markNotificationAsRead(notif, $event)\">\n\n              <div class=\"media\">\n                <div class=\"media-body\">\n                  <p>\n                    <strong>{{ notif.senderName || 'Système' }}</strong>\n                    <span class=\"n-time text-muted\" style=\"display: flex;\">\n                      <i class=\"icon feather icon-clock m-r-10\"></i>\n                      {{ getRelativeTime(notif.createdAt) }}\n                    </span>\n                  </p>\n                  <p><b>{{ notif.message }}</b></p>\n                </div>\n                \n                <!-- DÉPLACEZ LE BOUTON ICI -->\n                <div class=\"mark-read-container\" *ngIf=\"!notif.read\">\n                  <button class=\"btn btn-sm btn-icon mark-read-btn\"\n                          (click)=\"markNotificationAsRead(notif, $event)\"\n                          title=\"Marquer comme lu\">\n                    <i class=\"fa fa-check\"></i>\n                  </button>\n                </div>\n              </div>\n            </li>\n\n            <!-- message si pas de notification -->\n            <li *ngIf=\"notificationsList.length === 0\" class=\"text-center p-2\">\n              Aucune notification\n            </li>\n          <!-- </ul> -->\n\n          <!-- <ul class=\"notifications\"> -->\n            <li class=\"notification\" *ngFor=\"let history of stockHistory\">\n              <div class=\"media\">\n                <img class=\"img-radius\" src=\"assets/img/profil.png\" alt=\"User Image\" />\n                <div class=\"media-body\">\n                  <p>\n                    <strong>{{ history.nomComplet || 'Utilisateur inconnu' }}</strong>\n                    <span style=\"font-size: 10px; margin: 5px; color: #ff000075;\">({{ history.role || 'Rôle inconnu' }})</span>\n                    <span class=\"n-time text-muted\">\n                      <i class=\"icon feather icon-clock m-r-10\"></i>\n                      {{ history.relativeTime }}\n                    </span> \n                  </p>\n                  <p style=\"font-size: 11px; margin-bottom: 5px;\">\n                    <b>{{ history.action || 'Action inconnue' }}</b>\n                    ({{ history.quantite || 0 }} unités)\n                  </p>\n                  <p *ngIf=\"history.description\">{{ history.description }}</p>\n                </div>\n              </div>\n            </li>\n          </ul>\n          \n          \n        </ul> \n        <div class=\"noti-footer\">\n          <!-- <a href=\"javascript:\">Voir tout</a> -->\n        </div>\n      </div>\n    </div>\n  </li>\n \n  <!-- lockManually -->\n  <li>\n   <div class=\"dropdown\">\n    <a href=\"javascript:void(0)\" \n      (click)=\"lockManually()\" \n      class=\"displayChatbox dropdown-toggle\" \n      [title]=\"isLocked ? 'Écran verrouillé' : 'Verrouiller l\\'écran'\">\n      \n      <i class=\"fa\"  [ngClass]=\"isLocked ? 'fa-lock' : 'fa-unlock'\"></i>\n      \n      <!-- <span class=\"badge bg-success\">\n        <span class=\"sr-only\"></span>\n      </span> -->\n    </a>\n</div>\n\n  </li>\n\n\n  <li>\n    <div class=\"bare_vertical\">\n      <div class=\"bare\"></div>\n    </div>\n  </li>\n\n  \n\n\n  <!-- Pour le nom de ta société -->\n  <li>\n    <div class=\"dropdown drp-user capitalize\"  ngbDropdown placement=\"auto\">\n      <a class=\"nameBoutiqueHover\" href=\"javascript:\" ngbDropdownToggle>\n        {{ nomEntreprise }}\n      </a>\n    </div> \n  </li>\n\n  <li>\n    <div class=\"dropdown drp-user\" ngbDropdown placement=\"auto\">\n      <a href=\"javascript:\" ngbDropdownToggle>\n      <img [src]=\"photoUrl || 'assets/img/profil.png'\" class=\"img-radius wid-40\" alt=\"User-Profile-Image\" />\n\n\n      </a>\n      <div class=\"dropdown-menu dropdown-menu-end profile-notification\" ngbDropdownMenu>\n        <!--pro-head-->\n        <div class=\"nameBoutiqueDrop\">\n          <!--<img src=\"assets/logo/logoxpertpro.png\" class=\"img-radius wid-60\" alt=\"User-Profile-Image\" />-->\n          <span>{{ userName }}</span>\n          <a class=\"dud-logout\" title=\"Logout\">\n            <i class=\"feather icon-log-out\"></i>\n          </a>\n        </div>\n        <ul class=\"pro-body\">\n          <li>\n            <a style=\"cursor: pointer;\" routerLink=\"/profil\" class=\"dropdown-item\">\n              <i class=\"feather icon-user\"></i> Profile\n            </a>\n          </li>\n          <li *ngIf=\"canAccessUserManagement\">\n            <a style=\"cursor: pointer;\" (click)=\"goToCompte()\" class=\"dropdown-item\">\n              <i class=\"feather icon-users\"></i> Utilisateurs\n            </a>\n          </li>\n          <li>\n            <a class=\"dropdown-item\" (click)=\"onLogout()\" style=\"cursor: pointer;\">\n              <i class=\"feather icon-lock\"></i> Déconnexion\n            </a>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </li>\n</ul>\n\n<!-- @if (visibleUserList) {\n  <section class=\"header-user-list\" [ngClass]=\"{ open: visibleUserList }\" [@slideInOutLeft]>\n    <app-chat-user-list\n      (ChatToggle)=\"onChatToggle($event)\"\n      (ChatCollapse)=\"this.visibleUserList = !this.visibleUserList; this.chatMessage = false\"\n    />\n  </section>\n}\n@if (chatMessage) {\n  <section class=\"header-chat\" [ngClass]=\"{ open: chatMessage }\" [@slideInOutLeft]>\n    <app-chat-msg (ChatToggle)=\"this.chatMessage = !this.chatMessage\" [friendId]=\"friendId\" />\n  </section>\n}\n@if (visibleUserList) {\n  <section class=\"header-user-list\" [ngClass]=\"{ open: visibleUserList }\" [@slideInOutRight]>\n    <app-chat-user-list\n      (ChatToggle)=\"onChatToggle($event)\"\n      (ChatCollapse)=\"this.visibleUserList = !this.visibleUserList; this.chatMessage = false\"\n    />\n  </section>\n}\n@if (chatMessage) {\n  <section class=\"header-chat\" [ngClass]=\"{ open: chatMessage }\" [@slideInOutRight]>\n    <app-chat-msg (ChatToggle)=\"this.chatMessage = !this.chatMessage\" [friendId]=\"friendId\" />\n  </section>\n} -->","// Angular Import\nimport { Component, Input, OnInit } from '@angular/core';\nimport { RouterModule } from '@angular/router';\n\n// project import\nimport { NavigationItem } from '../../navigation';\nimport { NavItemComponent } from '../nav-item/nav-item.component';\nimport { UsersService } from 'src/app/admin-page/SERVICES/users.service';\nimport { CommonModule } from '@angular/common';\nimport { ModuleService } from 'src/app/admin-page/SERVICES/Module-Service';\n\n@Component({\n  selector: 'app-nav-collapse',\n  imports: [NavItemComponent, RouterModule, CommonModule],\n  templateUrl: './nav-collapse.component.html',\n  styleUrls: ['./nav-collapse.component.scss']\n})\nexport class NavCollapseComponent implements OnInit{\n  // public props\n  @Input() item!: NavigationItem;\n  canShow = false;\n  private entrepriseModules: string[] = [];\n\n\n   constructor(private usersService: UsersService, private moduleService: ModuleService) {}\n\n    ngOnInit(): void {\n    // Charger les modules actifs de l'entreprise\n    this.moduleService.getModulesEntreprise().subscribe({\n      next: (modules) => {\n        this.entrepriseModules = modules\n          .filter(mod => mod.actif)\n          .map(mod => mod.code);\n        this.evaluateVisibility();\n      },\n      error: () => {\n        this.canShow = false;\n      }\n    });\n  }\n\n private evaluateVisibility(): void {\n    this.usersService.getUserInfo().subscribe({\n      next: user => {\n        this.canShow = this.hasVisibleItem(this.item, user.permissions);\n      },\n      error: () => {\n        this.canShow = false;\n      }\n    });\n  }\n\n private hasVisibleItem(item: NavigationItem, permissions: string[]): boolean {\n  const hasPermission = !item.codePermission || permissions.includes(item.codePermission);\n  const hasModule = !item.codeModule || this.entrepriseModules.includes(item.codeModule);\n\n  if (item.children?.length) {\n    // Si le parent a enfants, il faut que parent soit visible (droits + module)\n    // ET qu'au moins un enfant soit visible\n    if (hasPermission && hasModule) {\n      return item.children.some(child => this.hasVisibleItem(child, permissions));\n    } else {\n      // Si parent pas visible, on ne doit pas afficher même si enfants visibles\n      return false;\n    }\n  } else {\n    // Pas d'enfants, juste vérifier droits + module\n    return hasPermission && hasModule;\n  }\n}\n\n\n\n  // public method\n  navCollapse(e: MouseEvent) {\n    let parent = e.target as HTMLElement;\n    parent = (parent as HTMLElement).parentElement as HTMLElement;\n\n    const sections = document.querySelectorAll('.pcoded-hasmenu');\n    for (let i = 0; i < sections.length; i++) {\n      if (sections[i] !== parent) {\n        sections[i].classList.remove('pcoded-trigger');\n      }\n    }\n    let firstParent = parent.parentElement;\n    let preParent = ((parent as HTMLElement).parentElement as HTMLElement).parentElement as HTMLElement;\n    if (firstParent?.classList.contains('pcoded-hasmenu')) {\n      do {\n        firstParent?.classList.add('pcoded-trigger');\n        firstParent = ((firstParent as HTMLElement).parentElement as HTMLElement).parentElement as HTMLElement;\n      } while (firstParent.classList.contains('pcoded-hasmenu'));\n    } else if (preParent.classList.contains('pcoded-submenu')) {\n      do {\n        preParent?.parentElement?.classList.add('pcoded-trigger');\n        preParent = (((preParent as HTMLElement).parentElement as HTMLElement).parentElement as HTMLElement).parentElement as HTMLElement;\n      } while (preParent.classList.contains('pcoded-submenu'));\n    }\n    parent.classList.toggle('pcoded-trigger');\n  }\n\n  \n}\n","<li class=\"nav-item pcoded-hasmenu\" [routerLinkActive]=\"['active']\" *ngIf=\"canShow\">\n  <a [routerLinkActive]=\"['active']\" href=\"javascript:\" class=\"nav-link\" (click)=\"navCollapse($event)\">\n    @if (item.icon) {\n      <span class=\"pcoded-micon\">\n        <i class=\"{{ item.icon }}\"></i>\n      </span>\n    }\n    <span class=\"pcoded-mtext\">{{ item.title }}</span>\n  </a>\n  <ul class=\"pcoded-submenu\" [routerLinkActive]=\"['active']\">\n    @for (item of item.children; track item) {\n      @if (item.type === 'collapse') {\n        <app-nav-collapse [item]=\"item\"></app-nav-collapse>\n      }\n      @if (item.type === 'item') {\n        <app-nav-item [item]=\"item\"></app-nav-item>\n      }\n    }\n  </ul>\n</li>\n","// angular import\nimport { Component, OnInit, inject, output } from '@angular/core';\nimport { Location, LocationStrategy } from '@angular/common';\n\n// project import\nimport { environment } from 'src/environments/environment';\nimport { NavigationItem, NavigationItems } from '../navigation';\nimport { SharedModule } from 'src/app/theme/shared/shared.module';\nimport { NavCollapseComponent } from './nav-collapse/nav-collapse.component';\nimport { NavGroupComponent } from './nav-group/nav-group.component';\nimport { NavItemComponent } from './nav-item/nav-item.component';\n\n@Component({\n  selector: 'app-nav-content',\n  imports: [SharedModule, NavCollapseComponent, NavGroupComponent, NavItemComponent],\n  templateUrl: './nav-content.component.html',\n  styleUrls: ['./nav-content.component.scss']\n})\nexport class NavContentComponent implements OnInit {\n  private location = inject(Location);\n  private locationStrategy = inject(LocationStrategy);\n\n  // version\n  title = 'Demo application for version numbering';\n  currentApplicationVersion = environment.appVersion;\n\n  // public pops\n  navigations: NavigationItem[];\n  wrapperWidth!: number;\n  windowWidth: number;\n\n  NavMobCollapse = output();\n  // constructor\n  constructor() {\n    this.windowWidth = window.innerWidth;\n    this.navigations = NavigationItems;\n  }\n\n  // life cycle event\n  ngOnInit() {\n    if (this.windowWidth < 992) {\n      document.querySelector('.pcoded-navbar')?.classList.add('menupos-static');\n    }\n  }\n\n  // public method\n\n  navMob() {\n    if (this.windowWidth < 992 && document.querySelector('app-navigation.pcoded-navbar')?.classList.contains('mob-open')) {\n      this.NavMobCollapse.emit();\n    }\n  }\n\n  fireOutClick() {\n    let current_url = this.location.path();\n    const baseHref = this.locationStrategy.getBaseHref();\n    if (baseHref) {\n      current_url = baseHref + this.location.path();\n    }\n    const link = \"a.nav-link[ href='\" + current_url + \"' ]\";\n    const ele = document.querySelector(link);\n    if (ele !== null && ele !== undefined) {\n      const parent = ele.parentElement;\n      const up_parent = parent?.parentElement?.parentElement;\n      const last_parent = up_parent?.parentElement;\n      if (parent?.classList.contains('pcoded-hasmenu')) {\n        parent.classList.add('pcoded-trigger');\n        parent.classList.add('active');\n      } else if (up_parent?.classList.contains('pcoded-hasmenu')) {\n        up_parent.classList.add('pcoded-trigger');\n        up_parent.classList.add('active');\n      } else if (last_parent?.classList.contains('pcoded-hasmenu')) {\n        last_parent.classList.add('pcoded-trigger');\n        last_parent.classList.add('active');\n      }\n    }\n  }\n}\n","<ng-scrollbar (clickOutside)=\"navMob()\" style=\"height: calc(100vh - 56px)\">\n  <div class=\"navbar-content\">\n    <ul class=\"nav pcoded-inner-navbar\" (clickOutside)=\"fireOutClick()\">\n      @for (item of navigations; track item) {\n        @if (item.type === 'group') {\n          <app-nav-group [item]=\"item\"></app-nav-group>\n        }\n        @if (item.type === 'collapse') {\n          <app-nav-collapse [item]=\"item\"></app-nav-collapse>\n        }\n        @if (item.type === 'item') {\n          <app-nav-item [item]=\"item\"></app-nav-item>\n        }\n      }\n    </ul>\n    <!-- <div class=\"card text-center\">\n      <div class=\"card-body\">\n        <img src=\"assets/images/sidebar.png\" alt=\"images\" class=\"img-fluid mb-2\" />\n        <h5>Gradient Proooo</h5>\n        <p>Checkout Gradient Premium Features</p>\n        <a\n          href=\"https://codedthemes.com/item/gradient-able-angular-admin-template/?utm_source=free_demo&utm_medium=codedthemes&utm_campaign=button_download_premium\"\n          target=\"_blank\"\n          class=\"btn text-white btn-primary\"\n        >\n          Download Premium\n        </a>\n      </div>\n    </div> -->\n    \n    <div class=\"version\">\n      <label disabled class=\"pe-auto\">v{{ currentApplicationVersion }}</label>\n    </div>\n  </div>\n</ng-scrollbar>\n","// Angular Import\nimport { Component, OnInit, inject, input } from '@angular/core';\nimport { CommonModule, Location, LocationStrategy } from '@angular/common';\n\n// project import\nimport { NavigationItem } from '../../navigation';\nimport { NavCollapseComponent } from '../nav-collapse/nav-collapse.component';\nimport { NavItemComponent } from '../nav-item/nav-item.component';\n\n@Component({\n  selector: 'app-nav-group',\n  imports: [NavCollapseComponent, NavItemComponent, CommonModule],\n  templateUrl: './nav-group.component.html',\n  styleUrls: ['./nav-group.component.scss']\n})\nexport class NavGroupComponent implements OnInit {\n  private location = inject(Location);\n  private locationStrategy = inject(LocationStrategy);\n\n  // public props\n  item = input<NavigationItem>();\n\n  // life cycle event\n  ngOnInit() {\n    // at reload time active and trigger link\n    let current_url = this.location.path();\n    const baseHref = this.locationStrategy.getBaseHref();\n    if (baseHref) {\n      current_url = baseHref + this.location.path();\n    }\n    const link = \"a.nav-link[ href='\" + current_url + \"' ]\";\n    const ele = document.querySelector(link);\n    if (ele !== null && ele !== undefined) {\n      const parent = ele.parentElement;\n      const up_parent = parent?.parentElement?.parentElement;\n      const last_parent = up_parent?.parentElement;\n      if (parent?.classList.contains('pcoded-hasmenu')) {\n        parent.classList.add('pcoded-trigger');\n        parent.classList.add('active');\n      } else if (up_parent?.classList.contains('pcoded-hasmenu')) {\n        up_parent.classList.add('pcoded-trigger');\n        up_parent.classList.add('active');\n      } else if (last_parent?.classList.contains('pcoded-hasmenu')) {\n        last_parent.classList.add('pcoded-trigger');\n        last_parent.classList.add('active');\n      }\n    }\n  }\n}\n","<!-- <li class=\"nav-item pcoded-menu-caption\">\n  <label>{{ item()?.title }}</label>\n</li> -->\n@for (item of item()?.children; track item) {\n  @if (item.type === 'group') {\n    <app-nav-group [item]=\"item\"></app-nav-group>\n  }\n  @if (item.type === 'collapse') {\n    <app-nav-collapse [item]=\"item\"></app-nav-collapse>\n  }\n  @if (item.type === 'item') {\n    <app-nav-item [item]=\"item\"></app-nav-item>\n  }\n}\n","// Angular Import\nimport { Component, Input, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\n\n// project import\nimport { NavigationItem } from '../../navigation';\nimport { UsersService } from 'src/app/admin-page/SERVICES/users.service';\nimport { ModuleService } from 'src/app/admin-page/SERVICES/Module-Service';\n\n@Component({\n  selector: 'app-nav-item',\n  imports: [CommonModule, RouterModule],\n  templateUrl: './nav-item.component.html',\n  styleUrls: ['./nav-item.component.scss']\n})\nexport class NavItemComponent implements OnInit {\n  @Input() item!: NavigationItem;\n  canShow = false;\n\n  private entrepriseModules: string[] = [];\n\n  constructor(\n    private usersService: UsersService,\n    private moduleService: ModuleService\n  ) {}\n\n  ngOnInit(): void {\n    this.moduleService.getModulesEntreprise().subscribe({\n      next: (modules) => {\n        this.entrepriseModules = modules\n          .filter(mod => mod.actif)\n          .map(mod => mod.code.trim().toUpperCase());\n        this.evaluateVisibility();\n      },\n      error: () => {\n        this.canShow = false;\n      }\n    });\n  }\n\n   private evaluateVisibility(): void {\n    this.usersService.getUserInfo().subscribe({\n      next: (user) => {\n        this.canShow = this.hasVisibleItem(this.item, user.permissions);\n      },\n      error: () => {\n        this.canShow = false;\n      }\n    });\n  }\n\n    private hasVisibleItem(item: NavigationItem, permissions: string[]): boolean {\n    // Vérifier permission et module sur l'item courant\n    const hasPermission = !item.codePermission || permissions.includes(item.codePermission);\n    const hasModule = !item.codeModule || this.entrepriseModules.includes(item.codeModule);\n\n    if (hasPermission && hasModule) {\n      return true; // cet item peut s’afficher\n    }\n\n    // Sinon, on vérifie récursivement les enfants\n    if (item.children?.length) {\n      return item.children.some(child => this.hasVisibleItem(child, permissions));\n    }\n\n    return false;\n  }\n\n   // public method\n  closeOtherMenu(event: MouseEvent) {\n    const ele = event.target as HTMLElement;\n    if (ele !== null && ele !== undefined) {\n      const parent = ele.parentElement as HTMLElement;\n      const up_parent = ((parent.parentElement as HTMLElement).parentElement as HTMLElement).parentElement as HTMLElement;\n      const last_parent = up_parent.parentElement;\n      const sections = document.querySelectorAll('.pcoded-hasmenu');\n      for (let i = 0; i < sections.length; i++) {\n        sections[i].classList.remove('active');\n        sections[i].classList.remove('pcoded-trigger');\n      }\n\n      if (parent.classList.contains('pcoded-hasmenu')) {\n        parent.classList.add('pcoded-trigger');\n        parent.classList.add('active');\n      } else if (up_parent.classList.contains('pcoded-hasmenu')) {\n        up_parent.classList.add('pcoded-trigger');\n        up_parent.classList.add('active');\n      } else if (last_parent?.classList.contains('pcoded-hasmenu')) {\n        last_parent.classList.add('pcoded-trigger');\n        last_parent.classList.add('active');\n      }\n    }\n    if (document.querySelector('app-navigation.pcoded-navbar')?.classList.contains('mob-open')) {\n      document.querySelector('app-navigation.pcoded-navbar')?.classList.remove('mob-open');\n    }\n  }\n\n}\n","@if (item.url && !item.external) {\n  <li [ngClass]=\"item.classes\" [routerLinkActive]=\"['active']\" *ngIf=\"canShow\">\n    <a class=\"nav-link\" [target]=\"item.target ? '_blank' : '_self'\" [routerLink]=\"[item.url]\" (click)=\"closeOtherMenu($event)\">\n      @if (item.icon) {\n        <span class=\"pcoded-micon\"><i class=\"feather\" [ngClass]=\"item.icon\"></i></span>\n      }\n      @if (item.icon) {\n        <span class=\"pcoded-mtext\">{{ item.title }}</span>\n      } @else {\n        {{ item.title }}\n      }\n    </a>\n  </li>\n}\n@if (item.url && item.external) {\n  <li [ngClass]=\"item.classes\">\n    <a [target]=\"item.target ? '_blank' : '_self'\"  [routerLink]=\"[item.url]\">\n      @if (item.icon) {\n        <span class=\"pcoded-micon\"><i class=\"feather\" [ngClass]=\"item.icon\"></i></span>\n      }\n      @if (item.icon) {\n        <span class=\"pcoded-mtext\">{{ item.title }}</span>\n      } @else {\n        {{ item.title }}\n      }\n    </a>\n  </li>\n}\n","// Angular Import\nimport { Component, EventEmitter, OnInit, Output, output } from '@angular/core';\n\n// project import\nimport { NavContentComponent } from './nav-content/nav-content.component';\nimport { Module } from 'src/app/admin-page/MODELS/Module-model';\nimport { ModuleService } from 'src/app/admin-page/SERVICES/Module-Service';\n\n@Component({\n  selector: 'app-navigation',\n  imports: [NavContentComponent],\n  templateUrl: './navigation.component.html',\n  styleUrls: ['./navigation.component.scss']\n})\n\nexport class NavigationComponent implements OnInit {\n\n  windowWidth: number;\n  @Output() NavMobCollapse = new EventEmitter<void>();\n\n  modulesActifs: Module[] = [];\n\n  constructor(private moduleService: ModuleService) {\n    this.windowWidth = window.innerWidth;\n  }\n\n  ngOnInit(): void {\n    this.chargerModulesActifs();\n  }\n\n  navMobCollapse() {\n    if (this.windowWidth < 992) {\n      this.NavMobCollapse.emit();\n    }\n  }\n\nchargerModulesActifs() {\n    this.moduleService.getModulesEntreprise().subscribe({\n        next: (modules) => {\n            this.modulesActifs = modules.filter(m => m.actif === true);\n            console.log('Modules actifs filtrés', this.modulesActifs);\n        },\n        error: (err) => console.error('Erreur chargement modules', err)\n    });\n}\n\n\n  estModuleVisible(code: string): boolean {\n    return this.modulesActifs.some(m => m.code === code);\n  }\n}\n","<div class=\"navbar-wrapper\">\n  <app-nav-content (NavMobCollapse)=\"navMobCollapse()\"></app-nav-content>\n</div>\n","export interface NavigationItem {\n  id: string;\n  title: string;\n  type: 'item' | 'collapse' | 'group';\n  translate?: string;\n  icon?: string;\n  codeModule?: string;\n  codePermission?: string;\n  hidden?: boolean;\n  url?: string;\n  classes?: string;\n  exactMatch?: boolean;\n  external?: boolean;\n  target?: boolean;\n  breadcrumbs?: boolean;\n  badge?: {\n    title?: string;\n    type?: string;\n    \n  };\n  children?: NavigationItem[ ];\n}\n\nexport const NavigationItems: NavigationItem[] = [\n  {\n    id: 'navigation',\n    title: '',\n    type: 'group',\n    icon: 'icon-group',\n    children: [\n      {\n        id: 'dashboard',\n        title: 'Dashboard',\n        type: 'item',\n        url: '/analytics',\n        icon: 'feather icon-home'\n      }\n    ]\n  },\n\n  {\n    id: 'page',\n    title: '',\n    type: 'group',\n    icon: 'icon-group',\n    children: [\n      {\n        id: 'vente',\n        title: 'Ventes',\n        type: 'item',\n        url: '/vente',\n        classes: 'nav-item',\n        icon: 'feather icon-bar-chart-2',\n        codePermission: 'GERER_PRODUITS'\n\n      },\n         {\n        id: 'pos',\n        title: 'Point de vente',\n        type: 'item',\n        url: '/pos-caisse',\n        classes: 'nav-item',\n        icon: 'feather icon-shopping-cart',\n        codePermission: 'VENDRE_PRODUITS'\n\n        },\n      {\n        id: 'produit',\n        title: 'Produits',\n        type: 'item',\n        url: '/produit',\n        icon: 'feather icon-tag',\n        codePermission: 'GERER_PRODUITS'\n      },\n      {\n        id: 'boutique',\n        title: 'Boutiques',\n        type: 'item',\n        url: '/boutique',\n        classes: 'nav-item',\n        icon: 'feather icon-list',\n        codePermission: 'GERER_BOUTIQUE'\n      },\n      {\n        id: 'stock',\n        title: '',\n        type: 'group',\n        icon: 'icon-group',\n        \n        children: [\n          {\n            id: 'stock',\n            title: 'Stocks',\n            type: 'collapse',\n            icon: 'feather icon-box',\n            codePermission: 'APPROVISIONNER_STOCK',\n            codeModule: 'STOCK',\n\n            \n\n\n            children: [\n              {\n                id: 'stocks',\n                title: 'Mes Stocks',\n                type: 'item',\n                url: '/stocks',\n\n              },\n              {\n                id: 'facture',\n                title: 'Factures',\n                type: 'item',\n                url: '/facture',\n                // classes: 'nav-item',\n                // icon: 'feather icon-file'\n              },\n\n            ]\n          }\n        ]\n    },\n\n      {\n        id: 'clients',\n        title: 'Clients',\n        type: 'item',\n        url: '/clients',\n        classes: 'nav-item',\n        icon: 'feather icon-users',\n        codePermission: 'GERER_CLIENTS',\n        codeModule: 'CLIENT',\n\n\n      },\n      {\n        id: 'fournisseurs',\n        title: 'Fournisseurs',\n        type: 'item',\n        url: '/fournisseurs',\n        classes: 'nav-item',\n        icon: 'feather icon-user',\n        codePermission: 'GERER_FOURNISSEURS'\n\n      },\n     \n     \n\n      \n\n      // Pour les compte\n      /*{\n        id: 'compte',\n        title: 'Comptes',\n        type: 'item',\n        url: '/compte',\n        classes: 'nav-item',\n        icon: 'feather icon-bell'\n      },*/\n    ]\n  },\n\n   {\n        id: 'factures',\n        title: 'Test',\n        type: 'group',\n        icon: 'icon-group',\n        children: [\n          {\n            id: 'facturation',\n            title: 'Facturation',\n            type: 'collapse',\n            icon: 'feather icon-file',\n            codePermission: 'GESTION_FACTURATION',\n\n            children: [\n              {\n                id: 'facture-proforma',\n                title: 'Facture proforma',\n                type: 'item',\n                url: '/facture-proforma',\n                \n              },\n\n              {\n                id: 'facture-reelle',\n                title: 'Facture reelle',\n                type: 'item',\n                url: '/facture-reel',\n                // codeModule: 'FACTURE_REELLE'\n              },\n\n            ]\n          }\n        ]\n    },\n\n\n  {\n    id: 'Comptabilite',\n    title: '',\n    type: 'group',\n    icon: 'icon-group',\n    children: [\n      {\n        id: 'comptabilite',\n        title: 'Comptabilite',\n        type: 'item',\n        url: '/comptabilite',\n        classes: 'nav-item',\n        icon: 'feather icon-clipboard',\n        codePermission: 'COMPTABILITE',\n\n      },\n    ]\n  },\n\n\n  {\n    id: 'Comptes',\n    title: '',\n    type: 'group',\n    icon: 'icon-group',\n    children: [\n      {\n        id: 'parametres',\n        title: 'Parametres',\n        type: 'item',\n        url: '/account-settings',\n        classes: 'nav-item',\n        icon: 'feather icon-settings'\n      },\n    ]\n  },\n\n  \n\n\n  // FIN \n  /*\n  {\n    id: 'ui-component',\n    title: 'Ui Component',\n    type: 'group',\n    icon: 'icon-group',\n    children: [\n      {\n        id: 'basic',\n        title: 'Component',\n        type: 'collapse',\n        icon: 'feather icon-box',\n        children: [\n          {\n            id: 'button',\n            title: 'Button',\n            type: 'item',\n            url: '/component/button'\n          },\n          {\n            id: 'badges',\n            title: 'Badges',\n            type: 'item',\n            url: '/component/badges'\n          },\n          {\n            id: 'breadcrumb-pagination',\n            title: 'Breadcrumb & Pagination',\n            type: 'item',\n            url: '/component/breadcrumb-paging'\n          },\n          {\n            id: 'collapse',\n            title: 'Collapse',\n            type: 'item',\n            url: '/component/collapse'\n          },\n          {\n            id: 'tabs-pills',\n            title: 'Tabs & Pills',\n            type: 'item',\n            url: '/component/tabs-pills'\n          },\n          {\n            id: 'typography',\n            title: 'Typography',\n            type: 'item',\n            url: '/component/typography'\n          }\n        ]\n      }\n    ]\n  },\n  {\n    id: 'Authentication',\n    title: 'Authentication',\n    type: 'group',\n    icon: 'icon-group',\n    children: [\n      {\n        id: 'accueil',\n        title: 'Accueil',\n        type: 'item',\n        url: '/auth/login/loginPage',\n        icon: 'feather icon-at-sign',\n        target: true,\n        breadcrumbs: false\n      },\n      {\n        id: 'inscription',\n        title: 'Inscription',\n        type: 'item',\n        url: '/auth/inscription',\n        icon: 'feather icon-at-sign',\n        target: true,\n        breadcrumbs: false\n      },\n      {\n        id: 'connexion',\n        title: 'Connection',\n        type: 'item',\n        url: '/auth/connexion',\n        icon: 'feather icon-at-sign',\n        target: true,\n        breadcrumbs: false\n      },\n      {\n        id: 'signup',\n        title: 'Sign up',\n        type: 'item',\n        url: '/auth/signup',\n        icon: 'feather icon-at-sign',\n        target: true,\n        breadcrumbs: false\n      },\n      {\n        id: 'signin',\n        title: 'Sign in',\n        type: 'item',\n        url: '/auth/signin',\n        icon: 'feather icon-log-in',\n        target: true,\n        breadcrumbs: false\n      }\n    ]\n  },\n  {\n    id: 'chart',\n    title: 'Chart',\n    type: 'group',\n    icon: 'icon-group',\n    children: [\n      {\n        id: 'apexchart',\n        title: 'ApexChart',\n        type: 'item',\n        url: '/chart',\n        classes: 'nav-item',\n        icon: 'feather icon-pie-chart'\n      }\n    ]\n  },\n  {\n    id: 'forms & tables',\n    title: 'Forms & Tables',\n    type: 'group',\n    icon: 'icon-group',\n    children: [\n      {\n        id: 'forms',\n        title: 'Basic Forms',\n        type: 'item',\n        url: '/forms',\n        classes: 'nav-item',\n        icon: 'feather icon-file-text'\n      },\n      {\n        id: 'tables',\n        title: 'tables',\n        type: 'item',\n        url: '/tables',\n        classes: 'nav-item',\n        icon: 'feather icon-server'\n      }\n    ]\n  },\n  {\n    id: 'other',\n    title: 'Other',\n    type: 'group',\n    icon: 'icon-group',\n    children: [\n      {\n        id: 'sample-page',\n        title: 'Sample Page',\n        type: 'item',\n        url: '/sample-page',\n        classes: 'nav-item',\n        icon: 'feather icon-sidebar'\n      },\n      {\n        id: 'menu-level',\n        title: 'Menu Levels',\n        type: 'collapse',\n        icon: 'feather icon-menu',\n        children: [\n          {\n            id: 'menu-level-2.1',\n            title: 'Menu Level 2.1',\n            type: 'item',\n            url: 'javascript:',\n            external: true\n          },\n          {\n            id: 'menu-level-2.2',\n            title: 'Menu Level 2.2',\n            type: 'collapse',\n            children: [\n              {\n                id: 'menu-level-2.2.1',\n                title: 'Menu Level 2.2.1',\n                type: 'item',\n                url: 'javascript:',\n                external: true\n              },\n              {\n                id: 'menu-level-2.2.2',\n                title: 'Menu Level 2.2.2',\n                type: 'item',\n                url: 'javascript:',\n                external: true\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  }\n    */\n];\n","// Angular Import\nimport { Component } from '@angular/core';\nimport { RouterModule } from '@angular/router';\n\n@Component({\n  selector: 'app-guest',\n  imports: [RouterModule],\n  templateUrl: './guest.component.html',\n  styleUrls: ['./guest.component.scss']\n})\nexport class GuestComponent {}\n","<router-outlet></router-outlet>\n","// Angular Import\nimport { Component, inject, input } from '@angular/core';\nimport { NavigationEnd, Router, RouterModule, Event } from '@angular/router';\nimport { Title } from '@angular/platform-browser';\n\n// project import\nimport { NavigationItem, NavigationItems } from 'src/app/theme/layout/admin/navigation/navigation';\n\ninterface titleType {\n  // eslint-disable-next-line\n  url: any;\n  title: string;\n  breadcrumbs: unknown;\n  type: string;\n}\n\n@Component({\n  selector: 'app-breadcrumb',\n  standalone: true,\n  imports: [RouterModule],\n  templateUrl: './breadcrumb.component.html',\n  styleUrls: ['./breadcrumb.component.scss']\n})\nexport class BreadcrumbComponent {\n  private route = inject(Router);\n  private titleService = inject(Title);\n\n  // public props\n  type = input<string>();\n\n  navigations: NavigationItem[];\n  breadcrumbList: Array<string> = [];\n  navigationList!: titleType[];\n\n  // constructor\n  constructor() {\n    this.navigations = NavigationItems;\n    this.setBreadcrumb();\n  }\n\n  // public method\n  setBreadcrumb() {\n    this.route.events.subscribe((router: Event) => {\n      if (router instanceof NavigationEnd) {\n        const activeLink = router.url;\n        const breadcrumbList = this.filterNavigation(this.navigations, activeLink);\n        this.navigationList = breadcrumbList;\n        const title = breadcrumbList[breadcrumbList.length - 1]?.title || 'Bienvenue';\n        this.titleService.setTitle(title + ' | sur Tchakeda');\n      }\n    });\n  }\n\n  filterNavigation(navItems: NavigationItem[], activeLink: string): titleType[] {\n    for (const navItem of navItems) {\n      if (navItem.type === 'item' && 'url' in navItem && navItem.url === activeLink) {\n        return [\n          {\n            url: 'url' in navItem ? navItem.url : false,\n            title: navItem.title,\n            breadcrumbs: 'breadcrumbs' in navItem ? navItem.breadcrumbs : true,\n            type: navItem.type\n          }\n        ];\n      }\n      if ((navItem.type === 'group' || navItem.type === 'collapse') && 'children' in navItem) {\n         \n        const breadcrumbList = this.filterNavigation(navItem.children!, activeLink);\n        if (breadcrumbList.length > 0) {\n          breadcrumbList.unshift({\n            url: 'url' in navItem ? navItem.url : false,\n            title: navItem.title,\n            breadcrumbs: 'breadcrumbs' in navItem ? navItem.breadcrumbs : true,\n            type: navItem.type\n          });\n          return breadcrumbList;\n        }\n      }\n    }\n    return [];\n  }\n}\n","// Angular Import\nimport { CommonModule } from '@angular/common';\nimport { Component, Input, OnInit, inject, input } from '@angular/core';\nimport { animate, AUTO_STYLE, state, style, transition, trigger } from '@angular/animations';\n\n// bootstrap import\nimport { NgbDropdownConfig } from '@ng-bootstrap/ng-bootstrap';\n\n@Component({\n  selector: 'app-card',\n  standalone: true,\n  imports: [CommonModule],\n  templateUrl: './card.component.html',\n  styleUrls: ['./card.component.scss'],\n  providers: [NgbDropdownConfig],\n  animations: [\n    trigger('collapsedCard', [\n      state(\n        'collapsed, void',\n        style({\n          overflow: 'hidden',\n          height: '0px'\n        })\n      ),\n      state(\n        'expanded',\n        style({\n          overflow: 'hidden',\n          height: AUTO_STYLE\n        })\n      ),\n      transition('collapsed <=> expanded', [animate('400ms ease-in-out')])\n    ]),\n    trigger('cardRemove', [\n      state(\n        'open',\n        style({\n          opacity: 1\n        })\n      ),\n      state(\n        'closed',\n        style({\n          opacity: 0,\n          display: 'none'\n        })\n      ),\n      transition('open <=> closed', animate('400ms'))\n    ])\n  ]\n})\nexport class CardComponent implements OnInit {\n  // public props\n  @Input() cardTitle: string;\n  @Input() cardClass!: string;\n  blockClass = input<string>();\n  headerClass = input<string>();\n  @Input() options: boolean;\n  @Input() hidHeader: boolean;\n  @Input() customHeader: boolean;\n  @Input() customDate: boolean;\n  CardDate = input<string>();\n  @Input() isCardFooter: boolean;\n  footerClass = input<string>();\n\n  animation!: string;\n  fullIcon: string;\n  isAnimating: boolean;\n  collapsedCard: string;\n  collapsedIcon: string;\n  loadCard: boolean;\n  cardRemove: string;\n\n  // constructor\n  constructor() {\n    const config = inject(NgbDropdownConfig);\n\n    config.placement = 'bottom-right';\n    this.customHeader = false;\n    this.customDate = false;\n    this.options = true;\n    this.hidHeader = false;\n    this.cardTitle = 'Card Title';\n    this.fullIcon = 'icon-maximize';\n    this.isAnimating = false;\n    this.isCardFooter = false;\n\n    this.collapsedCard = 'expanded';\n    this.collapsedIcon = 'icon-minus';\n\n    this.loadCard = false;\n\n    this.cardRemove = 'open';\n  }\n\n  // life cycle event\n  ngOnInit() {\n    if (!this.options || this.hidHeader || this.customHeader) {\n      this.collapsedCard = 'false';\n    }\n    if (!this.options || this.hidHeader || this.customDate) {\n      this.collapsedCard = 'false';\n    }\n  }\n\n  // public method\n  fullCardToggle(element: HTMLElement, animation: string, status: boolean) {\n    animation = this.cardClass === 'full-card' ? 'zoomOut' : 'zoomIn';\n    this.fullIcon = this.cardClass === 'full-card' ? 'icon-maximize' : 'icon-minimize';\n    this.cardClass = this.cardClass === 'full-card' ? this.cardClass : 'full-card';\n    if (status) {\n      this.animation = animation;\n    }\n    this.isAnimating = true;\n\n    setTimeout(() => {\n      this.cardClass = animation === 'zoomOut' ? '' : this.cardClass;\n      if (this.cardClass === 'full-card') {\n        (document.querySelector('body') as HTMLBodyElement).style.overflow = 'hidden';\n      } else {\n        (document.querySelector('body') as HTMLBodyElement).removeAttribute('style');\n      }\n    }, 500);\n  }\n\n  collapsedCardToggle() {\n    this.collapsedCard = this.collapsedCard === 'collapsed' ? 'expanded' : 'collapsed';\n    this.collapsedIcon = this.collapsedCard === 'collapsed' ? 'icon-plus' : 'icon-minus';\n  }\n\n  cardRefresh() {\n    this.loadCard = true;\n    this.cardClass = 'card-load';\n    setTimeout(() => {\n      this.loadCard = false;\n      this.cardClass = 'expanded';\n    }, 3000);\n  }\n\n  cardRemoveAction() {\n    this.cardRemove = this.cardRemove === 'closed' ? 'open' : 'closed';\n  }\n}\n","<div class=\"card\" [ngClass]=\"cardClass\" [@cardRemove]=\"cardRemove\" #toAnimate>\n  @if (!hidHeader) {\n    <div class=\"card-header\" [ngClass]=\"headerClass()\">\n      @if (!customHeader) {\n        <h5>{{ cardTitle }}</h5>\n      }\n      @if (!customDate) {\n        <span class=\"d-block\">{{ CardDate() }}</span>\n      }\n      @if (this.options && !customHeader) {\n        <div class=\"card-header-right\">\n          <div class=\"btn-group card-option dropdown\" ngbDropdown>\n            <button type=\"button\" class=\"btn dropdown-toggle btn-icon\" ngbDropdownToggle>\n              <i class=\"feather icon-more-horizontal\"></i>\n            </button>\n            <ul class=\"list-unstyled card-option dropdown-menu dropdown-menu-end\" ngbDropdownMenu>\n              <li class=\"dropdown-item full-card\" (click)=\"fullCardToggle(toAnimate, '', true)\">\n                <a href=\"javascript:\">\n                  <span>\n                    <i class=\"feather\" [ngClass]=\"fullIcon\"></i>\n                    {{ this.cardClass === 'full-card' ? 'Restore' : 'Maximize' }}\n                  </span>\n                </a>\n              </li>\n              <li class=\"dropdown-item minimize-card\" (click)=\"collapsedCardToggle()\">\n                <a href=\"javascript:\">\n                  <span>\n                    <i class=\"feather\" [ngClass]=\"collapsedIcon\"></i>\n                    {{ this.collapsedCard === 'collapsed' ? 'Expand' : 'Collapse' }}\n                  </span>\n                  <span style=\"display: none\"><i class=\"feather icon-plus\"></i></span>\n                </a>\n              </li>\n              <li class=\"dropdown-item reload-card\" (click)=\"cardRefresh()\">\n                <a href=\"javascript:\">\n                  <i class=\"feather icon-refresh-cw\"></i>\n                  Reload\n                </a>\n              </li>\n              <li class=\"dropdown-item close-card\" (click)=\"cardRemoveAction()\">\n                <a href=\"javascript:\">\n                  <i class=\"feather icon-trash\"></i>\n                  Remove\n                </a>\n              </li>\n            </ul>\n          </div>\n        </div>\n      }\n      <div></div>\n      @if (customHeader) {\n        <ng-content select=\".app-card-header\"></ng-content>\n      }\n      @if (customDate) {\n        <ng-content select=\".app-card-subheader\"></ng-content>\n      }\n    </div>\n  }\n\n  <div [@collapsedCard]=\"collapsedCard\">\n    <div class=\"card-body\" [ngClass]=\"blockClass()\">\n      <ng-content></ng-content>\n    </div>\n  </div>\n  @if (isCardFooter) {\n    <div class=\"card-footer\" [ngClass]=\"footerClass()\">\n      <ng-content select=\".app-card-footer\"></ng-content>\n    </div>\n  }\n  @if (loadCard) {\n    <div class=\"card-loader\">\n      <i class=\"pct-loader1 anim-rotate\"></i>\n    </div>\n  }\n</div>\n","export const Spinkit = {\n  skChasingDots: 'sk-chasing-dots',\n  skCubeGrid: 'sk-cube-grid',\n  skDoubleBounce: 'sk-double-bounce',\n  skRotatingPlane: 'sk-rotationg-plane',\n  skSpinnerPulse: 'sk-spinner-pulse',\n  skThreeBounce: 'sk-three-bounce',\n  skWanderingCubes: 'sk-wandering-cubes',\n  skWave: 'sk-wave',\n  skLine: 'sk-line-material'\n};\n","// Angular Import\nimport { Component, OnDestroy, ViewEncapsulation, inject, input } from '@angular/core';\nimport { Router, NavigationStart, NavigationEnd, NavigationCancel, NavigationError } from '@angular/router';\nimport { DOCUMENT } from '@angular/common';\n\n// project import\nimport { Spinkit } from './spinkits';\n\n@Component({\n  selector: 'app-spinner',\n  templateUrl: './spinner.component.html',\n  styleUrls: ['./spinner.component.scss', './spinkit-css/sk-line-material.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class SpinnerComponent implements OnDestroy {\n  private router = inject(Router);\n  private document = inject<Document>(DOCUMENT);\n\n  // public props\n  isSpinnerVisible = true;\n  Spinkit = Spinkit;\n  backgroundColor = input('#2689E2');\n  spinner = input(Spinkit.skLine);\n\n  // constructor\n  constructor() {\n    this.router.events.subscribe(\n      (event) => {\n        if (event instanceof NavigationStart) {\n          this.isSpinnerVisible = true;\n        } else if (event instanceof NavigationEnd || event instanceof NavigationCancel || event instanceof NavigationError) {\n          this.isSpinnerVisible = false;\n        }\n      },\n      () => {\n        this.isSpinnerVisible = false;\n      }\n    );\n  }\n\n  // life cycle event\n  ngOnDestroy(): void {\n    this.isSpinnerVisible = false;\n  }\n}\n","@if (isSpinnerVisible) {\n  <div id=\"http-loader\">\n    <div class=\"loader-bg\">\n      <!-- material-line -->\n      @if (spinner() === Spinkit.skLine) {\n        <div class=\"sk-line-material\" [class.colored]=\"!backgroundColor()\">\n          <div class=\"sk-child sk-bounce1\" [style.background-color]=\"backgroundColor()\"></div>\n        </div>\n      }\n    </div>\n  </div>\n}\n","import { Component, EventEmitter, Output } from '@angular/core';\n\n@Component({\n  selector: 'app-session-expired-modal',\n  imports: [],\n  templateUrl: './session-expired-modal.component.html',\n  styleUrl: './session-expired-modal.component.scss',\n})\nexport class SessionExpiredModalComponent {\n  @Output() confirmed = new EventEmitter<void>();\n\n  confirm() {\n    this.confirmed.emit();\n  }\n\n}\n","<div class=\"confirmation-modal-aver\">\n  <div class=\"modal-content-aver\">\n    <h4 style=\"font-size: 16px; margin-bottom: 10px;\">Informations</h4>\n    <p style=\"margin: 0; font-size: 12px;\">Session expirée, veuillez vous reconnecter.</p>\n    <div class=\"modal-actions-aver\">\n      <button class=\"btn-confirm\" style=\"font-size: 12px;\" (click)=\"confirm()\">OK</button>\n    </div>\n  </div>\n</div>\n","// Angular Import\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\n// project import\nimport { BreadcrumbComponent } from './components/breadcrumb/breadcrumb.component';\nimport { CardComponent } from './components/card/card.component';\n\n// third party\nimport { NgScrollbarModule } from 'ngx-scrollbar';\nimport 'hammerjs';\nimport 'mousetrap';\n\n// bootstrap import\nimport { NgbDropdownModule, NgbNavModule, NgbModule } from '@ng-bootstrap/ng-bootstrap';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    CardComponent,\n    BreadcrumbComponent,\n    NgbDropdownModule,\n    NgbNavModule,\n    NgbModule,\n    NgScrollbarModule\n  ],\n  exports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    CardComponent,\n    BreadcrumbComponent,\n    NgbModule,\n    NgbDropdownModule,\n    NgbNavModule,\n    NgScrollbarModule\n  ],\n  declarations: []\n})\nexport class SharedModule {}\n","import { CommonModule } from '@angular/common';\nimport { ChangeDetectorRef, Component, ElementRef, Inject, Input, ViewChild } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\n\n@Component({\n  selector: 'app-unlock-dialog',\n  standalone: true,\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n  ],\n  templateUrl: './unlock-dialog.component.html',\n  styleUrls: ['./unlock-dialog.component.scss']\n})\nexport class UnlockDialogComponent {\n  @Input() isDialogOpen: boolean = false;\n  @ViewChild('pin0') firstInput!: ElementRef;\n  personalCode = '';\n  isCodeWrong = false;\n  pin: string[] = [\"\", \"\", \"\", \"\"];\n\n\n  constructor(\n    public dialogRef: MatDialogRef<UnlockDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: any,\n    private cdRef: ChangeDetectorRef\n  ) {}\n\n  goToNext(currentInput: HTMLInputElement, nextInput?: HTMLInputElement) {\n    if (currentInput.value && nextInput) {\n      nextInput.focus();\n    }\n  }\n\n  handleBackspace(event: KeyboardEvent, index: number, currentInput: any, previousInput: any) {\n    if (event.key === \"Backspace\") {\n        if (this.pin[index]) {\n            this.pin[index] = \"\";\n            event.preventDefault();\n        } else if (previousInput && index > 0) {\n            previousInput.focus();\n        }\n    }\n}\n\n\n\n  verifyCode() {\n    const enteredCode = this.pin.join(\"\");\n    if (enteredCode !== this.data.userPersonalCode) {\n        this.isCodeWrong = true;\n        setTimeout(() => {\n            this.isCodeWrong = false;\n            this.pin = [\"\", \"\", \"\", \"\"];\n            this.cdRef.detectChanges();\n            setTimeout(() => {\n                if (this.firstInput) {\n                    this.firstInput.nativeElement.focus(); \n                }\n            }, 50);\n        }, 500);\n    } else {\n        console.log(\"✅ Code correct, fermeture du pop-up...\");\n        this.dialogRef.close(enteredCode);\n    }\n}\n\n\n\n\n\n\n  ngOnDestroy() {\n    console.log(\"🛑 Le pop-up a été fermé !\");\n  }\n}\n","<div class=\"popup\">\n  <h2>Session Verrouillée 🔒</h2>\n  <p>Veuillez entrer votre Code PIN pour continuer.</p>\n  \n  <div class=\"pin-container\" [class.shake]=\"isCodeWrong\">\n    <input type=\"password\" maxlength=\"1\" [(ngModel)]=\"pin[0]\" #pin0 id=\"0\"\n           (input)=\"goToNext(pin0, pin1)\" \n           (keydown)=\"handleBackspace($event, 0, pin0, pin1)\" />\n\n    <input type=\"password\" maxlength=\"1\" [(ngModel)]=\"pin[1]\" #pin1 id=\"1\"\n           (input)=\"goToNext(pin1, pin2)\" \n           (keydown)=\"handleBackspace($event, 1, pin1, pin0)\" />\n\n    <input type=\"password\" maxlength=\"1\" [(ngModel)]=\"pin[2]\" #pin2 id=\"2\"\n           (input)=\"goToNext(pin2, pin3)\" \n           (keydown)=\"handleBackspace($event, 2, pin2, pin1)\" />\n\n    <input type=\"password\" maxlength=\"1\" [(ngModel)]=\"pin[3]\" #pin3 id=\"3\"\n           (input)=\"verifyCode()\" \n           (keydown)=\"handleBackspace($event, 3, pin3, pin2)\" />\n</div>\n  <button (click)=\"verifyCode()\">Déverrouiller</button>\n</div>\n","import packageInfo from '../../package.json';\n\n\nexport const environment = {\n  appVersion: packageInfo.version,\n  production: false,\n  apiUrl: 'http://192.168.1.8:4200',\n  apiBaseUrl: 'http://192.168.1.8:8080/api/auth',\n  imgUrl: \"http://192.168.1.8:8080\",\n  wsEndpoint: 'http://192.168.1.8:8080/ws'\n  \n};\n","import { enableProdMode, importProvidersFrom } from '@angular/core';\n\nimport { environment } from './environments/environment';\nimport { BrowserModule, bootstrapApplication } from '@angular/platform-browser';\nimport { AppRoutingModule } from './app/app-routing.module';\nimport { provideAnimations } from '@angular/platform-browser/animations';\nimport { AppComponent } from './app/app.component';\nimport { provideHttpClient } from '@angular/common/http';\nimport { provideAnimationsAsync } from '@angular/platform-browser/animations/async';\n\n// Supprimer console.log en production\nif (environment.production) {\n  enableProdMode();\n  \n  // Redéfinir console.log pour qu'il ne fasse rien en production\n  console.log = () => {};\n  console.debug = () => {};\n  console.info = () => {};\n  console.warn = () => {};\n}\n\nbootstrapApplication(AppComponent, {\n  providers: [\n    importProvidersFrom(BrowserModule, AppRoutingModule),\n    provideAnimations(),\n    provideHttpClient(),\n    provideAnimationsAsync()\n  ]\n}).catch((err) => console.error(err));\n"],"names":["CustomNumberPipe","transform","value","toString","replace","pure","HttpHeaders","catchError","switchMap","throwError","environment","ModuleService","constructor","http","usersService","apiUrl","apiBaseUrl","getModulesEntreprise","getValidAccessToken","pipe","token","headers","url","get","err","console","error","Error","activerModule","demande","post","responseType","handlePaymentError","errorMessage","errorResponse","JSON","parse","message","e","status","i0","ɵɵinject","i1","HttpClient","i2","UsersService","factory","ɵfac","providedIn","map","of","AuthService","ACCESS_TOKEN_KEY","REFRESH_TOKEN_KEY","saveTokens","accessToken","refreshToken","localStorage","setItem","saveAccessToken","getAccessToken","subscribe","next","log","getToken","getItem","fetchAccessToken","getRefreshToken","removeTokens","removeItem","isAuthenticated","isLoggedIn","getCurrentUserToken","GlobalNotificationService","getAllForCurrentUser","markAsRead","notificationId","put","BehaviorSubject","LockService","lockAudio","Audio","unlockAudio","isLockedSubject","isLocked$","asObservable","volume","registerApp","app","appComponent","isLocked","lockNow","lockScreen","unlock","updateLockState","playSound","type","audio","currentTime","play","catch","warn","Subject","ModalService","sessionExpiredModalSubject","sessionExpiredModal$","triggerSessionExpiredModal","StockService","ajouterStock","stockPayload","patch","retirerStock","getAllstockhistorique","produitId","set","getAllStocks","getAllhistorique","tap","router","modalService","sessionExpiredHandled","registerUser","user","connexionUser","credentials","withCredentials","logoutUser","window","dispatchEvent","Event","navigate","getUserInfo","Authorization","stringify","trim","decodedToken","decodeJwt","isTokenExpired","getNewTokenFromApi","response","newToken","atob","split","expirationDate","Date","exp","getTime","getUserBoutiqueId","boutiques","length","boutiqueId","id","extractUserIdFromToken","sub","parseInt","addUserToEntreprise","userData","updateBoutique","updates","updateUser","formData","deleteUserFromEntreprise","userId","delete","getAllUsersOfEntreprise","entrepriseId","countUsersInEntreprise","getUserById","assignPermissionsToUser","permissions","addBoutique","boutique","getBoutiquesByEntreprise","suspendUser","suspend","params","forgotPassword","email","resetPassword","newPassword","validateOtp","code","isAdminOrManager","includes","roleType","getCurrentUser","userString","verifyCode","pin","allowedRoles","currentUser","hasRequiredRole","personalCode","getAssignedBoutiques","Router","i3","Client","SockJS","Observable","WebSocketService","authService","client","webSocketFactory","wsEndpoint","reconnectDelay","connect","observer","jwt","connectHeaders","onConnect","frame","complete","onStompError","activate","disconnect","deactivate","topic","cb","body","send","destination","payload","publish","DefaultUrlSerializer","GlobalUrlEncoderSerializer","defaultSerializer","ENCODED_PREFIX","TARGET_PATHS","baseUrl","fragment","path","queryParams","decodedPath","segment","index","segments","decodeSegmentIfNeeded","join","decodedQuery","param","key","decodeSimple","undefined","fullUrl","serialize","tree","rawUrl","encodedPath","encodeSegmentIfNeeded","encodedQuery","encodeSimple","startsWith","encodedContent","substring","decodeURIComponent","test","btoa","encodeURIComponent","ModuleAccessGuard","moduleService","snackBar","canActivate","route","codeModule","data","parseUrl","modules","module","find","m","actif","open","duration","MatSnackBar","inject","authGuard","state","guestGuard","roleGuard","role","hasAccess","Validators","FormsModule","ReactiveFormsModule","distinctUntilChanged","Subscription","CommonModule","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ctx_r0","successMessage","ɵɵelement","ɵɵtextInterpolate","module_r2","nom","ɵɵpipeBind1","prix","ɵɵtemplate","PaymentFormComponent_div_5_div_13_Template","planDetails","name","total","ɵɵproperty","pricePerModule","subtotal","taxes","module_r4","c_r5","ɵɵelementContainerStart","PaymentFormComponent_form_6_img_15_Template","PaymentFormComponent_form_6_img_16_Template","PaymentFormComponent_form_6_img_17_Template","PaymentFormComponent_form_6_img_18_Template","PaymentFormComponent_form_6_img_19_Template","PaymentFormComponent_form_6_div_36_Template","ɵɵlistener","PaymentFormComponent_form_6_Template_input_input_44_listener","$event","ɵɵrestoreView","_r3","ɵɵnextContext","ɵɵresetView","formatCardNumber","PaymentFormComponent_form_6_div_47_Template","PaymentFormComponent_form_6_Template_input_input_54_listener","formatExpDate","PaymentFormComponent_form_6_div_55_Template","PaymentFormComponent_form_6_Template_input_input_62_listener","onCvcInput","PaymentFormComponent_form_6_Template_input_focus_62_listener","flipCard","PaymentFormComponent_form_6_Template_input_blur_62_listener","PaymentFormComponent_form_6_Template_input_input_70_listener","formatCardHolderName","PaymentFormComponent_form_6_option_85_Template","PaymentFormComponent_form_6_Template_button_click_104_listener","onSubmit","PaymentFormComponent_form_6_span_105_Template","PaymentFormComponent_form_6_span_106_Template","paymentForm","cardType","toUpperCase","cardNumberDisplay","cardExpiryDisplay","cardNameDisplay","cardCvcDisplay","tmp_15_0","invalid","touched","tmp_16_0","countries","isSubmitting","PaymentFormComponent","fb","cdr","planType","isLoading","subscription","allSucceeded","paymentError","activationCounter","totalModules","cardFlipped","cardPreview","ngOnInit","group","nomModule","required","dureeMois","numeroCarte","pattern","dateExpiration","cvc","nomCompletProprietaire","emailProprietaireCarte","pays","adresse","ville","acceptTerms","requiredTrue","paramMap","prev","curr","snapshot","resetPlanDetails","loadPlanDetails","reset","detectChanges","unsubscribe","paidModules","filter","payant","totalMensuel","reduce","sum","patchValue","event","input","target","setValue","emitEvent","flip","modulesToActivate","mod","setTimeout","forEach","moduleName","checkIfAllDone","handleError","ErrorEvent","getUserFriendlyError","ngOnDestroy","formattedValue","detectCardType","cardNumber","ɵɵdirectiveInject","FormBuilder","ActivatedRoute","ChangeDetectorRef","selectors","decls","vars","consts","template","PaymentFormComponent_Template","rf","ctx","PaymentFormComponent_div_1_Template","PaymentFormComponent_div_2_Template","PaymentFormComponent_div_3_Template","PaymentFormComponent_div_5_Template","PaymentFormComponent_form_6_Template","ɵNgNoValidate","NgSelectOption","ɵNgSelectMultipleOption","DefaultValueAccessor","CheckboxControlValueAccessor","SelectControlValueAccessor","NgControlStatus","NgControlStatusGroup","MaxLengthValidator","i4","NgClass","NgForOf","NgIf","NgSwitch","NgSwitchCase","NgSwitchDefault","FormGroupDirective","FormControlName","styles","RouterLink","module_r1","ɵɵclassProp","module_r3","module_r5","module_r6","module_r7","module_r8","PricingCardComponent","freeModules","trialModules","allModules","modulePrice","allPaidModules","priceTchakedaPlus","pricePro","prixAnnuelSansRemise","loadModules","loadModuleDetails","button","wave","querySelector","rect","getBoundingClientRect","x","clientX","left","y","clientY","top","style","animation","tempsRestantEssai","getStatusIcon","active","getStatusClass","PricingCardComponent_Template","PricingCardComponent_tr_13_Template","PricingCardComponent_tr_14_Template","PricingCardComponent_tr_27_Template","PricingCardComponent_tr_28_Template","PricingCardComponent_tr_41_Template","PricingCardComponent_tr_58_Template","PricingCardComponent_tr_59_Template","PricingCardComponent_tr_72_Template","ɵɵpureFunction0","_c0","_c1","RouterModule","UrlSerializer","AdminComponent","GuestComponent","routes","component","children","loadComponent","then","LoginPageComponent","InscriptionComponent","ConnexionPageComponent","PosCaisseHeaderComponent","hideHeader","hideSidebar","PosCaisseComponent","PosJournalCaisseComponent","PosAccueilComponent","PosVenteComponent","PosCommandeComponent","PosPaiementComponent","HomeComponent","redirectTo","pathMatch","loadChildren","UiBasicModule","ProduitsComponent","AddProduitComponent","ListProduitComponent","DetailStockComponent","EntrerComponent","VenteComponent","StocksComponent","AddStockAjustementComponent","ClientsComponent","FournisseursComponent","FactureComponent","CompteComponent","ProfilComponent","PermissionComponent","BoutiqueComponent","DetailBoutiqueComponent","ComptabiliteComponent","AddClientsComponent","AddEntrepriseClientComponent","DetailEditClientComponent","DetailEditEntrepriseClientComponent","DetailEditEntrepriseComponent","FactureProformaComponent","FactureReelComponent","AddfactureProformaComponent","DetailFactureProformaComponent","AddFournisseurComponent","DetailEditFournisseurComponent","FactureProformaApercuComponent","DetailFactureProformaApercuComponent","FactureReelDetailsComponent","AccountSettingsComponent","StyleFactureComponent","AppRoutingModule","provide","useClass","imports","forRoot","exports","NavigationEnd","SpinnerComponent","UnlockDialogComponent","SessionExpiredModalComponent","AppComponent_app_session_expired_modal_2_Template_app_session_expired_modal_confirmed_0_listener","_r1","ctx_r1","handleSessionConfirm","AppComponent_div_5_span_4_Template","AppComponent_div_5_span_5_Template","AppComponent_div_5_Template_button_click_6_listener","onLogout","isAdmin","AppComponent","dialog","cdRef","lockService","isDialogOpen","showSessionModal","showBlockedPopup","userEmail","addEventListener","clearTimeout","inactivityTimer","closeAll","resetTimer","dialogRef","disableClose","userPersonalCode","afterOpened","document","focus","afterClosed","codeEntered","checkLockStatus","wasLocked","checkAccountStatus","events","evt","scrollTo","now","createdAt","adminCreatedAt","parsedCreatedAt","diffInHours","adminActivated","MatDialog","hostBindings","AppComponent_HostBindings","AppComponent_mousemove_HostBindingHandler","ɵɵresolveWindow","AppComponent_keydown_HostBindingHandler","AppComponent_click_HostBindingHandler","AppComponent_app_session_expired_modal_2_Template","AppComponent_div_3_Template","AppComponent_app_unlock_dialog_4_Template","AppComponent_div_5_Template","AppComponent_div_6_Template","i5","RouterOutlet","i6","Location","LocationStrategy","ConfigurationComponent","NavBarComponent","NavigationComponent","BreadcrumbComponent","location","locationStrategy","windowWidth","innerWidth","navCollapsedMob","onResize","classList","add","contains","remove","navMobClick","handleKeyDown","closeMenu","AdminComponent_HostBindings","AdminComponent_resize_HostBindingHandler","AdminComponent_Template_app_navigation_NavCollapsedMob_0_listener","AdminComponent_Template_app_nav_bar_NavCollapse_1_listener","navCollapsed","AdminComponent_Template_app_nav_bar_NavCollapsedMob_1_listener","AdminComponent_Template_div_click_10_listener","AdminComponent_Template_div_keydown_10_listener","ɵɵpureFunction2","ConfigurationComponent_Template","output","SharedModule","NavLeftComponent","NavRightComponent","NavBarComponent_ng_template_13_Template_a_click_1_listener","_r2","ctx_r2","navCollapse","NavBarComponent_ng_template_13_Template_a_click_3_listener","NavCollapsedMob","emit","NavBarComponent_ng_template_13_Template_a_click_8_listener","toggleMobOption","ɵɵpureFunction1","menuClass","ɵɵstyleProp","collapseStyle","NavCollapse","navCollapseMob","outputs","NavBarComponent_Template","NavBarComponent_Template_a_click_1_listener","NavBarComponent_Template_a_click_3_listener","NavBarComponent_Template_a_click_8_listener","NavBarComponent_ng_template_13_Template","ɵɵtemplateRefExtractor","NavLeftComponent_Template","dependencies","animate","transition","trigger","take","NgbDropdownConfig","takeUntil","unreadCount","NavRightComponent_li_12_div_12_Template_button_click_1_listener","_r4","notif_r3","$implicit","markNotificationAsRead","NavRightComponent_li_12_Template_li_click_0_listener","NavRightComponent_li_12_div_12_Template","read","senderName","getRelativeTime","history_r5","description","NavRightComponent_li_14_p_16_Template","nomComplet","relativeTime","action","quantite","NavRightComponent_li_42_Template_a_click_1_listener","_r6","goToCompte","notificationsList","notif","userService","stockService","webSocketService","globalNotificationService","stockHistory","userName","nomEntreprise","photo","photoUrl","boundUpdatePhotoListener","updatePhotoListener","bind","notificationsSubject","notifications$","destroy$","notificationSubscription","canAccessUserManagement","visibleUserList","chatMessage","newPhoto","base64ToObjectUrl","updatePhotoFromLocalStorage","setupLockScreenListener","loadStockHistory","loadInitialNotifications","initializeWebSocket","checkUserAccess","notification","stopPropagation","flashNotificationBadge","notifications","savedPhoto","locked","item","sort","a","b","badge","removeEventListener","onChatToggle","friendID","friendId","date","eventTime","timeDiff","seconds","Math","floor","minutes","hours","days","base64","byteString","mimeString","ab","ArrayBuffer","ia","Uint8Array","i","charCodeAt","blob","Blob","URL","createObjectURL","lockManually","features","ɵɵProvidersFeature","NavRightComponent_Template","NavRightComponent_span_5_Template","NavRightComponent_li_12_Template","NavRightComponent_li_13_Template","NavRightComponent_li_14_Template","NavRightComponent_Template_a_click_18_listener","NavRightComponent_li_42_Template","NavRightComponent_Template_a_click_44_listener","ɵɵsanitizeUrl","i7","i8","NgbDropdown","NgbDropdownToggle","NgbDropdownMenu","NavItemComponent","ɵɵclassMap","icon","item_r3","NavCollapseComponent_li_0_For_7_Conditional_0_Template","NavCollapseComponent_li_0_For_7_Conditional_1_Template","ɵɵconditional","NavCollapseComponent_li_0_Template_a_click_1_listener","NavCollapseComponent_li_0_Conditional_2_Template","ɵɵrepeaterCreate","NavCollapseComponent_li_0_For_7_Template","ɵɵrepeaterTrackByIdentity","title","ɵɵrepeater","NavCollapseComponent","canShow","entrepriseModules","evaluateVisibility","hasVisibleItem","hasPermission","codePermission","hasModule","some","child","parent","parentElement","sections","querySelectorAll","firstParent","preParent","toggle","inputs","NavCollapseComponent_Template","NavCollapseComponent_li_0_Template","RouterLinkActive","NavigationItems","NavGroupComponent","item_r1","NavContentComponent_For_4_Conditional_0_Template","NavContentComponent_For_4_Conditional_1_Template","NavContentComponent_For_4_Conditional_2_Template","NavContentComponent","currentApplicationVersion","appVersion","NavMobCollapse","navigations","navMob","fireOutClick","current_url","baseHref","getBaseHref","link","ele","up_parent","last_parent","NavContentComponent_Template","NavContentComponent_Template_ng_scrollbar_clickOutside_0_listener","NavContentComponent_Template_ul_clickOutside_2_listener","NavContentComponent_For_4_Template","NgScrollbar","NavGroupComponent_For_1_Conditional_0_Template","NavGroupComponent_For_1_Conditional_1_Template","NavGroupComponent_For_1_Conditional_2_Template","NavGroupComponent_Template","NavGroupComponent_For_1_Template","tmp_0_0","NavItemComponent_Conditional_0_li_0_Template_a_click_1_listener","closeOtherMenu","NavItemComponent_Conditional_0_li_0_Conditional_2_Template","NavItemComponent_Conditional_0_li_0_Conditional_3_Template","NavItemComponent_Conditional_0_li_0_Conditional_4_Template","classes","NavItemComponent_Conditional_0_li_0_Template","NavItemComponent_Conditional_1_Conditional_2_Template","NavItemComponent_Conditional_1_Conditional_3_Template","NavItemComponent_Conditional_1_Conditional_4_Template","NavItemComponent_Template","NavItemComponent_Conditional_0_Template","NavItemComponent_Conditional_1_Template","external","EventEmitter","modulesActifs","chargerModulesActifs","navMobCollapse","estModuleVisible","NavigationComponent_Template","NavigationComponent_Template_app_nav_content_NavMobCollapse_1_listener","GuestComponent_Template","Title","titleService","breadcrumbList","setBreadcrumb","activeLink","filterNavigation","navigationList","setTitle","navItems","navItem","breadcrumbs","unshift","BreadcrumbComponent_Template","AUTO_STYLE","cardTitle","CardDate","CardComponent_Conditional_2_Conditional_3_Template_li_click_5_listener","toAnimate_r3","ɵɵreference","fullCardToggle","CardComponent_Conditional_2_Conditional_3_Template_li_click_10_listener","collapsedCardToggle","CardComponent_Conditional_2_Conditional_3_Template_li_click_17_listener","cardRefresh","CardComponent_Conditional_2_Conditional_3_Template_li_click_21_listener","cardRemoveAction","fullIcon","cardClass","collapsedIcon","collapsedCard","ɵɵprojection","CardComponent_Conditional_2_Conditional_1_Template","CardComponent_Conditional_2_Conditional_2_Template","CardComponent_Conditional_2_Conditional_3_Template","CardComponent_Conditional_2_Conditional_5_Template","CardComponent_Conditional_2_Conditional_6_Template","headerClass","customHeader","customDate","options","footerClass","CardComponent","blockClass","config","placement","hidHeader","isAnimating","isCardFooter","loadCard","cardRemove","element","overflow","removeAttribute","ngContentSelectors","CardComponent_Template","CardComponent_Conditional_2_Template","CardComponent_Conditional_6_Template","CardComponent_Conditional_7_Template","height","opacity","display","Spinkit","skChasingDots","skCubeGrid","skDoubleBounce","skRotatingPlane","skSpinnerPulse","skThreeBounce","skWanderingCubes","skWave","skLine","NavigationStart","NavigationCancel","NavigationError","DOCUMENT","backgroundColor","SpinnerComponent_Conditional_0_Conditional_2_Template","spinner","isSpinnerVisible","SpinnerComponent_Template","SpinnerComponent_Conditional_0_Template","confirmed","confirm","SessionExpiredModalComponent_Template","SessionExpiredModalComponent_Template_button_click_7_listener","NgScrollbarModule","NgbDropdownModule","NgbNavModule","NgbModule","MAT_DIALOG_DATA","isCodeWrong","goToNext","currentInput","nextInput","handleBackspace","previousInput","preventDefault","enteredCode","firstInput","nativeElement","close","MatDialogRef","viewQuery","UnlockDialogComponent_Query","ɵɵtwoWayListener","UnlockDialogComponent_Template_input_ngModelChange_6_listener","ɵɵtwoWayBindingSet","UnlockDialogComponent_Template_input_input_6_listener","pin0_r2","pin1_r3","UnlockDialogComponent_Template_input_keydown_6_listener","UnlockDialogComponent_Template_input_ngModelChange_8_listener","UnlockDialogComponent_Template_input_input_8_listener","pin2_r4","UnlockDialogComponent_Template_input_keydown_8_listener","UnlockDialogComponent_Template_input_ngModelChange_10_listener","UnlockDialogComponent_Template_input_input_10_listener","pin3_r5","UnlockDialogComponent_Template_input_keydown_10_listener","UnlockDialogComponent_Template_input_ngModelChange_12_listener","UnlockDialogComponent_Template_input_input_12_listener","UnlockDialogComponent_Template_input_keydown_12_listener","UnlockDialogComponent_Template_button_click_14_listener","ɵɵtwoWayProperty","NgModel","packageInfo","version","production","imgUrl","enableProdMode","importProvidersFrom","BrowserModule","bootstrapApplication","provideAnimations","provideHttpClient","provideAnimationsAsync","debug","info","providers"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}