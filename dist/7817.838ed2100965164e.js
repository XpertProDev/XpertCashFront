"use strict";(self.webpackChunkskeleton=self.webpackChunkskeleton||[]).push([[7817],{87817:(x,O,u)=>{u.r(O),u.d(O,{PosJournalCaisseComponent:()=>S});var l=u(60177),_=u(89417),e=u(54438),d=u(49192),m=u(88026),h=u(37788),f=u(74864),P=u(52719);function M(s,p){if(1&s&&(e.j41(0,"option",42),e.EFF(1),e.k0s()),2&s){const n=p.$implicit;e.Y8G("ngValue",n.id)("disabled",!n.actif),e.R7$(),e.SpI(" ",n.nomBoutique," ")}}function b(s,p){1&s&&e.nrm(0,"i",43)}function c(s,p){1&s&&e.nrm(0,"i",44)}function r(s,p){if(1&s){const n=e.RV6();e.j41(0,"span",45),e.EFF(1),e.j41(2,"i",46),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.statusFilter="")}),e.k0s()()}if(2&s){const n=e.XpG();e.R7$(),e.SpI(" Statut: ","OUVERTE"===n.statusFilter?"Ouvertes":"Ferm\xe9es"," ")}}function t(s,p){if(1&s){const n=e.RV6();e.j41(0,"span",45),e.EFF(1),e.j41(2,"i",46),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.searchTerm="")}),e.k0s()()}if(2&s){const n=e.XpG();e.R7$(),e.SpI(' Recherche: "',n.searchTerm,'" ')}}function a(s,p){1&s&&(e.j41(0,"div",47)(1,"div",48),e.nrm(2,"div",49),e.j41(3,"p"),e.EFF(4,"Chargement de l'historique..."),e.k0s()()())}function v(s,p){if(1&s){const n=e.RV6();e.j41(0,"div",47)(1,"div",50),e.nrm(2,"i",51),e.j41(3,"p"),e.EFF(4),e.k0s(),e.j41(5,"button",52),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.loadCaisses())}),e.EFF(6,"R\xe9essayer"),e.k0s()()()}if(2&s){const n=e.XpG();e.R7$(4),e.JRh(n.errorMessage)}}function E(s,p){if(1&s){const n=e.RV6();e.j41(0,"div",47)(1,"div",53),e.nrm(2,"i",54),e.j41(3,"p"),e.EFF(4,"Aucune op\xe9ration de caisse trouv\xe9e"),e.k0s(),e.j41(5,"button",52),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.loadCaisses())}),e.EFF(6,"Actualiser"),e.k0s()()()}}function F(s,p){if(1&s&&(e.j41(0,"div",57)(1,"div",58)(2,"span",59),e.EFF(3),e.k0s()(),e.j41(4,"div",60)(5,"div",61),e.nrm(6,"i",62),e.j41(7,"div")(8,"label"),e.EFF(9,"Ouverture"),e.k0s(),e.j41(10,"p"),e.EFF(11),e.k0s()()(),e.j41(12,"div",61),e.nrm(13,"i",63),e.j41(14,"div")(15,"label"),e.EFF(16,"Fermeture"),e.k0s(),e.j41(17,"p"),e.EFF(18),e.k0s()()()(),e.j41(19,"div",64)(20,"div",65)(21,"label"),e.EFF(22,"Initial"),e.k0s(),e.j41(23,"p"),e.EFF(24),e.nI1(25,"currency"),e.k0s()(),e.j41(26,"div",65)(27,"label"),e.EFF(28,"Final"),e.k0s(),e.j41(29,"p"),e.EFF(30),e.nI1(31,"currency"),e.k0s()()()()),2&s){const n=p.$implicit,i=e.XpG(2);e.R7$(2),e.AVh("open","OUVERTE"===n.statut)("closed","FERMEE"===n.statut),e.R7$(),e.SpI(" ","OUVERTE"===n.statut?"Ouverte":"Ferm\xe9e"," "),e.R7$(8),e.JRh(i.formatDate(n.dateOuverture)),e.R7$(7),e.JRh(n.dateFermeture?i.formatDate(n.dateFermeture):"En cours"),e.R7$(6),e.JRh(e.ii3(25,9,n.montantInitial,"XOF ","symbol","1.0-0")),e.R7$(6),e.JRh(e.ii3(31,14,n.montantCourant,"XOF ","symbol","1.0-0"))}}function k(s,p){if(1&s&&(e.j41(0,"div",55),e.DNE(1,F,32,19,"div",56),e.k0s()),2&s){const n=e.XpG();e.R7$(),e.Y8G("ngForOf",n.filteredCaisses)}}function $(s,p){1&s&&e.nrm(0,"i",71)}function I(s,p){1&s&&e.nrm(0,"i",72)}function T(s,p){1&s&&e.nrm(0,"i",71)}function j(s,p){1&s&&e.nrm(0,"i",72)}function w(s,p){1&s&&e.nrm(0,"i",71)}function R(s,p){1&s&&e.nrm(0,"i",72)}function B(s,p){1&s&&e.nrm(0,"i",71)}function y(s,p){1&s&&e.nrm(0,"i",72)}function A(s,p){if(1&s&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td")(6,"span",59),e.EFF(7),e.k0s()(),e.j41(8,"td"),e.EFF(9),e.nI1(10,"currency"),e.k0s(),e.j41(11,"td"),e.EFF(12),e.nI1(13,"currency"),e.k0s()()),2&s){const n=p.$implicit,i=e.XpG(2);e.R7$(2),e.JRh(i.formatDate(n.dateOuverture)),e.R7$(2),e.JRh(n.dateFermeture?i.formatDate(n.dateFermeture):"-"),e.R7$(2),e.AVh("open","OUVERTE"===n.statut)("closed","FERMEE"===n.statut),e.R7$(),e.SpI(" ","OUVERTE"===n.statut?"Ouverte":"Ferm\xe9e"," "),e.R7$(2),e.JRh(e.ii3(10,9,n.montantInitial,"XOF ","symbol","1.0-0")),e.R7$(3),e.JRh(e.ii3(13,14,n.montantCourant,"XOF ","symbol","1.0-0"))}}function D(s,p){if(1&s){const n=e.RV6();e.j41(0,"div",66)(1,"table")(2,"thead")(3,"tr")(4,"th",52),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.sortCaisses("dateOuverture"))}),e.j41(5,"div",67),e.EFF(6," Date Ouverture "),e.DNE(7,$,1,0,"i",68)(8,I,1,0,"i",69),e.k0s()(),e.j41(9,"th",52),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.sortCaisses("dateFermeture"))}),e.j41(10,"div",67),e.EFF(11," Date Fermeture "),e.DNE(12,T,1,0,"i",68)(13,j,1,0,"i",69),e.k0s()(),e.j41(14,"th"),e.EFF(15,"Statut"),e.k0s(),e.j41(16,"th",52),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.sortCaisses("montantInitial"))}),e.j41(17,"div",67),e.EFF(18," Montant Initial "),e.DNE(19,w,1,0,"i",68)(20,R,1,0,"i",69),e.k0s()(),e.j41(21,"th",52),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.sortCaisses("montantCourant"))}),e.j41(22,"div",67),e.EFF(23," Montant Final "),e.DNE(24,B,1,0,"i",68)(25,y,1,0,"i",69),e.k0s()()()(),e.j41(26,"tbody"),e.DNE(27,A,14,19,"tr",70),e.k0s()()()}if(2&s){const n=e.XpG();e.R7$(7),e.Y8G("ngIf","dateOuverture"===n.sortField&&"asc"===n.sortDirection),e.R7$(),e.Y8G("ngIf","dateOuverture"===n.sortField&&"desc"===n.sortDirection),e.R7$(4),e.Y8G("ngIf","dateFermeture"===n.sortField&&"asc"===n.sortDirection),e.R7$(),e.Y8G("ngIf","dateFermeture"===n.sortField&&"desc"===n.sortDirection),e.R7$(6),e.Y8G("ngIf","montantInitial"===n.sortField&&"asc"===n.sortDirection),e.R7$(),e.Y8G("ngIf","montantInitial"===n.sortField&&"desc"===n.sortDirection),e.R7$(4),e.Y8G("ngIf","montantCourant"===n.sortField&&"asc"===n.sortDirection),e.R7$(),e.Y8G("ngIf","montantCourant"===n.sortField&&"desc"===n.sortDirection),e.R7$(2),e.Y8G("ngForOf",n.filteredCaisses)}}let S=(()=>{class s{constructor(n,i,o,C,g,L){this.route=n,this.router=i,this.usersService=o,this.boutiqueState=C,this.posCaisseService=g,this.boutiqueService=L,this.caisses=[],this.isLoading=!0,this.errorMessage=null,this.currentBoutiqueId=null,this.sortField="dateOuverture",this.sortDirection="desc",this.searchTerm="",this.statusFilter="",this.viewMode="card",this.selectedBoutiqueIdForList=null,this.isLoadingCaisses=!1,this.boutiques=[]}ngOnInit(){this.loadBoutiques(),this.boutiqueState.selectedBoutique$.subscribe(n=>{this.currentBoutiqueId=n,this.loadCaisses()})}loadCaisses(){this.isLoading=!0,this.errorMessage=null;const n=this.usersService.getCurrentUser();if(!n||!n.id)return this.errorMessage="Utilisateur non identifi\xe9",void(this.isLoading=!1);this.posCaisseService.getHistoriqueCaissesByVendeur(n.id).subscribe({next:i=>{this.caisses=i.filter(o=>o.boutiqueId==Number(this.currentBoutiqueId)),this.sortCaisses(),this.isLoading=!1},error:i=>{this.isLoading=!1,this.errorMessage=i.message||"Erreur lors du chargement des caisses"}})}loadBoutiques(){this.boutiques=[],this.usersService.getUserInfo().subscribe({next:n=>{if(n&&"VENDEUR"===n.roleType){this.boutiques=n.boutiques||[];const i=this.boutiqueState.getCurrentValue();this.selectedBoutiqueIdForList=i??(this.boutiques.length>0?this.boutiques[0].id:null)}else this.boutiqueService.getBoutiquesByEntreprise().subscribe({next:i=>{this.boutiques=i||[];const o=this.boutiqueState.getCurrentValue();this.selectedBoutiqueIdForList=o??(this.boutiques.length>0?this.boutiques[0].id:null)}})}})}toggleSortDirection(){this.sortDirection="asc"===this.sortDirection?"desc":"asc",this.sortCaisses()}sortCaisses(n=this.sortField){this.sortField=n,this.caisses.sort((i,o)=>{const C=i[this.sortField],g=o[this.sortField];return null==C?1:null==g?-1:"string"==typeof C&&"string"==typeof g?"asc"===this.sortDirection?C.localeCompare(g):g.localeCompare(C):"number"==typeof C&&"number"==typeof g?"asc"===this.sortDirection?C-g:g-C:C instanceof Date&&g instanceof Date?"asc"===this.sortDirection?C.getTime()-g.getTime():g.getTime()-C.getTime():0})}get filteredCaisses(){let n=this.caisses;if(this.searchTerm){const i=this.searchTerm.toLowerCase();n=n.filter(o=>o.nomVendeur?.toLowerCase().includes(i)||o.statut?.toLowerCase().includes(i)||o.montantCourant?.toString().includes(i)||o.dateOuverture?.toString().includes(i))}return this.statusFilter&&(n=n.filter(i=>i.statut===this.statusFilter)),n}goBack(){this.router.navigate(["/pos-caisse"])}formatDate(n){return("string"==typeof n?new Date(n):n).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}onBoutiqueChange(){null!==this.selectedBoutiqueIdForList&&(this.boutiqueState.setSelectedBoutique(this.selectedBoutiqueIdForList),this.caisses=[],this.errorMessage=null,this.loadDerniereCaisseVendeur(this.selectedBoutiqueIdForList))}loadDerniereCaisseVendeur(n){this.isLoadingCaisses=!0,this.caisses=[],this.errorMessage=null;const i=n;this.posCaisseService.getDerniereCaisseVendeur(n).subscribe({next:o=>{this.selectedBoutiqueIdForList===i?("string"==typeof o?this.errorMessage=o:o&&o.boutiqueId===n?this.caisses=[o]:this.errorMessage="Aucune caisse disponible pour cette boutique",this.isLoadingCaisses=!1):this.isLoadingCaisses=!1},error:o=>{this.selectedBoutiqueIdForList===i?(console.error("Erreur lors du chargement de la derni\xe8re caisse",o),this.isLoadingCaisses=!1,this.errorMessage=o.message||"Erreur lors du chargement de la derni\xe8re caisse"):this.isLoadingCaisses=!1}})}static{this.\u0275fac=function(i){return new(i||s)(e.rXU(d.nX),e.rXU(d.Ix),e.rXU(m.g),e.rXU(h.j),e.rXU(f.U),e.rXU(P.c))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-pos-journal-caisse"]],decls:59,vars:18,consts:[[1,"journal-container"],[1,"header_pos_caisse"],[1,"content_header_pos_caisse_left"],[1,"double"],[1,"icon_retour",3,"click"],[1,"ri-arrow-left-s-line"],[1,"name_pos"],[2,"font-size","16px"],["name","boutique",1,"content_select",3,"ngModelChange","ngModel"],[3,"ngValue","disabled",4,"ngFor","ngForOf"],[1,"content_header_pos_caisse_right"],[1,"o_pager_counter"],[1,""],[1,"o_pager_limit"],["aria-atomic","true",1,"btn-group","d-print-none"],["type","button","aria-label","Pr\xe9c\xe9dent","data-tooltip","Pr\xe9c\xe9dent",1,"o_pager_previous"],["type","button","aria-label","Suivant","data-tooltip","Suivant",1,"o_pager_next"],[1,"ri-arrow-right-s-line"],[1,"barre"],[1,"header-actions"],[1,"search-container"],[1,"ri-search-line"],["type","text","placeholder","Rechercher...",3,"ngModelChange","ngModel"],[1,"filter-select",3,"ngModelChange","ngModel"],["value",""],["value","OUVERTE"],["value","FERMEE"],[1,"view-toggle"],["title","Vue cartes",1,"view-btn",3,"click"],[1,"ri-grid-line"],["title","Vue liste",1,"view-btn",3,"click"],[1,"ri-table-line"],[1,"sort-button",3,"click"],["class","ri-sort-desc",4,"ngIf"],["class","ri-sort-asc",4,"ngIf"],[1,"filters-section"],[1,"filter-tags"],["class","filter-tag",4,"ngIf"],[1,"summary"],["class","state-container",4,"ngIf"],["class","caisse-cards",4,"ngIf"],["class","caisse-table",4,"ngIf"],[3,"ngValue","disabled"],[1,"ri-sort-desc"],[1,"ri-sort-asc"],[1,"filter-tag"],[1,"ri-close-line",3,"click"],[1,"state-container"],[1,"loading-content"],[1,"spinner"],[1,"error-content"],[1,"ri-error-warning-fill"],[3,"click"],[1,"empty-content"],[1,"ri-file-list-3-line"],[1,"caisse-cards"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[1,"card-header"],[1,"status-badge"],[1,"card-body"],[1,"info-row"],[1,"ri-calendar-event-line"],[1,"ri-calendar-check-line"],[1,"card-footer"],[1,"amount"],[1,"caisse-table"],[1,"th-content"],["class","ri-arrow-up-s-line",4,"ngIf"],["class","ri-arrow-down-s-line",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"ri-arrow-up-s-line"],[1,"ri-arrow-down-s-line"]],template:function(i,o){1&i&&(e.j41(0,"div",0)(1,"nav",1)(2,"div",2)(3,"ul")(4,"li")(5,"div",3)(6,"div",4),e.bIt("click",function(){return o.goBack()}),e.nrm(7,"i",5),e.k0s(),e.j41(8,"div",6)(9,"p",7),e.EFF(10,"Journal des Caisses"),e.k0s()(),e.j41(11,"select",8),e.mxI("ngModelChange",function(g){return e.DH7(o.selectedBoutiqueIdForList,g)||(o.selectedBoutiqueIdForList=g),g}),e.bIt("ngModelChange",function(){return o.onBoutiqueChange()}),e.DNE(12,M,2,3,"option",9),e.k0s()()()()(),e.j41(13,"div",10)(14,"span",11)(15,"span",12),e.EFF(16,"1-1"),e.k0s(),e.j41(17,"span"),e.EFF(18," / "),e.k0s(),e.j41(19,"span",13),e.EFF(20,"1"),e.k0s()(),e.j41(21,"span",14)(22,"button",15),e.nrm(23,"i",5),e.k0s(),e.j41(24,"button",16),e.nrm(25,"i",17),e.k0s()(),e.nrm(26,"div",18),e.j41(27,"div",19)(28,"div",20),e.nrm(29,"i",21),e.j41(30,"input",22),e.mxI("ngModelChange",function(g){return e.DH7(o.searchTerm,g)||(o.searchTerm=g),g}),e.k0s(),e.j41(31,"select",23),e.mxI("ngModelChange",function(g){return e.DH7(o.statusFilter,g)||(o.statusFilter=g),g}),e.j41(32,"option",24),e.EFF(33,"Tous les statuts"),e.k0s(),e.j41(34,"option",25),e.EFF(35,"Ouvertes"),e.k0s(),e.j41(36,"option",26),e.EFF(37,"Ferm\xe9es"),e.k0s()()(),e.nrm(38,"div",18),e.j41(39,"div",27)(40,"button",28),e.bIt("click",function(){return o.viewMode="card"}),e.nrm(41,"i",29),e.k0s(),e.j41(42,"button",30),e.bIt("click",function(){return o.viewMode="list"}),e.nrm(43,"i",31),e.k0s()(),e.j41(44,"button",32),e.bIt("click",function(){return o.toggleSortDirection()}),e.DNE(45,b,1,0,"i",33)(46,c,1,0,"i",34),e.k0s()()()(),e.j41(47,"div",35)(48,"div",36),e.DNE(49,r,3,1,"span",37)(50,t,3,1,"span",37),e.k0s(),e.j41(51,"div",38)(52,"span"),e.EFF(53),e.k0s()()(),e.DNE(54,a,5,0,"div",39)(55,v,7,1,"div",39)(56,E,7,0,"div",39)(57,k,2,1,"div",40)(58,D,28,9,"div",41),e.k0s()),2&i&&(e.R7$(11),e.R50("ngModel",o.selectedBoutiqueIdForList),e.R7$(),e.Y8G("ngForOf",o.boutiques),e.R7$(18),e.R50("ngModel",o.searchTerm),e.R7$(),e.R50("ngModel",o.statusFilter),e.R7$(9),e.AVh("active","card"===o.viewMode),e.R7$(2),e.AVh("active","list"===o.viewMode),e.R7$(3),e.Y8G("ngIf","desc"===o.sortDirection),e.R7$(),e.Y8G("ngIf","asc"===o.sortDirection),e.R7$(3),e.Y8G("ngIf",o.statusFilter),e.R7$(),e.Y8G("ngIf",o.searchTerm),e.R7$(3),e.SpI("",o.filteredCaisses.length," op\xe9ration(s)"),e.R7$(),e.Y8G("ngIf",o.isLoading),e.R7$(),e.Y8G("ngIf",!o.isLoading&&o.errorMessage),e.R7$(),e.Y8G("ngIf",!o.isLoading&&!o.errorMessage&&0===o.filteredCaisses.length),e.R7$(),e.Y8G("ngIf",!o.isLoading&&!o.errorMessage&&o.filteredCaisses.length>0&&"card"===o.viewMode),e.R7$(),e.Y8G("ngIf",!o.isLoading&&!o.errorMessage&&o.filteredCaisses.length>0&&"list"===o.viewMode))},dependencies:[l.MD,l.Sq,l.bT,l.oe,_.YN,_.xH,_.y7,_.me,_.wz,_.BC,_.vS],styles:['@charset "UTF-8";.header_pos_caisse[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:10px;width:100%;height:60px;background-color:#fff;box-shadow:#0000000d 0 1px 2px;padding:0 15px;position:sticky;top:0;z-index:999}ul[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}.content_header_pos_caisse_right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px}p[_ngcontent-%COMP%]{margin:0}.double[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.icon_retour[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;cursor:pointer}.barre[_ngcontent-%COMP%]{height:25px;width:1px;background-color:#0000003f;margin:8px 10px}button[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.o_pager_previous[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .o_pager_next[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;padding:0 5px}.d-print-none[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:1px solid #000}.d-print-none[_ngcontent-%COMP%]   .o_pager_previous[_ngcontent-%COMP%]{border-top:1px solid #000;border-right:none;border-bottom:1px solid #000;border-left:1px solid #000;border-top-left-radius:5px;border-bottom-left-radius:5px}.d-print-none[_ngcontent-%COMP%]   .o_pager_next[_ngcontent-%COMP%]{border-top:1px solid #000;border-left:1px solid #000;border-bottom:1px solid #000;border-top-right-radius:5px;border-bottom-right-radius:5px}.content_select[_ngcontent-%COMP%]{border:none;padding:6px 30px 6px 7px;background:#efefef;border-radius:5px;box-shadow:#0000000d 0 6px 24px,#00000014 0 0 0 1px;cursor:pointer}.caisse-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;padding:5px 20px 20px}.caisse-card[_ngcontent-%COMP%]{border:1px solid #ddd;padding:20px;border-radius:4px;min-height:150px;display:flex;flex-direction:column;justify-content:space-between}[_nghost-%COMP%]{display:block;height:100%}.journal-container[_ngcontent-%COMP%]{background-color:#f8fafc;min-height:100vh;display:flex;flex-direction:column}.journal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem;padding-bottom:1rem;border-bottom:1px solid #e2e8f0}.journal-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.journal-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;color:#1e293b;margin:0;font-weight:600}.journal-header[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{background:#0672e4;color:#fff;border:none;width:36px;height:36px;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s}.journal-header[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]:hover{background:#0361c6;transform:translate(-2px)}.filters-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:5px 0;align-items:center}.filters-section[_ngcontent-%COMP%]   .filter-tags[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap}.filters-section[_ngcontent-%COMP%]   .filter-tags[_ngcontent-%COMP%]   .filter-tag[_ngcontent-%COMP%]{background:#e0f2fe;color:#0369a1;padding:.4rem .8rem;border-radius:20px;font-size:.85rem;display:flex;align-items:center;gap:.5rem}.filters-section[_ngcontent-%COMP%]   .filter-tags[_ngcontent-%COMP%]   .filter-tag[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer;font-size:.9rem;transition:all .2s}.filters-section[_ngcontent-%COMP%]   .filter-tags[_ngcontent-%COMP%]   .filter-tag[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:#0c4a6e}.filters-section[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]{font-size:.9rem;color:#64748b}.state-container[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;min-height:300px}.state-container[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%], .state-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%], .state-container[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]{text-align:center;max-width:400px;padding:2rem}.state-container[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .state-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .state-container[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem}.state-container[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .state-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .state-container[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;color:#475569;margin-bottom:1.5rem}.state-container[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .state-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .state-container[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#0672e4;color:#fff;border:none;padding:.75rem 1.5rem;border-radius:8px;cursor:pointer;font-weight:500;transition:background .3s}.state-container[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .state-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .state-container[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#0284c7}.state-container[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0672e4}.state-container[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ef4444}.state-container[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#94a3b8}.state-container[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:4px solid #e2e8f0;border-top:4px solid #0672E4;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1.5rem}.caisse-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1.25rem;padding-top:.5rem}.caisse-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 4px 6px #00000008;transition:transform .3s,box-shadow .3s;overflow:hidden;border:1px solid #f1f5f9;margin-bottom:10px}.caisse-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 10px 15px #0000000d}.caisse-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:5px 1.25rem;background:#f8fafc;border-bottom:1px solid #f1f5f9}.caisse-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-id[_ngcontent-%COMP%]{font-size:.85rem;color:#64748b;font-weight:500}.caisse-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1.25rem}.caisse-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1.25rem}.caisse-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.caisse-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem;color:#94a3b8;margin-top:3px}.caisse-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1}.caisse-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.8rem;color:#64748b;margin-bottom:.25rem}.caisse-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#1e293b;font-weight:500}.caisse-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{display:flex;background:#f8fafc;padding:5px 1.25rem;border-top:1px solid #f1f5f9}.caisse-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{flex:1;text-align:center}.caisse-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.8rem;color:#64748b;display:block;margin-bottom:.25rem}.caisse-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;font-weight:600;color:#1e293b}.caisse-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]:first-child{border-right:1px solid #e2e8f0}.caisse-table[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 4px 6px #00000008;overflow:hidden;margin-top:1rem}.caisse-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.caisse-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .caisse-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem 1.5rem;text-align:left;border-bottom:1px solid #f1f5f9}.caisse-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f8fafc;color:#64748b;font-weight:600;cursor:pointer;-webkit-user-select:none;user-select:none;transition:background .2s;font-size:.9rem}.caisse-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:hover{background-color:#f1f5f9}.caisse-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .th-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.caisse-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.caisse-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background .2s}.caisse-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f8fafc}.caisse-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#334155;font-size:.95rem}.status-badge[_ngcontent-%COMP%]{padding:.35rem .8rem;border-radius:20px;font-size:.8rem;font-weight:600;display:inline-block}.status-badge.open[_ngcontent-%COMP%]{background-color:#dcfce7;color:#166534}.status-badge.closed[_ngcontent-%COMP%]{background-color:#fee2e2;color:#b91c1c}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.journal-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.journal-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{width:100%}.journal-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]{flex:1}.journal-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.filters-section[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.caisse-table[_ngcontent-%COMP%]{overflow-x:auto}.caisse-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{min-width:700px}}.header-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;align-items:center}.header-actions[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;background:#fff;border-radius:5px;border:1px solid #000;overflow:hidden}.header-actions[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:12px;color:#94a3b8}.header-actions[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px 1rem 10px 2.5rem;border:none;width:250px;font-size:.9rem;background:transparent}.header-actions[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.header-actions[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .filter-select[_ngcontent-%COMP%]{padding:10px 1rem;border:none;border-left:1px solid #e2e8f0;background:#f8fafc;appearance:none;cursor:pointer;font-size:.9rem}.header-actions[_ngcontent-%COMP%]   .view-toggle[_ngcontent-%COMP%]{display:flex;background:#f1f5f9;border:1px solid #e2e8f0;border-radius:5px;overflow:hidden}.header-actions[_ngcontent-%COMP%]   .view-toggle[_ngcontent-%COMP%]   .view-btn[_ngcontent-%COMP%]{width:35px;height:35px;display:flex;align-items:center;justify-content:center;cursor:pointer;background:transparent;border:none;transition:all .2s}.header-actions[_ngcontent-%COMP%]   .view-toggle[_ngcontent-%COMP%]   .view-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;color:#64748b}.header-actions[_ngcontent-%COMP%]   .view-toggle[_ngcontent-%COMP%]   .view-btn[_ngcontent-%COMP%]:hover{background:#e2e8f0}.header-actions[_ngcontent-%COMP%]   .view-toggle[_ngcontent-%COMP%]   .view-btn.active[_ngcontent-%COMP%]{background:#0672e4}.header-actions[_ngcontent-%COMP%]   .view-toggle[_ngcontent-%COMP%]   .view-btn.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}.header-actions[_ngcontent-%COMP%]   .sort-button[_ngcontent-%COMP%]{background:#f1f5f9;border:1px solid #e2e8f0;border-radius:5px;width:35px;height:35px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s}.header-actions[_ngcontent-%COMP%]   .sort-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;color:#64748b}.header-actions[_ngcontent-%COMP%]   .sort-button[_ngcontent-%COMP%]:hover{background:#e2e8f0}']})}}return s})()},37788:(x,O,u)=>{u.d(O,{j:()=>e});var l=u(84412),_=u(54438);let e=(()=>{class d{constructor(){this.STORAGE_KEY="selectedBoutiqueId",this.selectedBoutiqueSubject=new l.t(this.loadInitial()),this.selectedBoutique$=this.selectedBoutiqueSubject.asObservable()}loadInitial(){const h=localStorage.getItem(this.STORAGE_KEY);if(null!==h){try{sessionStorage.setItem(this.STORAGE_KEY,h)}catch(P){console.warn("Impossible de migrer la boutique depuis localStorage",P)}localStorage.removeItem(this.STORAGE_KEY)}const f=sessionStorage.getItem(this.STORAGE_KEY);return null!==f?Number(f):null}setSelectedBoutique(h){null!==h?sessionStorage.setItem(this.STORAGE_KEY,h.toString()):sessionStorage.removeItem(this.STORAGE_KEY),this.selectedBoutiqueSubject.next(h)}getCurrentValue(){const h=sessionStorage.getItem(this.STORAGE_KEY);return null!==h?Number(h):null}static{this.\u0275fac=function(f){return new(f||d)}}static{this.\u0275prov=_.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})()},74864:(x,O,u)=>{u.d(O,{U:()=>M});var l=u(21626),_=u(22525),e=u(18810),d=u(25558),m=u(99437),h=u(96354),f=u(54438),P=u(88026);let M=(()=>{class b{constructor(r,t){this.http=r,this.usersService=t,this.apiUrl=_.c.apiBaseUrl}ouvrirCaisse(r){return this.usersService.getValidAccessToken().pipe((0,d.n)(t=>{if(!t)throw new Error("Aucun token trouv\xe9");const a=new l.Lr({Authorization:`Bearer ${t}`});return this.http.post(`${this.apiUrl}/ouvrir`,r,{headers:a})}),(0,m.W)(t=>{console.error("Erreur d\xe9taill\xe9e",t);let a="Erreur lors de l'ouverture de la caisse";return t.error&&t.error.error?a=t.error.error:t.error&&t.error.message?a=t.error.message:t.message&&(a=t.message),(0,e.$)(()=>({message:a,originalError:t}))}))}fermerCaisse(r){return console.log("Tentative de r\xe9cup\xe9ration du token..."),this.usersService.getValidAccessToken().pipe((0,d.n)(t=>{if(!t)throw console.error("Aucun token trouv\xe9"),new Error("Aucun token trouv\xe9");console.log("Token r\xe9cup\xe9r\xe9 :",t);const a=new l.Lr({Authorization:`Bearer ${t}`}),v={boutiqueId:r};return console.log("Envoi de la requ\xeate POST pour fermer la caisse..."),this.http.post(`${this.apiUrl}/fermer`,v,{headers:a}).pipe((0,m.W)(E=>(console.error("Erreur lors de la requ\xeate pour fermer la caisse:",E),(0,e.$)(()=>E))))}),(0,m.W)(t=>{console.error("Erreur d\xe9taill\xe9e dans le service:",t);let a="Erreur lors de la fermeture de la caisse";return t.error&&t.error.error?a=t.error.error:t.error&&t.error.message?a=t.error.message:t.message&&(a=t.message),(0,e.$)(()=>({message:a,originalError:t}))}))}getDerniereCaisseVendeur(r){return this.usersService.getValidAccessToken().pipe((0,d.n)(t=>{if(!t)throw new Error("Aucun token trouv\xe9");const a=new l.Lr({Authorization:`Bearer ${t}`});return this.http.get(`${this.apiUrl}/caisse/derniere/${r}`,{headers:a,responseType:"text"}).pipe((0,h.T)(v=>{try{return JSON.parse(v)}catch{throw new Error(v||"R\xe9ponse serveur invalide")}}))}),(0,m.W)(t=>{let a="Erreur lors du chargement de la derni\xe8re caisse";return t instanceof Error?a=t.message:t?.error&&(a=t.error),(0,e.$)(()=>new Error(a))}))}getCaissesByBoutique(r){return this.usersService.getValidAccessToken().pipe((0,d.n)(t=>{if(!t)throw new Error("Aucun token trouv\xe9");const a=new l.Lr({Authorization:`Bearer ${t}`});return this.http.get(`${this.apiUrl}/boutique/${r}/caisses`,{headers:a})}),(0,m.W)(t=>{let a="Erreur lors du chargement des caisses";return t?.error?.error?a=t.error.error:t?.error?.message?a=t.error.message:t.message&&(a=t.message),(0,e.$)(()=>({message:a,originalError:t}))}))}getHistoriqueCaissesByVendeur(r){return this.usersService.getValidAccessToken().pipe((0,d.n)(t=>{if(!t)throw new Error("Aucun token trouv\xe9");const a=new l.Lr({Authorization:`Bearer ${t}`});return this.http.get(`${this.apiUrl}/vendeur/${r}`,{headers:a})}),(0,m.W)(t=>{let a="Erreur lors du chargement de l'historique des caisses";return t?.error?.error?a=t.error.error:t?.error?.message?a=t.error.message:t.message&&(a=t.message),(0,e.$)(()=>({message:a,originalError:t}))}))}static{this.\u0275fac=function(t){return new(t||b)(f.KVO(l.Qq),f.KVO(P.g))}}static{this.\u0275prov=f.jDH({token:b,factory:b.\u0275fac,providedIn:"root"})}}return b})()},52719:(x,O,u)=>{u.d(O,{c:()=>P});var l=u(21626),_=u(25558),e=u(18810),d=u(99437),m=u(22525),h=u(54438),f=u(88026);let P=(()=>{class M{constructor(c,r){this.http=c,this.usersService=r,this.apiUrl=m.c.apiBaseUrl}updateBoutique(c,r){return this.usersService.getValidAccessToken().pipe((0,_.n)(t=>{if(!t)return console.error("Aucun token trouv\xe9"),(0,e.$)(()=>new Error("Aucun token trouv\xe9"));const a=new l.Lr({Authorization:`Bearer ${t}`});return this.http.put(`${this.apiUrl}/updatedBoutique/${c}`,r,{headers:a})}),(0,d.W)(t=>(console.error("Erreur lors de la mise \xe0 jour de la boutique:",t),(0,e.$)(()=>t))))}getBoutiquesByEntreprise(){return this.usersService.getValidAccessToken().pipe((0,_.n)(c=>{if(!c)return console.error("Aucun token trouv\xe9"),(0,e.$)(()=>new Error("Aucun token trouv\xe9"));const r=new l.Lr({Authorization:`Bearer ${c}`});return this.http.get(`${this.apiUrl}/boutiqueEntreprise`,{headers:r})}),(0,d.W)(c=>(console.error("Erreur lors de la r\xe9cup\xe9ration des boutiques:",c),(0,e.$)(()=>c))))}getBoutiqueById(c){return this.usersService.getValidAccessToken().pipe((0,_.n)(r=>{if(!r)return console.error("Aucun token trouv\xe9"),(0,e.$)(()=>new Error("Aucun token trouv\xe9"));const t=new l.Lr({Authorization:`Bearer ${r}`});return this.http.get(`${this.apiUrl}/boutique/${c}`,{headers:t})}),(0,d.W)(r=>(console.error("Erreur lors de la r\xe9cup\xe9ration de la boutique:",r),(0,e.$)(()=>r))))}activerBoutique(c){return this.usersService.getValidAccessToken().pipe((0,_.n)(r=>{if(!r)return console.error("Aucun token trouv\xe9"),(0,e.$)(()=>new Error("Aucun token trouv\xe9"));const t=new l.Lr({Authorization:`Bearer ${r}`});return this.http.put(`${this.apiUrl}/activerBoutique/${c}`,{},{headers:t})}),(0,d.W)(r=>(console.error("Erreur lors de l'activation de la boutique:",r),(0,e.$)(()=>r))))}desactiverBoutique(c){return this.usersService.getValidAccessToken().pipe((0,_.n)(r=>{if(!r)return console.error("Aucun token trouv\xe9"),(0,e.$)(()=>new Error("Aucun token trouv\xe9"));const t=new l.Lr({Authorization:`Bearer ${r}`});return this.http.put(`${this.apiUrl}/desactiverBoutique/${c}`,{},{headers:t})}),(0,d.W)(r=>(console.error("Erreur lors de la d\xe9sactivation de la boutique:",r),(0,e.$)(()=>r))))}deleteBoutique(c){return this.usersService.getValidAccessToken().pipe((0,_.n)(r=>{if(!r)return console.error("Aucun token trouv\xe9"),(0,e.$)(()=>new Error("Aucun token trouv\xe9"));const t=new l.Lr({Authorization:`Bearer ${r}`});return this.http.delete(`${this.apiUrl}/boutique/${c}`,{headers:t})}),(0,d.W)(r=>(console.error("Erreur lors de la suppression de la boutique:",r),(0,e.$)(()=>r))))}getProductsByBoutiqueId(c){return this.usersService.getValidAccessToken().pipe((0,_.n)(r=>{if(!r)return console.error("Aucun token trouv\xe9"),(0,e.$)(()=>new Error("Aucun token trouv\xe9"));const t=new l.Lr({Authorization:`Bearer ${r}`});return this.http.get(`${this.apiUrl}/boutique/${c}/produits`,{headers:t})}),(0,d.W)(r=>(console.error("Erreur lors de la r\xe9cup\xe9ration des produits:",r),(0,e.$)(()=>r))))}copierProduits(c){return this.usersService.getValidAccessToken().pipe((0,_.n)(r=>{if(!r)return(0,e.$)(()=>new Error("Aucun token trouv\xe9"));const t=new l.Lr({Authorization:`Bearer ${r}`});return this.http.post(`${this.apiUrl}/copier-produits`,c,{headers:t,responseType:"json"})}),(0,d.W)(r=>{if(r.error&&"string"==typeof r.error)try{const t=JSON.parse(r.error);return(0,e.$)(()=>t)}catch{return(0,e.$)(()=>({message:r.error}))}return(0,e.$)(()=>r)}))}mettreEnCorbeille(c){return this.usersService.getValidAccessToken().pipe((0,_.n)(r=>{if(!r)return(0,e.$)(()=>new Error("Aucun token trouv\xe9"));const t=new l.Lr({Authorization:`Bearer ${r}`});return this.http.delete(`${this.apiUrl}/corbeille/${c}`,{headers:t})}),(0,d.W)(r=>{let t="Erreur lors de la mise en corbeille";return r.error?.message?t=r.error.message:r.message&&(t=r.message),(0,e.$)(()=>new Error(t))}))}associateUserToBoutique(c,r){return this.http.post(`${this.apiUrl}/boutiques/${c}/users/${r}`,{})}assignerVendeur(c){return this.usersService.getValidAccessToken().pipe((0,_.n)(r=>{if(!r)return console.error("Aucun token trouv\xe9"),(0,e.$)(()=>new Error("Aucun token trouv\xe9"));const t=new l.Lr({Authorization:`Bearer ${r}`});return this.http.post(`${this.apiUrl}/assigner-vendeur`,c,{headers:t})}),(0,d.W)(r=>(console.error("Erreur lors de l'assignation du vendeur:",r),(0,e.$)(()=>r))))}retirerVendeur(c){return this.usersService.getValidAccessToken().pipe((0,_.n)(r=>{if(!r)return console.error("Aucun token trouv\xe9"),(0,e.$)(()=>new Error("Aucun token trouv\xe9"));const t=new l.Lr({Authorization:`Bearer ${r}`});return this.http.post(`${this.apiUrl}/retirer-vendeur`,c,{headers:t})}),(0,d.W)(r=>(console.error("Erreur lors de l'assignation du vendeur:",r),(0,e.$)(()=>r))))}getVendeursDeBoutique(c){return this.usersService.getValidAccessToken().pipe((0,_.n)(r=>{if(!r)return console.error("Aucun token trouv\xe9"),(0,e.$)(()=>new Error("Aucun token trouv\xe9"));const t=new l.Lr({Authorization:`Bearer ${r}`});return this.http.get(`${this.apiUrl}/vendeurs/${c}`,{headers:t}).pipe((0,d.W)(a=>(console.error("Erreur lors de la r\xe9cup\xe9ration des vendeurs:",a),(0,e.$)(()=>a))))}))}static{this.\u0275fac=function(r){return new(r||M)(h.KVO(l.Qq),h.KVO(f.g))}}static{this.\u0275prov=h.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})()}}]);