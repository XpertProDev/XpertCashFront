"use strict";(self.webpackChunkskeleton=self.webpackChunkskeleton||[]).push([[6836],{6836:(j,b,p)=>{p.r(b),p.d(b,{PosCommandeComponent:()=>G});var _=p(177),f=p(9417),C=p(1413),g=p(6977),h=p(2525),x=p(1731),n=p(4438),O=p(9192),P=p(145),v=p(7022),y=p(9293),u=p(1626),F=p(5558),l=p(8026);let a=(()=>{class r{constructor(t,e){this.http=t,this.usersService=e,this.apiUrl=h.c.apiBaseUrl}getVentesByVendeur(t){return this.usersService.getValidAccessToken().pipe((0,F.n)(e=>{const o=(new u.Lr).set("Authorization",`Bearer ${e}`);return this.http.get(`${this.apiUrl}/vente/vendeur/${t}`,{headers:o})}))}static{this.\u0275fac=function(e){return new(e||r)(n.KVO(u.Qq),n.KVO(l.g))}}static{this.\u0275prov=n.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function m(r,d){if(1&r){const t=n.RV6();n.j41(0,"li",35),n.bIt("click",function(){const o=n.eBV(t).$implicit,i=n.XpG(2);return n.Njj(i.selectFilter(o.key))}),n.EFF(1),n.k0s()}if(2&r){const t=d.$implicit;n.R7$(),n.SpI(" ",t.label," ")}}function k(r,d){if(1&r&&(n.j41(0,"ul",33),n.DNE(1,m,2,1,"li",34),n.k0s()),2&r){const t=n.XpG();n.R7$(),n.Y8G("ngForOf",t.filterOptions)}}function w(r,d){if(1&r){const t=n.RV6();n.j41(0,"ul",38),n.bIt("click",function(){const o=n.eBV(t).$implicit,i=n.XpG(2);return n.Njj(i.setActiveCommande(o.id))}),n.j41(1,"li",39)(2,"div",40)(3,"p",41),n.EFF(4),n.nI1(5,"date"),n.k0s(),n.j41(6,"p",42),n.EFF(7),n.nI1(8,"date"),n.k0s()()(),n.j41(9,"li",39)(10,"div",43)(11,"p"),n.EFF(12),n.k0s()()(),n.j41(13,"li",39)(14,"div",44)(15,"p"),n.EFF(16),n.k0s()()(),n.j41(17,"li",39)(18,"div",45)(19,"p"),n.EFF(20),n.nI1(21,"cfaCurrency"),n.k0s()()(),n.j41(22,"li",46)(23,"div",47)(24,"p"),n.EFF(25,"En cours"),n.k0s()()()()}if(2&r){const t=d.$implicit,e=n.XpG(2);n.AVh("ul_commande_active",e.activeCommandeId===t.id),n.R7$(4),n.JRh(n.i5U(5,7,t.createdAt,"dd/MM/yyyy")),n.R7$(3),n.JRh(n.i5U(8,10,t.createdAt,"HH:mm")),n.R7$(5),n.JRh(t.id),n.R7$(4),n.SpI("Quantit\xe9 ",t.totalItems,""),n.R7$(4),n.JRh(n.bMT(21,13,t.totalAmount))}}function I(r,d){1&r&&(n.j41(0,"div",48),n.EFF(1," Pas de commandes en cours "),n.k0s())}function V(r,d){if(1&r&&(n.qex(0),n.DNE(1,w,26,15,"ul",36)(2,I,2,0,"div",37),n.bVm()),2&r){const t=n.XpG();n.R7$(),n.Y8G("ngForOf",t.commandes),n.R7$(),n.Y8G("ngIf",!t.commandes.length)}}function T(r,d){if(1&r){const t=n.RV6();n.j41(0,"ul",38),n.bIt("click",function(){const o=n.eBV(t).$implicit,i=n.XpG(2);return n.Njj(i.setActiveVente(o.venteId))}),n.j41(1,"li",39)(2,"div",40)(3,"p",41),n.EFF(4),n.nI1(5,"date"),n.k0s(),n.j41(6,"p",42),n.EFF(7),n.nI1(8,"date"),n.k0s()()(),n.j41(9,"li",39)(10,"div",43)(11,"p"),n.EFF(12),n.k0s()()(),n.j41(13,"li",39)(14,"div",44)(15,"p"),n.EFF(16),n.k0s()()(),n.j41(17,"li",39)(18,"div",45)(19,"p"),n.EFF(20),n.nI1(21,"cfaCurrency"),n.k0s()()(),n.j41(22,"li",46)(23,"div",47)(24,"p"),n.EFF(25),n.k0s()()()()}if(2&r){const t=d.$implicit,e=n.XpG(2);n.AVh("ul_commande_active",e.activeVenteId===t.venteId),n.R7$(4),n.JRh(n.i5U(5,10,t.dateVente,"dd/MM/yyyy")),n.R7$(3),n.JRh(n.i5U(8,13,t.dateVente,"HH:mm")),n.R7$(5),n.JRh(t.venteId),n.R7$(4),n.SpI("Quantit\xe9 ",e.getTotalItems(t),""),n.R7$(4),n.JRh(n.bMT(21,16,t.montantTotal)),n.R7$(4),n.AVh("status-paid","Payer"===e.getVenteStatus(t)),n.R7$(),n.SpI(" ",e.getVenteStatus(t)," ")}}function E(r,d){1&r&&(n.j41(0,"div",48),n.EFF(1," Pas de ventes pour ce filtre "),n.k0s())}function S(r,d){if(1&r&&(n.qex(0),n.DNE(1,T,26,18,"ul",36)(2,E,2,0,"div",37),n.bVm()),2&r){const t=n.XpG();n.R7$(),n.Y8G("ngForOf",t.ventes),n.R7$(),n.Y8G("ngIf",!t.ventes.length)}}function z(r,d){if(1&r&&(n.j41(0,"li",52)(1,"div",53)(2,"div",54),n.EFF(3),n.k0s(),n.j41(4,"div",55)(5,"p",56),n.EFF(6),n.j41(7,"span"),n.EFF(8),n.nI1(9,"cfaCurrency"),n.k0s()()()(),n.j41(10,"div",53)(11,"div",57),n.EFF(12),n.nI1(13,"cfaCurrency"),n.k0s()()()),2&r){const t=d.$implicit;n.R7$(3),n.JRh(t.quantity),n.R7$(3),n.SpI(" ",t.product.nom," "),n.R7$(2),n.SpI("(",n.bMT(9,4,t.product.prixVente),")"),n.R7$(4),n.SpI(" ",n.bMT(13,6,t.quantity*t.product.prixVente)," ")}}function R(r,d){1&r&&(n.j41(0,"div",58)(1,"p"),n.EFF(2,"Aucun produit dans cette commande"),n.k0s()())}function $(r,d){if(1&r&&(n.qex(0),n.j41(1,"ul",49),n.DNE(2,z,14,8,"li",50),n.k0s(),n.DNE(3,R,3,0,"div",51),n.bVm()),2&r){const t=n.XpG();n.R7$(2),n.Y8G("ngForOf",t.activeCommandeItems),n.R7$(),n.Y8G("ngIf",0===t.activeCommandeItems.length)}}function D(r,d){if(1&r&&(n.j41(0,"li",52)(1,"div",53)(2,"div",54),n.EFF(3),n.k0s(),n.j41(4,"div",55)(5,"p",56),n.EFF(6),n.j41(7,"span"),n.EFF(8),n.nI1(9,"cfaCurrency"),n.k0s()()()(),n.j41(10,"div",53)(11,"div",57),n.EFF(12),n.nI1(13,"cfaCurrency"),n.k0s()()()),2&r){const t=d.$implicit;n.R7$(3),n.JRh(t.quantity),n.R7$(3),n.SpI(" ",t.product.nom," "),n.R7$(2),n.SpI("(",n.bMT(9,4,t.product.prixVente),")"),n.R7$(4),n.SpI(" ",n.bMT(13,6,t.quantity*t.product.prixVente)," ")}}function A(r,d){1&r&&(n.j41(0,"div",58)(1,"p"),n.EFF(2,"Aucun produit dans cette vente"),n.k0s()())}function B(r,d){if(1&r&&(n.qex(0),n.j41(1,"ul",49),n.DNE(2,D,14,8,"li",50),n.k0s(),n.DNE(3,A,3,0,"div",51),n.bVm()),2&r){const t=n.XpG();n.R7$(2),n.Y8G("ngForOf",t.activeVenteItems),n.R7$(),n.Y8G("ngIf",0===t.activeVenteItems.length)}}function N(r,d){if(1&r){const t=n.RV6();n.j41(0,"div",59)(1,"div",60)(2,"button",61),n.bIt("click",function(){n.eBV(t);const o=n.XpG();return n.Njj(o.closeCancelPopup())}),n.nrm(3,"i",62),n.k0s(),n.j41(4,"h2"),n.EFF(5,"Confirmation d'annulation"),n.k0s(),n.j41(6,"p"),n.EFF(7,"Veuillez entrer le Code PIN pour annuler la commande."),n.k0s(),n.j41(8,"div",63)(9,"input",64,1),n.mxI("ngModelChange",function(o){n.eBV(t);const i=n.XpG();return n.DH7(i.pin[0],o)||(i.pin[0]=o),n.Njj(o)}),n.bIt("input",function(){n.eBV(t);const o=n.sdS(10),i=n.sdS(12),c=n.XpG();return n.Njj(c.goToNext(o,i))})("keydown",function(o){n.eBV(t);const i=n.sdS(10),c=n.sdS(12),s=n.XpG();return n.Njj(s.handleBackspace(o,0,i,c))}),n.k0s(),n.j41(11,"input",65,2),n.mxI("ngModelChange",function(o){n.eBV(t);const i=n.XpG();return n.DH7(i.pin[1],o)||(i.pin[1]=o),n.Njj(o)}),n.bIt("input",function(){n.eBV(t);const o=n.sdS(12),i=n.sdS(14),c=n.XpG();return n.Njj(c.goToNext(o,i))})("keydown",function(o){n.eBV(t);const i=n.sdS(10),c=n.sdS(12),s=n.XpG();return n.Njj(s.handleBackspace(o,1,c,i))}),n.k0s(),n.j41(13,"input",66,3),n.mxI("ngModelChange",function(o){n.eBV(t);const i=n.XpG();return n.DH7(i.pin[2],o)||(i.pin[2]=o),n.Njj(o)}),n.bIt("input",function(){n.eBV(t);const o=n.sdS(14),i=n.sdS(16),c=n.XpG();return n.Njj(c.goToNext(o,i))})("keydown",function(o){n.eBV(t);const i=n.sdS(12),c=n.sdS(14),s=n.XpG();return n.Njj(s.handleBackspace(o,2,c,i))}),n.k0s(),n.j41(15,"input",67,4),n.mxI("ngModelChange",function(o){n.eBV(t);const i=n.XpG();return n.DH7(i.pin[3],o)||(i.pin[3]=o),n.Njj(o)}),n.bIt("input",function(){n.eBV(t);const o=n.XpG();return n.Njj(o.verifyCode())})("keydown",function(o){n.eBV(t);const i=n.sdS(14),c=n.sdS(16),s=n.XpG();return n.Njj(s.handleBackspace(o,3,c,i))}),n.k0s()(),n.j41(17,"button",35),n.bIt("click",function(){n.eBV(t);const o=n.XpG();return n.Njj(o.verifyCode())}),n.EFF(18,"Valider"),n.k0s()()()}if(2&r){const t=n.XpG();n.R7$(8),n.AVh("shake",t.isCodeWrong),n.R7$(),n.R50("ngModel",t.pin[0]),n.R7$(2),n.R50("ngModel",t.pin[1]),n.R7$(2),n.R50("ngModel",t.pin[2]),n.R7$(2),n.R50("ngModel",t.pin[3])}}let G=(()=>{class r{constructor(t,e,o,i,c,s){this.router=t,this.viewState=e,this.commandeState=o,this.categorieService=i,this.posCommandeService=c,this.usersService=s,this.apiUrl=h.c.imgUrl,this.destroy$=new C.B,this.isListView=!0,this.showDropdown=!1,this.showFilterDropdown=!1,this.commandes=[],this.products=[],this.activeCommandeId="",this.activeCommandeCart=new Map,this.activeCommandeTotal=0,this.activeCommandeItems=[],this.allVentes=[],this.ventes=[],this.activeVenteId=null,this.activeVenteItems=[],this.activeVente=null,this.filterOptions=[{key:"en-cours",label:"En cours"},{key:"payer",label:"Payer"},{key:"annuler",label:"Annuler"}],this.currentFilterKey="en-cours",this.currentFilterLabel="En cours",this.searchTerm="",this.showCancelPopup=!1,this.pin=["","","",""],this.isCodeWrong=!1}ngOnInit(){this.viewState.isListView$.pipe((0,g.Q)(this.destroy$)).subscribe(t=>{this.isListView=t}),this.applyFilter(this.currentFilterKey),this.commandeState.commandeUpdated$.pipe((0,g.Q)(this.destroy$)).subscribe(()=>{this.loadCommandes(),this.loadActiveCommandeDetails()}),this.commandeState.activeCommandeId$.pipe((0,g.Q)(this.destroy$)).subscribe(t=>{this.activeCommandeId=t,this.loadActiveCommandeDetails()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}toggleFilterDropdown(){this.showFilterDropdown=!this.showFilterDropdown}closeFilterDropdown(){this.showFilterDropdown=!1}selectFilter(t){this.showFilterDropdown=!1,this.applyFilter(t)}applyFilter(t){this.currentFilterKey=t;const e=this.filterOptions.find(o=>o.key===t);this.currentFilterLabel=e?e.label:"Filtre","en-cours"===t?this.loadProducts():this.loadVentesAndFilter(t)}loadProducts(){this.categorieService.getCategories().pipe((0,g.Q)(this.destroy$)).subscribe({next:t=>{this.products=[],t.forEach(e=>{e.produits&&(this.products=[...this.products,...e.produits])}),this.loadCommandes(),this.loadActiveCommandeDetails()},error:t=>console.error("Erreur chargement produits",t)})}loadCommandes(){this.commandes=this.commandeState.getAllCommandesIds().map(t=>{const e=this.commandeState.getCommandeDetails(t);let o=0,i=0;return e?.cart&&(e.cart.forEach((c,s)=>{const M=this.products.find(U=>U.id===s);M&&(o+=c,i+=c*M.prixVente)}),this.commandeState.updateCommandeTotals(t,o,i)),{id:t,totalItems:o,totalAmount:i,createdAt:e?.createdAt||new Date}})}loadActiveCommandeDetails(){if(!this.activeCommandeId)return;const t=this.commandeState.getCommandeDetails(this.activeCommandeId);t&&(this.activeCommandeCart=t.cart,this.activeCommandeTotal=t.totalAmount||0,this.updateActiveCommandeItems())}updateActiveCommandeItems(){this.activeCommandeItems=[],this.activeCommandeCart&&this.products.length&&this.activeCommandeCart.forEach((t,e)=>{if(t>0){const o=this.products.find(i=>i.id===e);o&&this.activeCommandeItems.push({product:o,quantity:t})}})}loadVentesAndFilter(t){const e=this.usersService.getCurrentUser()?.id;if(!e)return console.warn("Utilisateur non connect\xe9 \u2014 impossible de charger ventes"),this.allVentes=[],void(this.ventes=[]);this.posCommandeService.getVentesByVendeur(e).pipe((0,g.Q)(this.destroy$)).subscribe({next:o=>{this.allVentes=o||[],this.applyVentesFilter(t),this.ventes.length>0&&!this.activeVente&&this.setActiveVente(this.ventes[0].venteId)},error:o=>{console.error("Erreur chargement ventes",o),this.allVentes=[],this.ventes=[]}})}applyVentesFilter(t){this.ventes=this.allVentes.filter(e=>this.matchesVenteStatus(e,t))}matchesVenteStatus(t,e){const o=[t.statut,t.etat,t.status,t.paymentStatus,t.isPaid?"payer":void 0,t.paye?"payer":void 0].filter(Boolean).map(s=>String(s).toLowerCase()),c={"en-cours":["en cours","pending","in_progress","ongoing","draft"],payer:["payer","paid","payed","completed","settled"],terminee:["terminee","finished","done","completed"],annuler:["annuler","cancelled","canceled","void"]}[e];return o.length?o.some(s=>c.some(M=>s.includes(M))):"en-cours"!==e}loadVentes(){const t=this.usersService.getCurrentUser()?.id;t&&this.posCommandeService.getVentesByVendeur(t).pipe((0,g.Q)(this.destroy$)).subscribe({next:e=>{this.allVentes=e||[],this.ventes=[...this.allVentes]},error:e=>console.error("Erreur chargement ventes",e)})}setActiveVente(t){this.activeVenteId=t,this.activeVente=this.ventes.find(e=>e.venteId===t)||null,this.loadActiveVenteDetails()}loadActiveVenteDetails(){this.activeVenteItems=this.activeVente?(this.activeVente.lignes||[]).map(t=>({product:{id:t.produitId,nom:t.nomProduit,prixVente:t.prixUnitaire},quantity:t.quantite})):[]}getTotalItems(t){return t.lignes?.reduce((e,o)=>e+o.quantite,0)||0}setActiveCommande(t){this.commandeState.setActiveCommande(t),this.loadActiveCommandeDetails(),this.updateActiveCommandeItems()}removeCommande(t){this.commandeState.removeCommande(t),this.loadCommandes()}removeProductFromCommande(t){const e=this.commandeState.getCommandeDetails(this.activeCommandeId);if(e){e.cart.delete(t);const o=this.calculateTotalItems(e.cart),i=this.calculateTotalAmount(e.cart);this.commandeState.updateCommandeTotals(this.activeCommandeId,o,i),this.loadCommandes(),this.loadActiveCommandeDetails()}}calculateTotalItems(t){let e=0;return t.forEach(o=>e+=o),e}calculateTotalAmount(t){let e=0;return t.forEach((o,i)=>{const c=this.products.find(s=>s.id===i);c&&(e+=o*c.prixVente)}),e}onSearch(t){this.searchTerm=(t||"").trim().toLowerCase(),"en-cours"===this.currentFilterKey?(this.loadCommandes(),this.searchTerm&&(this.commandes=this.commandes.filter(e=>String(e.id).toLowerCase().includes(this.searchTerm)||String(e.totalAmount).toLowerCase().includes(this.searchTerm)||String(e.totalItems).toLowerCase().includes(this.searchTerm)))):(this.applyVentesFilter(this.currentFilterKey),this.searchTerm&&(this.ventes=this.ventes.filter(e=>String(e.venteId).toLowerCase().includes(this.searchTerm)||String(e.montantTotal).toLowerCase().includes(this.searchTerm)||e.clientNom&&String(e.clientNom).toLowerCase().includes(this.searchTerm))))}getVenteStatus(t){const e=t;if("paid"===e.paymentStatus?.toLowerCase()||e.isPaid||e.paye)return"Payer";const o=[e.statut,e.etat,e.status,e.paymentStatus,e.isPaid?"Payer":void 0,e.paye?"Payer":void 0].filter(Boolean).map(i=>String(i));return o.length?o[0]:"\u2014"}toggleView(t){this.isListView="grid"===t,this.showDropdown=!0,localStorage.setItem("viewPreference",t)}pagePosVente(){}openCancelPopup(){this.showCancelPopup=!0,this.pin=["","","",""],this.isCodeWrong=!1}closeCancelPopup(){this.showCancelPopup=!1}goToNext(t,e){t.value&&e&&e.focus()}handleBackspace(t,e,o,i){"Backspace"===t.key&&!o.value&&i&&i.focus()}verifyCode(){"1234"===this.pin.join("")?(this.removeCommande(this.activeCommandeId),this.closeCancelPopup()):(this.isCodeWrong=!0,setTimeout(()=>this.isCodeWrong=!1,500))}static{this.\u0275fac=function(e){return new(e||r)(n.rXU(O.Ix),n.rXU(P.C),n.rXU(v.f),n.rXU(y.R),n.rXU(a),n.rXU(l.g))}}static{this.\u0275cmp=n.VBU({type:r,selectors:[["app-pos-commande"]],decls:44,vars:10,consts:[["searchInput",""],["pin0",""],["pin1",""],["pin2",""],["pin3",""],[1,"section_contenu_container"],[1,"section_contenu_left"],[1,"section_commande"],["appClickOutside","",1,"toolbar",3,"clickOutside"],[1,"icon_search"],[1,"ri-search-line"],[1,"search"],["type","text","placeholder","Rechercher des commandes...",3,"input"],[1,"btn_search_filtre"],[1,"btn",3,"click"],[1,"ri-arrow-down-s-fill"],["class","dropdown_filter",4,"ngIf"],[1,"section_list_commande"],[4,"ngIf"],[1,"section_contenu_right",2,"background-color","#ffffff","height","100vh","box-shadow","rgba(0, 0, 0, 0.04) 0px 3px 5px"],[1,"list_produit_select"],[1,"summary_panel"],[1,"double_row"],[1,"double_row","total"],[1,"btn_container"],[1,"btn_action_commande"],[1,"btn_retourn",3,"click"],[1,"ri-arrow-left-s-line"],[1,"btn_content"],[1,"btn-payment",3,"click"],[1,"btn_delete",3,"click"],[1,"ri-delete-bin-5-line"],["class","popup-overlay",4,"ngIf"],[1,"dropdown_filter"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["class","ul_commande",3,"ul_commande_active","click",4,"ngFor","ngForOf"],["class","loading_commande",4,"ngIf"],[1,"ul_commande",3,"click"],[1,"li_commande"],[1,"commande_date_heure"],[1,"commande_date"],[1,"commande_heure"],[1,"num_onglet_commande"],[1,"quantite_commande"],[1,"price_commande"],[1,"li_commande",2,"display","flex","align-items","center","gap","30px"],[1,"etat_commande"],[1,"loading_commande"],[1,"ul_list_produit_select"],["class","li_list_produit_select",4,"ngFor","ngForOf"],["class","empty-cart-message",4,"ngIf"],[1,"li_list_produit_select"],[1,"double_commande"],[1,"nombre_select"],[1,"name_produit_select"],[2,"margin","0"],[1,"price_produit"],[1,"empty-cart-message"],[1,"popup-overlay"],[1,"popup"],[1,"close-btn",3,"click"],[1,"ri-close-line"],[1,"pin-container"],["type","password","maxlength","1","id","0",3,"ngModelChange","input","keydown","ngModel"],["type","password","maxlength","1","id","1",3,"ngModelChange","input","keydown","ngModel"],["type","password","maxlength","1","id","2",3,"ngModelChange","input","keydown","ngModel"],["type","password","maxlength","1","id","3",3,"ngModelChange","input","keydown","ngModel"]],template:function(e,o){if(1&e){const i=n.RV6();n.j41(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8),n.bIt("clickOutside",function(){return n.eBV(i),n.Njj(o.closeFilterDropdown())}),n.j41(4,"div",9),n.nrm(5,"i",10),n.k0s(),n.j41(6,"div",11)(7,"input",12,0),n.bIt("input",function(){n.eBV(i);const s=n.sdS(8);return n.Njj(o.onSearch(s.value))}),n.k0s()(),n.j41(9,"div",13)(10,"button",14),n.bIt("click",function(){return n.eBV(i),n.Njj(o.toggleFilterDropdown())}),n.EFF(11),n.nrm(12,"i",15),n.k0s(),n.DNE(13,k,2,1,"ul",16),n.k0s()(),n.j41(14,"div",17),n.DNE(15,V,3,2,"ng-container",18)(16,S,3,2,"ng-container",18),n.k0s()()(),n.j41(17,"div",19)(18,"div",20),n.DNE(19,$,4,2,"ng-container",18)(20,B,4,2,"ng-container",18),n.k0s(),n.j41(21,"div",21)(22,"div",22)(23,"span"),n.EFF(24,"Taxes"),n.k0s(),n.j41(25,"span"),n.EFF(26,"00 CFA"),n.k0s()(),n.j41(27,"div",23)(28,"strong"),n.EFF(29,"Total"),n.k0s(),n.j41(30,"strong"),n.EFF(31),n.nI1(32,"cfaCurrency"),n.k0s()()(),n.j41(33,"div",24)(34,"div",25)(35,"button",26),n.bIt("click",function(){return n.eBV(i),n.Njj(o.router.navigate(["/pos-accueil"]))}),n.nrm(36,"i",27),n.k0s()(),n.j41(37,"div",28)(38,"button",29),n.bIt("click",function(){return n.eBV(i),n.Njj(o.openCancelPopup())}),n.EFF(39,"Annuler la commande"),n.k0s()(),n.j41(40,"div",25)(41,"button",30),n.bIt("click",function(){return n.eBV(i),n.Njj(o.removeCommande(o.activeCommandeId))}),n.nrm(42,"i",31),n.k0s()()()()(),n.DNE(43,N,19,6,"div",32)}2&e&&(n.R7$(11),n.SpI(" ",o.currentFilterLabel," "),n.R7$(2),n.Y8G("ngIf",o.showFilterDropdown),n.R7$(2),n.Y8G("ngIf","en-cours"===o.currentFilterKey),n.R7$(),n.Y8G("ngIf","en-cours"!==o.currentFilterKey),n.R7$(3),n.Y8G("ngIf","en-cours"===o.currentFilterKey),n.R7$(),n.Y8G("ngIf","en-cours"!==o.currentFilterKey),n.R7$(11),n.JRh(n.bMT(32,8,null==o.activeVente?null:o.activeVente.montantTotal)),n.R7$(12),n.Y8G("ngIf",o.showCancelPopup))},dependencies:[f.YN,f.me,f.BC,f.tU,f.vS,_.MD,_.Sq,_.bT,_.vh,x.M],styles:['@charset "UTF-8";.payment-popup-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000b;display:flex;justify-content:center;align-items:center;z-index:1000}.payment-popup[_ngcontent-%COMP%]{background-color:#fff;width:85%;height:90vh;border-radius:10px;box-shadow:0 5px 30px #0000004d;overflow:hidden;position:relative}.payment-popup[_ngcontent-%COMP%]   .popup-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;color:#6c757d;cursor:pointer;transition:color .2s}.payment-popup[_ngcontent-%COMP%]   .popup-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#dc3545}.list-client-popup-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000b;display:flex;justify-content:center;align-items:center;z-index:1000}.list-client-popup[_ngcontent-%COMP%]{background-color:#fff;width:90%;height:90vh;border-radius:10px;box-shadow:0 5px 30px #0000004d;overflow:hidden;position:relative}.list-client-popup[_ngcontent-%COMP%]   .popup-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 15px;background-color:#f8f9fa;border-bottom:1px solid #dee2e6}.list-client-popup[_ngcontent-%COMP%]   .popup-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;color:#6c757d;cursor:pointer;transition:color .2s}.list-client-popup[_ngcontent-%COMP%]   .popup-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#dc3545}.detail-popup-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;justify-content:center;align-items:flex-start;padding:2rem 0;z-index:1000}.detail-image[_ngcontent-%COMP%]{height:100px;width:100px}.detail-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;border-radius:4px}.detail-popup[_ngcontent-%COMP%]{background:#fff;width:90%;max-width:900px;border-radius:8px;overflow:hidden;display:flex;flex-direction:column;box-shadow:0 5px 15px #0000004d}.detail-popup[_ngcontent-%COMP%]   .popup-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem 1.5rem;border-bottom:1px solid #e5e5e5}.detail-popup[_ngcontent-%COMP%]   .popup-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px}.detail-popup[_ngcontent-%COMP%]   .popup-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer}.detail-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]{padding:1.5rem}.detail-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]   .shop-name[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:16px;font-weight:500}.detail-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]   .detail-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 2fr;gap:1.5rem;margin-bottom:1.5rem}.detail-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]   .detail-info[_ngcontent-%COMP%]{display:grid;grid-template-columns:250px 250px 1fr;row-gap:.75rem;column-gap:4rem;margin-top:15px;margin-bottom:15px}.detail-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]   .detail-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;line-height:25px}.detail-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]   .detail-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px}.detail-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]   .detail-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:500;color:#555}.detail-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]   .detail-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:600;color:#222}.detail-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]   .detail-description[_ngcontent-%COMP%]{justify-content:space-between;padding:1rem 0;border-top:1px solid #e5e5e5}.detail-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]   .detail-description[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:500;color:#555}.detail-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]   .detail-description[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-style:italic;color:#333}.detail-popup[_ngcontent-%COMP%]   .popup-actions[_ngcontent-%COMP%]{padding:1rem 1.5rem;background:#f8f9fa;text-align:right}.detail-popup[_ngcontent-%COMP%]   .popup-actions[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]{background:#0672e4;border:none;color:#fff;padding:.6rem 1.2rem;border-radius:4px;cursor:pointer;transition:background .2s}.detail-popup[_ngcontent-%COMP%]   .popup-actions[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]:hover{background:#45a049}.btn-payment-pop[_ngcontent-%COMP%]:disabled{background-color:#f4f4f4;cursor:not-allowed;color:#acacac}.btnAddClient[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px}.btnAddClient[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background-color:#0672e4;padding:8px 20px;border-radius:5px;color:#fff;font-size:12px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}tr[_ngcontent-%COMP%]{font-size:13px}td[_ngcontent-%COMP%]{padding:18px 15px;border-bottom:1px solid rgba(221,221,221,.5803921569)}th[_ngcontent-%COMP%]{background-color:#f2f2f2;border-bottom:1px solid rgba(221,221,221,.5803921569);padding:12px 8px}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f9f9f9}tr[_ngcontent-%COMP%]:hover{background-color:#ddd}.imgClient[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;overflow:hidden;display:flex;align-items:center;justify-content:center;background-color:#f5f5f5;box-shadow:0 4px 6px #0000001a;cursor:pointer}.imgClient[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80%;height:80%;border-radius:50%;object-fit:cover;transition:transform .2s}.imgClient[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}.no-client-message[_ngcontent-%COMP%]{text-align:center;padding:20px;color:#888}.inputSearch[_ngcontent-%COMP%]{position:relative;width:250px;height:35px;display:flex;align-items:center}.inputSearch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:100%;padding-left:10px;border-radius:5px;border:1px solid #000;font-size:13px}.inputSearch[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:15px;font-size:17px}.add-client-popup-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000b;display:flex;justify-content:center;align-items:center;z-index:1001}.add-client-popup[_ngcontent-%COMP%]{position:relative;background-color:#fff;width:700px;height:83vh;border-radius:10px;box-shadow:0 5px 30px #0000004d;overflow:hidden}.add-client-popup[_ngcontent-%COMP%]   .popup-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;background-color:#f8f9fa;border-bottom:1px solid #dee2e6}.add-client-popup[_ngcontent-%COMP%]   .popup-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px}.add-client-popup[_ngcontent-%COMP%]   .popup-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;color:#6c757d;cursor:pointer}.add-client-popup[_ngcontent-%COMP%]   .popup-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#dc3545}.add-client-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]{flex:1 1 auto;overflow-y:auto;padding:15px}.add-client-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px;height:4px}.add-client-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#0003;border-radius:3px}.add-client-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.add-client-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]   .add-client-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:10px 15px}.add-client-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]   .add-client-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:500;font-size:13px}.add-client-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]   .add-client-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .add-client-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]   .add-client-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:8px 12px;border:1px solid #ced4da;border-radius:4px;font-size:14px}.add-client-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]   .add-client-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .add-client-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]   .add-client-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#0672e4;box-shadow:0 0 0 .2rem #0672e440}.add-client-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]   .add-client-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:80px;resize:vertical}.add-client-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]   .add-client-form[_ngcontent-%COMP%]   .client-type-selector[_ngcontent-%COMP%]{display:flex}.add-client-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]   .add-client-form[_ngcontent-%COMP%]   .client-type-selector[_ngcontent-%COMP%]   .client-type-btn[_ngcontent-%COMP%]{flex:1;padding:8px;background:#f1f1f1;border:none;border-radius:4px;cursor:pointer;transition:all .2s}.add-client-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]   .add-client-form[_ngcontent-%COMP%]   .client-type-selector[_ngcontent-%COMP%]   .client-type-btn.active[_ngcontent-%COMP%]{background:#0672e4;color:#fff}.add-client-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]   .add-client-form[_ngcontent-%COMP%]   .photo-upload[_ngcontent-%COMP%]   .photo-placeholder[_ngcontent-%COMP%]{height:100px;border:1px dashed #ced4da;border-radius:4px;display:flex;flex-direction:column;justify-content:center;align-items:center;cursor:pointer}.add-client-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]   .add-client-form[_ngcontent-%COMP%]   .photo-upload[_ngcontent-%COMP%]   .photo-placeholder[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;margin-bottom:5px;color:#6c757d}.add-client-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]   .add-client-form[_ngcontent-%COMP%]   .photo-upload[_ngcontent-%COMP%]   .photo-placeholder[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px;color:#6c757d}.add-client-popup[_ngcontent-%COMP%]   .popup-actions[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%;padding:15px 20px;background-color:#f8f9fa;border-top:1px solid #dee2e6;display:flex;justify-content:flex-end;box-shadow:0 -2px 5px #0000001a}.add-client-popup[_ngcontent-%COMP%]   .popup-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px;padding:8px 16px;border:none;border-radius:4px;font-size:14px;cursor:pointer}.add-client-popup[_ngcontent-%COMP%]   .popup-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{padding:8px 30px;border:none;border-radius:5px;background-color:red;color:#fff}.add-client-popup[_ngcontent-%COMP%]   .popup-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover{background-color:#d70404}.add-client-popup[_ngcontent-%COMP%]   .popup-actions[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]{background-color:#0672e4;color:#fff}.add-client-popup[_ngcontent-%COMP%]   .popup-actions[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]:hover{background-color:#055cb9}.double_input[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-template-rows:1fr;grid-column-gap:0px;grid-row-gap:0px;gap:10px}.grid_colonne[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:1fr;grid-column-gap:0px;grid-row-gap:0px;gap:20px}.champ_input[_ngcontent-%COMP%]{position:relative;margin-bottom:10px}.input_focus[_ngcontent-%COMP%]{width:100%;height:49px;outline:none;border-bottom:1px solid rgb(53,50,50);border-top:none;border-left:none;border-right:none;margin:10px 0 0;transition:all .3s;font-size:14px;background:none;color:#695c5c}.champ_input[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{position:absolute;top:22px;left:4px;pointer-events:none;color:#6b6666}.input_focus[_ngcontent-%COMP%]:hover{border-bottom:1px solid #0672E4;border-top:none;border-left:none;border-right:none}.input_focus[_ngcontent-%COMP%]:not(:placeholder-shown) + .label[_ngcontent-%COMP%], .input_focus[_ngcontent-%COMP%]:focus + .label[_ngcontent-%COMP%]{color:#0672e4;top:5px;left:0;transition:all .3s ease-in-out;background:none;font-size:11px;padding:0}.input_focus[_ngcontent-%COMP%]::placeholder{opacity:0}.input_focus[_ngcontent-%COMP%]:focus::placeholder{opacity:1;animation-delay:1s;font-size:12px;transition:all .2s ease-in-out}.champ_input_inventaire[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}.champ_input_inventaire[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:50px;height:24px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;transition:.4s;border-radius:24px}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:18px;width:18px;left:3px;bottom:3px;background-color:#fff;transition:.4s;border-radius:50%}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#0672e4}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(26px)}.input_cursor[_ngcontent-%COMP%]{cursor:pointer}.client-type-selector[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:20px}.client-type-selector[_ngcontent-%COMP%]   .client-type-btn[_ngcontent-%COMP%]{flex:1;padding:10px;background:#f1f1f1;border:none;border-radius:4px;cursor:pointer;transition:all .2s;text-align:center}.client-type-selector[_ngcontent-%COMP%]   .client-type-btn.active[_ngcontent-%COMP%]{background:#0672e4;color:#fff}.nombreCount[_ngcontent-%COMP%]{border-radius:50%;position:absolute;top:-15px;background-color:#ddd;width:18px;height:18px;display:flex;align-items:center;justify-content:center;right:-9px}.nombreCount[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000;border-radius:50%;font-size:9px}.barre[_ngcontent-%COMP%]{height:25px;width:1px;background-color:#0000003f;margin:8px 10px}.contentIcon[_ngcontent-%COMP%]{position:relative;cursor:pointer;transition:all .3s ease;padding:0 5px;border-radius:4px;display:flex;align-items:center;justify-content:center}.contentIcon.active[_ngcontent-%COMP%]{background-color:#e6f7ff;border:1px solid #1890ff}.contentIcon.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#1890ff}.contentIcon[_ngcontent-%COMP%]:hover:not(.active){background-color:#f5f5f5}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}.section_contenu_container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 400px;flex:1;min-height:0}.section_contenu_left[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:0}.section_favory_produit[_ngcontent-%COMP%]{display:grid;grid-template-columns:220px 1fr;margin-top:12px;flex:1;min-height:0}.section_favory[_ngcontent-%COMP%]{border-right:1px solid #d1d1d1;height:100vh}.section_favory[_ngcontent-%COMP%]   .ul_section_favory[_ngcontent-%COMP%]   .li_section_favory[_ngcontent-%COMP%]{background-color:#cde3fa;padding:5px 10px}.double[_ngcontent-%COMP%]   .icon_favory[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.title_favory[_ngcontent-%COMP%]{margin:0}.titre_categorie[_ngcontent-%COMP%]{padding-left:10px}.titre_categorie[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;margin-bottom:10px;font-weight:600}.ul_li_name_categorie[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:7px 10px;margin-bottom:8px;font-size:15px;cursor:pointer}.ul_li_name_categorie[_ngcontent-%COMP%]:hover{background-color:#cde3fa}.allCate[_ngcontent-%COMP%]{cursor:pointer;padding:10px 0;letter-spacing:.6px;font-weight:500}.section_produit[_ngcontent-%COMP%]{overflow-y:auto;max-height:calc(100vh - 75px);min-height:0}.section_produit[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px;height:2px}.section_produit[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#0672e433;border-radius:5px}.section_produit[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.li_list_produit_select[_ngcontent-%COMP%]{background-color:#f4f4f4;display:flex;align-items:center;justify-content:space-between;padding:8px 10px;margin:6px 8px;border-radius:5px}.nombre_select[_ngcontent-%COMP%], .name_produit_select[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .price_produit[_ngcontent-%COMP%]{font-size:12px}.icon_close_select[_ngcontent-%COMP%]{cursor:pointer}.icon_close_select[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.icon_close_select[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:red}.product-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:1rem;padding:0 10px 10px}.product-card[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:8px;box-shadow:0 2px 5px #0000000d;overflow:hidden;display:flex;flex-direction:column;align-items:center;padding-bottom:10px}.stock-badge[_ngcontent-%COMP%]{position:absolute;top:8px;left:5px;background:#fde047;color:#333;font-size:.6rem;font-weight:700;width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center}.product-card.disabled[_ngcontent-%COMP%], .li_list.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed;pointer-events:none}.stock-badge-list[_ngcontent-%COMP%]{background:#fde047;color:#333;font-size:.8rem;font-weight:700;width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center}.product-img[_ngcontent-%COMP%]{width:100px;height:100px;object-fit:cover;margin-top:10px;box-shadow:#0000001a 0 1px 2px}.favorite-icon[_ngcontent-%COMP%]{position:absolute;top:2px;right:3px;font-size:1.2rem;color:#0672e4;cursor:pointer}.favorite-icon.ri-heart-fill[_ngcontent-%COMP%]{color:#0672e4}.favorite-icon-list[_ngcontent-%COMP%]{font-size:1.2rem;color:#0672e4;cursor:pointer}.favorite-icon-list.ri-heart-fill[_ngcontent-%COMP%]{color:#0672e4}.card-body[_ngcontent-%COMP%]{text-align:center;margin:.5rem 0;flex:1}.product-name[_ngcontent-%COMP%]{font-weight:500;margin:.25rem 0}.product-stock[_ngcontent-%COMP%]{font-size:10px;color:#666;margin:.15rem 0}.product-price[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700;margin:0;font-size:13px}.btn-decrement[_ngcontent-%COMP%]{border:none;background:#f3f4f6;width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;pointer-events:auto!important;z-index:10}.btn-decrement[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem;color:#333}.bottom_price_sub[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;padding:0 10px}.section_contenu_right[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;box-shadow:#0000000a 0 3px 5px;padding-bottom:10px}.list_produit_select[_ngcontent-%COMP%]{flex:1;overflow-y:auto}.summary_panel[_ngcontent-%COMP%]{background:#f1f5f9;padding:4px 10px;margin:0 10px}.summary_panel[_ngcontent-%COMP%]   .double_row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:.25rem 0}.summary_panel[_ngcontent-%COMP%]   .double_row.total[_ngcontent-%COMP%]{font-size:1.1rem;padding-top:.5rem;border-bottom:none}.double_row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px}.double_row[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:14px}.keypad[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:5px;padding:5px 10px}.keypad[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:3.5rem;background:#f1f5f9;border:none;font-size:1rem;cursor:pointer;border-radius:4px}.keypad[_ngcontent-%COMP%]   button.backspace[_ngcontent-%COMP%]{font-size:1.2rem}.btn_content[_ngcontent-%COMP%]{margin:0 10px}.btn-payment[_ngcontent-%COMP%]{width:100%;padding:.75rem;margin-bottom:68px;background:#2978f2;color:#fff;border:none;border-radius:4px;font-size:1rem;cursor:pointer}.name_stock_list[_ngcontent-%COMP%]{line-height:1.5;padding:10px}.product-stock-list[_ngcontent-%COMP%]{font-size:10px;color:#666}.name_stock_list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .moyen_paiement[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .price_du[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .moyen_paiement_restant[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .paiement_btn[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}ul.ul_list[_ngcontent-%COMP%]{margin:0 10px}.li_list[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;background-color:#fff;box-shadow:#64646f10 0 7px 29px;padding:0 10px;border-radius:5px;margin-bottom:10px}.img_product_list[_ngcontent-%COMP%]{width:60px;height:60px;display:flex;justify-content:center;margin:5px 0}.img_product_list[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:5px;cursor:pointer;box-shadow:#0000000d 0 0 0 1px}.section_popup_paiement[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 350px;flex:1;min-height:0;margin:30px 80px}.btn-payment-pop[_ngcontent-%COMP%]{width:100%;padding:.75rem;background:#2978f2;color:#fff;border:none;border-radius:4px;font-size:1rem;cursor:pointer}.methode_paiement[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(90px,1fr));gap:15px;margin:20px 10px}.cadre_paiement[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;height:135px;box-shadow:#0000000d 0 6px 24px,#00000014 0 0 0 1px;padding:10px 0;cursor:pointer}.cadre_paiement[_ngcontent-%COMP%]:hover{border:.5px solid #0672e4}.img_paiement[_ngcontent-%COMP%]{width:50px;height:50px;object-fit:cover;margin:0 auto;display:flex;justify-content:center;align-items:center}.img_paiement[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.title_paiement[_ngcontent-%COMP%]{margin-top:22px}.title_paiement[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-align:center}.montant_paiement[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.double[_ngcontent-%COMP%]{display:flex;align-items:center}.cadre_section_contenu_left_prise[_ngcontent-%COMP%]{width:100%;background:#fff;padding:24px;border-radius:8px;align-items:center}.section_contenu_left_prise[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.montant_paiement[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:baseline;gap:8px}.montant_paiement[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:48px;font-weight:600;margin:0}.montant_paiement[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#666}.moyen_paiement_price[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;background-color:#cde3fa;gap:16px;border-radius:5px;padding:10px}.moyen_paiement[_ngcontent-%COMP%]{background:#e6f3ff;border:1px solid #C1E0FF;border-radius:8px;padding:8px 16px;text-align:center;cursor:pointer}.moyen_paiement.selected[_ngcontent-%COMP%]{background:#d0ebff;border-color:#90cdf4}.moyen_paiement[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px;color:#333}.moyen_prise_du[_ngcontent-%COMP%]   .price_du[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:16px;color:#333}.clear-icon[_ngcontent-%COMP%]{font-size:18px;color:#e53e3e;cursor:pointer}.discount-input[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:12px;border-bottom:1px solid #ccc;padding-bottom:8px}.btn-currency[_ngcontent-%COMP%], .btn-percent[_ngcontent-%COMP%]{background:#f0f0f0;border:1px solid #b2b2b2;border-radius:4px;font-size:16px;cursor:pointer}.btn-percent[_ngcontent-%COMP%]{padding:2px 15px}.btn-currency[_ngcontent-%COMP%]{padding:5px 12px;font-size:12px!important}.input-discount[_ngcontent-%COMP%]{width:100px;border:none;outline:none;text-align:right;font-size:16px;text-align:center}.discount-unit[_ngcontent-%COMP%]{font-size:18px;color:#333}.discount-label[_ngcontent-%COMP%]{text-align:center;position:relative;top:-18px}.discount-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:10px;color:#666}.paiement_restant[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0 30px}.btn_facture[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.btn_facture[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{cursor:pointer}.paiement_btn[_ngcontent-%COMP%]{background-color:#f4f4f4;padding:12px;border-radius:5px}.paiement_btn[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px}.btn_client[_ngcontent-%COMP%]{cursor:pointer}.btn_client[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}.double_client_facture[_ngcontent-%COMP%]{gap:5px;display:grid;grid-template-columns:repeat(2,1fr);padding:0 10px}.double_remise_facture[_ngcontent-%COMP%]{gap:3px;display:grid;grid-template-columns:75px 1fr}.selected[_ngcontent-%COMP%]{background-color:#0672e4!important;color:#fff!important}.selected[_ngcontent-%COMP%]   .name_categorie[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   .nombre[_ngcontent-%COMP%]{color:#fff!important}.selected_mode_pay[_ngcontent-%COMP%]{border:1px solid #2f7dd1}.keypad[_ngcontent-%COMP%]   button.btn_keypad_active[_ngcontent-%COMP%]{border:1px solid #2f7dd1;background-color:#e0efff}.cadre_paiement.selected[_ngcontent-%COMP%]{border:2px solid #4CAF50;background-color:#f0fff4}.price_du[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700;font-size:1.2em}.alert-low-stock[_ngcontent-%COMP%]{color:red!important;font-weight:700}.safe-stock[_ngcontent-%COMP%]{color:green!important;font-weight:700}.barcode-shifted[_ngcontent-%COMP%]{left:11px;position:relative}.btn_client.has-selected[_ngcontent-%COMP%]{background-color:#e6f7ff;border:1px solid #91d5ff}.clear-customer[_ngcontent-%COMP%]:hover{color:#cf1322}.selected-client-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.selected-client-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500;font-size:14px}.selected-client-info[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:12px;color:#666}.paiement_btn[_ngcontent-%COMP%]{position:relative}.clear-customer[_ngcontent-%COMP%]{position:absolute;top:12px;right:8px;background:#fff;border-radius:50%;width:20px;height:20px;display:flex;align-items:center;justify-content:center;box-shadow:#0000000d 0 0 0 1px;cursor:pointer}[draggable][_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.popup-header[_ngcontent-%COMP%]{cursor:move}.discount-badge[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828;padding:2px 6px 2px 0;border-radius:4px;font-size:9px;margin-left:5px}.edit-discount[_ngcontent-%COMP%]{cursor:pointer;color:#0672e4}.edit-discount[_ngcontent-%COMP%]:hover{color:#044d99}.btn-currency.active[_ngcontent-%COMP%], .btn-percent.active[_ngcontent-%COMP%]{color:#000;background-color:#cde3fa;border:1px solid #0672e4}.global-discount[_ngcontent-%COMP%]{padding:8px 0;border-bottom:1px dashed #eee}.global-discount[_ngcontent-%COMP%]   .discount-input[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.global-discount[_ngcontent-%COMP%]   .discount-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:4px 8px;border:1px solid #ddd;border-radius:4px;background:#f8f8f8;cursor:pointer}.global-discount[_ngcontent-%COMP%]   .discount-input[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#0672e4;color:#fff;border-color:#0672e4}.global-discount[_ngcontent-%COMP%]   .discount-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:70px;text-align:center;padding:6px;border:1px solid #ddd;border-radius:4px}.double_row.total[_ngcontent-%COMP%]{border-top:1px solid #ddd;padding-top:8px;margin-top:8px}.global-active[_ngcontent-%COMP%]{background-color:#e6f7ff!important;border:1px solid #91d5ff!important}p[_ngcontent-%COMP%]{margin:0}.btn_container[_ngcontent-%COMP%]{display:grid;grid-template-columns:60px 1fr 60px;margin:10px 10px 0;gap:10px}.btn-payment[_ngcontent-%COMP%]{width:100%;height:80px;color:#fff;border:none;border-radius:4px;font-size:1rem;cursor:pointer}.btn_content[_ngcontent-%COMP%]{margin:0}.btn_delete[_ngcontent-%COMP%], .btn_retourn[_ngcontent-%COMP%]{width:100%;height:80px;border:none;border-radius:4px;font-size:1rem;cursor:pointer}.btn_delete[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.btn_retourn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:25px}.btn_delete[_ngcontent-%COMP%]{background-color:#f2acac;color:#000}.btn_retourn[_ngcontent-%COMP%]{background-color:#f4f4f4;color:#000}.section_list_commande[_ngcontent-%COMP%]{overflow-y:auto;max-height:calc(100vh - 115px);padding-right:5px}.section_list_commande[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.section_list_commande[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#0672e433;border-radius:5px}.section_list_commande[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.ul_commande[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:6px 10px;margin-bottom:10px;margin-top:10px;box-shadow:#0000000d 0 0 0 1px;background-color:#fff}.ul_commande_active[_ngcontent-%COMP%]{background-color:#cde3fa}.commande_date[_ngcontent-%COMP%], .commande_heure[_ngcontent-%COMP%]{font-size:12px}.etat_commande[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background-color:#f4f4f4;padding:3px 20px;border-radius:20px}.icon_delete_commande[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .icon_favory_commande[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}.icon_delete_commande[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:red}.icon_favory_commande[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0672e4}.toolbar[_ngcontent-%COMP%]{display:grid;grid-template-columns:45px 1fr 130px;margin:10px 10px 0}.icon_search[_ngcontent-%COMP%]{height:45px;background-color:#f4f4f4;display:flex;align-items:center;justify-content:center;border-left:1px solid #000;border-top:1px solid #000;border-bottom:1px solid #000;border-top-left-radius:5px;border-bottom-left-radius:5px}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:45px;border:1px solid #000;padding-left:10px}.btn_search_filtre[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{height:45px;width:100%;border-radius:0 5px 5px 0;border:1px solid #000;border-right:1px solid #000;border-top:1px solid #000;border-bottom:1px solid #000;border-left:0px;background-color:#f4f4f4;font-size:12px;color:#000}.btn_search_filtre[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:relative;margin-top:1px;padding-left:5px}.loading_commande[_ngcontent-%COMP%]{padding:20px;text-align:center;color:#666}.double_commande[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px}.btn_search_filtre[_ngcontent-%COMP%]{position:relative}.btn_search_filtre[_ngcontent-%COMP%]   .dropdown_filter[_ngcontent-%COMP%]{position:absolute;top:100%;right:0;width:150px;background:#fff;border:1px solid #ddd;border-radius:4px;box-shadow:0 2px 10px #0000001a;z-index:100;margin-top:5px;padding:0;list-style:none}.btn_search_filtre[_ngcontent-%COMP%]   .dropdown_filter[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:8px 12px;cursor:pointer;transition:background .2s;font-size:14px}.btn_search_filtre[_ngcontent-%COMP%]   .dropdown_filter[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:#f5f5f5}.status-paid[_ngcontent-%COMP%]{color:#28a745;font-weight:500;background-color:#28a7451a!important}.popup-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.popup[_ngcontent-%COMP%]{position:relative;background-color:#fff;padding:30px;border-radius:10px;text-align:center;box-shadow:0 4px 20px #00000026;max-width:400px;width:100%}.pin-container[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:15px;margin:25px 0}.pin-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:50px;height:50px;text-align:center;font-size:24px;border:2px solid #e0e0e0;border-radius:8px;transition:all .3s}.pin-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#0672e4;outline:none;box-shadow:0 0 5px #3477db80}button[_ngcontent-%COMP%]{background-color:#0672e4;color:#fff;border:none;padding:12px 25px;border-radius:6px;cursor:pointer;font-size:16px;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#2980b9}.shake[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shake .5s}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}25%{transform:translate(-10px)}75%{transform:translate(10px)}}.close-btn[_ngcontent-%COMP%]{position:absolute;top:15px;right:15px;background:none;border:none;font-size:24px;cursor:pointer;color:#888;padding:5px;border-radius:50%;width:36px;height:36px;display:flex;align-items:center;justify-content:center;transition:all .3s}.close-btn[_ngcontent-%COMP%]:hover{background-color:#f5f5f5;color:#333}.close-btn[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #3498db4d}']})}}return r})()},9293:(j,b,p)=>{p.d(b,{R:()=>y});var _=p(1626),f=p(4412),C=p(5558),g=p(8810),h=p(8141),x=p(9437),n=p(1985),O=p(2525),P=p(4438),v=p(8026);let y=(()=>{class u{constructor(l,a){this.http=l,this.usersService=a,this.apiUrl=O.c.apiBaseUrl,this.categoriesSubject=new f.t([]),this.categories$=this.categoriesSubject.asObservable()}ajouterCategorie(l){return this.usersService.getValidAccessToken().pipe((0,C.n)(a=>{if(!a)return console.error("\u26a0\ufe0f Token vide ou non d\xe9fini ! V\xe9rifiez que l'utilisateur est bien connect\xe9."),(0,g.$)(()=>new Error("Aucun token valide trouv\xe9"));const m=new _.Lr({Authorization:`Bearer ${a}`});return this.http.post(`${this.apiUrl}/createCategory`,l,{headers:m}).pipe((0,h.M)(k=>{this.categoriesSubject.next([...this.categoriesSubject.value,k])}))}),(0,x.W)(a=>(console.error("Erreur lors de l'ajout de la cat\xe9gorie:",a),(0,g.$)(()=>a))))}getCategories(){return this.usersService.getValidAccessToken().pipe((0,C.n)(l=>{if(!l)return console.error("\u26a0\ufe0f Token vide ou non d\xe9fini ! V\xe9rifiez que l'utilisateur est bien connect\xe9."),new n.c;const a=(new _.Lr).set("Authorization",`Bearer ${l}`);return console.log("\u{1f539} En-t\xeates envoy\xe9s :",a),this.http.get(`${this.apiUrl}/allCategory`,{headers:a}).pipe((0,h.M)(m=>{this.categoriesSubject.next(m)}))}),(0,x.W)(l=>(console.error("Erreur lors de la r\xe9cup\xe9ration des cat\xe9gories:",l),(0,g.$)(()=>l))))}deleteCategorie(l){return this.usersService.getValidAccessToken().pipe((0,C.n)(a=>{if(!a)return console.error("\u26a0\ufe0f Token JWT manquant pour suppression cat\xe9gorie."),(0,g.$)(()=>new Error("Token manquant"));const m=(new _.Lr).set("Authorization",`Bearer ${a}`);return console.log("\u{1f539} Token envoy\xe9 pour DELETE cat\xe9gorie :",m),this.http.delete(`${this.apiUrl}/deleteCategory/${l}`,{headers:m,responseType:"text"})}),(0,x.W)(a=>(console.error("\u274c Erreur API DELETE :",a),(0,g.$)(()=>a))))}static{this.\u0275fac=function(a){return new(a||u)(P.KVO(_.Qq),P.KVO(v.g))}}static{this.\u0275prov=P.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})()}}]);