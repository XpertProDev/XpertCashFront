"use strict";(self.webpackChunkskeleton=self.webpackChunkskeleton||[]).push([[4310],{2120:(R,O,r)=>{r.d(O,{r:()=>l});var m=r(1626),_=r(4412),b=r(9437),I=r(8810),E=r(8141),x=r(1985),j=r(5558),k=r(2525),i=r(4438);let l=(()=>{class e{constructor(p){this.http=p,this.apiUrl=k.c.apiBaseUrl,this.entrepriseSubject=new _.t([]),this.entreprise$=this.entrepriseSubject.asObservable()}getListEntreprises(){const p=localStorage.getItem("authToken")||"",h=new m.Lr({Authorization:`Bearer ${p}`,"Content-Type":"application/json"});return this.http.get(`${this.apiUrl}/entreprises`,{headers:h}).pipe((0,b.W)(F=>{let f="Erreur inconnue";return F.error instanceof ErrorEvent?f=`Erreur: ${F.error.message}`:404===F.status&&(f="Aucune entreprise trouv\xe9e"),(0,I.$)(()=>new Error(f))}))}addEntreprise(p){const h=localStorage.getItem("authToken")||"",F=new m.Lr({Authorization:`Bearer ${h}`,"Content-Type":"application/json"});return this.http.post(`${this.apiUrl}/entreprises`,p,{headers:F}).pipe((0,b.W)(f=>{let C="Erreur inconnue";return f.error instanceof ErrorEvent?C=`Erreur: ${f.error.message}`:400===f.status&&(C=f.error||"Donn\xe9es invalides"),(0,I.$)(()=>new Error(C))}),(0,E.M)(f=>{this.entrepriseSubject.next([...this.entrepriseSubject.value,f])}))}getListEntreprise(p){if(!p)return console.error("Token vide ou non d\xe9fini ! V\xe9rifiez que l'utilisateur est bien connect\xe9."),new x.c;const h=(new m.Lr).set("Authorization",`Bearer ${p}`);return console.log("En-t\xeates envoy\xe9r : ",h),this.http.get(`${this.apiUrl}/entreprises`,{headers:h}).pipe((0,E.M)(F=>{this.entrepriseSubject.next(F)}))}getEntrepriseById(p){const h=localStorage.getItem("authToken")||"",F=new m.Lr({Authorization:`Bearer ${h}`,"Content-Type":"application/json"});return this.http.get(`${this.apiUrl}/entreprises/${p}`,{headers:F}).pipe((0,b.W)(f=>{let C="Erreur inconnue";return f.error instanceof ErrorEvent?C=`Erreur: ${f.error.message}`:404===f.status&&(C="Entreprise non trouv\xe9e"),(0,I.$)(()=>new Error(C))}))}updateEntreprise(p,h){const F=localStorage.getItem("authToken")||"",f=new m.Lr({Authorization:`Bearer ${F}`});return this.http.patch(`${this.apiUrl}/updateEntreprise/${p}`,h,{headers:f,responseType:"text"}).pipe((0,b.W)(C=>{let y="Erreur inconnue";return C.error instanceof ErrorEvent?y=`Erreur: ${C.error.message}`:400===C.status&&(y=C.error||"Donn\xe9es invalides"),(0,I.$)(()=>new Error(y))}))}getEntrepriseInfo(){const p=localStorage.getItem("authToken");if(!p)return console.error("Aucun token trouv\xe9"),(0,I.$)(()=>new Error("Aucun token trouv\xe9"));const h=this.decodeJwt(p);if(this.isTokenExpired(h))return this.getNewTokenFromApi().pipe((0,j.n)(f=>{localStorage.setItem("authToken",f.token);const C=new m.Lr({Authorization:`Bearer ${f.token}`});return this.http.get(`${this.apiUrl}/myEntreprise`,{headers:C}).pipe((0,E.M)(y=>{localStorage.setItem("entreprise",JSON.stringify(y))}))}));{const f=new m.Lr({Authorization:`Bearer ${p}`});return this.http.get(`${this.apiUrl}/myEntreprise`,{headers:f}).pipe((0,E.M)(C=>{localStorage.setItem("entreprise",JSON.stringify(C))}))}}decodeJwt(p){return JSON.parse(atob(p.split(".")[1]))}isTokenExpired(p){return new Date(1e3*p.exp)<new Date}getNewTokenFromApi(){const p=localStorage.getItem("refreshToken");return this.http.post(`${this.apiUrl}/refresh-token`,{refreshToken:p})}static{this.\u0275fac=function(h){return new(h||e)(i.KVO(m.Qq))}}static{this.\u0275prov=i.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})()},1716:(R,O,r)=>{r.r(O),r.d(O,{AccountSettingsComponent:()=>fe});var m=r(177),_=r(9417),b=r(3),I=r(4114),E=r(1811),x=r(6850),j=r(9980),k=r(1626),i=r(2525),l=r(6115),e=r(4438),g=r(2120),p=r(5416),h=r(1860),F=r(8026),f=r(4173),C=r(9192);const y=["fileInput"];function D(o,u){1&o&&(e.j41(0,"div",108)(1,"div",109),e.nrm(2,"div",110),e.j41(3,"p"),e.EFF(4,"Modification en cours..."),e.k0s()()())}function $(o,u){if(1&o){const t=e.RV6();e.j41(0,"div",111),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.fermerModal())}),e.j41(1,"div",112),e.bIt("click",function(n){return e.eBV(t),e.Njj(n.stopPropagation())}),e.nrm(2,"img",113),e.j41(3,"button",114),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.fermerModal())}),e.EFF(4,"\u2715"),e.k0s()()()}if(2&o){const t=e.XpG();e.R7$(2),e.Y8G("src",t.photo||"assets/img/profil.png",e.B4B)}}function B(o,u){1&o&&(e.j41(0,"small",116),e.EFF(1," Ce champ est obligatoire "),e.k0s())}function L(o,u){if(1&o&&(e.j41(0,"div"),e.DNE(1,B,2,0,"small",115),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==t.currentPassword||null==t.currentPassword.errors?null:t.currentPassword.errors.required)}}function N(o,u){1&o&&(e.j41(0,"div",117),e.nrm(1,"i",118),e.k0s())}function U(o,u){1&o&&(e.j41(0,"div",119),e.nrm(1,"i",120),e.k0s())}function z(o,u){1&o&&(e.j41(0,"small",116),e.EFF(1," Ce champ est obligatoire "),e.k0s())}function G(o,u){1&o&&(e.j41(0,"small",116),e.EFF(1," Minimum 8 caract\xe8res "),e.k0s())}function K(o,u){if(1&o&&(e.j41(0,"div"),e.DNE(1,z,2,0,"small",115)(2,G,2,0,"small",115),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==t.newPassword||null==t.newPassword.errors?null:t.newPassword.errors.required),e.R7$(),e.Y8G("ngIf",null==t.newPassword||null==t.newPassword.errors?null:t.newPassword.errors.minlength)}}function V(o,u){1&o&&(e.j41(0,"div",117),e.nrm(1,"i",118),e.k0s())}function Y(o,u){1&o&&(e.j41(0,"div",119),e.nrm(1,"i",120),e.k0s())}function W(o,u){1&o&&(e.j41(0,"small",116),e.EFF(1," Les mots de passe ne correspondent pas "),e.k0s())}function X(o,u){if(1&o&&(e.j41(0,"div"),e.DNE(1,W,2,0,"small",115),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==t.passwordForm.errors?null:t.passwordForm.errors.mismatch)}}function J(o,u){1&o&&(e.j41(0,"span"),e.EFF(1,"Confirmer"),e.k0s())}function H(o,u){1&o&&(e.j41(0,"span"),e.EFF(1,"Chargement..."),e.k0s())}function Z(o,u){1&o&&(e.j41(0,"small",116),e.EFF(1," Ce champ est obligatoire "),e.k0s())}function Q(o,u){if(1&o&&(e.j41(0,"div"),e.DNE(1,Z,2,0,"small",115),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==t.phoneControl||null==t.phoneControl.errors?null:t.phoneControl.errors.required)}}function q(o,u){1&o&&(e.j41(0,"div",117),e.nrm(1,"i",118),e.k0s())}function ee(o,u){1&o&&(e.j41(0,"div",119),e.nrm(1,"i",120),e.k0s())}function te(o,u){1&o&&(e.j41(0,"span"),e.EFF(1,"Confirmer"),e.k0s())}function ne(o,u){1&o&&(e.j41(0,"span"),e.EFF(1,"Traitement..."),e.k0s())}function oe(o,u){if(1&o&&(e.j41(0,"p")(1,"strong"),e.EFF(2),e.k0s()()),2&o){let t;const s=e.XpG();e.R7$(2),e.JRh(null==(t=s.form.get("siteWeb"))?null:t.value)}}function ie(o,u){if(1&o&&(e.j41(0,"div")(1,"em"),e.EFF(2),e.k0s()()),2&o){const t=e.XpG();e.R7$(2),e.JRh(t.getLegalInfo())}}function se(o,u){if(1&o&&(e.j41(0,"div")(1,"em"),e.EFF(2),e.k0s()()),2&o){const t=e.XpG();e.R7$(2),e.JRh(t.getAddressInfo())}}function re(o,u){1&o&&(e.j41(0,"div",24),e.nrm(1,"input",121),e.j41(2,"label",85),e.EFF(3,"Pr\xe9fixe de votre facture"),e.k0s()())}function ae(o,u){1&o&&(e.j41(0,"div",24),e.nrm(1,"input",122),e.j41(2,"label",85),e.EFF(3,"Suffixe de votre facture"),e.k0s()())}function le(o,u){if(1&o&&(e.j41(0,"div",132),e.EFF(1),e.k0s()),2&o){const t=e.XpG().$implicit;e.R7$(),e.SpI(" Restant : ",t.tempsRestantEssai," ")}}function ce(o,u){if(1&o&&(e.j41(0,"div",133),e.EFF(1),e.nI1(2,"customNumber"),e.k0s()),2&o){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",e.bMT(2,1,t.prix)," CFA ")}}function pe(o,u){if(1&o){const t=e.RV6();e.j41(0,"button",134),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,c=e.XpG();return e.Njj(c.activerModule(n))}),e.EFF(1),e.k0s()}if(2&o){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",t.payant&&t.tempsRestantEssai&&"Termin\xe9"!==t.tempsRestantEssai?"Activer (Essai en cours)":"Activer"," ")}}function de(o,u){1&o&&(e.j41(0,"div",135),e.EFF(1," Activ\xe9 "),e.k0s())}function ue(o,u){if(1&o&&(e.j41(0,"div",123),e.DNE(1,le,2,1,"div",124),e.j41(2,"div",125),e.nrm(3,"img",126),e.k0s(),e.j41(4,"h2",127),e.EFF(5),e.k0s(),e.j41(6,"p",128),e.EFF(7),e.k0s(),e.DNE(8,ce,3,3,"div",129)(9,pe,2,1,"button",130)(10,de,2,0,"div",131),e.k0s()),2&o){const t=u.$implicit;e.R7$(),e.Y8G("ngIf",t.tempsRestantEssai),e.R7$(2),e.FS9("alt",t.nom),e.Y8G("src","assets/modules/"+t.code.toLowerCase()+".png",e.B4B),e.R7$(2),e.JRh(t.nom),e.R7$(2),e.SpI(" ",t.description||"Module suppl\xe9mentaire pour votre entreprise"," "),e.R7$(),e.Y8G("ngIf",t.payant),e.R7$(),e.Y8G("ngIf",!t.actif||t.actif&&t.tempsRestantEssai&&"Termin\xe9"!==t.tempsRestantEssai),e.R7$(),e.Y8G("ngIf",t.actif&&(!t.tempsRestantEssai||"Termin\xe9"===t.tempsRestantEssai))}}function me(o,u){if(1&o&&(e.j41(0,"p")(1,"strong",147),e.EFF(2),e.k0s()()),2&o){let t;const s=e.XpG(2);e.R7$(2),e.JRh(null==(t=s.form.get("siteWeb"))?null:t.value)}}function _e(o,u){if(1&o&&(e.j41(0,"div")(1,"em",161),e.EFF(2),e.k0s()()),2&o){const t=e.XpG(2);e.R7$(2),e.JRh(t.getLegalInfo())}}function ge(o,u){if(1&o&&(e.j41(0,"div")(1,"em",161),e.EFF(2),e.k0s()()),2&o){const t=e.XpG(2);e.R7$(2),e.JRh(t.getAddressInfo())}}function he(o,u){if(1&o){const t=e.RV6();e.j41(0,"div",136),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closePreview())}),e.j41(1,"div",137),e.bIt("click",function(n){return e.eBV(t),e.Njj(n.stopPropagation())}),e.j41(2,"div",138)(3,"div",139),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closePreview())}),e.nrm(4,"i",140),e.k0s(),e.j41(5,"div",47)(6,"div",48)(7,"div",141)(8,"img",50),e.bIt("error",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.logo="http://localhost:8080/assets/img/logo.jpeg")}),e.k0s()(),e.j41(9,"div",51)(10,"div",142)(11,"p",143),e.EFF(12),e.k0s(),e.j41(13,"p",144),e.EFF(14),e.k0s(),e.j41(15,"div",145),e.EFF(16,"Email : "),e.j41(17,"a",56),e.EFF(18),e.k0s(),e.EFF(19),e.k0s()()()(),e.nrm(20,"hr")(21,"hr"),e.j41(22,"div",57)(23,"h2",146),e.EFF(24,"Facture proforma: "),e.j41(25,"span",58),e.EFF(26),e.k0s()()(),e.j41(27,"div",59)(28,"p",147),e.EFF(29),e.k0s()(),e.j41(30,"div",148)(31,"h4"),e.EFF(32,"Client : "),e.k0s(),e.j41(33,"p"),e.EFF(34,"Nom de client "),e.k0s()(),e.j41(35,"div",149)(36,"h4"),e.EFF(37,"Objet :"),e.k0s(),e.j41(38,"p"),e.EFF(39,"Une petite description de l'objet"),e.k0s()(),e.j41(40,"table",150)(41,"thead")(42,"tr")(43,"th",151),e.EFF(44,"D\xe9signation"),e.k0s(),e.j41(45,"th",152),e.EFF(46,"Description"),e.k0s(),e.j41(47,"th",151),e.EFF(48,"PU"),e.k0s(),e.j41(49,"th",151),e.EFF(50,"Quantit\xe9"),e.k0s(),e.j41(51,"th",151),e.EFF(52,"Montant (FCFA)"),e.k0s()()(),e.j41(53,"tbody")(54,"tr")(55,"td",153),e.EFF(56,"Produit nom"),e.k0s(),e.j41(57,"td",153),e.EFF(58,"Desc..."),e.k0s(),e.j41(59,"td",154),e.EFF(60,"00"),e.k0s(),e.j41(61,"td",154),e.EFF(62,"00"),e.k0s(),e.j41(63,"td",154),e.EFF(64," 0000"),e.k0s()()(),e.j41(65,"tfoot")(66,"tr")(67,"td",155),e.EFF(68,"Total HT"),e.k0s(),e.j41(69,"td",154),e.EFF(70,"0000"),e.k0s()(),e.j41(71,"tr")(72,"td",155),e.EFF(73,"Remise 0 %"),e.k0s(),e.j41(74,"td",154),e.EFF(75," 0000 "),e.k0s()(),e.j41(76,"tr")(77,"td",155),e.EFF(78,"Montant commercial"),e.k0s(),e.j41(79,"td",154),e.EFF(80," 0000 "),e.k0s()(),e.j41(81,"tr")(82,"td",155),e.EFF(83),e.nI1(84,"number"),e.k0s(),e.j41(85,"td",154),e.EFF(86," 0000 "),e.k0s()(),e.j41(87,"tr")(88,"td",155),e.EFF(89,"Montant TTC"),e.k0s(),e.j41(90,"td",154),e.EFF(91," 0000 "),e.k0s()()()(),e.j41(92,"div",65)(93,"p",156)(94,"span",66),e.EFF(95,"Arr\xeat\xe9 la pr\xe9sente facture \xe0 la somme de : "),e.k0s(),e.EFF(96," Zero ....."),e.k0s()(),e.j41(97,"div",67),e.nrm(98,"div"),e.j41(99,"div",157)(100,"h6"),e.EFF(101),e.k0s(),e.j41(102,"h6",158),e.EFF(103),e.k0s(),e.j41(104,"span",159),e.EFF(105),e.k0s()()()(),e.j41(106,"div",71)(107,"div",72)(108,"div",71)(109,"div",160),e.nrm(110,"hr"),e.DNE(111,me,3,1,"p",27)(112,_e,3,1,"div",27)(113,ge,3,1,"div",27),e.k0s()()()()()()()}if(2&o){let t,s,n,c,a,d,v,M,w,A,S;const P=e.XpG();e.R7$(8),e.Y8G("src",P.logo,e.B4B),e.R7$(4),e.JRh(null==(t=P.form.get("nom"))?null:t.value),e.R7$(2),e.SpI("Secterur: ",null==(s=P.form.get("secteur"))?null:s.value,""),e.R7$(4),e.SpI(" ",null==(n=P.form.get("email"))?null:n.value,""),e.R7$(),e.SpI(" T\xe9l\xe9phone : ",null==(c=P.form.get("telephone"))?null:c.value,""),e.R7$(7),e.Lme("",null==(a=P.form.get("prefixe"))?null:a.value,"-xxx-xx-xxxx ",null==(a=P.form.get("suffixe"))?null:a.value,""),e.R7$(3),e.SpI("",null==(d=P.form.get("siege"))?null:d.value,", le ..."),e.R7$(54),e.SpI("",e.i5U(84,15,100*(null==(v=P.form.get("tauxTva"))?null:v.value),"1.0-0"),"%"),e.R7$(18),e.JRh(null==(M=P.form.get("signataire"))?null:M.value),e.R7$(2),e.JRh(null==(w=P.form.get("signataireNom"))?null:w.value),e.R7$(2),e.SpI(" ",null==(A=P.form.get("signataireNom"))?null:A.value," "),e.R7$(6),e.Y8G("ngIf",null==(S=P.form.get("siteWeb"))?null:S.value),e.R7$(),e.Y8G("ngIf",P.getLegalInfo()),e.R7$(),e.Y8G("ngIf",P.getAddressInfo())}}let fe=(()=>{class o{get currentPassword(){return this.passwordForm.get("currentPassword")}get newPassword(){return this.passwordForm.get("newPassword")}get confirmPassword(){return this.passwordForm.get("confirmPassword")}get nomBoutiqueControl(){return this.nomBoutiqueForm.get("nomBoutique")}get adresseControl(){return this.nomBoutiqueForm.get("adresse")}get nomCompletControl(){return this.nomCompletForm.get("nomComplet")}get phoneControl(){return this.nomCompletForm.get("phone")}get passwordControl(){return this.nomCompletForm.get("password")}toggleCurrentPasswordVisibility(){this.showCurrentPassword=!this.showCurrentPassword}toggleNewPasswordVisibility(){this.showNewPassword=!this.showNewPassword}toggleConfirmPasswordVisibility(){this.showConfirmPassword=!this.showConfirmPassword}togglePasswordForm(){this.isPasswordFormVisible=!this.isPasswordFormVisible}constructor(t,s,n,c,a,d,v,M,w){this.fb=t,this.entrepriseService=s,this.cdRef=n,this.snackBar=c,this.profilService=a,this.usersService=d,this.zone=v,this.moduleService=M,this.router=w,this.logo=null,this.selectedLogoFile=null,this.entrepriseId=null,this.isLoading=!1,this.showPreview=!1,this.successMessage=null,this.password="",this.photoUrl="assets/img/profil.png",this.photo="",this.isModalOpen=!1,this.photoRefreshToken=(new Date).getTime(),this.imageFile=null,this.showCurrentPassword=!1,this.showNewPassword=!1,this.showConfirmPassword=!1,this.errorMessage=null,this.isPasswordFormVisible=!1,this.userName="",this.nomEntreprise="",this.email="",this.phone="",this.roleType="",this.pays="",this.nomBoutique="",this.boutiqueAdresse="",this.flagPays="",this.personalCode="",this.isNomBoutiqueFormVisible=!1,this.isSending=!1,this.isUserFormVisible=!1,this.boutiques=[],this.showPasswordInPersonalForm=!1,this.modules=[],this.errorMsg="",this.apiUrl=i.c.imgUrl,this.fallbackLogo=`${this.apiUrl}/defaultLogo/Votre.png`,this.paysFlags={Mali:"\u{1f1f2}\u{1f1f1}",S\u00e9n\u00e9gal:"\u{1f1f8}\u{1f1f3}","C\xf4te d'Ivoire":"\u{1f1e8}\u{1f1ee}"}}ngOnInit(){this.initForm(),this.initForm(),this.getFormInit(),this.getEntrepriseInfo(),this.listenToPrefixSuffixChanges(),this.getConnectedUserId(),this.getUserInfo(),this.loadModules();const t=localStorage.getItem("photo");t&&(this.photo=t)}getConnectedUserId(){this.usersService.getUserInfo().subscribe({next:t=>{if(t&&t.id)this.userId=t.id;else{const s=JSON.parse(localStorage.getItem("user")||"{}");s&&s.id?this.userId=s.id:this.errorMessage="Utilisateur non authentifi\xe9."}},error:t=>{console.error("Erreur lors de la r\xe9cup\xe9ration des infos utilisateur:",t),this.errorMessage="Impossible de r\xe9cup\xe9rer l'utilisateur connect\xe9."}})}getUserInfo(){this.usersService.getUserInfo().subscribe({next:t=>{const s=(new Date).getTime();this.photo=t.photo?`${this.apiUrl}${t.photo}?t=${s}`:"assets/img/profil.png",this.userName=t.nomComplet,this.personalCode=t.personalCode,this.nomEntreprise=t.nomEntreprise,this.email=t.email,this.phone=t.phone,this.photo=t.photo?`${this.apiUrl}${t.photo}`:"assets/img/profil.png",this.roleType=t.roleType,this.pays=t.pays,this.nomBoutique=t.boutiques?.length?t.boutiques[0].nomBoutique:"Aucune boutique",this.flagPays=this.paysFlags[this.pays]||"",this.boutiques=t.boutiques||[],console.log("Liste des boutiques:",this.boutiques),console.log("Infos utilisateur r\xe9cup\xe9r\xe9es :",t),this.nomCompletForm.patchValue({nomComplet:t.nomComplet,phone:t.phone,password:""}),this.cdRef.detectChanges()},error:t=>{console.error("Erreur lors de la r\xe9cup\xe9ration des infos utilisateur :",t)}})}togglePasswordVisibilityInPersonalForm(){this.showPasswordInPersonalForm=!this.showPasswordInPersonalForm}initForm(){this.passwordForm=this.fb.group({currentPassword:["",[_.k0.required]],newPassword:["",[_.k0.required,_.k0.minLength(8)]],confirmPassword:["",[_.k0.required]]},{validators:this.passwordMatchValidator}),this.nomCompletForm=this.fb.group({nomComplet:[""],phone:["",[_.k0.pattern("^\\+?[0-9]{7,15}$")]],password:["",[_.k0.required,_.k0.minLength(6)]]})}passwordMatchValidator(t){const s=t.get("newPassword")?.value,n=t.get("confirmPassword")?.value;return s===n?null:{mismatch:!0}}get tauxTvaAffiche(){const t=this.form.get("tauxTva")?.value;return null!==t?Math.round(100*t):0}onTauxTvaInput(t){const n=parseFloat(t.target.value);isNaN(n)?this.form.get("tauxTva")?.setValue(null):this.form.get("tauxTva")?.setValue(n/100)}getFormInit(){this.form=this.fb.group({nom:["Entreprise"],secteur:["xxxx"],email:["example@gmail.com"],adresse:["xxxx"],pays:["Bamako-Mali"],telephone:["xx xx xx xx"],siteWeb:["www.xpertpro.com"],banque:["xxxx"],siege:["xxxx"],nina:["xxxx"],rccm:["xxxx"],nif:["xxxx"],signataire:["Monsieur X"],signataireNom:["Le Directeur G\xe9n\xe9ral"],prefixe:["xxxx"],suffixe:["xxxx"],tauxTva:[null]})}getEntrepriseInfo(){this.entrepriseService.getEntrepriseInfo().subscribe({next:t=>{this.entrepriseId=void 0!==t.id?t.id:null,this.form.patchValue({nom:t.nom,secteur:t.secteur,email:t.email,adresse:t.adresse,pays:t.pays,telephone:t.telephone,siteWeb:t.siteWeb,banque:t.banque,siege:t.siege,nina:t.nina,rccm:t.rccm,nif:t.nif,signataire:t.signataire,signataireNom:t.signataireNom,logo:t.logo,prefixe:t.prefixe,suffixe:t.suffixe,tauxTva:t.tauxTva}),console.log("Logo path from server:",t),console.log("Logo path from server:",t.logo),this.logo=`${this.apiUrl}${t.logo}`,this.cdRef.markForCheck()},error:t=>{console.error("Erreur lors de la r\xe9cup\xe9ration des informations de l'entreprise",t)}})}onChangeLogoClick(){this.fileInput.nativeElement.click()}openPreview(){this.showPreview=!0}closePreview(){this.showPreview=!1}onFileSelected(t){const s=t.target.files[0];if(s){this.selectedLogoFile=s;const n=new FileReader;n.onload=c=>{const a=new Image;a.src=c.target.result,a.onload=()=>{const v=document.createElement("canvas"),M=v.getContext("2d");if(a.width>800||a.height>800){const w=Math.min(800/a.width,800/a.height);v.width=a.width*w,v.height=a.height*w,M?.drawImage(a,0,0,v.width,v.height),this.logo=v.toDataURL("image/jpeg",.8)}else this.logo=c.target.result;this.cdRef.markForCheck(),this.fileInput.nativeElement.value=""}},n.readAsDataURL(s)}}onSubmit(){if(!this.entrepriseId)return void console.error("ID de l'entreprise manquant");this.isLoading=!0;const t=new FormData;t.append("entreprise",JSON.stringify(this.form.value)),this.selectedLogoFile&&t.append("logo",this.selectedLogoFile),setTimeout(()=>{this.entrepriseService.updateEntreprise(this.entrepriseId,t).subscribe({next:n=>{this.isLoading=!1,this.snackBar.open(n,"Fermer",{duration:3e3}),this.getEntrepriseInfo(),this.selectedLogoFile=null},error:n=>{this.isLoading=!1,this.snackBar.open(n.error||"Erreur lors de la mise \xe0 jour","Fermer",{duration:3e3})}})},3e3)}shouldShowPrefixe(){return!this.form.get("suffixe")?.value}shouldShowSuffixe(){return!this.form.get("prefixe")?.value}listenToPrefixSuffixChanges(){this.form.get("prefixe")?.valueChanges.subscribe(()=>{this.cdRef.markForCheck()}),this.form.get("suffixe")?.valueChanges.subscribe(()=>{this.cdRef.markForCheck()})}getLegalInfo(){const t=[];return this.form.get("nina")?.value&&t.push(`NINA : ${this.form.get("nina")?.value}`),this.form.get("rccm")?.value&&t.push(`RCCM : ${this.form.get("rccm")?.value}`),this.form.get("nif")?.value&&t.push(`NIF : ${this.form.get("nif")?.value}`),this.form.get("banque")?.value&&t.push(`Banque : ${this.form.get("banque")?.value}`),t.join(" ; ")}getAddressInfo(){const t=this.form.get("adresse")?.value,s=this.form.get("pays")?.value;return t&&s?`Adresse : ${t} / ${s}`:t?`Adresse : ${t}`:s?`Adresse : ${s}`:""}updatePassword(){if(this.errorMessage=null,this.successMessage=null,this.passwordForm.invalid)return void this.snackBar.open("Veuillez remplir tous les champs correctement","Fermer",{duration:3e3});const{currentPassword:t,newPassword:s,confirmPassword:n}=this.passwordForm.value;s===n?(this.isLoading=!0,this.profilService.updatePassword(this.userId,{password:t,newPassword:s}).subscribe({next:a=>{this.isLoading=!1,this.cdRef.detectChanges();const d=a.includes("succ\xe8s")?a:"Mot de passe modifi\xe9 !";this.snackBar.open(d,"Fermer",{duration:3e3}),this.isPasswordFormVisible=!1,this.passwordForm.reset()},error:a=>{this.isLoading=!1;let d="Erreur inconnue";a instanceof k.yz&&(d=a.error.message||a.error||d),this.snackBar.open(d,"Fermer",{duration:3e3})}})):this.snackBar.open("Les nouveaux mots de passe ne correspondent pas","Fermer",{duration:3e3})}onSubmitUpdateUser(){if(this.errorMessage=null,this.successMessage=null,this.isLoading=!0,this.nomCompletForm.invalid)return this.errorMessage="Veuillez remplir tous les champs correctement",void(this.isLoading=!1);const{nomComplet:t,phone:s,password:n}=this.nomCompletForm.value,c={nomComplet:t,phone:s,password:n},a=new FormData;a.append("user",JSON.stringify(c)),this.imageFile&&a.append("photo",this.imageFile),this.usersService.updateUser(this.userId,a).subscribe({next:d=>{this.isLoading=!1,this.cdRef.detectChanges();const v="string"==typeof d?d:d?.message;this.zone.run(()=>{this.snackBar.open(v,"Fermer",{duration:3e3}),this.nomCompletForm.reset()})},error:d=>{this.isLoading=!1,this.cdRef.detectChanges();let v="Erreur lors de la mise \xe0 jour";d instanceof k.yz&&(v=d.error.message||d.error||v),this.zone.run(()=>{this.snackBar.open(v,"Fermer",{duration:3e3})})}})}changerPhoto(t){t.stopPropagation(),document.getElementById("profilePhotoInput").click()}visualiserPhoto(t){t.target.classList.contains("camera-icon")||(this.isModalOpen=!0)}fermerModal(){this.isModalOpen=!1}onProfilePhotoSelected(t){const s=t.target;if(s.files&&s.files[0]){const n=s.files[0];this.imageFile=n;const c=new FileReader;c.onload=d=>{const v=d.target.result;this.photo=v,localStorage.setItem("photo",v),window.dispatchEvent(new Event("storage-photo-update"))},c.readAsDataURL(n);const a=new FormData;a.append("photo",n),this.usersService.updateUser(this.userId,a).subscribe({next:d=>{this.snackBar.open("Photo mise \xe0 jour avec succ\xe8s","Fermer",{duration:3e3}),this.refreshPhoto()},error:d=>{this.snackBar.open("\xc9chec de la mise \xe0 jour","Fermer",{duration:3e3}),this.refreshPhoto()}})}}refreshPhoto(){const t=(new Date).getTime();this.usersService.getUserInfo().subscribe(s=>{this.photo=s.photo?`${this.apiUrl}${s.photo}?t=${t}`:"assets/img/profil.png",this.cdRef.detectChanges()})}loadModules(){this.moduleService.getModulesEntreprise().subscribe({next:t=>this.modules=t,error:t=>this.errorMsg="Erreur lors du chargement des modules"})}activerModule(t){this.router.navigate(["/pricing",t.code])}static{this.\u0275fac=function(s){return new(s||o)(e.rXU(_.ok),e.rXU(g.r),e.rXU(e.gRc),e.rXU(p.UG),e.rXU(h.O),e.rXU(F.g),e.rXU(e.SKi),e.rXU(f.A),e.rXU(C.Ix))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-account-settings"]],viewQuery:function(s,n){if(1&s&&e.GBs(y,5),2&s){let c;e.mGM(c=e.lsd())&&(n.fileInput=c.first)}},features:[e.Jv_([(0,b.aw)()])],decls:308,vars:47,consts:[["fileInput",""],[1,"account-settings"],["class","loading-overlay",4,"ngIf"],[1,"information_cadre"],[1,"section"],[1,"section_title"],[1,"section_navbar"],[1,"custom-tabs",3,"selectedIndex"],["label","Compte"],[1,"tab-content"],[1,"container_compte_profil"],[1,"champ_grid_double"],[1,"setting_profil","cadre_photo"],[1,"content_setting_profil"],[1,"tilte_profil"],[1,"profile-img-wrapper",3,"click"],["alt","Photo de profil",1,"profile-img",3,"error","src"],[1,"btn_changer_profil"],[1,"btn","camera-icon",3,"click"],["type","file","id","profilePhotoInput","accept","image/*","hidden","",3,"change"],["class","photo-modal",3,"click",4,"ngIf"],[1,"info_capacity_profil"],[1,"setting_profil","cadre_password"],[1,"info_titre_input",3,"formGroup"],[1,"champ_input"],["formControlName","currentPassword","placeholder","Saisis le mot de passe actuel",1,"input_focus",3,"type"],[1,"label","labelColor"],[4,"ngIf"],[1,"eye_container",3,"click"],["class","eye_ferme",4,"ngIf"],["class","eye_ouvre",4,"ngIf"],["formControlName","newPassword","placeholder","Saisis le nouveau mot de passe",1,"input_focus",3,"type"],["formControlName","confirmPassword","placeholder","Confirmer le nouveau mot de passe",1,"input_focus",3,"type"],[1,"btn_save"],["type","submit",1,"btn",3,"click","disabled"],[1,"info_personnel"],[1,"info_titre_input",3,"ngSubmit","formGroup"],["formControlName","nomComplet","placeholder","Saisissez votre nom complet",1,"input_focus"],["type","tel","formControlName","phone","placeholder","Saisissez votre num\xe9ro de t\xe9l\xe9phone",1,"input_focus"],["formControlName","password","placeholder","Saisissez votre mot de passe",1,"input_focus",3,"type"],[1,"btn_double"],["type","submit",1,"btn",3,"disabled"],["label","Notifications"],["label","Factures"],[1,"content_setting_facture"],[1,"contenu_left_facture"],[1,"facture_model"],[1,"content"],[1,"header_apercu"],[1,"logo_entreprise"],["alt","Logo de l'entreprise",3,"error","src"],[1,"entete_entreprise"],[1,"content_entete"],[1,"para1"],[1,"para2"],[1,"para3"],["href","mail"],[1,"titre"],[2,"color","#0000003e"],[1,"date"],[1,"droit"],[1,"object"],[2,"width","70px!important"],[1,"td_left"],["colspan","4"],[1,"contenu_bottom"],[2,"font-weight","600"],[1,"cachet_container"],[1,"cachet"],[1,"name_directeur"],[1,"cachetSign"],[1,"container_footer"],[1,"footer"],["title","Voir l'aper\xe7u de la facture",1,"voir_apercu",3,"click"],[1,"ri-eye-2-line"],[1,"champs_setting_facture"],[1,"content_edit_facture",3,"formGroup"],[1,"titre_champ"],["type","file","accept","image/*","id","uniqueFileInputId",2,"display","none",3,"change"],[1,"champ_grid",2,"margin","10px 0 15px","display","flex","align-items","center"],[2,"margin","0","font-size","12px","display","flex","align-items","center"],["href","javascript:void(0)","title","Changer le logo",2,"padding-left","8px","cursor","pointer","display","inline-flex","align-items","center",3,"click"],["src","assets/img/appareil.png","alt","Changer logo",2,"width","25px","height","25px"],[1,"champ_grid"],["type","text","formControlName","nom","readonly","","placeholder","Saisis le nom entreprise",1,"input_focus",2,"cursor","no-drop","color","#8f8f8f!important"],[1,"label"],["type","text","formControlName","secteur","placeholder","Saisis le secteur",1,"input_focus"],["type","email","formControlName","email","placeholder","Saisis l'email",1,"input_focus"],["type","telephone","formControlName","telephone","placeholder","00 00 00 00",1,"input_focus"],["type","text","formControlName","siege","placeholder","ex: Bamako",1,"input_focus"],["type","text","formControlName","pays","placeholder","Votre pays",1,"input_focus"],["class","champ_input",4,"ngIf"],["type","number",1,"input_focus",3,"input","value"],[1,"titre_champ",2,"margin-top","30px"],["type","text","formControlName","siteWeb","placeholder","Saisis le site web",1,"input_focus"],["type","text","formControlName","banque","placeholder","Saisis le banque",1,"input_focus"],["type","text","formControlName","nina","placeholder","Saisis le nina",1,"input_focus"],["type","text","formControlName","rccm","placeholder","Saisis l'rccm",1,"input_focus"],["type","text","formControlName","nif","placeholder","Saisis le nif",1,"input_focus"],["type","text","formControlName","adresse","placeholder","Saisis l'adresse",1,"input_focus"],["type","text","formControlName","signataireNom","placeholder","Saisis le nom du signataire",1,"input_focus"],["type","text","formControlName","signataire","placeholder","Saisis le post de signataire",1,"input_focus"],[1,"btn",3,"click"],["label","S\xe9curit\xe9"],["label","App"],[1,"module-grid"],["class","module-card",4,"ngFor","ngForOf"],["class","preview-overlay",3,"click",4,"ngIf"],[1,"loading-overlay"],[1,"loading-content"],[1,"spinner"],[1,"photo-modal",3,"click"],[1,"photo-modal-content",3,"click"],[3,"src"],[1,"fermer-btn",3,"click"],["class","text-danger",4,"ngIf"],[1,"text-danger"],[1,"eye_ferme"],[1,"ri-eye-close-line"],[1,"eye_ouvre"],[1,"ri-eye-line"],["type","text","formControlName","prefixe","placeholder","Saisis le prefixe de votre facture",1,"input_focus"],["type","text","formControlName","suffixe","placeholder","Saisis le suffixe de votre facture",1,"input_focus"],[1,"module-card"],["class","module-essai",4,"ngIf"],[1,"module-icon"],[3,"src","alt"],[1,"module-title"],[1,"module-description"],["class","module-price",4,"ngIf"],["class","module-btn",3,"click",4,"ngIf"],["class","module-actif",4,"ngIf"],[1,"module-essai"],[1,"module-price"],[1,"module-btn",3,"click"],[1,"module-actif"],[1,"preview-overlay",3,"click"],[1,"preview-content",3,"click"],[1,"facture_model_preview"],[1,"preview-close",3,"click"],[1,"ri-close-large-fill"],[1,"logo_entreprise_preview"],[1,"content_entete","content_entete_preview"],[1,"para1","para_preview"],[1,"para2","para_preview"],[1,"para3","para_preview"],[2,"font-size","12px"],[2,"font-size","10px"],[1,"droit","droit_preview"],[1,"object","droit_preview"],[1,"table"],[1,"th"],[1,"th",2,"width","70px!important"],[1,"td_left","td"],[1,"td"],["colspan","4",1,"td"],[2,"font-size","8px"],[1,"cachet_preview"],[1,"name_directeur_preview"],[1,"cachetSignP"],[1,"footer",2,"line-height","12px"],[1,"em_footer"]],template:function(s,n){if(1&s){const c=e.RV6();e.j41(0,"div",1),e.DNE(1,D,5,0,"div",2),e.j41(2,"div",3)(3,"div",4)(4,"h6",5),e.EFF(5,"Param\xe8tres du compte"),e.k0s()()(),e.j41(6,"div",3)(7,"div",6)(8,"mat-tab-group",7)(9,"mat-tab",8)(10,"div",9)(11,"div",10)(12,"div",11)(13,"div",12)(14,"div",13)(15,"div",14)(16,"h5"),e.EFF(17,"Changer de profil"),e.k0s(),e.j41(18,"p"),e.EFF(19,"Changez votre photo de profil \xe0 partir d'ici"),e.k0s()(),e.j41(20,"div",15),e.bIt("click",function(d){return e.eBV(c),e.Njj(n.visualiserPhoto(d))}),e.j41(21,"img",16),e.bIt("error",function(){return e.eBV(c),e.Njj(n.photo="assets/img/profil.png")}),e.k0s()(),e.j41(22,"div",17)(23,"button",18),e.bIt("click",function(d){return e.eBV(c),e.Njj(n.changerPhoto(d))}),e.EFF(24," Changer la photo "),e.k0s()(),e.j41(25,"input",19),e.bIt("change",function(d){return e.eBV(c),e.Njj(n.onProfilePhotoSelected(d))}),e.k0s(),e.DNE(26,$,5,1,"div",20),e.j41(27,"div",21)(28,"p"),e.EFF(29,"Formats JPG, GIF ou PNG autoris\xe9s. Taille "),e.nrm(30,"br"),e.EFF(31," maximale : 800 Ko."),e.k0s()()()(),e.j41(32,"div",22)(33,"div",14)(34,"h5"),e.EFF(35,"Changer le mot de passe"),e.k0s(),e.j41(36,"p"),e.EFF(37,"Pour changer votre mot de passe, veuillez "),e.nrm(38,"br"),e.EFF(39," confirmer ici"),e.k0s()(),e.j41(40,"form",23)(41,"div",24),e.nrm(42,"input",25),e.j41(43,"label",26),e.EFF(44,"Mot de passe actuel"),e.k0s(),e.DNE(45,L,2,1,"div",27),e.j41(46,"div",28),e.bIt("click",function(){return e.eBV(c),e.Njj(n.toggleCurrentPasswordVisibility())}),e.DNE(47,N,2,0,"div",29)(48,U,2,0,"div",30),e.k0s()(),e.j41(49,"div",24),e.nrm(50,"input",31),e.j41(51,"label",26),e.EFF(52,"Nouveau mot de passe"),e.k0s(),e.DNE(53,K,3,2,"div",27),e.j41(54,"div",28),e.bIt("click",function(){return e.eBV(c),e.Njj(n.toggleNewPasswordVisibility())}),e.DNE(55,V,2,0,"div",29)(56,Y,2,0,"div",30),e.k0s()(),e.j41(57,"div",24),e.nrm(58,"input",32),e.j41(59,"label",26),e.EFF(60,"Confirmer le nouveau mot de passe"),e.k0s(),e.DNE(61,X,2,1,"div",27),e.k0s(),e.j41(62,"div",33)(63,"button",34),e.bIt("click",function(){return e.eBV(c),e.Njj(n.updatePassword())}),e.DNE(64,J,2,0,"span",27)(65,H,2,0,"span",27),e.k0s()()()()(),e.j41(66,"div",35)(67,"div",14)(68,"h5"),e.EFF(69,"D\xe9tails personnels"),e.k0s(),e.j41(70,"p"),e.EFF(71,"Pour modifier vos informations personnelles, modifiez-les et enregistrez-les ici"),e.k0s()(),e.j41(72,"form",36),e.bIt("ngSubmit",function(){return e.eBV(c),e.Njj(n.onSubmitUpdateUser())}),e.j41(73,"div",24),e.nrm(74,"input",37),e.j41(75,"label",26),e.EFF(76,"Nom & pr\xe9nom"),e.k0s()(),e.j41(77,"div",24),e.nrm(78,"input",38),e.j41(79,"label",26),e.EFF(80,"Votre num\xe9ro"),e.k0s(),e.DNE(81,Q,2,1,"div",27),e.k0s(),e.j41(82,"div",24),e.nrm(83,"input",39),e.j41(84,"label",26),e.EFF(85,"Votre mot de passe"),e.k0s(),e.j41(86,"div",28),e.bIt("click",function(){return e.eBV(c),e.Njj(n.togglePasswordVisibilityInPersonalForm())}),e.DNE(87,q,2,0,"div",29)(88,ee,2,0,"div",30),e.k0s()(),e.j41(89,"div",40)(90,"div",33)(91,"button",41),e.DNE(92,te,2,0,"span",27)(93,ne,2,0,"span",27),e.k0s()()()()()()()(),e.j41(94,"mat-tab",42)(95,"div",9),e.EFF(96," Contenu des notifications "),e.k0s()(),e.j41(97,"mat-tab",43)(98,"div",9)(99,"div",44)(100,"div",45)(101,"div",46)(102,"div",47)(103,"div",48)(104,"div",49)(105,"img",50),e.bIt("error",function(){return e.eBV(c),e.Njj(n.logo="http://localhost:8080/defaultLogo/Votre.png")}),e.k0s()(),e.j41(106,"div",51)(107,"div",52)(108,"p",53),e.EFF(109),e.k0s(),e.j41(110,"p",54),e.EFF(111),e.k0s(),e.j41(112,"div",55),e.EFF(113,"Email : "),e.j41(114,"a",56),e.EFF(115),e.k0s(),e.EFF(116),e.k0s()()()(),e.nrm(117,"hr")(118,"hr"),e.j41(119,"div",57)(120,"h2"),e.EFF(121,"Facture proforma: "),e.j41(122,"span",58),e.EFF(123),e.k0s()()(),e.j41(124,"div",59)(125,"p"),e.EFF(126),e.k0s()(),e.j41(127,"div",60)(128,"h4"),e.EFF(129,"Doit : "),e.k0s(),e.j41(130,"p"),e.EFF(131,"Nom de client "),e.k0s()(),e.j41(132,"div",61)(133,"h4"),e.EFF(134,"Objet :"),e.k0s(),e.j41(135,"p"),e.EFF(136,"Une petite description de l'objet"),e.k0s()(),e.j41(137,"table")(138,"thead")(139,"tr")(140,"th"),e.EFF(141,"D\xe9signation"),e.k0s(),e.j41(142,"th",62),e.EFF(143,"Description"),e.k0s(),e.j41(144,"th"),e.EFF(145,"PU"),e.k0s(),e.j41(146,"th"),e.EFF(147,"Quantit\xe9"),e.k0s(),e.j41(148,"th"),e.EFF(149,"Montant (FCFA)"),e.k0s()()(),e.j41(150,"tbody")(151,"tr")(152,"td",63),e.EFF(153,"Produit nom"),e.k0s(),e.j41(154,"td",63),e.EFF(155,"Desc..."),e.k0s(),e.j41(156,"td"),e.EFF(157,"00"),e.k0s(),e.j41(158,"td"),e.EFF(159,"00"),e.k0s(),e.j41(160,"td"),e.EFF(161," 0000"),e.k0s()()(),e.j41(162,"tfoot")(163,"tr")(164,"td",64),e.EFF(165,"Total HT"),e.k0s(),e.j41(166,"td"),e.EFF(167,"0000"),e.k0s()(),e.j41(168,"tr")(169,"td",64),e.EFF(170,"Remise 0 %"),e.k0s(),e.j41(171,"td"),e.EFF(172," 0000 "),e.k0s()(),e.j41(173,"tr")(174,"td",64),e.EFF(175,"Montant commercial"),e.k0s(),e.j41(176,"td"),e.EFF(177," 0000 "),e.k0s()(),e.j41(178,"tr")(179,"td",64),e.EFF(180),e.k0s(),e.j41(181,"td"),e.EFF(182," 0000 "),e.k0s()(),e.j41(183,"tr")(184,"td",64),e.EFF(185,"Montant TTC"),e.k0s(),e.j41(186,"td"),e.EFF(187," 0000 "),e.k0s()()()(),e.j41(188,"div",65)(189,"p")(190,"span",66),e.EFF(191,"Arr\xeat\xe9 la pr\xe9sente facture \xe0 la somme de : "),e.k0s(),e.EFF(192," Zero ....."),e.k0s()(),e.j41(193,"div",67),e.nrm(194,"div"),e.j41(195,"div",68)(196,"h6"),e.EFF(197),e.k0s(),e.j41(198,"h6",69),e.EFF(199),e.k0s(),e.j41(200,"span",70),e.EFF(201),e.k0s()()()(),e.j41(202,"div",71)(203,"div",72),e.nrm(204,"hr"),e.DNE(205,oe,3,1,"p",27)(206,ie,3,1,"div",27)(207,se,3,1,"div",27),e.k0s()()(),e.j41(208,"div",73),e.bIt("click",function(){return e.eBV(c),e.Njj(n.openPreview())}),e.EFF(209," Agrandir "),e.nrm(210,"i",74),e.k0s()(),e.j41(211,"div",75)(212,"div",76)(213,"div",77)(214,"h6"),e.EFF(215,"Haut de page"),e.k0s()(),e.j41(216,"input",78,0),e.bIt("change",function(d){return e.eBV(c),e.Njj(n.onFileSelected(d))}),e.k0s(),e.j41(218,"div",79)(219,"p",80),e.EFF(220," Changer votre logo ici \u{1f449} "),e.j41(221,"a",81),e.bIt("click",function(){e.eBV(c);const d=e.sdS(217);return e.Njj(d.click())}),e.nrm(222,"img",82),e.k0s()()(),e.j41(223,"div",83)(224,"div",24),e.nrm(225,"input",84),e.j41(226,"label",85),e.EFF(227,"Nom entreprise"),e.k0s()(),e.j41(228,"div",24),e.nrm(229,"input",86),e.j41(230,"label",85),e.EFF(231,"Secteur"),e.k0s()(),e.j41(232,"div",24),e.nrm(233,"input",87),e.j41(234,"label",85),e.EFF(235,"Email"),e.k0s()()(),e.j41(236,"div",83)(237,"div",24),e.nrm(238,"input",88),e.j41(239,"label",85),e.EFF(240,"T\xe9l\xe9phone"),e.k0s()(),e.j41(241,"div",24),e.nrm(242,"input",89),e.j41(243,"label",85),e.EFF(244,"Ville"),e.k0s()(),e.j41(245,"div",24),e.nrm(246,"input",90),e.j41(247,"label",85),e.EFF(248,"Pays"),e.k0s()()(),e.j41(249,"div",83),e.DNE(250,re,4,0,"div",91)(251,ae,4,0,"div",91),e.j41(252,"div",24)(253,"input",92),e.bIt("input",function(d){return e.eBV(c),e.Njj(n.onTauxTvaInput(d))}),e.k0s(),e.j41(254,"label",85),e.EFF(255,"TVA (en %)"),e.k0s()()(),e.j41(256,"div",93)(257,"h6"),e.EFF(258,"Bas de page"),e.k0s()(),e.j41(259,"div",83)(260,"div",24),e.nrm(261,"input",94),e.j41(262,"label",85),e.EFF(263,"Site web"),e.k0s()(),e.j41(264,"div",24),e.nrm(265,"input",95),e.j41(266,"label",85),e.EFF(267,"Banque"),e.k0s()(),e.j41(268,"div",24),e.nrm(269,"input",96),e.j41(270,"label",85),e.EFF(271,"NINA"),e.k0s()()(),e.j41(272,"div",83)(273,"div",24),e.nrm(274,"input",97),e.j41(275,"label",85),e.EFF(276,"RCCM"),e.k0s()(),e.j41(277,"div",24),e.nrm(278,"input",98),e.j41(279,"label",85),e.EFF(280,"NIF"),e.k0s()(),e.j41(281,"div",24),e.nrm(282,"input",99),e.j41(283,"label",85),e.EFF(284,"Adresse"),e.k0s()()(),e.j41(285,"div",93)(286,"h6"),e.EFF(287,"Signature"),e.k0s()(),e.j41(288,"div",83)(289,"div",24),e.nrm(290,"input",100),e.j41(291,"label",85),e.EFF(292,"Nom signataire"),e.k0s()(),e.j41(293,"div",24),e.nrm(294,"input",101),e.j41(295,"label",85),e.EFF(296,"Poste"),e.k0s()()(),e.j41(297,"div",24)(298,"button",102),e.bIt("click",function(){return e.eBV(c),e.Njj(n.onSubmit())}),e.EFF(299,"Enregistrer"),e.k0s()()()()()()(),e.j41(300,"mat-tab",103)(301,"div",9),e.EFF(302," Contenu de la s\xe9curit\xe9 "),e.k0s()(),e.j41(303,"mat-tab",104)(304,"div",9)(305,"div",105),e.DNE(306,ue,11,8,"div",106),e.k0s()()()()()()(),e.DNE(307,he,114,18,"div",107)}if(2&s){let c,a,d,v,M,w,A,S,P,T;e.R7$(),e.Y8G("ngIf",n.isLoading),e.R7$(7),e.Y8G("selectedIndex",0),e.R7$(13),e.Y8G("src",n.photo||"assets/img/profil.png",e.B4B),e.R7$(5),e.Y8G("ngIf",n.isModalOpen),e.R7$(14),e.Y8G("formGroup",n.passwordForm),e.R7$(2),e.Y8G("type",n.showCurrentPassword?"text":"password"),e.R7$(3),e.Y8G("ngIf",(null==n.currentPassword?null:n.currentPassword.touched)&&(null==n.currentPassword?null:n.currentPassword.invalid)),e.R7$(2),e.Y8G("ngIf",!n.showCurrentPassword),e.R7$(),e.Y8G("ngIf",n.showCurrentPassword),e.R7$(2),e.Y8G("type",n.showNewPassword?"text":"password"),e.R7$(3),e.Y8G("ngIf",(null==n.newPassword?null:n.newPassword.touched)&&(null==n.newPassword?null:n.newPassword.invalid)),e.R7$(2),e.Y8G("ngIf",!n.showNewPassword),e.R7$(),e.Y8G("ngIf",n.showNewPassword),e.R7$(2),e.Y8G("type",n.showNewPassword?"text":"password"),e.R7$(3),e.Y8G("ngIf",(null==n.confirmPassword?null:n.confirmPassword.touched)&&n.passwordForm.invalid),e.R7$(2),e.Y8G("disabled",n.passwordForm.invalid||n.isLoading),e.R7$(),e.Y8G("ngIf",!n.isLoading),e.R7$(),e.Y8G("ngIf",n.isLoading),e.R7$(7),e.Y8G("formGroup",n.nomCompletForm),e.R7$(9),e.Y8G("ngIf",(null==n.phoneControl?null:n.phoneControl.touched)&&(null==n.phoneControl?null:n.phoneControl.invalid)),e.R7$(2),e.Y8G("type",n.showPasswordInPersonalForm?"text":"password"),e.R7$(4),e.Y8G("ngIf",!n.showPasswordInPersonalForm),e.R7$(),e.Y8G("ngIf",n.showPasswordInPersonalForm),e.R7$(3),e.Y8G("disabled",n.nomCompletForm.invalid),e.R7$(),e.Y8G("ngIf",!n.isLoading),e.R7$(),e.Y8G("ngIf",n.isLoading),e.R7$(12),e.Y8G("src",n.logo,e.B4B),e.R7$(4),e.JRh(null==(c=n.form.get("nom"))?null:c.value),e.R7$(2),e.SpI("Secterur: ",null==(a=n.form.get("secteur"))?null:a.value,""),e.R7$(4),e.SpI(" ",null==(d=n.form.get("email"))?null:d.value,""),e.R7$(),e.SpI(" T\xe9l\xe9phone : ",null==(v=n.form.get("telephone"))?null:v.value,""),e.R7$(7),e.Lme("",null==(M=n.form.get("prefixe"))?null:M.value,"xxx-xx-xxxx -",null==(M=n.form.get("suffixe"))?null:M.value,""),e.R7$(3),e.SpI("",null==(w=n.form.get("siege"))?null:w.value,", le dd/MM.yyyy"),e.R7$(54),e.SpI("",n.tauxTvaAffiche," %"),e.R7$(17),e.JRh(null==(A=n.form.get("signataire"))?null:A.value),e.R7$(2),e.JRh(null==(S=n.form.get("signataireNom"))?null:S.value),e.R7$(2),e.SpI(" ",null==(P=n.form.get("signataireNom"))?null:P.value," "),e.R7$(4),e.Y8G("ngIf",null==(T=n.form.get("siteWeb"))?null:T.value),e.R7$(),e.Y8G("ngIf",n.getLegalInfo()),e.R7$(),e.Y8G("ngIf",n.getAddressInfo()),e.R7$(5),e.Y8G("formGroup",n.form),e.R7$(38),e.Y8G("ngIf",n.shouldShowPrefixe()),e.R7$(),e.Y8G("ngIf",n.shouldShowSuffixe()),e.R7$(2),e.Y8G("value",n.tauxTvaAffiche),e.R7$(53),e.Y8G("ngForOf",n.modules),e.R7$(),e.Y8G("ngIf",n.showPreview)}},dependencies:[m.MD,m.Sq,m.bT,m.QX,_.YN,_.qT,_.me,_.BC,_.cb,x.RI,x.mq,x.T8,I.MY,E.M,_.X1,_.j4,_.JD,j.m_,l.v],styles:['@charset "UTF-8";.section[_ngcontent-%COMP%]{padding:10px}.section_title[_ngcontent-%COMP%]{font-size:16px;margin:0}.information_cadre[_ngcontent-%COMP%]{width:100%;height:auto;background-color:#fff;box-shadow:2px 2px 30px #0000001c;border-radius:5px;padding:10px;margin-bottom:10px}.custom-tabs[_ngcontent-%COMP%]{border-radius:4px;margin:0}.custom-tabs[_ngcontent-%COMP%]   .mat-tab-label-active[_ngcontent-%COMP%]{background-color:#f5f5f5;border:2px solid #0672E4;border-radius:4px 4px 0 0}.custom-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{padding-top:20px}.custom-tabs[_ngcontent-%COMP%]     .mat-ink-bar{background-color:#0672e4}.content_setting_facture[_ngcontent-%COMP%]{display:flex;gap:15px}.facture_model[_ngcontent-%COMP%]{height:60%;background-color:#fff;border:1px solid #b9b9b9;position:relative}.champs_setting_facture[_ngcontent-%COMP%]{width:80%;background-color:#fff;border-radius:10px;border:1px solid rgba(185,185,185,.337254902);box-shadow:2px 2px 30px #0000001c}.header_apercu[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:10px}.logo_entreprise[_ngcontent-%COMP%]{width:50px;height:50px}.logo_entreprise_preview[_ngcontent-%COMP%]{width:100px;height:50px}.entete_entreprise[_ngcontent-%COMP%]{margin-left:3%}.logo_entreprise[_ngcontent-%COMP%]{margin-left:10px}.logo_entreprise[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.logo_entreprise_preview[_ngcontent-%COMP%]{margin-left:10px}.logo_entreprise_preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.content_entete[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:6px;letter-spacing:.5px}.para3[_ngcontent-%COMP%]{font-size:6px}.content_entete[_ngcontent-%COMP%]   .para1[_ngcontent-%COMP%], .content_entete[_ngcontent-%COMP%]   .para2[_ngcontent-%COMP%]{font-weight:600}hr[_ngcontent-%COMP%]{margin:2px 0;color:#0672e4!important;border:0;border-top:1px solid rgba(0,0,0,.1);opacity:1}.titre[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:8px;text-decoration:underline;text-transform:uppercase;letter-spacing:.6px;text-align:center;margin:8px}.date[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:right;margin-right:5%;font-size:6px;margin-bottom:0}.droit[_ngcontent-%COMP%], .object[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;margin-bottom:0;margin-left:5px}.droit[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .object[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:8px;font-weight:700;margin:0}.droit[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .object[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:8px}.droit_preview[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .object_preview[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .droit_preview[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .object_preview[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:10px}table[_ngcontent-%COMP%]{border-collapse:collapse;margin:7px 5px 0;font-size:7px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:0 5px;text-align:center;font-size:6}th[_ngcontent-%COMP%]{background-color:#f5f5f5;font-size:8px!important}td.table_td_1[_ngcontent-%COMP%]{border-right:none}td.table_td[_ngcontent-%COMP%]{border-right:none;border-top:none;border-left:none}.table_td_descripton[_ngcontent-%COMP%]{text-align:center}td.td_left[_ngcontent-%COMP%]{text-align:left!important}.contenu_bottom[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:6px;margin:5px 0 5px 5px}.cachet_container[_ngcontent-%COMP%]{width:100%;margin-top:0;display:flex;justify-content:space-between}.cachet[_ngcontent-%COMP%]{position:relative;top:0;right:5px}.cachet[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{text-align:center;font-size:7px}.name_directeur[_ngcontent-%COMP%]{position:relative;top:8px}.cachetSign[_ngcontent-%COMP%], .cachetSignP[_ngcontent-%COMP%]{display:block;text-align:center;font-size:7px;font-weight:600;color:#000;font-family:brittany;margin-top:40%}.cachet_preview[_ngcontent-%COMP%]{position:relative;top:50px;right:10px}.cachet_preview[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{text-align:center;font-size:10px;top:8px}.name_directeur_preview[_ngcontent-%COMP%]{position:relative;top:40px}a[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{color:#0056b3;transform:scale(1.1);transition:.2s ease}.container_footer[_ngcontent-%COMP%]{display:flex;justify-content:center}.footer[_ngcontent-%COMP%]{text-align:center;position:absolute;width:100%;bottom:2px;line-height:9px}.footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:0}.footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:8px}.footer[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{font-size:6px}.titre_champ[_ngcontent-%COMP%]{margin:5px 10px 5px 0}.titre_champ[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0 0 20px;font-weight:400;font-size:14px}.champ_input[_ngcontent-%COMP%]{position:relative;margin-bottom:15px}.input_focus[_ngcontent-%COMP%]{width:100%;height:45px;outline:none;border-bottom:1px solid rgb(88,85,85);border-top:none;border-left:none;border-right:none;margin:10px 0 0;transition:all .3s;font-size:12px;background:none;color:#695c5c}.champ_input[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{position:absolute;top:22px;left:4px;pointer-events:none;color:#6b6666}.champ_grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:1fr;grid-column-gap:0px;grid-row-gap:0px;gap:15px}.input_focus[_ngcontent-%COMP%]:hover{border-bottom:1px solid #0672E4;border-top:none;border-left:none;border-right:none}.input_focus[_ngcontent-%COMP%]:not(:placeholder-shown) + .label[_ngcontent-%COMP%], .input_focus[_ngcontent-%COMP%]:focus + .label[_ngcontent-%COMP%]{color:#0672e4;top:0;left:0;transition:all .3s ease-in-out;background:none;font-size:11px;padding:0}.input_focus[_ngcontent-%COMP%]::placeholder{opacity:0}.input_focus[_ngcontent-%COMP%]:focus::placeholder{opacity:1;animation-delay:1s;font-size:12px;transition:all .2s ease-in-out}.custum-file-upload[_ngcontent-%COMP%]{height:58px;display:flex;flex-direction:column;align-items:space-between;cursor:pointer;align-items:center;justify-content:center;border:2px dashed #000000;background-color:transparent;padding:1.5rem;border-radius:10px;box-shadow:0 48px 35px -48px #e8e8e8}.custum-file-upload[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.custum-file-upload[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:80px;fill:#e8e8e8}.custum-file-upload[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.custum-file-upload[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:400;color:#0672e4}.custum-file-upload[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.title_panel[_ngcontent-%COMP%]{font-size:13px!important}.content_edit_facture[_ngcontent-%COMP%]{padding:10px 20px;position:relative}.champ_input[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border:none;background-color:#0672e4;color:#fff;font-size:15px;padding:5px 20px;position:absolute;right:0;bottom:0}.cadre_setting[_ngcontent-%COMP%]{margin:15px 0}.titre_autre[_ngcontent-%COMP%]{background-color:#e6e6e6;border-radius:2px;cursor:pointer}.titre_autre[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;padding:10px 5px;margin:0}.eye_container[_ngcontent-%COMP%]{position:absolute;right:7px;top:34px;transform:translateY(-50%)}.eye_ferme[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .eye_ouvre[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;cursor:pointer}.eye_ferme[_ngcontent-%COMP%], .eye_ouvre[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;color:#fff;font-size:18px;z-index:9999999999}.loading-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px}.spinner[_ngcontent-%COMP%]{border:4px solid rgba(255,255,255,.3);border-top:4px solid white;border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.red-icon[_ngcontent-%COMP%]{color:red}.statut_boutique[_ngcontent-%COMP%]{background-color:green;color:#fff;padding:4px 10px;border-radius:20px;font-size:10px}.preview-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#000000b3;display:flex;justify-content:center;align-items:center;z-index:1000}.preview-content[_ngcontent-%COMP%]{border-radius:8px;box-shadow:0 4px 20px #00000040;animation:_ngcontent-%COMP%_scaleIn .3s ease-out;margin-top:5%}.preview-content[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 24px;background-color:#f5f5f5;border-bottom:1px solid #e0e0e0;z-index:10}.preview-content[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-weight:500}.facture_model_preview[_ngcontent-%COMP%]{transform:scale(1.1);background-color:#fff;width:130mm;min-height:170mm;position:relative}.facture_model_preview[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:100%!important;box-shadow:none!important}@keyframes _ngcontent-%COMP%_scaleIn{0%{transform:scale(.9);opacity:0}to{transform:scale(1);opacity:1}}.para_preview[_ngcontent-%COMP%]{font-size:10px!important}.em_footer[_ngcontent-%COMP%]{font-size:10px}.table[_ngcontent-%COMP%]{border-collapse:collapse;margin:10px 0 0 5px;font-size:9px;width:98%}.th[_ngcontent-%COMP%], .td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:7px;text-align:center;font-size:6}.th[_ngcontent-%COMP%]{background-color:#f5f5f5;font-size:8px!important}.content_entete_preview[_ngcontent-%COMP%]{padding:10px 0}.preview-close[_ngcontent-%COMP%]{position:absolute;right:-27px;color:#fff;top:-3px;cursor:pointer}.preview-close[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.preview-close[_ngcontent-%COMP%]:hover{color:red;transition:all .5s}.voir_apercu[_ngcontent-%COMP%]{font-size:12px;cursor:pointer;margin:5px 0}.champ_grid_double[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-template-rows:1fr;grid-column-gap:0px;grid-row-gap:0px;gap:15px}.img_profil[_ngcontent-%COMP%]{width:100px;height:100px;display:flex;justify-content:center;margin:20px auto}.img_profil[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.setting_profil[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #e9e9e9;box-shadow:#00000001 0 0 0 1px;border-radius:20px}.btn_changer_profil[_ngcontent-%COMP%]{display:flex;justify-content:center}.btn_changer_profil[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background-color:#0672e4;color:#fff;font-size:12px;border-radius:20px;padding:8px 20px;cursor:pointer}.info_capacity_profil[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}.tilte_profil[_ngcontent-%COMP%]{margin:20px 20px 0}.tilte_profil[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:18px;margin-bottom:5px;font-weight:600;letter-spacing:.5px}.tilte_profil[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.4px;margin-bottom:0}.btn_save[_ngcontent-%COMP%]{text-align:right;margin-top:10px}.btn_save[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:5px 28px;background-color:#0672e4;color:#fff;border:none}.info_titre_input[_ngcontent-%COMP%]{margin:0 20px 20px}.btn_save[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#0263cb;transition:all .5}.info_capacity_profil[_ngcontent-%COMP%]{margin-top:10px}.info_capacity_profil[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;margin:22px 0}.toast-container[_ngcontent-%COMP%]{position:fixed;top:60px;right:35px;z-index:9999}.toast-message-success[_ngcontent-%COMP%]{background-color:#d5e6de;border:1px solid #ACCEBC;color:#000;padding:10px;border-radius:8px;font-size:13px;box-shadow:0 4px 6px #0000001a;opacity:0;animation:_ngcontent-%COMP%_fadeInOut 4s ease-in-out;transform:translateY(-20px)}.toast-message-danger[_ngcontent-%COMP%]{background-color:#f3d8da;border:1px solid #E7B1B6;color:#000;padding:10px;border-radius:8px;font-size:13px;box-shadow:0 4px 6px #0000001a;opacity:0;animation:_ngcontent-%COMP%_fadeInOut 4s ease-in-out;transform:translateY(-20px)}@keyframes _ngcontent-%COMP%_fadeInOut{0%{opacity:0;transform:translateY(-20px)}20%{opacity:1;transform:translateY(0)}80%{opacity:1}to{opacity:0;transform:translateY(2px)}}.profile-img-wrapper[_ngcontent-%COMP%]{position:relative;width:120px;height:120px;border-radius:50%;overflow:hidden;margin:22px auto 15px;cursor:pointer}.profile-img-wrapper[_ngcontent-%COMP%]   .profile-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-img-wrapper[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;opacity:0;transition:opacity .3s}.profile-img-wrapper[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{opacity:1}.photo-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000c;display:flex;justify-content:center;align-items:center;z-index:1000}.photo-modal[_ngcontent-%COMP%]   .photo-modal-content[_ngcontent-%COMP%]{position:relative;max-width:90%;max-height:90%}.photo-modal[_ngcontent-%COMP%]   .photo-modal-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:80vh}.photo-modal[_ngcontent-%COMP%]   .photo-modal-content[_ngcontent-%COMP%]   .fermer-btn[_ngcontent-%COMP%]{position:absolute;top:-10px;right:-45px;background:none;border:none;color:#fff;font-size:25px;cursor:pointer}.module-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:20px;padding:20px}.module-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;padding:14px;text-align:center;transition:transform .2s,box-shadow .2s;border:1px solid #eee;position:relative}.module-card[_ngcontent-%COMP%]:hover{transform:translateY(-6px) scale(1.02);box-shadow:0 6px 18px #00000026}.module-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;object-fit:contain;margin-bottom:8px}.module-title[_ngcontent-%COMP%]{font-size:15px;font-weight:700;color:#333;margin-bottom:6px}.module-description[_ngcontent-%COMP%]{font-size:12px;color:#666;margin-bottom:8px;min-height:40px}.module-badge[_ngcontent-%COMP%]{margin-bottom:6px}.badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 10px;border-radius:12px;font-size:11px;font-weight:700;letter-spacing:.5px}.badge-gratuit[_ngcontent-%COMP%]{background-color:#dfffe0;color:#2e7d32}.module-price[_ngcontent-%COMP%]{font-size:15px;font-weight:700;color:#444;margin-bottom:10px}.module-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#007bff,#0056b3);color:#fff;padding:6px 12px;border:none;border-radius:20px;cursor:pointer;font-size:11px;transition:background .3s ease}.module-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#0056b3,#003f8a)}.module-actif[_ngcontent-%COMP%]{color:#198754;font-weight:700;margin-top:8px;font-size:10px}.module-essai[_ngcontent-%COMP%]{position:absolute;top:0;right:0;background-color:#fff3cd;color:#856404;padding:4px 12px;border-radius:12px;font-weight:700;transform:rotate(20deg);transform-origin:left center;box-shadow:0 2px 6px #0000001a;z-index:2;font-size:9px}'],changeDetection:0})}}return o})()},3381:(R,O,r)=>{r.d(O,{L:()=>j});var m=r(4438),_=r(8359),b=r(1413),I=r(2774),E=r(7336),x=r(7035);class j{_items;_activeItemIndex=-1;_activeItem=(0,m.vPA)(null);_wrap=!1;_typeaheadSubscription=_.yU.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=i=>i.disabled;constructor(i,l){this._items=i,i instanceof m.rOR?this._itemChangesSubscription=i.changes.subscribe(e=>this._itemsChanged(e.toArray())):(0,m.Hps)(i)&&(this._effectRef=(0,m.QZP)(()=>this._itemsChanged(i()),{injector:l}))}tabOut=new b.B;change=new b.B;skipPredicate(i){return this._skipPredicateFn=i,this}withWrap(i=!0){return this._wrap=i,this}withVerticalOrientation(i=!0){return this._vertical=i,this}withHorizontalOrientation(i){return this._horizontal=i,this}withAllowedModifierKeys(i){return this._allowedModifierKeys=i,this}withTypeAhead(i=200){this._typeaheadSubscription.unsubscribe();const l=this._getItemsArray();return this._typeahead=new I.T(l,{debounceInterval:"number"==typeof i?i:void 0,skipPredicate:e=>this._skipPredicateFn(e)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(e=>{this.setActiveItem(e)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(i=!0){return this._homeAndEnd=i,this}withPageUpDown(i=!0,l=10){return this._pageUpAndDown={enabled:i,delta:l},this}setActiveItem(i){const l=this._activeItem();this.updateActiveItem(i),this._activeItem()!==l&&this.change.next(this._activeItemIndex)}onKeydown(i){const l=i.keyCode,g=["altKey","ctrlKey","metaKey","shiftKey"].every(p=>!i[p]||this._allowedModifierKeys.indexOf(p)>-1);switch(l){case x.T:return void this.tabOut.next();case x.D:if(this._vertical&&g){this.setNextItemActive();break}return;case x.U:if(this._vertical&&g){this.setPreviousItemActive();break}return;case x.R:if(this._horizontal&&g){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case x.L:if(this._horizontal&&g){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case x.H:if(this._homeAndEnd&&g){this.setFirstItemActive();break}return;case x.E:if(this._homeAndEnd&&g){this.setLastItemActive();break}return;case x.a:if(this._pageUpAndDown.enabled&&g){const p=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(p>0?p:0,1);break}return;case x.P:if(this._pageUpAndDown.enabled&&g){const p=this._activeItemIndex+this._pageUpAndDown.delta,h=this._getItemsArray().length;this._setActiveItemByIndex(p<h?p:h-1,-1);break}return;default:return void((g||(0,E.rp)(i,"shiftKey"))&&this._typeahead?.handleKey(i))}this._typeahead?.reset(),i.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(i){const l=this._getItemsArray(),e="number"==typeof i?i:l.indexOf(i);this._activeItem.set(l[e]??null),this._activeItemIndex=e,this._typeahead?.setCurrentSelectedItemIndex(e)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(i){this._wrap?this._setActiveInWrapMode(i):this._setActiveInDefaultMode(i)}_setActiveInWrapMode(i){const l=this._getItemsArray();for(let e=1;e<=l.length;e++){const g=(this._activeItemIndex+i*e+l.length)%l.length;if(!this._skipPredicateFn(l[g]))return void this.setActiveItem(g)}}_setActiveInDefaultMode(i){this._setActiveItemByIndex(this._activeItemIndex+i,i)}_setActiveItemByIndex(i,l){const e=this._getItemsArray();if(e[i]){for(;this._skipPredicateFn(e[i]);)if(!e[i+=l])return;this.setActiveItem(i)}}_getItemsArray(){return(0,m.Hps)(this._items)?this._items():this._items instanceof m.rOR?this._items.toArray():this._items}_itemsChanged(i){this._typeahead?.setItems(i);const l=this._activeItem();if(l){const e=i.indexOf(l);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e,this._typeahead?.setCurrentSelectedItemIndex(e))}}}},2774:(R,O,r)=>{r.d(O,{T:()=>k});var m=r(1413),_=r(8141),b=r(152),I=r(5964),E=r(6354),x=r(7035);class k{_letterKeyStream=new m.B;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new m.B;selectedItem=this._selectedItem;constructor(l,e){const g="number"==typeof e?.debounceInterval?e.debounceInterval:200;e?.skipPredicate&&(this._skipPredicateFn=e.skipPredicate),this.setItems(l),this._setupKeyHandler(g)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(l){this._selectedItemIndex=l}setItems(l){this._items=l}handleKey(l){const e=l.keyCode;l.key&&1===l.key.length?this._letterKeyStream.next(l.key.toLocaleUpperCase()):(e>=x.A&&e<=x.Z||e>=x.b&&e<=x.N)&&this._letterKeyStream.next(String.fromCharCode(e))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(l){this._letterKeyStream.pipe((0,_.M)(e=>this._pressedLetters.push(e)),(0,b.B)(l),(0,I.p)(()=>this._pressedLetters.length>0),(0,E.T)(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(e=>{for(let g=1;g<this._items.length+1;g++){const h=this._items[(this._selectedItemIndex+g)%this._items.length];if(!this._skipPredicateFn?.(h)&&0===h.getLabel?.().toLocaleUpperCase().trim().indexOf(e)){this._selectedItem.next(h);break}}this._pressedLetters=[]})}}},1811:(R,O,r)=>{r.d(O,{M:()=>I});var m=r(2318),_=r(4438),b=r(777);let I=(()=>{class E{static \u0275fac=function(k){return new(k||E)};static \u0275mod=_.$C({type:E});static \u0275inj=_.G2t({imports:[b.M,m.w5,b.M]})}return E})()}}]);