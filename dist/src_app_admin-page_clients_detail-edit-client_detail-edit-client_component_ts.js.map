{"version":3,"file":"src_app_admin-page_clients_detail-edit-client_detail-edit-client_component_ts.js","mappings":";;;;;;;;;;;;;AAAO,IAAKA,qBAOX;AAPD,WAAYA,qBAAqB;EAC/BA,qBAAA,2BAAuB;EACvBA,qBAAA,+BAA2B;EAC3BA,qBAAA,yBAAqB;EACrBA,qBAAA,qBAAiB;EACjBA,qBAAA,qBAAiB;EACjBA,qBAAA,qBAAiB;AACnB,CAAC,EAPWA,qBAAqB,KAArBA,qBAAqB;;;;;;;;;;;;;;;;;;;;;;;ACA8B;AAE4B;AAGhC;;;;AAMrD,MAAOQ,iBAAiB;EAM5BC,YAAoBC,IAAgB,EAAUC,YAA0B;IAApD,KAAAD,IAAI,GAAJA,IAAI;IAAsB,KAAAC,YAAY,GAAZA,YAAY;IALhD,KAAAC,MAAM,GAAGL,qEAAW,CAACM,UAAU;IAGjC,KAAAC,iBAAiB,GAAG,IAAIZ,iDAAe,CAAe,EAAE,CAAC;IAC1D,KAAAa,WAAW,GAAG,IAAI,CAACD,iBAAiB,CAACE,YAAY,EAAE;EACkB;EAE5E;EACF;EACCC,kBAAkBA,CAAA;IACjB,OAAO,IAAI,CAACN,YAAY,CAACO,mBAAmB,EAAE,CAACC,IAAI,CACjDf,+CAAS,CAACgB,KAAK,IAAG;MAChB,MAAMC,OAAO,GAAG,IAAIpB,6DAAW,CAAC;QAC9B,eAAe,EAAE,UAAUmB,KAAK,EAAE;QAClC,cAAc,EAAE;OACjB,CAAC;MACF,OAAO,IAAI,CAACV,IAAI,CAACY,GAAG,CAAqB,GAAG,IAAI,CAACV,MAAM,cAAc,EAAE;QAAES;MAAO,CAAE,CAAC;IACrF,CAAC,CAAC,EACFlB,gDAAU,CAACoB,KAAK,IAAG;MACjB,IAAIC,QAAQ,GAAG,iBAAiB;MAChC,IAAID,KAAK,CAACA,KAAK,YAAYE,UAAU,EAAE;QACrCD,QAAQ,GAAG,WAAWD,KAAK,CAACA,KAAK,CAACG,OAAO,EAAE;MAC7C,CAAC,MAAM,IAAIH,KAAK,CAACI,MAAM,KAAK,GAAG,EAAE;QAC/BH,QAAQ,GAAG,2BAA2B;MACxC;MACA,OAAOlB,gDAAU,CAAC,MAAM,IAAIsB,KAAK,CAACJ,QAAQ,CAAC,CAAC;IAC9C,CAAC,CAAC,CACH;EACH;EAGE;EACDK,aAAaA,CAACC,UAAsB;IACnC,OAAO,IAAI,CAACnB,YAAY,CAACO,mBAAmB,EAAE,CAACC,IAAI,CACjDf,+CAAS,CAACgB,KAAK,IAAG;MAChB,MAAMC,OAAO,GAAG,IAAIpB,6DAAW,CAAC;QAC9B,eAAe,EAAE,UAAUmB,KAAK,EAAE;QAClC,cAAc,EAAE;OACjB,CAAC;MAEF,OAAO,IAAI,CAACV,IAAI,CAACqB,IAAI,CAAa,GAAG,IAAI,CAACnB,MAAM,qBAAqB,EAAEkB,UAAU,EAAE;QAAET;MAAO,CAAE,CAAC;IACjG,CAAC,CAAC,EACFhB,yCAAG,CAAE2B,aAAa,IAAI;MACpB,MAAMC,iBAAiB,GAAG,IAAI,CAACnB,iBAAiB,CAACoB,KAAK;MACtD,IAAI,CAACpB,iBAAiB,CAACqB,IAAI,CAAC,CAAC,GAAGF,iBAAiB,EAAED,aAAa,CAAC,CAAC;IACpE,CAAC,CAAC,EACF7B,gDAAU,CAACoB,KAAK,IAAG;MACjB,IAAIC,QAAQ,GAAG,iBAAiB;MAChC,IAAID,KAAK,CAACA,KAAK,YAAYE,UAAU,EAAE;QACrCD,QAAQ,GAAG,WAAWD,KAAK,CAACA,KAAK,CAACG,OAAO,EAAE;MAC7C,CAAC,MAAM,IAAIH,KAAK,CAACI,MAAM,KAAK,GAAG,EAAE;QAC/BH,QAAQ,GAAGD,KAAK,CAACA,KAAK,IAAI,mBAAmB;MAC/C;MACA,OAAOjB,gDAAU,CAAC,MAAM,IAAIsB,KAAK,CAACJ,QAAQ,CAAC,CAAC;IAC9C,CAAC,CAAC,CACH;EACH;EAGE;EACDY,iBAAiBA,CAAA;IAChB,OAAO,IAAI,CAACzB,YAAY,CAACO,mBAAmB,EAAE,CAACC,IAAI,CACjDf,+CAAS,CAACgB,KAAK,IAAG;MAChB,IAAI,CAACA,KAAK,EAAE;QACViB,OAAO,CAACd,KAAK,CAAC,2EAA2E,CAAC;QAC1F,OAAOjB,gDAAU,CAAC,MAAM,IAAIsB,KAAK,CAAC,gBAAgB,CAAC,CAAC;MACtD;MACA,MAAMP,OAAO,GAAG,IAAIpB,6DAAW,EAAE,CAACqC,GAAG,CAAC,eAAe,EAAE,UAAUlB,KAAK,EAAE,CAAC;MACzEiB,OAAO,CAACE,GAAG,CAAC,qBAAqB,EAAElB,OAAO,CAAC;MAE3C,OAAO,IAAI,CAACX,IAAI,CAACY,GAAG,CAAe,GAAG,IAAI,CAACV,MAAM,cAAc,EAAE;QAAES;MAAO,CAAE,CAAC;IAC/E,CAAC,CAAC,EACFhB,yCAAG,CAACmC,IAAI,IAAG;MACT,IAAI,CAAC1B,iBAAiB,CAACqB,IAAI,CAACK,IAAI,CAAC;IACnC,CAAC,CAAC,EACFrC,gDAAU,CAACoB,KAAK,IAAG;MACjBc,OAAO,CAACd,KAAK,CAAC,iDAAiD,EAAEA,KAAK,CAAC;MACvE,OAAOjB,gDAAU,CAAC,MAAMiB,KAAK,CAAC;IAChC,CAAC,CAAC,CACH;EACH;EAIE;EACDkB,iBAAiBA,CAACC,EAAU;IAC3B,OAAO,IAAI,CAAC/B,YAAY,CAACO,mBAAmB,EAAE,CAACC,IAAI,CACjDf,+CAAS,CAACgB,KAAK,IAAG;MAChB,IAAI,CAACA,KAAK,EAAE;QACViB,OAAO,CAACd,KAAK,CAAC,gBAAgB,CAAC;QAC/B,OAAOjB,gDAAU,CAAC,MAAM,IAAIsB,KAAK,CAAC,gBAAgB,CAAC,CAAC;MACtD;MACA,MAAMP,OAAO,GAAG,IAAIpB,6DAAW,CAAC;QAC9B,eAAe,EAAE,UAAUmB,KAAK,EAAE;QAClC,cAAc,EAAE;OACjB,CAAC;MACF,OAAO,IAAI,CAACV,IAAI,CAACY,GAAG,CAAa,GAAG,IAAI,CAACV,MAAM,gBAAgB8B,EAAE,EAAE,EAAE;QAAErB;MAAO,CAAE,CAAC;IACnF,CAAC,CAAC,EACFlB,gDAAU,CAACoB,KAAK,IAAG;MACjB,IAAIC,QAAQ,GAAG,iBAAiB;MAChC,IAAID,KAAK,CAACA,KAAK,YAAYE,UAAU,EAAE;QACrCD,QAAQ,GAAG,WAAWD,KAAK,CAACA,KAAK,CAACG,OAAO,EAAE;MAC7C,CAAC,MAAM,IAAIH,KAAK,CAACI,MAAM,KAAK,GAAG,EAAE;QAC/BH,QAAQ,GAAG,wBAAwB;MACrC;MACA,OAAOlB,gDAAU,CAAC,MAAM,IAAIsB,KAAK,CAACJ,QAAQ,CAAC,CAAC;IAC9C,CAAC,CAAC,CACH;EACH;EAGEmB,gBAAgBA,CAACD,EAAU,EAAEE,QAAkB;IAC/C,OAAO,IAAI,CAACjC,YAAY,CAACO,mBAAmB,EAAE,CAACC,IAAI,CACjDf,+CAAS,CAACgB,KAAK,IAAG;MAChB,IAAI,CAACA,KAAK,EAAE;QACV,OAAOd,gDAAU,CAAC,MAAM,IAAIsB,KAAK,CAAC,gBAAgB,CAAC,CAAC;MACtD;MAEA,MAAMP,OAAO,GAAG,IAAIpB,6DAAW,CAAC;QAC9B,eAAe,EAAE,UAAUmB,KAAK;OACjC,CAAC;MAEF,OAAO,IAAI,CAACV,IAAI,CAACmC,KAAK,CAAC,GAAG,IAAI,CAACjC,MAAM,qBAAqB8B,EAAE,EAAE,EAAEE,QAAQ,EAAE;QACxEvB,OAAO;QACPyB,YAAY,EAAE,MAAM,CAAC;OACtB,CAAC;IACJ,CAAC,CAAC,EACF3C,gDAAU,CAACoB,KAAK,IAAG;MACjB,IAAIC,QAAQ,GAAG,iBAAiB;MAChC,IAAID,KAAK,CAACA,KAAK,YAAYE,UAAU,EAAE;QACrCD,QAAQ,GAAG,WAAWD,KAAK,CAACA,KAAK,CAACG,OAAO,EAAE;MAC7C,CAAC,MAAM,IAAIH,KAAK,CAACI,MAAM,KAAK,GAAG,EAAE;QAC/BH,QAAQ,GAAGD,KAAK,CAACA,KAAK,IAAI,mBAAmB;MAC/C;MACA,OAAOjB,gDAAU,CAAC,MAAM,IAAIsB,KAAK,CAACJ,QAAQ,CAAC,CAAC;IAC9C,CAAC,CAAC,CACH;EACH;EAGE;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACAuB,iBAAiBA,CAAA;IACjB,OAAO,IAAI,CAACpC,YAAY,CAACO,mBAAmB,EAAE,CAACC,IAAI,CACjDf,+CAAS,CAACgB,KAAK,IAAG;MAChB,IAAI,CAACA,KAAK,EAAE;QACV,OAAOd,gDAAU,CAAC,MAAM,IAAIsB,KAAK,CAAC,oBAAoB,CAAC,CAAC;MAC1D;MAEA,MAAMP,OAAO,GAAG,IAAIpB,6DAAW,CAAC;QAC9B+C,aAAa,EAAE,UAAU5B,KAAK;OAC/B,CAAC;MAEF,OAAO,IAAI,CAACV,IAAI,CAACY,GAAG,CAAa,GAAG,IAAI,CAACV,MAAM,eAAe,EAAE;QAAES;MAAO,CAAE,CAAC,CAACF,IAAI,CAC/Ed,yCAAG,CAACyB,UAAU,IAAG;QACfmB,YAAY,CAACC,OAAO,CAAC,YAAY,EAAEC,IAAI,CAACC,SAAS,CAACtB,UAAU,CAAC,CAAC;MAChE,CAAC,CAAC,CACH;IACH,CAAC,CAAC,EACF3B,gDAAU,CAACoB,KAAK,IAAG;MACjBc,OAAO,CAACd,KAAK,CAAC,sCAAsC,EAAEA,KAAK,CAAC;MAC5D,OAAOjB,gDAAU,CAAC,MAAMiB,KAAK,CAAC;IAChC,CAAC,CAAC,CACH;EACH;EAGE;EACA8B,SAASA,CAACjC,KAAa;IACrB,OAAO+B,IAAI,CAACG,KAAK,CAACC,IAAI,CAACnC,KAAK,CAACoC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAC9C;EAEA;EACAC,cAAcA,CAACC,YAAiB;IAC9B,MAAMC,cAAc,GAAG,IAAIC,IAAI,CAACF,YAAY,CAACG,GAAG,GAAG,IAAI,CAAC;IACxD,OAAOF,cAAc,GAAG,IAAIC,IAAI,EAAE;EACpC;EAEA;EACAE,kBAAkBA,CAAA;IAChB,MAAMC,YAAY,GAAGd,YAAY,CAACe,OAAO,CAAC,cAAc,CAAC;IACzD,OAAO,IAAI,CAACtD,IAAI,CAACqB,IAAI,CAAoB,GAAG,IAAI,CAACnB,MAAM,gBAAgB,EAAE;MAAEmD;IAAY,CAAE,CAAC;EAC5F;;;uCAzMWvD,iBAAiB,EAAAyD,sDAAA,CAAAE,4DAAA,GAAAF,sDAAA,CAAAI,wDAAA;IAAA;EAAA;;;aAAjB7D,iBAAiB;MAAA+D,OAAA,EAAjB/D,iBAAiB,CAAAgE,IAAA;MAAAC,UAAA,EAFhB;IAAM;EAAA;;;;;;;;;;;;;;;;;;;;;;;;ACTuD;AAED;AACyC;AAExD;;;;AAOrD,MAAOE,sBAAsB;EAIjClE,YAAoBC,IAAgB,EAAUC,YAA0B;IAApD,KAAAD,IAAI,GAAJA,IAAI;IAAsB,KAAAC,YAAY,GAAZA,YAAY;IAHhD,KAAAC,MAAM,GAAGL,qEAAW,CAACM,UAAU;EAGmC;EAE5E+D,oBAAoBA,CACpBC,OAAY,EACZC,iBAA0B,EAC1BC,YAAsB,EACtBC,oBAA8B;IAE9B,OAAO,IAAI,CAACrE,YAAY,CAACO,mBAAmB,EAAE,CAACC,IAAI,CACjDf,+CAAS,CAACgB,KAAK,IAAG;MAChB,MAAMC,OAAO,GAAG,IAAIpB,6DAAW,CAAC;QAC9B,eAAe,EAAE,UAAUmB,KAAK;OACjC,CAAC;MAEF,IAAI6D,MAAM,GAAG,IAAIP,4DAAU,EAAE;MAE7B,IAAIM,oBAAoB,EAAE;QACxB,IAAIF,iBAAiB,KAAKI,SAAS,EAAE;UACnCD,MAAM,GAAGA,MAAM,CAAC3C,GAAG,CAAC,mBAAmB,EAAEwC,iBAAiB,CAACK,QAAQ,EAAE,CAAC;QACxE;QACA,IAAIJ,YAAY,KAAKG,SAAS,EAAE;UAC9BD,MAAM,GAAGA,MAAM,CAAC3C,GAAG,CAAC,cAAc,EAAEyC,YAAY,CAACI,QAAQ,EAAE,CAAC;QAC9D;MACF;MAEA,OAAO,IAAI,CAACzE,IAAI,CAACqB,IAAI,CAAC,GAAG,IAAI,CAACnB,MAAM,UAAU,EAAEiE,OAAO,EAAE;QAAExD,OAAO;QAAE4D;MAAM,CAAE,CAAC;IAC/E,CAAC,CAAC,EACF5E,yCAAG,CAAC+E,QAAQ,IAAI/C,OAAO,CAACE,GAAG,CAAC,4BAA4B,EAAE6C,QAAQ,CAAC,CAAC,EACpEjF,gDAAU,CAACoB,KAAK,IAAG;MACjBc,OAAO,CAACd,KAAK,CAAC,mBAAmB,EAAEA,KAAK,CAAC;MACzCc,OAAO,CAACE,GAAG,CAAC,sBAAsB,EAAEhB,KAAK,CAACA,KAAK,CAAC;MAChD,OAAOjB,gDAAU,CAAC,MAAMiB,KAAK,CAAC;IAChC,CAAC,CAAC,CACH;EACH;EAGE;EACD8D,6BAA6BA,CAACC,YAAoB;IACjD,OAAO,IAAI,CAAC3E,YAAY,CAACO,mBAAmB,EAAE,CAACC,IAAI,CACjDf,+CAAS,CAACgB,KAAK,IAAG;MAChB,MAAMC,OAAO,GAAG,IAAIpB,6DAAW,CAAC;QAC9B+C,aAAa,EAAE,UAAU5B,KAAK;OAC/B,CAAC;MACF,OAAO,IAAI,CAACV,IAAI,CAACY,GAAG,CAAQ,GAAG,IAAI,CAACV,MAAM,eAAe,EAAE;QAAES;MAAO,CAAE,CAAC;IACzE,CAAC,CAAC,CACH;EACH;EAGEkE,sBAAsBA,CAAC7C,EAAU;IACjC,OAAO,IAAI,CAAC/B,YAAY,CAACO,mBAAmB,EAAE,CAACC,IAAI,CACjDf,+CAAS,CAACgB,KAAK,IAAG;MAChB,MAAMC,OAAO,GAAG,IAAIpB,6DAAW,CAAC;QAC9B,eAAe,EAAE,UAAUmB,KAAK;OACjC,CAAC;MACF,OAAO,IAAI,CAACV,IAAI,CAACY,GAAG,CAAkB,GAAG,IAAI,CAACV,MAAM,oBAAoB8B,EAAE,EAAE,EAAE;QAAErB;MAAO,CAAE,CAAC;IAC5F,CAAC,CAAC,CACH;EACH;EAGE;EACDmE,qBAAqBA,CACpBC,SAAiB,EACjBX,iBAAqC,EACrCC,YAAiC,EACjCW,aAAuC,EACvCC,eAA0B;IAE1B,OAAO,IAAI,CAAChF,YAAY,CAACO,mBAAmB,EAAE,CAACC,IAAI,CACjDf,+CAAS,CAACgB,KAAK,IAAG;MAChB,MAAMC,OAAO,GAAG,IAAIpB,6DAAW,CAAC;QAC9B,eAAe,EAAE,UAAUmB,KAAK,EAAE;QAClC,cAAc,EAAE;OACjB,CAAC;MAEF,IAAI6D,MAAM,GAAG,IAAIP,4DAAU,EAAE;MAE7B,IAAII,iBAAiB,KAAKI,SAAS,EAAE;QACnCD,MAAM,GAAGA,MAAM,CAAC3C,GAAG,CAAC,mBAAmB,EAAEwC,iBAAiB,CAACK,QAAQ,EAAE,CAAC;MACxE;MAEA,IAAIJ,YAAY,KAAKG,SAAS,EAAE;QAC9BD,MAAM,GAAGA,MAAM,CAAC3C,GAAG,CAAC,cAAc,EAAEyC,YAAY,CAACI,QAAQ,EAAE,CAAC;MAC9D;MAEA,IAAIQ,eAAe,IAAIA,eAAe,CAACC,MAAM,GAAG,CAAC,EAAE;QACjDD,eAAe,CAACE,OAAO,CAACnD,EAAE,IAAG;UAC3BuC,MAAM,GAAGA,MAAM,CAACa,MAAM,CAAC,iBAAiB,EAAEpD,EAAE,CAACyC,QAAQ,EAAE,CAAC;QAC1D,CAAC,CAAC;MACJ;MAEA,IAAIO,aAAa,CAACK,MAAM,KAAK/F,gFAAqB,CAACgG,MAAM,EAAE;QACzDf,MAAM,GAAGA,MAAM,CAAC3C,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC;MAC7C;MAEA,OAAO,IAAI,CAAC5B,IAAI,CAACuF,GAAG,CAClB,GAAG,IAAI,CAACrF,MAAM,kBAAkB6E,SAAS,EAAE,EAC3CC,aAAa,EACb;QAAErE,OAAO;QAAE4D;MAAM,CAAE,CACpB,CAAC9D,IAAI,CACJd,yCAAG,CAAC+E,QAAQ,IAAI/C,OAAO,CAACE,GAAG,CAAC,sBAAsB,EAAE6C,QAAQ,CAAC,CAAC,EAC9DjF,gDAAU,CAACoB,KAAK,IAAG;QACjBc,OAAO,CAACd,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;QAC3C,OAAOjB,gDAAU,CAAC,MAAMiB,KAAK,CAAC;MAChC,CAAC,CAAC,CACH;IACH,CAAC,CAAC,CACH;EACH;EAGE;EACA2E,mBAAmBA,CACjBT,SAAiB,EACjBU,YAMC;IAED,MAAMvD,QAAQ,GAAG,IAAIwD,QAAQ,EAAE;IAC/BxD,QAAQ,CAACkD,MAAM,CAAC,IAAI,EAAEK,YAAY,CAACE,EAAE,CAAC;IACtCzD,QAAQ,CAACkD,MAAM,CAAC,IAAI,EAAEK,YAAY,CAACG,EAAE,CAAC;IACtC1D,QAAQ,CAACkD,MAAM,CAAC,SAAS,EAAEK,YAAY,CAACI,OAAO,CAAC;IAChD3D,QAAQ,CAACkD,MAAM,CAAC,MAAM,EAAEK,YAAY,CAACK,IAAI,CAAC;IAE1C,IAAIL,YAAY,CAACM,WAAW,EAAE;MAC5BN,YAAY,CAACM,WAAW,CAACZ,OAAO,CAAC,CAACa,IAAI,EAAEC,KAAK,KAAI;QAC/C/D,QAAQ,CAACkD,MAAM,CAAC,aAAa,EAAEY,IAAI,EAAEA,IAAI,CAACE,IAAI,CAAC;MACjD,CAAC,CAAC;IACJ;IAEE,OAAO,IAAI,CAACjG,YAAY,CAACO,mBAAmB,EAAE,CAACC,IAAI,CACrDf,+CAAS,CAACgB,KAAK,IAAG;MAChB,MAAMC,OAAO,GAAG,IAAIpB,6DAAW,CAAC;QAC9B,eAAe,EAAE,UAAUmB,KAAK;OACjC,CAAC;MACF,OAAO,IAAI,CAACV,IAAI,CAACqB,IAAI,CACnB,GAAG,IAAI,CAACnB,MAAM,aAAa6E,SAAS,gBAAgB,EACpD7C,QAAQ,EACR;QAAEvB,OAAO;QAAEyB,YAAY,EAAE;MAAM,CAAE,CAClC;IACH,CAAC,CAAC,CACH;EAGD;EAGA;EACF+D,oBAAoBA,CAACpB,SAAiB;IACpC,OAAO,IAAI,CAAC9E,YAAY,CAACO,mBAAmB,EAAE,CAACC,IAAI,CACjDf,+CAAS,CAACgB,KAAK,IAAG;MAChB,MAAMC,OAAO,GAAG,IAAIpB,6DAAW,CAAC;QAC9B,eAAe,EAAE,UAAUmB,KAAK;OACjC,CAAC;MAEF,OAAO,IAAI,CAACV,IAAI,CAACY,GAAG,CAAM,GAAG,IAAI,CAACV,MAAM,YAAY6E,SAAS,aAAa,EAAE;QAAEpE;MAAO,CAAE,CAAC;IAC1F,CAAC,CAAC,EACFlB,gDAAU,CAAC2G,GAAG,IAAG;MACfzE,OAAO,CAACd,KAAK,CAAC,yCAAyC,EAAEuF,GAAG,CAAC;MAC7D,OAAOxG,gDAAU,CAAC,MAAMwG,GAAG,CAAC;IAC9B,CAAC,CAAC,CACH;EACH;EAGA;EACA;EACA;EAEA;EACAC,uBAAuBA,CAACrE,EAAU;IAChC,OAAO,IAAI,CAAC/B,YAAY,CAACO,mBAAmB,EAAE,CAACC,IAAI,CACjDf,+CAAS,CAACgB,KAAK,IAAG;MAChB,MAAMC,OAAO,GAAG,IAAIpB,6DAAW,CAAC;QAC9B,eAAe,EAAE,UAAUmB,KAAK;OACjC,CAAC;MACF,OAAO,IAAI,CAACV,IAAI,CAACY,GAAG,CAAQ,GAAG,IAAI,CAACV,MAAM,aAAa8B,EAAE,QAAQ,EAAE;QAAErB;MAAO,CAAE,CAAC;IACjF,CAAC,CAAC,EACFlB,gDAAU,CAAC2G,GAAG,IAAG;MACfzE,OAAO,CAACd,KAAK,CAAC,yCAAyC,EAAEuF,GAAG,CAAC;MAC7D,OAAOxG,gDAAU,CAAC,MAAMwG,GAAG,CAAC;IAC9B,CAAC,CAAC,CACH;EACH;EAGE;EACFE,WAAWA,CAACvB,SAAiB,EAAEwB,MAAc;IAC3C,OAAO,IAAI,CAACtG,YAAY,CAACO,mBAAmB,EAAE,CAACC,IAAI,CACjDf,+CAAS,CAACgB,KAAK,IAAG;MAChB,MAAMC,OAAO,GAAG,IAAIpB,6DAAW,CAAC;QAC9B,eAAe,EAAE,UAAUmB,KAAK,EAAE;QAClC,QAAQ,EAAE;OACX,CAAC;MAEF,OAAO,IAAI,CAACV,IAAI,CAACY,GAAG,CAClB,GAAG,IAAI,CAACV,MAAM,SAAS6E,SAAS,UAAUwB,MAAM,EAAE,EAClD;QAAE5F;MAAO,CAAE,CACZ;IACH,CAAC,CAAC,EACFlB,gDAAU,CAAC2G,GAAG,IAAG;MACfzE,OAAO,CAACd,KAAK,CAAC,4CAA4C,EAAEuF,GAAG,CAAC;MAChE,OAAOxG,gDAAU,CAAC,MAAMwG,GAAG,CAAC;IAC9B,CAAC,CAAC,CACH;EACH;EAKE;EACFI,UAAUA,CAACzB,SAAiB,EAAEwB,MAAc,EAAEE,cAAsB;IAClE,OAAO,IAAI,CAACxG,YAAY,CAACO,mBAAmB,EAAE,CAACC,IAAI,CACjDf,+CAAS,CAACgB,KAAK,IAAG;MAChB,MAAMC,OAAO,GAAG,IAAIpB,6DAAW,CAAC;QAC9B,eAAe,EAAE,UAAUmB,KAAK,EAAE;QAClC,cAAc,EAAE;OACjB,CAAC;MACF,MAAMgG,GAAG,GAAG,GAAG,IAAI,CAACxG,MAAM,IAAI6E,SAAS,UAAUwB,MAAM,EAAE;MACzD,MAAMT,IAAI,GAAG;QAAEW;MAAc,CAAE;MAC/B,OAAO,IAAI,CAACzG,IAAI,CAACuF,GAAG,CAAMmB,GAAG,EAAEZ,IAAI,EAAE;QAAEnF;MAAO,CAAE,CAAC;IACnD,CAAC,CAAC,EACFhB,yCAAG,CAAC+E,QAAQ,IAAI/C,OAAO,CAACE,GAAG,CAAC,4BAA4B,EAAE6C,QAAQ,CAAC,CAAC,EACpEjF,gDAAU,CAACoB,KAAK,IAAG;MACjBc,OAAO,CAACd,KAAK,CAAC,4CAA4C,EAAEA,KAAK,CAAC;MAClE,OAAOjB,gDAAU,CAAC,MAAMiB,KAAK,CAAC;IAChC,CAAC,CAAC,CACH;EACH;EAGA8F,wBAAwBA,CAAC5B,SAAiB,EAAEwB,MAAc;IACxD,OAAO,IAAI,CAACtG,YAAY,CAACO,mBAAmB,EAAE,CAACC,IAAI,CACjDf,+CAAS,CAACgB,KAAK,IAAG;MAChB,MAAMC,OAAO,GAAG,IAAIpB,6DAAW,CAAC;QAC9B,eAAe,EAAE,UAAUmB,KAAK,EAAE;QAClC,QAAQ,EAAE;OACX,CAAC;MACF,OAAO,IAAI,CAACV,IAAI,CAAC4G,MAAM,CACrB,GAAG,IAAI,CAAC1G,MAAM,IAAI6E,SAAS,UAAUwB,MAAM,YAAY,EACvD;QAAE5F;MAAO,CAAE,CACZ;IACH,CAAC,CAAC,EACFlB,gDAAU,CAACoB,KAAK,IAAG;MACjBc,OAAO,CAACd,KAAK,CAAC,2CAA2C,EAAEA,KAAK,CAAC;MACjE,OAAOjB,gDAAU,CAAC,MAAMiB,KAAK,CAAC;IAChC,CAAC,CAAC,CACH;EACH;EAGCgG,mBAAmBA,CAACC,QAAiB,EAAEC,kBAA2B;IACjE,OAAO,IAAI,CAAC9G,YAAY,CAACO,mBAAmB,EAAE,CAACC,IAAI,CACjDf,+CAAS,CAACgB,KAAK,IAAG;MAChB,IAAI6D,MAAM,GAAG,IAAIP,4DAAU,EAAE;MAE7B,IAAI8C,QAAQ,KAAKtC,SAAS,EAAE;QAC1BD,MAAM,GAAGA,MAAM,CAAC3C,GAAG,CAAC,UAAU,EAAEkF,QAAQ,CAACrC,QAAQ,EAAE,CAAC;MACtD;MACA,IAAIsC,kBAAkB,KAAKvC,SAAS,EAAE;QACpCD,MAAM,GAAGA,MAAM,CAAC3C,GAAG,CAAC,oBAAoB,EAAEmF,kBAAkB,CAACtC,QAAQ,EAAE,CAAC;MAC1E;MAEA,MAAM9D,OAAO,GAAG,IAAIpB,6DAAW,CAAC;QAC9B+C,aAAa,EAAE,UAAU5B,KAAK;OAC/B,CAAC;MAEF,OAAO,IAAI,CAACV,IAAI,CAACY,GAAG,CAAQ,GAAG,IAAI,CAACV,MAAM,kBAAkB,EAAE;QAAES,OAAO;QAAE4D;MAAM,CAAE,CAAC;IACpF,CAAC,CAAC,EACF9E,gDAAU,CAACoB,KAAK,IAAG;MACjBc,OAAO,CAACd,KAAK,CAAC,kCAAkC,EAAEA,KAAK,CAAC;MACxD,OAAOjB,gDAAU,CAAC,MAAMiB,KAAK,CAAC;IAChC,CAAC,CAAC,CACH;EACH;EAGA;EAEAmG,qBAAqBA,CACnBC,IAAgD,EAChDC,SAAkB;EAAE;EACpBC,OAAgB;IAEhB,OAAO,IAAI,CAAClH,YAAY,CAACO,mBAAmB,EAAE,CAACC,IAAI,CACjDf,+CAAS,CAACgB,KAAK,IAAG;MAChB,MAAMC,OAAO,GAAG,IAAIpB,6DAAW,CAAC;QAC9B+C,aAAa,EAAE,UAAU5B,KAAK;OAC/B,CAAC;MAEF,IAAI6D,MAAM,GAAG,IAAIP,4DAAU,EAAE,CAACpC,GAAG,CAAC,MAAM,EAAEqF,IAAI,CAAC;MAE/C,IAAIA,IAAI,KAAK,cAAc,EAAE;QAC3B,IAAI,CAACC,SAAS,IAAI,CAACC,OAAO,EAAE;UAC1B,MAAM,IAAIjG,KAAK,CAAC,wEAAwE,CAAC;QAC3F;QACAqD,MAAM,GAAGA,MAAM,CAAC3C,GAAG,CAAC,WAAW,EAAEsF,SAAS,CAAC,CAACtF,GAAG,CAAC,SAAS,EAAEuF,OAAO,CAAC;MACrE;MAEA,OAAO,IAAI,CAACnH,IAAI,CAACY,GAAG,CAAQ,GAAG,IAAI,CAACV,MAAM,2BAA2B,EAAE;QAAES,OAAO;QAAE4D;MAAM,CAAE,CAAC;IAC7F,CAAC,CAAC,CACH;EACH;EAGC6C,oBAAoBA,CAACrC,SAAiB;IACrC,OAAO,IAAI,CAAC9E,YAAY,CAACO,mBAAmB,EAAE,CAACC,IAAI,CACjDf,+CAAS,CAACgB,KAAK,IAAG;MAChB,MAAMC,OAAO,GAAG,IAAIpB,6DAAW,CAAC;QAC9B,eAAe,EAAE,UAAUmB,KAAK,EAAE;QAClC,QAAQ,EAAE;OACX,CAAC;MACF,OAAO,IAAI,CAACV,IAAI,CAAC4G,MAAM,CACrB,GAAG,IAAI,CAAC1G,MAAM,0BAA0B6E,SAAS,EAAE,EACnD;QAAEpE;MAAO,CAAE,CACZ;IACH,CAAC,CAAC,EACFlB,gDAAU,CAACoB,KAAK,IAAG;MACjBc,OAAO,CAACd,KAAK,CAAC,2CAA2C,EAAEA,KAAK,CAAC;MACjE,OAAOjB,gDAAU,CAAC,MAAMiB,KAAK,CAAC;IAChC,CAAC,CAAC,CACH;EACH;;;uCA5UaoD,sBAAsB,EAAAV,sDAAA,CAAAE,4DAAA,GAAAF,sDAAA,CAAAI,wDAAA;IAAA;EAAA;;;aAAtBM,sBAAsB;MAAAJ,OAAA,EAAtBI,sBAAsB,CAAAH,IAAA;MAAAC,UAAA,EAFrB;IAAM;EAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACT+F;AACN;AAGpD;AAIV;AACwB;AAEN;AACA;AACC;AACX;AACA;AAEA;AACE;AACI;AACF;;;;;;;;;;;;;;;;;;;;;;;;IClBzDR,4DAAA,cAA0E;IACxEA,oDAAA,GACF;IAAAA,0DAAA,EAAM;;;;IADJA,uDAAA,EACF;IADEA,gEAAA,MAAAuF,MAAA,CAAAC,YAAA,MACF;;;;;IAGAxF,4DAAA,cAA8E;IAC5EA,oDAAA,GACF;IAAAA,0DAAA,EAAM;;;;IADJA,uDAAA,EACF;IADEA,gEAAA,MAAAuF,MAAA,CAAAE,cAAA,MACF;;;;;IAGAzF,4DAAA,cAA6E;IAC3EA,oDAAA,GACF;IAAAA,0DAAA,EAAM;;;;IADJA,uDAAA,EACF;IADEA,gEAAA,MAAAuF,MAAA,CAAAG,eAAA,MACF;;;;;IAWE1F,4DADF,cAA+C,cAChB;IAC3BA,uDAAA,cAA2B;IAC3BA,4DAAA,QAAG;IAAAA,oDAAA,2BAAoB;IAE3BA,0DAF2B,EAAI,EACvB,EACF;;;;;;IA0DYA,4DAAA,YAG4B;IAA1BA,wDAAA,mBAAA6F,2DAAA;MAAA7F,2DAAA,CAAA+F,GAAA;MAAA,MAAAR,MAAA,GAAAvF,2DAAA;MAAA,OAAAA,yDAAA,CAASuF,MAAA,CAAAW,aAAA,EAAe;IAAA,EAAC;IAAClG,0DAAA,EAAI;;;;;;IAEhCA,4DAAA,YAG4B;IAA1BA,wDAAA,mBAAAmG,2DAAA;MAAAnG,2DAAA,CAAAoG,GAAA;MAAA,MAAAb,MAAA,GAAAvF,2DAAA;MAAA,OAAAA,yDAAA,CAASuF,MAAA,CAAAW,aAAA,EAAe;IAAA,EAAC;IAAClG,0DAAA,EAAI;;;;;IAelCA,4DAAA,YAA0E;IAAAA,oDAAA,oBAAa;IAAAA,0DAAA,EAAQ;;;;;IAC/FA,4DAAA,YAA2E;IAAAA,oDAAA,kCAAsB;IAAAA,0DAAA,EAAQ;;;;;IAF3GA,4DAAA,cAA0H;IAExHA,wDADA,IAAAsG,iDAAA,oBAA0E,IAAAC,iDAAA,oBACC;IAC7EvG,0DAAA,EAAM;;;;;;IAFIA,uDAAA,EAAgE;IAAhEA,wDAAA,UAAAyG,OAAA,GAAAlB,MAAA,CAAAmB,kBAAA,CAAArJ,GAAA,iCAAAoJ,OAAA,CAAAE,MAAA,kBAAAF,OAAA,CAAAE,MAAA,aAAgE;IAChE3G,uDAAA,EAAiE;IAAjEA,wDAAA,UAAA4G,OAAA,GAAArB,MAAA,CAAAmB,kBAAA,CAAArJ,GAAA,iCAAAuJ,OAAA,CAAAD,MAAA,kBAAAC,OAAA,CAAAD,MAAA,cAAiE;;;;;IAUzE3G,4DAAA,YAAkE;IAAAA,oDAAA,uBAAgB;IAAAA,0DAAA,EAAQ;;;;;IAD5FA,4DAAA,cAAgH;IAC9GA,wDAAA,IAAA6G,iDAAA,oBAAkE;IACpE7G,0DAAA,EAAM;;;;;IADIA,uDAAA,EAAwD;IAAxDA,wDAAA,UAAAyG,OAAA,GAAAlB,MAAA,CAAAmB,kBAAA,CAAArJ,GAAA,4BAAAoJ,OAAA,CAAAE,MAAA,kBAAAF,OAAA,CAAAE,MAAA,UAAwD;;;;;IAkB9D3G,4DAAA,iBAA2D;IACzDA,oDAAA,GACF;IAAAA,0DAAA,EAAS;;;;IAFgCA,wDAAA,UAAA8G,UAAA,CAAiB;IACxD9G,uDAAA,EACF;IADEA,gEAAA,MAAA8G,UAAA,MACF;;;;;;IAgDN9G,4DADJ,eAAkG,SAC1F;IAAAA,oDAAA,iBAAU;IAAAA,0DAAA,EAAK;IAIfA,4DADJ,eAAoC,QAC7B;IAAAA,oDAAA,yCAA6B;IAAAA,0DAAA,EAAI;IAIhCA,4DAFJ,iBAAsB,iBAK2B;IADvCA,8DAAA,2BAAAgH,yEAAAC,MAAA;MAAAjH,2DAAA,CAAAkH,GAAA;MAAA,MAAA3B,MAAA,GAAAvF,2DAAA;MAAAA,gEAAA,CAAAuF,MAAA,CAAA6B,oBAAA,EAAAH,MAAA,MAAA1B,MAAA,CAAA6B,oBAAA,GAAAH,MAAA;MAAA,OAAAjH,yDAAA,CAAAiH,MAAA;IAAA,EAAkC;IAFxCjH,0DAAA,EAG6C;IAC7CA,uDAAA,gBAAkC;IAG9CA,0DAFQ,EAAQ,EACN,EACJ;;;;IANYA,uDAAA,GAAuB;IAAvBA,wDAAA,cAAAuF,MAAA,CAAA8B,SAAA,CAAuB;IACvBrH,8DAAA,YAAAuF,MAAA,CAAA6B,oBAAA,CAAkC;IAClCpH,wDAAA,mBAAAA,6DAAA,IAAAwH,GAAA,EAAqC;;;;;IA0B/CxH,4DADF,qBAAsE,eACxC;IAC1BA,oDAAA,GACF;IACFA,0DADE,EAAM,EACK;;;;IAJ2CA,wDAAA,UAAAyH,MAAA,CAAa;IAEjEzH,uDAAA,GACF;IADEA,gEAAA,MAAAyH,MAAA,CAAAC,GAAA,MACF;;;;;;IApBN1H,4DADF,eAAkG,cACvE;IACvBA,uDAAA,iBAIuC;IACvCA,4DAAA,iBAAuC;IAAAA,oDAAA,qBAAc;IAAAA,0DAAA,EAAQ;IAC7DA,4DAAA,+BAA8H;IAApFA,wDAAA,4BAAA2H,qFAAAV,MAAA;MAAAjH,2DAAA,CAAA4H,GAAA;MAAA,MAAArC,MAAA,GAAAvF,2DAAA;MAAA,OAAAA,yDAAA,CAAkBuF,MAAA,CAAAsC,oBAAA,CAAAZ,MAAA,CAA4B;IAAA,EAAC;IAEvFjH,4DAAA,sBAAwD;IAAtBA,wDAAA,mBAAA8H,sEAAA;MAAA9H,2DAAA,CAAA4H,GAAA;MAAA,MAAArC,MAAA,GAAAvF,2DAAA;MAAA,OAAAA,yDAAA,CAASuF,MAAA,CAAAwC,SAAA,EAAW;IAAA,EAAC;IACrD/H,4DAAA,eAAiE;IAE/DA,uDAAA,aAAiC;IACjCA,4DAAA,iBAAgC;IAAAA,oDAAA,iCAAoB;IAExDA,0DAFwD,EAAO,EACvD,EACK;IAEbA,wDAAA,KAAAgI,uDAAA,yBAAsE;;IAMxEhI,0DAAA,EAAmB;IAEnBA,4DAAA,gBAAwB;IACtBA,uDAAA,cAAoC;IAG1CA,0DAFI,EAAM,EACF,EACF;;;;;IA1BIA,uDAAA,GAAuB;IACvBA,wDADA,gBAAAuF,MAAA,CAAA0C,OAAA,CAAuB,oBAAAC,OAAA,CACC;IAG4DlI,uDAAA,GAAmC;IAAnCA,wDAAA,gBAAAuF,MAAA,CAAA4C,mBAAA,CAAmC;IAU/FnI,uDAAA,GAA0B;IAA1BA,wDAAA,YAAAA,yDAAA,QAAAuF,MAAA,CAAA8C,eAAA,EAA0B;;;;;;IAe5DrI,4DAAA,eAAuD;IASrDA,uDAAA,UAAW;IAIPA,4DAFJ,eAAmD,eACxB,kBAC4B;IAAxBA,wDAAA,mBAAAsI,kEAAA;MAAAtI,2DAAA,CAAAuI,IAAA;MAAA,MAAAhD,MAAA,GAAAvF,2DAAA;MAAA,OAAAA,yDAAA,CAASuF,MAAA,CAAAiD,WAAA,EAAa;IAAA,EAAC;IAACxI,oDAAA,GAAsC;IAC3FA,0DAD2F,EAAS,EAC9F;IAEJA,4DADF,eAAyB,kBAKiD;IAJ/CA,wDAAA,mBAAAyI,kEAAA;MAAAzI,2DAAA,CAAAuI,IAAA;MAAA,MAAAhD,MAAA,GAAAvF,2DAAA;MAAA,OAAAA,yDAAA,CAASuF,MAAA,CAAAmD,cAAA,EAAgB;IAAA,EAAC;IAKjD1I,oDAAA,iBACJ;IAGJA,0DAHI,EAAS,EACH,EACF,EACF;;;;IAZmDA,uDAAA,GAAsC;IAAtCA,+DAAA,CAAAuF,MAAA,CAAA8B,SAAA,wBAAsC;IAKnFrH,uDAAA,GAA4E;IAE5EA,yDAFA,qBAAAuF,MAAA,CAAAmB,kBAAA,CAAAmC,KAAA,2BAA4E,UAAAtD,MAAA,CAAAmB,kBAAA,CAAAmC,KAAA,2BACV,WAAAtD,MAAA,CAAAmB,kBAAA,CAAAmC,KAAA,yBACD;IAHjE7I,wDAAA,aAAAuF,MAAA,CAAAmB,kBAAA,CAAAoC,OAAA,CAAuC;;;;;;IAkB/C9I,4DAFN,eAAqE,eAClC,cACqB;IAAAA,oDAAA,mBAAY;IAAAA,0DAAA,EAAK;IACnEA,4DAAA,aAAuC;IAAAA,oDAAA,+DAA8C;IAAAA,0DAAA,EAAI;IAEzFA,4DADA,eAAiC,kBAC+C;IAA3BA,wDAAA,mBAAA+I,kEAAA;MAAA/I,2DAAA,CAAAgJ,IAAA;MAAA,MAAAzD,MAAA,GAAAvF,2DAAA;MAAA,OAAAA,yDAAA,CAASuF,MAAA,CAAA0D,cAAA,EAAgB;IAAA,EAAC;IAACjJ,oDAAA,UAAG;IAAAA,0DAAA,EAAS;IAC5FA,4DAAA,kBAA6F;IAAzCA,wDAAA,mBAAAkJ,kEAAA;MAAAlJ,2DAAA,CAAAgJ,IAAA;MAAA,MAAAzD,MAAA,GAAAvF,2DAAA;MAAA,OAAAA,yDAAA,CAAAuF,MAAA,CAAA4D,sBAAA,GAAkC,KAAK;IAAA,EAAC;IAACnJ,oDAAA,WAAG;IAGtGA,0DAHsG,EAAS,EACnG,EACJ,EACF;;;;;IAWAA,4DADF,eAAuB,WACf;IAAAA,oDAAA,sBAAe;IAAAA,0DAAA,EAAO;IAC5BA,4DAAA,gBAA4B;IAAAA,oDAAA,GAAgB;IAC9CA,0DAD8C,EAAO,EAC/C;;;;IADwBA,uDAAA,GAAgB;IAAhBA,+DAAA,CAAAuF,MAAA,CAAA6D,YAAA,CAAgB;;;;;IAwEhCpJ,4DADF,SAAuD,cACtC;IAAAA,oDAAA,GAAsB;IAAAA,0DAAA,EAAK;IAC1CA,4DAAA,cAAe;IAAAA,oDAAA,GAA4B;IAAAA,0DAAA,EAAK;IAChDA,4DAAA,cAAe;IAAAA,oDAAA,GAAuC;;IAAAA,0DAAA,EAAK;IAC3DA,4DAAA,cAAe;IAAAA,oDAAA,GAAoB;IAAAA,0DAAA,EAAK;IACxCA,4DAAA,eAAe;IAAAA,oDAAA,IAAuC;;IACxDA,0DADwD,EAAK,EACxD;;;;IALYA,uDAAA,GAAsB;IAAtBA,+DAAA,CAAAqJ,SAAA,CAAAC,UAAA,CAAsB;IACtBtJ,uDAAA,GAA4B;IAA5BA,+DAAA,CAAAqJ,SAAA,CAAAE,gBAAA,CAA4B;IAC5BvJ,uDAAA,GAAuC;IAAvCA,+DAAA,CAAAA,yDAAA,OAAAqJ,SAAA,CAAAG,YAAA,EAAuC;IACvCxJ,uDAAA,GAAoB;IAApBA,+DAAA,CAAAqJ,SAAA,CAAAI,QAAA,CAAoB;IACpBzJ,uDAAA,GAAuC;IAAvCA,+DAAA,CAAAA,yDAAA,QAAAqJ,SAAA,CAAAK,YAAA,EAAuC;;;;;IAWtD1J,4DAFF,SAAsC,cAET;IAAAA,oDAAA,gBAAS;IAAAA,0DAAA,EAAK;IAEzCA,4DAAA,cAAe;IAAAA,oDAAA,WAAI;IACrBA,0DADqB,EAAK,EACrB;;;;;IAGHA,4DAFF,SAA+B,cAEF;IAAAA,oDAAA,aAAM;IAAAA,0DAAA,EAAK;IAEtCA,4DAAA,cAAe;IAAAA,oDAAA,UAAG;IACpBA,0DADoB,EAAK,EACpB;;;;;IArFTA,4DAHJ,eAA0E,eAEuB,eAChE;IAC3BA,uDAAA,eAAwE;IAC1EA,0DAAA,EAAM;IAEJA,4DADF,eAA+B,aACZ;IAAAA,oDAAA,GAAmB;IAAAA,0DAAA,EAAI;IACxCA,4DAAA,aAAiB;IAAAA,oDAAA,GAAgC;IAAAA,0DAAA,EAAI;IACrDA,4DAAA,eAAmB;IACjBA,oDAAA,IAEF;IAEJA,0DAFI,EAAM,EACF,EACF;IAEFA,uDAAJ,UAAI,UAAI;IAINA,4DADF,gBAA+D,UACzD;IAAAA,oDAAA,0BACF;IAAAA,4DAAA,iBAAgC;IAC9BA,oDAAA,IACF;IAEJA,0DAFI,EAAO,EACJ,EACD;IAIJA,4DADF,gBAAwB,cACwC;IAC5DA,oDAAA,IACF;;IACFA,0DADE,EAAI,EACA;IAKFA,4DAFJ,gBAAoD,gBACsB,eAC/B;IAAAA,oDAAA,eAAO;IAAAA,0DAAA,EAAK;IACnDA,4DAAA,cAAsC;IACpCA,oDAAA,IACF;IACFA,0DADE,EAAI,EACA;IAEJA,4DADF,gBAA0E,eACjC;IAAAA,oDAAA,gBAAQ;IAAAA,0DAAA,EAAK;IACpDA,4DAAA,cAAsC;IACpCA,oDAAA,IACF;IAEJA,0DAFI,EAAI,EACA,EACF;IAOEA,4DAJR,gBAA6E,kBACtD,aACZ,UACD,eACa;IAAAA,oDAAA,wBAAW;IAAAA,0DAAA,EAAK;IAC/BA,4DAAA,eAAe;IAAAA,oDAAA,mBAAW;IAAAA,0DAAA,EAAK;IAC/BA,4DAAA,eAAe;IAAAA,oDAAA,UAAE;IAAAA,0DAAA,EAAK;IACtBA,4DAAA,eAAe;IAAAA,oDAAA,qBAAQ;IAAAA,0DAAA,EAAK;IAC5BA,4DAAA,eAAe;IAAAA,oDAAA,sBAAc;IAEjCA,0DAFiC,EAAK,EAC/B,EACC;IACRA,4DAAA,aAAO;IACLA,wDAAA,KAAA2J,+CAAA,mBAAuD;IAOzD3J,0DAAA,EAAQ;IAIJA,4DAHJ,kBAAqB,UAEf,eACyB;IAAAA,oDAAA,gBAAQ;IAAAA,0DAAA,EAAK;IACxCA,4DAAA,eAAe;IAAAA,oDAAA,IAA2C;;IAC5DA,0DAD4D,EAAK,EAC5D;IAOLA,wDANA,KAAA4J,+CAAA,iBAAsC,KAAAC,+CAAA,iBAMP;IAO7B7J,4DADF,UAAI,eACyB;IAAAA,oDAAA,mBAAW;IAAAA,0DAAA,EAAK;IAC3CA,4DAAA,eAAe;IAAAA,oDAAA,IAAgD;;IAIvEA,0DAJuE,EAAK,EACjE,EACC,EACF,EACJ;IAGFA,4DADJ,gBAAyB,cAC0B;IAAAA,oDAAA,iFAAqD;IACxGA,0DADwG,EAAI,EACtG;IAIAA,4DAFN,gBAA4E,gBAC3C,cACA;IAAAA,oDAAA,IAA0B;IACvDA,0DADuD,EAAI,EACrD;IAEJA,4DADF,gBAA4B,cACC;IAAAA,oDAAA,IAA6B;IAE9DA,0DAF8D,EAAI,EACxD,EACJ;IAIJA,4DADF,gBAA8B,gBACR;IAClBA,uDAAA,UAAI;IAEFA,4DADF,cAAkE,cACxD;IAAAA,oDAAA,IAAuB;IACjCA,0DADiC,EAAS,EACtC;IAEFA,4DADF,gBAAiD,UAC3C;IACFA,oDAAA,IAIF;IACFA,0DADE,EAAK,EACD;IAEFA,4DADH,gBAAkE,UAC3D;IAAAA,oDAAA,IAAuD;IAIrEA,0DAJqE,EAAK,EAC5D,EACJ,EACF,EACF;;;;IA9HKA,uDAAA,GAAkE;IAAlEA,wDAAA,QAAAuF,MAAA,CAAAuE,cAAA,IAAAvE,MAAA,CAAAuE,cAAA,4BAAA9J,2DAAA,CAAkE;IAGtDA,uDAAA,GAAmB;IAAnBA,+DAAA,CAAAuF,MAAA,CAAAyE,aAAA,CAAmB;IACnBhK,uDAAA,GAAgC;IAAhCA,gEAAA,cAAAuF,MAAA,CAAA0E,iBAAA,KAAgC;IAE/CjK,uDAAA,GAEF;IAFEA,gEAAA,aAAAuF,MAAA,CAAA4E,eAAA,4BAAA5E,MAAA,CAAA6E,mBAAA,MAEF;IAUEpK,uDAAA,GACF;IADEA,gEAAA,MAAAuF,MAAA,CAAA8E,cAAA,CAAAC,aAAA,MACF;IAOAtK,uDAAA,GACF;IADEA,gEAAA,MAAAuF,MAAA,CAAAgF,eAAA,QAAAvK,yDAAA,SAAAuF,MAAA,CAAA8E,cAAA,CAAAI,YAAA,qBACF;IAQIzK,uDAAA,GACF;IADEA,gEAAA,OAAAuF,MAAA,CAAA8E,cAAA,CAAAK,MAAA,kBAAAnF,MAAA,CAAA8E,cAAA,CAAAK,MAAA,CAAAC,UAAA,MAAApF,MAAA,CAAA8E,cAAA,CAAAO,gBAAA,kBAAArF,MAAA,CAAA8E,cAAA,CAAAO,gBAAA,CAAAlD,GAAA,OACF;IAKE1H,uDAAA,GACF;IADEA,gEAAA,MAAAuF,MAAA,CAAA8E,cAAA,CAAAQ,WAAA,MACF;IAiBwB7K,uDAAA,IAA+B;IAA/BA,wDAAA,YAAAuF,MAAA,CAAA8E,cAAA,CAAAS,aAAA,CAA+B;IAYpC9K,uDAAA,GAA2C;IAA3CA,+DAAA,CAAAA,yDAAA,SAAAuF,MAAA,CAAA8E,cAAA,CAAAU,OAAA,EAA2C;IAEvD/K,uDAAA,GAA+B;IAA/BA,wDAAA,SAAAuF,MAAA,CAAA8E,cAAA,CAAAW,MAAA,KAA+B;IAM/BhL,uDAAA,EAAwB;IAAxBA,wDAAA,SAAAuF,MAAA,CAAA8E,cAAA,CAAAY,GAAA,CAAwB;IAQZjL,uDAAA,GAAgD;IAAhDA,+DAAA,CAAAA,yDAAA,SAAAuF,MAAA,CAAA8E,cAAA,CAAAa,YAAA,EAAgD;IAYtClL,uDAAA,GAA0B;IAA1BA,+DAAA,CAAAuF,MAAA,CAAA4F,oBAAA,CAA0B;IAG1BnL,uDAAA,GAA6B;IAA7BA,+DAAA,CAAAuF,MAAA,CAAA6F,uBAAA,CAA6B;IAShDpL,uDAAA,GAAuB;IAAvBA,+DAAA,CAAAuF,MAAA,CAAA8F,iBAAA,CAAuB;IAI7BrL,uDAAA,GAIF;IAJEA,gEAAA,YAAAuF,MAAA,CAAAgG,cAAA,aAAAhG,MAAA,CAAAiG,cAAA,YAAAjG,MAAA,CAAAkG,aAAA,eAAAlG,MAAA,CAAAmG,gBAAA,MAIF;IAGM1L,uDAAA,GAAuD;IAAvDA,gEAAA,eAAAuF,MAAA,CAAAoG,iBAAA,QAAApG,MAAA,CAAAqG,cAAA,KAAuD;;;;;IAOjE5L,4DAAA,eAA2B;IACzBA,uDAAA,aAAiC;IACjCA,4DAAA,QAAG;IAAAA,oDAAA,qEAA+C;IACpDA,0DADoD,EAAI,EAClD;;;;;IAiBJA,4DAAA,eAAuD;IACrDA,uDAAA,aAAqC;IAACA,oDAAA,mCACxC;IAAAA,0DAAA,EAAM;;;;;IAENA,4DAAA,eAAqE;IACnEA,oDAAA,GACF;IAAAA,0DAAA,EAAM;;;;IADJA,uDAAA,EACF;IADEA,gEAAA,MAAAuF,MAAA,CAAAsG,aAAA,MACF;;;;;IAEA7L,4DAAA,eAAmG;IACjGA,uDAAA,aAAmC;IACnCA,4DAAA,QAAG;IAAAA,oDAAA,iDAAqC;IAC1CA,0DAD0C,EAAI,EACxC;;;;;;IAaFA,4DAAA,cAE4D;IADxDA,wDAAA,mBAAA8L,uEAAA;MAAA,MAAAC,WAAA,GAAA/L,2DAAA,CAAAgM,IAAA,EAAAC,SAAA;MAAA,MAAA1G,MAAA,GAAAvF,2DAAA;MAAA,OAAAA,yDAAA,CAASuF,MAAA,CAAA2G,eAAA,CAAAH,WAAA,CAAwB;IAAA,EAAC;IAEpC/L,4DAAA,SAAI;IAAAA,oDAAA,GAA2B;IAAAA,0DAAA,EAAK;IACpCA,4DAAA,SAAI;IAAAA,oDAAA,GAA6C;;IAAAA,0DAAA,EAAK;IAEpDA,4DADF,SAAI,gBAMC;IACDA,oDAAA,GACF;IACFA,0DADE,EAAO,EACJ;IACLA,4DAAA,aAAuB;IAAAA,oDAAA,IAAyC;;IAClEA,0DADkE,EAAK,EAClE;;;;;IAdDA,yDAAA,iBAAAuF,MAAA,CAAA6G,iBAAA,KAAAL,WAAA,CAAAtN,EAAA,CAAuD;IACrDuB,uDAAA,GAA2B;IAA3BA,+DAAA,CAAA+L,WAAA,CAAAzB,aAAA,CAA2B;IAC3BtK,uDAAA,GAA6C;IAA7CA,+DAAA,CAAAA,yDAAA,OAAA+L,WAAA,CAAAM,WAAA,gBAA6C;IAEpBrM,uDAAA,GAKzB;IALyBA,wDAAA,YAAAA,6DAAA,KAAAuM,GAAA,EAAAR,WAAA,CAAAjK,MAAA,kBAAAiK,WAAA,CAAAjK,MAAA,eAAAiK,WAAA,CAAAjK,MAAA,iBAAAiK,WAAA,CAAAjK,MAAA,eAKzB;IACA9B,uDAAA,EACF;IADEA,gEAAA,MAAA+L,WAAA,CAAAjK,MAAA,MACF;IAEqB9B,uDAAA,GAAyC;IAAzCA,+DAAA,CAAAA,yDAAA,SAAA+L,WAAA,CAAAb,YAAA,EAAyC;;;;;IAtBhElL,4DAHN,YAA+E,YACtE,aAC6G,SAC5G;IAAAA,oDAAA,kBAAM;IAAAA,0DAAA,EAAK;IACfA,4DAAA,SAAI;IAAAA,oDAAA,WAAI;IAAAA,0DAAA,EAAK;IACbA,4DAAA,SAAI;IAAAA,oDAAA,aAAM;IAAAA,0DAAA,EAAK;IACfA,4DAAA,aAAuB;IAAAA,oDAAA,eAAO;IAElCA,0DAFkC,EAAK,EAChC,EACC;IACRA,4DAAA,aAAO;IACLA,wDAAA,KAAAwM,kDAAA,mBAE4D;IAwBhExM,0DATE,EAAQ,EASF;;;;IA1BoBA,uDAAA,IAAiB;IAAjBA,wDAAA,YAAAuF,MAAA,CAAAkH,cAAA,CAAiB;;;;;IAkCvCzM,4DAJR,cAAmG,gBACrE,gBACgB,SACpC,aACgC;IAAAA,oDAAA,YAAK;IAAAA,0DAAA,EAAK;IAC5CA,4DAAA,aAAiC;IAC/BA,oDAAA,GACF;;IAIRA,0DAJQ,EAAK,EACF,EACC,EACF,EACJ;;;;IALIA,uDAAA,GACF;IADEA,gEAAA,MAAAA,yDAAA,OAAAuF,MAAA,CAAAmH,gBAAA,SACF;;;;;IAgBZ1M,4DADF,eAAuB,WACf;IAAAA,oDAAA,YAAK;IAAAA,0DAAA,EAAO;IAClBA,4DAAA,gBAA4B;IAAAA,oDAAA,GAAc;IAC5CA,0DAD4C,EAAO,EAC7C;;;;IADwBA,uDAAA,GAAc;IAAdA,+DAAA,CAAAuF,MAAA,CAAAoH,UAAA,CAAc;;;;;IAsE5B3M,4DADF,SAA+C,cAC9B;IAAAA,oDAAA,GAAsB;IAAAA,0DAAA,EAAK;IAC1CA,4DAAA,cAAe;IAAAA,oDAAA,GAAyC;;IAAAA,0DAAA,EAAK;IAC7DA,4DAAA,cAAe;IAAAA,oDAAA,GAAoB;IAAAA,0DAAA,EAAK;IACxCA,4DAAA,cAAe;IAAAA,oDAAA,GAAyC;;IAAAA,0DAAA,EAAK;IAC7DA,4DAAA,eAAe;IAAAA,oDAAA,IAAgB;IACjCA,0DADiC,EAAK,EACjC;;;;IALYA,uDAAA,GAAsB;IAAtBA,+DAAA,CAAA4M,SAAA,CAAAtD,UAAA,CAAsB;IACtBtJ,uDAAA,GAAyC;IAAzCA,+DAAA,CAAAA,yDAAA,OAAA4M,SAAA,CAAApD,YAAA,WAAyC;IACzCxJ,uDAAA,GAAoB;IAApBA,+DAAA,CAAA4M,SAAA,CAAAnD,QAAA,CAAoB;IACpBzJ,uDAAA,GAAyC;IAAzCA,+DAAA,CAAAA,yDAAA,QAAA4M,SAAA,CAAAC,YAAA,WAAyC;IACzC7M,uDAAA,GAAgB;IAAhBA,+DAAA,CAAA4M,SAAA,CAAA5B,MAAA,CAAgB;;;;;IA/DrChL,4DAHJ,eAAiD,eAEgD,eAChE;IAC3BA,uDAAA,eAAgC;IAClCA,0DAAA,EAAM;IAEJA,4DADF,eAA+B,aACZ;IAAAA,oDAAA,qBAAc;IAAAA,0DAAA,EAAI;IACnCA,4DAAA,aAAiB;IAAAA,oDAAA,yBAAkB;IAAAA,0DAAA,EAAI;IACvCA,4DAAA,eAAmB;IACjBA,oDAAA,mEAEF;IAEJA,0DAFI,EAAM,EACF,EACF;IAEFA,uDAAJ,UAAI,UAAI;IAINA,4DADF,gBAA+D,UACzD;IAAAA,oDAAA,0BACF;IAAAA,4DAAA,iBAAgC;IAC9BA,oDAAA,IACF;IAEJA,0DAFI,EAAO,EACJ,EACD;IAIJA,4DADF,gBAAwB,cACwC;IAC7DA,oDAAA,IACD;;IACFA,0DADE,EAAI,EACA;IAKFA,4DAFJ,gBAAoD,gBACsB,eAC/B;IAAAA,oDAAA,kBAAU;IAAAA,0DAAA,EAAK;IACtDA,4DAAA,cAAsC;IAAAA,oDAAA,IAA8B;IACtEA,0DADsE,EAAI,EACpE;IAEJA,4DADF,gBAA0E,eACjC;IAAAA,oDAAA,gBAAQ;IAAAA,0DAAA,EAAK;IACpDA,4DAAA,cAAsC;IAAAA,oDAAA,IAA6B;IAEvEA,0DAFuE,EAAI,EACnE,EACF;IAOEA,4DAJR,gBAA6E,kBACtD,aACZ,UACD,eACa;IAAAA,oDAAA,wBAAW;IAAAA,0DAAA,EAAK;IAC/BA,4DAAA,eAAe;IAAAA,oDAAA,UAAE;IAAAA,0DAAA,EAAK;IACtBA,4DAAA,eAAe;IAAAA,oDAAA,qBAAQ;IAAAA,0DAAA,EAAK;IAC5BA,4DAAA,eAAe;IAAAA,oDAAA,sBAAc;IAAAA,0DAAA,EAAK;IAClCA,4DAAA,eAAe;IAAAA,oDAAA,eAAO;IAI1BA,0DAJ0B,EAAK,EAGxB,EACC;IACRA,4DAAA,aAAO;IACLA,wDAAA,KAAA8M,gDAAA,oBAA+C;IAOjD9M,0DAAA,EAAQ;IAGJA,4DAFJ,kBAAqB,UACf,eACyB;IAAAA,oDAAA,gBAAQ;IAAAA,0DAAA,EAAK;IACxCA,4DAAA,eAAe;IAAAA,oDAAA,IAAiD;;IAClEA,0DADkE,EAAK,EAClE;IAEHA,4DADF,UAAI,eACyB;IAAAA,oDAAA,iBAAS;IAAAA,0DAAA,EAAK;IACzCA,4DAAA,eAAe;IAAAA,oDAAA,IAAkD;;IACnEA,0DADmE,EAAK,EACnE;IAGHA,4DADF,UAAI,eACyB;IAAAA,oDAAA,mBAAW;IAAAA,0DAAA,EAAK;IAC3CA,4DAAA,eAAe;IAAAA,oDAAA,IAAiF;;IAIxGA,0DAJwG,EAAK,EAClG,EACC,EACF,EACJ;IAGJA,4DADF,gBAAyB,cACwB;IAAAA,oDAAA,iFAAqD;IACtGA,0DADsG,EAAI,EACpG;IAIFA,4DAFJ,gBAA4E,gBAC7C,cACA;IAAAA,oDAAA,kBAAU;IACvCA,0DADuC,EAAI,EACrC;IAEJA,4DADF,gBAA4B,cACC;IAAAA,oDAAA,sBAAc;IAE7CA,0DAF6C,EAAI,EACzC,EACF;IAIJA,4DADF,gBAA8B,gBACR;IAClBA,uDAAA,UAAI;IAEFA,4DADF,cAAkE,cACxD;IAAAA,oDAAA,uBAAe;IACzBA,0DADyB,EAAS,EAC9B;IAEFA,4DADF,gBAAiD,UAC3C;IACFA,oDAAA,8DAIF;IACFA,0DADE,EAAK,EACD;IAEJA,4DADF,gBAAkE,UAC5D;IAAAA,oDAAA,4BAAoB;IAIhCA,0DAJgC,EAAK,EACzB,EACF,EACF,EACF;;;;IAlGEA,uDAAA,IACF;IADEA,gEAAA,MAAAuF,MAAA,CAAAwH,aAAA,CAAAzC,aAAA,MACF;IAODtK,uDAAA,GACD;IADCA,gEAAA,MAAAA,yDAAA,QAAAuF,MAAA,CAAAwH,aAAA,CAAAC,SAAA,2BACD;IAOwChN,uDAAA,GAA8B;IAA9BA,+DAAA,CAAAuF,MAAA,CAAAwH,aAAA,CAAAE,UAAA,CAA8B;IAI9BjN,uDAAA,GAA6B;IAA7BA,+DAAA,CAAAuF,MAAA,CAAAwH,aAAA,CAAAlC,WAAA,CAA6B;IAmB3C7K,uDAAA,IAAuB;IAAvBA,wDAAA,YAAAuF,MAAA,CAAAwH,aAAA,CAAAG,MAAA,CAAuB;IAW5BlN,uDAAA,GAAiD;IAAjDA,+DAAA,CAAAA,yDAAA,SAAAuF,MAAA,CAAAwH,aAAA,CAAArD,YAAA,WAAiD;IAIjD1J,uDAAA,GAAkD;IAAlDA,+DAAA,CAAAA,yDAAA,SAAAuF,MAAA,CAAAwH,aAAA,CAAAI,aAAA,WAAkD;IAKlDnN,uDAAA,GAAiF;IAAjFA,+DAAA,CAAAA,yDAAA,SAAAuF,MAAA,CAAAwH,aAAA,CAAArD,YAAA,GAAAnE,MAAA,CAAAwH,aAAA,CAAAI,aAAA,WAAiF;;;;;;IA+DlGnN,4DAAA,cAAyH;IAA/BA,wDAAA,mBAAAoN,8DAAA;MAAA,MAAAC,SAAA,GAAArN,2DAAA,CAAAsN,IAAA,EAAArB,SAAA;MAAA,MAAA1G,MAAA,GAAAvF,2DAAA;MAAA,OAAAA,yDAAA,CAASuF,MAAA,CAAAgI,aAAA,CAAAF,SAAA,CAAoB;IAAA,EAAC;IACtHrN,4DAAA,SAAI;IAAAA,oDAAA,GAAyB;IAAAA,0DAAA,EAAK;IAClCA,4DAAA,SAAI;IAAAA,oDAAA,GAAyC;;IAAAA,0DAAA,EAAK;IAEhDA,4DADF,SAAI,gBACyB;IAAAA,oDAAA,GAAwB;IACrDA,0DADqD,EAAO,EACvD;IACLA,4DAAA,aAAuB;IAAAA,oDAAA,IAAyC;;IAClEA,0DADkE,EAAK,EAClE;;;;;IAP4BA,yDAAA,iBAAAuF,MAAA,CAAAiI,eAAA,KAAAH,SAAA,CAAAI,OAAA,CAAwD;IACnFzN,uDAAA,GAAyB;IAAzBA,+DAAA,CAAAqN,SAAA,CAAA/C,aAAA,CAAyB;IACzBtK,uDAAA,GAAyC;IAAzCA,+DAAA,CAAAA,yDAAA,OAAAqN,SAAA,CAAAL,SAAA,gBAAyC;IAEhBhN,uDAAA,GAAwB;IAAxBA,+DAAA,CAAAqN,SAAA,CAAAK,YAAA,CAAwB;IAE9B1N,uDAAA,GAAyC;IAAzCA,+DAAA,CAAAA,yDAAA,QAAAqN,SAAA,CAAA3D,YAAA,WAAyC;;;;;IA4DhF1J,4DAAA,eACwB;IACtBA,oDAAA,4BACF;IAAAA,0DAAA,EAAM;;;;;IA4CAA,4DAAA,iBAA2D;IACzDA,oDAAA,GACF;IAAAA,0DAAA,EAAS;;;;;IAFgCA,wDAAA,UAAA2N,WAAA,CAAiB;IACxD3N,uDAAA,EACF;IADEA,gEAAA,MAAA2N,WAAA,QAAApI,MAAA,CAAAqI,cAAA,CAAAD,WAAA,EAAAE,SAAA,OACF;;;;;;IA9DV7N,4DAHV,eAA6C,eAChB,eACG,SAClB;IAAAA,oDAAA,6BAAsB;IAAAA,0DAAA,EAAK;IAC/BA,4DAAA,kBAAiD;IAAvBA,wDAAA,mBAAA8N,mEAAA;MAAA9N,2DAAA,CAAA+N,IAAA;MAAA,MAAAxI,MAAA,GAAAvF,2DAAA;MAAA,OAAAA,yDAAA,CAASuF,MAAA,CAAAyI,UAAA,EAAY;IAAA,EAAC;IAAChO,oDAAA,aAAO;IAC5DA,0DAD4D,EAAS,EAC/D;IAKAA,4DAJN,gBAAmC,eACT,cACE,eAEG;IACvBA,uDAAA,kBAGmD;IACnDA,4DAAA,kBAAqB;IAAAA,oDAAA,uBAAe;IAAAA,4DAAA,iBAAgD;IAAAA,oDAAA,SAAC;IAAOA,0DAAP,EAAO,EAAQ;IACpGA,wDAAA,KAAAiO,iDAAA,mBACwB;IAG1BjO,0DAAA,EAAM;IAGNA,4DAAA,eAAyB;IACvBA,uDAAA,kBAGoC;IACpCA,4DAAA,kBAAqB;IAAAA,oDAAA,aAAK;IAM9BA,0DAN8B,EAAQ,EAK9B,EACF;IAIJA,4DAFF,eAAwB,eAEG;IACvBA,uDAAA,kBAGsC;IACtCA,4DAAA,kBAAqB;IAAAA,oDAAA,eAAO;IAC9BA,0DAD8B,EAAQ,EAChC;IAGNA,4DAAA,eAAyB;IACvBA,uDAAA,kBAGqC;IACrCA,4DAAA,kBAAqB;IAAAA,oDAAA,aAAK;IAG9BA,0DAH8B,EAAQ,EAC9B,EAEF;IAMEA,4DAHR,gBAA0B,eAEW,kBACgE;IAA1CA,wDAAA,oBAAAkO,qEAAAjH,MAAA;MAAAjH,2DAAA,CAAA+N,IAAA;MAAA,MAAAxI,MAAA,GAAAvF,2DAAA;MAAA,OAAAA,yDAAA,CAAUuF,MAAA,CAAA4I,sBAAA,CAAAlH,MAAA,CAA8B;IAAA,EAAC;IAC1FjH,4DAAA,kBAAmC;IAAAA,oDAAA,YAAI;IAAAA,0DAAA,EAAS;IAChDA,wDAAA,KAAAoO,oDAAA,qBAA2D;IAG7DpO,0DAAA,EAAS;IACTA,4DAAA,iBAAgC;IAAAA,oDAAA,YAAI;IAEtCA,0DAFsC,EAAQ,EAExC;IAIRA,4DADF,eAA8B,kBAMkB;IAAxCA,wDADA,mBAAAqO,mEAAA;MAAA,IAAAzH,OAAA;MAAA5G,2DAAA,CAAA+N,IAAA;MAAA,MAAAxI,MAAA,GAAAvF,2DAAA;MAAA,OAAAA,yDAAA,CAASuF,MAAA,CAAA4I,sBAAA,CAAuB;QAAAG,MAAA,EAAS;UAAArQ,KAAA,GAAA2I,OAAA,GAAQrB,MAAA,CAAAgJ,cAAA,CAAAlR,GAAA,CAAmB,MAAM,CAAC,mBAAAuJ,OAAA,CAAA3I;QAAA;MAAQ,CAAC,CAAC;IAAA,EAAC,mBAAAuQ,mEAAA;MAAAxO,2DAAA,CAAA+N,IAAA;MAAA,MAAAxI,MAAA,GAAAvF,2DAAA;MAAA,OAAAA,yDAAA,CAC7EuF,MAAA,CAAAkJ,2BAAA,EAA6B;IAAA,EAAC;IAL7CzO,0DAAA,EAK8C;IAC9CA,4DAAA,kBAAqB;IAAAA,oDAAA,2BAAS;IAChCA,0DADgC,EAAQ,EAClC;IAGNA,4DAAA,eAA8B;IAC5BA,uDAAA,kBAEsC;IACtCA,4DAAA,kBAAqB;IAAAA,oDAAA,eAAO;IAGlCA,0DAHkC,EAAQ,EAChC,EACF,EACF;IAENA,uDAAA,gBAIM;IAGJA,4DADF,gBAA0B,mBACwC;IAAvBA,wDAAA,mBAAA0O,oEAAA;MAAA1O,2DAAA,CAAA+N,IAAA;MAAA,MAAAxI,MAAA,GAAAvF,2DAAA;MAAA,OAAAA,yDAAA,CAASuF,MAAA,CAAAyI,UAAA,EAAY;IAAA,EAAC;IAAChO,oDAAA,eAAO;IAAAA,0DAAA,EAAS;IAChFA,4DAAA,mBAIkG;IAA9BA,wDAAA,mBAAA2O,oEAAA;MAAA3O,2DAAA,CAAA+N,IAAA;MAAA,MAAAxI,MAAA,GAAAvF,2DAAA;MAAA,OAAAA,yDAAA,CAASuF,MAAA,CAAAqJ,iBAAA,EAAmB;IAAA,EAAC;IAC/F5O,oDAAA,iBACF;IAIVA,0DAJU,EAAS,EACL,EACD,EACL,EACF;;;;;IAxGMA,uDAAA,GAA4B;IAA5BA,wDAAA,cAAAuF,MAAA,CAAAgJ,cAAA,CAA4B;IAUpBvO,uDAAA,GAA8E;IAA9EA,wDAAA,WAAA4G,OAAA,GAAArB,MAAA,CAAAgJ,cAAA,CAAAlR,GAAA,0BAAAuJ,OAAA,CAAAkC,OAAA,OAAAlC,OAAA,GAAArB,MAAA,CAAAgJ,cAAA,CAAAlR,GAAA,0BAAAuJ,OAAA,CAAAiI,OAAA,EAA8E;IA+ClD7O,uDAAA,IAAW;IAAXA,wDAAA,YAAAuF,MAAA,CAAAuJ,QAAA,CAAW;IAuC3C9O,uDAAA,IAAwE;IAExEA,yDAFA,qBAAAuF,MAAA,CAAAgJ,cAAA,CAAA1F,KAAA,2BAAwE,UAAAtD,MAAA,CAAAgJ,cAAA,CAAA1F,KAAA,2BACV,WAAAtD,MAAA,CAAAgJ,cAAA,CAAA1F,KAAA,yBACD;IAH7D7I,wDAAA,aAAAuF,MAAA,CAAAgJ,cAAA,CAAAzF,OAAA,CAAmC;;;ADzxB7C,MAAOiG,yBAAyB;EA8GpCC,QAAQA,CAAA;IACN,IAAI,CAAC7Q,iBAAiB,EAAE;IACxB,IAAI,CAAC8Q,cAAc,EAAE;IACrB,IAAI,CAACC,aAAa,EAAE;IACpB,IAAI,CAACC,iBAAiB,EAAE;IACxB,IAAI,CAACC,eAAe,EAAE;IACtB,IAAI,CAACC,cAAc,EAAE;IACrB,IAAI,CAAC3I,kBAAkB,CAAC4I,OAAO,EAAE;IACjC,IAAI,CAACrH,OAAO,CAACqH,OAAO,EAAE;IACtB,IAAI,CAACC,kBAAkB,EAAE;IACzB,IAAI,CAACC,SAAS,EAAE;EAElB;EAEAhT,YACUiT,MAAc,EACdC,EAAe,EACfC,iBAAoC,EACpCC,aAA4B,EAC5BC,KAAqB,EACrBC,cAAsC,EACtCpT,YAA0B,EAC1BqT,YAA0B;IAP1B,KAAAN,MAAM,GAANA,MAAM;IACN,KAAAC,EAAE,GAAFA,EAAE;IACF,KAAAC,iBAAiB,GAAjBA,iBAAiB;IACjB,KAAAC,aAAa,GAAbA,aAAa;IACb,KAAAC,KAAK,GAALA,KAAK;IACL,KAAAC,cAAc,GAAdA,cAAc;IACd,KAAApT,YAAY,GAAZA,YAAY;IACZ,KAAAqT,YAAY,GAAZA,YAAY;IAnId,KAAAC,MAAM,GAAG1T,qEAAW,CAAC0T,MAAM;IAEnC,KAAAC,MAAM,GAAU,EAAE;IAElB,KAAAzK,YAAY,GAAW,EAAE;IACzB,KAAAE,eAAe,GAAW,EAAE;IAC5B,KAAAD,cAAc,GAAG,EAAE;IAGnB,KAAA2B,oBAAoB,GAAG,KAAK;IAC5B,KAAA8I,SAAS,GAAG,KAAK;IACjB,KAAAC,OAAO,GAAW,yBAAyB;IAC3C,KAAAC,WAAW,GAAkB,IAAI;IACjC,KAAAC,YAAY,GAA4B,IAAI;IAC5C,KAAAC,SAAS,GAAgB,IAAI;IAC7B,KAAArI,OAAO,GAAG,IAAInE,wDAAW,EAAE;IAC3B,KAAAuE,eAAe,GAA6BhE,yCAAE,CAAC,EAAE,CAAC;IAClD,KAAAkM,OAAO,GAAG,KAAK;IACf,KAAAC,kBAAkB,GAAG,IAAIvU,kDAAe,CAAe,EAAE,CAAC;IAC1D,KAAAwU,uBAAuB,GAAG,KAAK;IAC/B,KAAA5C,SAAS,GAAW,EAAE;IACtB,KAAA6C,cAAc,GAAW,CAAC;IAC1B,KAAAC,mBAAmB,GAAW,EAAE;IAChC,KAAAC,wBAAwB,GAAW,CAAC;IACpC,KAAAC,SAAS,GAAG,KAAK;IAEjB,KAAApE,cAAc,GAAU,EAAE;IAC1B,KAAAqE,eAAe,GAAG,KAAK;IACvB,KAAAjF,aAAa,GAAG,EAAE;IAClB,KAAAO,iBAAiB,GAAkB,IAAI;IACvC,KAAAoB,eAAe,GAAkB,IAAI;IACrC,KAAAT,aAAa,GAAQ,IAAI;IACzB,KAAA1C,cAAc,GAAQ,IAAI;IAI1B,KAAA0G,cAAc,GAAkB,IAAI;IACpC,KAAAC,iBAAiB,GAAgB,IAAI;IAErC;IACA,KAAAhH,aAAa,GAAW,EAAE;IAC1B,KAAAC,iBAAiB,GAAW,EAAE;IAC9B,KAAAE,eAAe,GAAW,EAAE;IAC5B,KAAAC,mBAAmB,GAAW,EAAE;IAChC,KAAAG,eAAe,GAAW,EAAE;IAC5B,KAAAT,cAAc,GAAW,EAAE;IAC3B,KAAAuB,iBAAiB,GAAW,EAAE;IAC9B,KAAAE,cAAc,GAAW,EAAE;IAC3B,KAAAC,cAAc,GAAW,EAAE;IAC3B,KAAAC,aAAa,GAAW,EAAE;IAC1B,KAAAC,gBAAgB,GAAW,EAAE;IAC7B,KAAAC,iBAAiB,GAAW,EAAE;IAC9B,KAAAC,cAAc,GAAW,EAAE;IAC3B,KAAAR,uBAAuB,GAAW,EAAE;IACpC,KAAAD,oBAAoB,GAAW,EAAE;IAEjC,KAAA/B,YAAY,GAAW,CAAC;IACxB,KAAAuD,UAAU,GAAW,CAAC;IAEtB;IACA,KAAAtF,SAAS,GAAG,KAAK;IAEjB,KAAA4J,iBAAiB,GAAG,CAAC,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAE,SAAS,CAAC;IAE3D;IACC,KAAArD,cAAc,GAA+D;MAC9E,MAAM,EAAE;QAAEC,SAAS,EAAE,MAAM;QAAEqD,QAAQ,EAAE;MAAC,CAAE;MAC1C,SAAS,EAAE;QAAErD,SAAS,EAAE,MAAM;QAAEqD,QAAQ,EAAE;MAAC,CAAE;MAC7C,gBAAgB,EAAE;QAAErD,SAAS,EAAE,MAAM;QAAEqD,QAAQ,EAAE;MAAE,CAAE;MACrD,cAAc,EAAE;QAAErD,SAAS,EAAE,MAAM;QAAEqD,QAAQ,EAAE;MAAC,CAAE;MAClD,OAAO,EAAE;QAAErD,SAAS,EAAE,MAAM;QAAEqD,QAAQ,EAAE;MAAC,CAAE;MAC3C,QAAQ,EAAE;QAAErD,SAAS,EAAE,KAAK;QAAEqD,QAAQ,EAAE;MAAC,CAAE;MAC3C,UAAU,EAAE;QAAErD,SAAS,EAAE,KAAK;QAAEqD,QAAQ,EAAE;MAAC,CAAE;MAC7C,QAAQ,EAAE;QAAErD,SAAS,EAAE,KAAK;QAAEqD,QAAQ,EAAE;MAAC,CAAE;MAC3C,QAAQ,EAAE;QAAErD,SAAS,EAAE,IAAI;QAAEqD,QAAQ,EAAE;MAAE,CAAE;MAC3C,YAAY,EAAE;QAAErD,SAAS,EAAE,IAAI;QAAEqD,QAAQ,EAAE;MAAE,CAAE;MAC/C,OAAO,EAAE;QAAErD,SAAS,EAAE,MAAM;QAAEqD,QAAQ,EAAE;MAAC,CAAE;MAC3C,SAAS,EAAE;QAAErD,SAAS,EAAE,MAAM;QAAEqD,QAAQ,EAAE;MAAC,CAAE;MAC7C,SAAS,EAAE;QAAErD,SAAS,EAAE,MAAM;QAAEqD,QAAQ,EAAE;MAAC,CAAE;MAC7C,MAAM,EAAE;QAAErD,SAAS,EAAE,MAAM;QAAEqD,QAAQ,EAAE;MAAC,CAAE;MAC1C,OAAO,EAAE;QAAErD,SAAS,EAAE,MAAM;QAAEqD,QAAQ,EAAE;MAAC,CAAE;MAC3C,QAAQ,EAAE;QAAErD,SAAS,EAAE,MAAM;QAAEqD,QAAQ,EAAE;MAAC,CAAE;MAC5C,OAAO,EAAE;QAAErD,SAAS,EAAE,MAAM;QAAEqD,QAAQ,EAAE;MAAC,CAAE;MAC3C,UAAU,EAAE;QAAErD,SAAS,EAAE,MAAM;QAAEqD,QAAQ,EAAE;MAAC,CAAE;MAC9C,KAAK,EAAE;QAAErD,SAAS,EAAE,MAAM;QAAEqD,QAAQ,EAAE;MAAC,CAAE;MACzC,OAAO,EAAE;QAAErD,SAAS,EAAE,MAAM;QAAEqD,QAAQ,EAAE;MAAC,CAAE;MAC3C,gBAAgB,EAAE;QAAErD,SAAS,EAAE,KAAK;QAAEqD,QAAQ,EAAE;MAAC,CAAE;MACnD,QAAQ,EAAE;QAAErD,SAAS,EAAE,MAAM;QAAEqD,QAAQ,EAAE;MAAC,CAAE;MAC5C,OAAO,EAAE;QAAErD,SAAS,EAAE,MAAM;QAAEqD,QAAQ,EAAE;MAAC,CAAE;MAC3C,SAAS,EAAE;QAAErD,SAAS,EAAE,MAAM;QAAEqD,QAAQ,EAAE;MAAE,CAAE;MAC9C,OAAO,EAAE;QAAErD,SAAS,EAAE,MAAM;QAAEqD,QAAQ,EAAE;MAAC,CAAE;MAC3C,UAAU,EAAE;QAAErD,SAAS,EAAE,MAAM;QAAEqD,QAAQ,EAAE;MAAC,CAAE;MAC9C,QAAQ,EAAE;QAAErD,SAAS,EAAE,KAAK;QAAEqD,QAAQ,EAAE;MAAE,CAAE;MAC5C,MAAM,EAAE;QAAErD,SAAS,EAAE,KAAK;QAAEqD,QAAQ,EAAE;MAAE,CAAE;MAC1C,OAAO,EAAE;QAAErD,SAAS,EAAE,KAAK;QAAEqD,QAAQ,EAAE;MAAE,CAAE;MAC3C,SAAS,EAAE;QAAErD,SAAS,EAAE,KAAK;QAAEqD,QAAQ,EAAE;MAAE,CAAE;MAC7C,WAAW,EAAE;QAAErD,SAAS,EAAE,KAAK;QAAEqD,QAAQ,EAAE;MAAE,CAAE;MAC/C,SAAS,EAAE;QAAErD,SAAS,EAAE,KAAK;QAAEqD,QAAQ,EAAE;MAAC,CAAE;MAC5C,QAAQ,EAAE;QAAErD,SAAS,EAAE,KAAK;QAAEqD,QAAQ,EAAE;MAAE,CAAE;MAC5C,aAAa,EAAE;QAAErD,SAAS,EAAE,KAAK;QAAEqD,QAAQ,EAAE;MAAE,CAAE;MACjD,UAAU,EAAE;QAAErD,SAAS,EAAE,KAAK;QAAEqD,QAAQ,EAAE;MAAC,CAAE;MAC7C,UAAU,EAAE;QAAErD,SAAS,EAAE,MAAM;QAAEqD,QAAQ,EAAE;MAAC;KAC3C;IAED,KAAApC,QAAQ,GAAaqC,MAAM,CAACC,IAAI,CAAC,IAAI,CAACxD,cAAc,CAAC;IAgvBvD,KAAAlD,MAAM,GAAmB,IAAI;IAE7B,KAAAvB,sBAAsB,GAAG,KAAK;IAC9B,KAAAkI,WAAW,GAAG,KAAK;EAvtBd;EAEGC,oBAAoBA,CAAC7O,IAAU;IAAA,IAAA8O,KAAA;IAAA,OAAAC,0IAAA;MACjC,IAAI,CAAC/O,IAAI,EAAE;QACTrE,OAAO,CAACE,GAAG,CAAC,4BAA4B,CAAC;QACzC;MACF;MAEAF,OAAO,CAACE,GAAG,CAAC,mBAAmB,EAAEmE,IAAI,CAACgP,IAAI,GAAG,IAAI,EAAE,IAAI,CAAC;MAExD;MACA,MAAMC,OAAO,GAAG;QACdC,SAAS,EAAE,CAAC;QACZC,gBAAgB,EAAE,IAAI;QACtBC,YAAY,EAAE;OACf;MAED,IAAI;QACF,MAAMC,cAAc,SAASvN,qEAAgB,CAAC9B,IAAI,EAAEiP,OAAO,CAAC;QAC5DtT,OAAO,CAACE,GAAG,CAAC,2BAA2B,EAAEwT,cAAc,CAACL,IAAI,GAAG,IAAI,EAAE,IAAI,CAAC;QAE1E;QACA,IAAIK,cAAc,CAACpO,IAAI,KAAK,WAAW,IAAIoO,cAAc,CAACpO,IAAI,KAAK,YAAY,EAAE;UAC/EtF,OAAO,CAACd,KAAK,CAAC,mEAAmE,CAAC;UAClFiU,KAAI,CAAC/L,YAAY,GAAG,kEAAkE;UACtF;QACF;QAEA;QACA,MAAMuM,MAAM,GAAG,IAAIC,UAAU,EAAE;QAC/BD,MAAM,CAACE,MAAM,GAAIC,CAAC,IAAI;UACpBX,KAAI,CAACnB,WAAW,GAAG8B,CAAC,CAAC5D,MAAM,EAAE6D,MAAgB;UAC7C/T,OAAO,CAACE,GAAG,CAAC,0CAA0C,CAAC;QACzD,CAAC;QACDyT,MAAM,CAACK,aAAa,CAACN,cAAc,CAAC;MACtC,CAAC,CAAC,OAAOxU,KAAK,EAAE;QACdc,OAAO,CAACd,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;MACxD;IAAC;EACL;EAEA+U,cAAcA,CAACC,KAAY;IACzB,IAAI,CAAC9M,YAAY,GAAG,EAAE;IACtB,MAAM+M,KAAK,GAAGD,KAAK,CAAChE,MAA0B;IAC9C,IAAIiE,KAAK,CAACC,KAAK,EAAE7Q,MAAM,EAAE;MACvB,MAAMc,IAAI,GAAG8P,KAAK,CAACC,KAAK,CAAC,CAAC,CAAC;MAC3B,IAAI,CAACxB,iBAAiB,GAAGvO,IAAI;MAE7B;MACA,MAAMgQ,cAAc,GAAG,CAAC,YAAY,EAAE,WAAW,EAAE,WAAW,CAAC;MAC/D,IAAI,CAACA,cAAc,CAACC,QAAQ,CAACjQ,IAAI,CAACiB,IAAI,CAAC,EAAE;QACvC,IAAI,CAAC8B,YAAY,GAAG,0CAA0C;QAC9D;MACF;MAEA,IAAI,CAAC8L,oBAAoB,CAAC7O,IAAI,CAAC;MAG/B;MACA,MAAMsP,MAAM,GAAG,IAAIC,UAAU,EAAE;MAC/BD,MAAM,CAACE,MAAM,GAAIC,CAAC,IAAI;QACpB,IAAI,CAAC9B,WAAW,GAAG8B,CAAC,CAAC5D,MAAM,EAAE6D,MAAgB;MAC/C,CAAC;MACDJ,MAAM,CAACK,aAAa,CAAC3P,IAAI,CAAC;IAC5B;EACF;EAEA;EACFkQ,kBAAkBA,CAACnR,SAAiB;IAClC,IAAI,CAACsO,cAAc,CAACxO,sBAAsB,CAACE,SAAS,CAAC,CAACoR,SAAS,CAAC;MAC9D1U,IAAI,EAAG2U,OAAY,IAAI;QACrB;QACA,MAAMC,WAAW,GAAGD,OAAO,CAAC7H,MAAM,IAAI,CAAC;QACvC,MAAM+H,gBAAgB,GAAGF,OAAO,CAAC9H,OAAO,GAAI8H,OAAO,CAAC9H,OAAO,GAAG+H,WAAW,GAAG,GAAI;QAEhF;QACA,IAAIE,UAAU,GAAG,CAAC;QAClB,IAAIC,OAAO,GAAG,CAAC;QAEf,IAAIJ,OAAO,CAAC5H,GAAG,EAAE;UACf;UACA;UACA+H,UAAU,GAAGH,OAAO,CAAC3H,YAAY,GAAG6H,gBAAgB;UAEpD;UACA,IAAIA,gBAAgB,GAAG,CAAC,EAAE;YACxBE,OAAO,GAAGD,UAAU,GAAGD,gBAAgB;UACzC;QACF;QAEA;QACA,IAAIG,cAAc,GAAGJ,WAAW;QAChC,IAAII,cAAc,GAAG,GAAG,EAAE;UACxB9U,OAAO,CAAC+U,IAAI,CAAC,6BAA6BD,cAAc,WAAW,CAAC;UACpEA,cAAc,GAAG,GAAG;QACtB;QAEA,IAAI,CAAC7I,cAAc,GAAG;UACpB,GAAGwI,OAAO;UACVG,UAAU;UACVC,OAAO;UACPjI,MAAM,EAAEkI;SACT;MACH,CAAC;MACD5V,KAAK,EAAGuF,GAAG,IAAI;QACbzE,OAAO,CAACd,KAAK,CAAC,mCAAmC,EAAEuF,GAAG,CAAC;MACzD;KACD,CAAC;EACJ;EAEAqJ,eAAeA,CAACtL,OAAY;IAC1B,IAAI,CAACwL,iBAAiB,GAAGxL,OAAO,CAACnC,EAAE;IACnC,IAAI,CAACkU,kBAAkB,CAAC/R,OAAO,CAACnC,EAAE,CAAC;EACrC;EAEA8O,aAAaA,CAAC6F,KAAU;IACtB,IAAI,CAACrG,aAAa,GAAGqG,KAAK,CAAC,CAAe;IAC1C,IAAI,CAAC5F,eAAe,GAAG4F,KAAK,CAAC3F,OAAO,CAAC,CAAK;IAC1CrP,OAAO,CAACE,GAAG,CAAC,oBAAoB,EAAE,IAAI,CAACyO,aAAa,CAAC;EACvD;EAGA;EACAwC,kBAAkBA,CAAA;IAChB,IAAI,CAACI,iBAAiB,CAAC7Q,iBAAiB,EAAE,CAAC8T,SAAS,CAAC;MACnD1U,IAAI,EAAGL,UAAU,IAAI;QACnB,IAAI,CAACmM,aAAa,GAAGnM,UAAU,CAAC6J,GAAG;QACnC,IAAI,CAACuC,iBAAiB,GAAGpM,UAAU,CAACwV,OAAO;QAC3C,IAAI,CAAClJ,eAAe,GAAGtM,UAAU,CAACyV,KAAK;QACvC,IAAI,CAAClJ,mBAAmB,GAAGvM,UAAU,CAAC0V,SAAS;QAC/C,IAAI,CAAChJ,eAAe,GAAG1M,UAAU,CAAC2V,KAAK;QACvC,IAAI,CAAC1J,cAAc,GAAGjM,UAAU,CAAC4V,IAAI,GAAG,GAAG,IAAI,CAACzD,MAAM,GAAGnS,UAAU,CAAC4V,IAAI,EAAE,GAAG,EAAE;QAC/E,IAAI,CAACpI,iBAAiB,GAAGxN,UAAU,CAAC6V,OAAO;QAC3C,IAAI,CAACnI,cAAc,GAAG1N,UAAU,CAAC8V,IAAI;QACrC,IAAI,CAACnI,cAAc,GAAG3N,UAAU,CAAC+V,IAAI;QACrC,IAAI,CAACnI,aAAa,GAAG5N,UAAU,CAACgW,GAAG;QACnC,IAAI,CAACnI,gBAAgB,GAAG7N,UAAU,CAACiW,MAAM;QACzC,IAAI,CAACnI,iBAAiB,GAAG9N,UAAU,CAACkW,OAAO;QAC3C,IAAI,CAACnI,cAAc,GAAG/N,UAAU,CAACmW,IAAI;QACrC,IAAI,CAAC5I,uBAAuB,GAAGvN,UAAU,CAACoW,aAAa;QACvD,IAAI,CAAC9I,oBAAoB,GAAGtN,UAAU,CAACqW,UAAU;MACnD,CAAC;MACD5W,KAAK,EAAGuF,GAAG,IAAI;QACbzE,OAAO,CAACd,KAAK,CAAC,oCAAoC,EAAEuF,GAAG,CAAC;MAC1D;KACD,CAAC;EACJ;EAEE;EACA;EACA;EACA;EACA;EACA;EAEA6J,gBAAgBA,CAAA;IACd,MAAMyH,KAAK,GAAG,IAAI,CAAC1H,cAAc,CAAC2H,MAAM,CAAC,CAACC,GAAW,EAAEzT,OAAY,KACjEyT,GAAG,GAAGzT,OAAO,CAACsK,YAAY,EAAE,CAAC,CAC9B;IAED;IACA,OAAOoJ,IAAI,CAACC,KAAK,CAACJ,KAAK,CAAC;EAC1B;EAEA;EACAK,gBAAgBA,CAAA;IACd,IAAI,CAAC,IAAI,CAACnN,SAAS,EAAE;IACrB,IAAI,CAACoN,SAAS,CAACC,aAAa,CAACC,KAAK,EAAE;EACtC;EAEAC,YAAYA,CAAA;IACV,IAAI,CAACvN,SAAS,GAAG,IAAI;IACrB,IAAI,CAACX,kBAAkB,CAACmO,MAAM,EAAE,CAAC,CAAC;EACpC;EAEA;EACFC,YAAYA,CAACxC,KAAU;IACrB,MAAMyC,eAAe,GAAGzC,KAAK,CAAChE,MAAM,CAACrQ,KAAK;IAC1C,MAAM+W,QAAQ,GAAG,IAAI,CAACpH,cAAc,CAACmH,eAAe,CAAC;IAErD,IAAIC,QAAQ,EAAE;MACZ,IAAI,CAACnH,SAAS,GAAGmH,QAAQ,CAACnH,SAAS,CAAC,CAAC;MACrC,IAAI,CAAC6C,cAAc,GAAGsE,QAAQ,CAAC9D,QAAQ;MACvC,IAAI,CAACxK,kBAAkB,CAACrJ,GAAG,CAAC,WAAW,CAAC,EAAEwX,MAAM,EAAE;MAElD,MAAMI,IAAI,GAAG,IAAI,CAACvO,kBAAkB,CAACrJ,GAAG,CAAC,WAAW,CAAC;MACrD,IAAI6X,MAAM,GAAGD,IAAI,EAAEhX,KAAK,IAAI,EAAE;MAE9B,MAAMkX,MAAM,GAAG,IAAI,CAACtH,SAAS,CAACuH,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;MAChD,MAAMC,QAAQ,GAAGH,MAAM,CAACE,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;MAE1C;MACA,IAAI,CAACC,QAAQ,CAACC,UAAU,CAACH,MAAM,CAAC,EAAE;QAChCF,IAAI,EAAEM,QAAQ,CAAC,IAAI,CAAC1H,SAAS,CAAC;MAChC,CAAC,MAAM;QACL,MAAM2H,KAAK,GAAGH,QAAQ,CAACI,KAAK,CAACN,MAAM,CAACxT,MAAM,CAAC;QAC3CsT,IAAI,EAAEM,QAAQ,CAAC,IAAI,CAAC1H,SAAS,GAAG2H,KAAK,CAAC;MACxC;MAEA,IAAI,CAACE,oBAAoB,CAAC,IAAI,CAAChF,cAAc,CAAC;IAChD,CAAC,MAAM;MACL,IAAI,CAAChK,kBAAkB,CAACrJ,GAAG,CAAC,WAAW,CAAC,EAAEiS,OAAO,EAAE;IACrD;EACF;EAGE;EACAoG,oBAAoBA,CAACxE,QAAgB;IACrC,MAAMyE,KAAK,GAAG,IAAIC,MAAM,CAAC,MAAM,IAAI,CAAC/H,SAAS,WAAWqD,QAAQ,IAAI,CAAC;IACrE,IAAI,CAACxK,kBAAkB,CAACmP,QAAQ,CAAC,WAAW,CAAC,CAACC,aAAa,CAAC,CAC1D5R,uDAAU,CAAC6R,OAAO,CAACJ,KAAK,CAAC,CAC1B,CAAC;IACF,IAAI,CAACjP,kBAAkB,CAACmP,QAAQ,CAAC,WAAW,CAAC,CAACG,sBAAsB,EAAE;EACxE;EAGE;EACFC,iBAAiBA,CAAA;IACf,MAAMhB,IAAI,GAAG,IAAI,CAACvO,kBAAkB,CAACrJ,GAAG,CAAC,WAAW,CAAC;IACrD,IAAI6X,MAAM,GAAGD,IAAI,EAAEhX,KAAK,IAAI,EAAE;IAE9B;IACA,IAAIiY,SAAS,GAAGhB,MAAM,CAACE,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;IACzC,MAAMD,MAAM,GAAG,IAAI,CAACtH,SAAS,CAACuH,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;IAEhD;IACA,IAAIc,SAAS,CAACZ,UAAU,CAACH,MAAM,CAAC,EAAE;MAChCe,SAAS,GAAGA,SAAS,CAACT,KAAK,CAACN,MAAM,CAACxT,MAAM,CAAC;IAC5C;IAEA;IACA,MAAMwU,aAAa,GAAG,IAAI,CAACtI,SAAS,GAAGqI,SAAS,CAACT,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC/E,cAAc,CAAC;IAC9EuE,IAAI,EAAEM,QAAQ,CAACY,aAAa,CAAC;EAC/B;EAGEC,SAASA,CAAA;IACP,IAAI,CAAC3G,MAAM,CAAC4G,QAAQ,CAAC,CAAC,UAAU,CAAC,CAAC;EACpC;EAEAhH,cAAcA,CAAA;IACZ,IAAI,CAACQ,KAAK,CAAC7O,MAAM,CAAC4R,SAAS,CAAC5R,MAAM,IAAG;MACnC,IAAI,CAACuC,QAAQ,GAAG,CAACvC,MAAM,CAAC,IAAI,CAAC;MAC7B,IAAI,CAACsV,cAAc,EAAE;IACvB,CAAC,CAAC;EACJ;EAEAC,aAAaA,CAAA;IACX,IAAI,CAAClP,SAAS,GAAG,KAAK;IACtB,IAAI,CAACX,kBAAkB,CAAC4I,OAAO,EAAE;IACjC,IAAI,CAACgH,cAAc,EAAE,CAAC,CAAC;EACzB;EAEAE,eAAeA,CAACC,YAAoB;IAClC;IACA,IAAIA,YAAY,CAACnB,UAAU,CAAC,MAAM,CAAC,EAAE,OAAOmB,YAAY;IAExD;IACA,IAAIA,YAAY,CAACnB,UAAU,CAAC,QAAQ,CAAC,EAAE,OAAOmB,YAAY;IAE1D;IACA,OAAOA,YAAY,GACf,GAAGna,qEAAW,CAAC0T,MAAM,GAAGyG,YAAY,EAAE,GACtC,uBAAuB;EAC7B;EAEQH,cAAcA,CAAA;IACpB,IAAI,CAAC1G,aAAa,CAAC8G,aAAa,CAAC,IAAI,CAACnT,QAAQ,CAAC,CAACqP,SAAS,CAAC;MACxD1U,IAAI,EAAGwM,MAAM,IAAI;QACf;QACA,IAAI,CAACqG,cAAc,GAAGrG,MAAM,CAACiM,KAAK,GAChC,IAAI,CAAC/G,aAAa,CAAC4G,eAAe,CAAC9L,MAAM,CAACiM,KAAK,CAAC,GAChD,uBAAuB;QAEzB,IAAI,CAACC,YAAY,CAAClM,MAAM,CAAC;QACzB,IAAI,CAAChE,kBAAkB,CAAC4I,OAAO,EAAE;QACjC,IAAI,CAACuH,gBAAgB,CAACnM,MAAM,CAACE,gBAAgB,CAAC;QAC9C,IAAI,CAACkM,kBAAkB,EAAE;QAEzB,IAAIpM,MAAM,CAACiM,KAAK,EAAE;UAChB,IAAI,CAAC5F,cAAc,GAAG,IAAI,CAACnB,aAAa,CAAC4G,eAAe,CAAC9L,MAAM,CAACiM,KAAK,CAAC;QACxE;MACF,CAAC;MACDrZ,KAAK,EAAGA,KAAK,IAAI;QACf,IAAI,CAACkI,YAAY,GAAG,qCAAqC;QACzDpH,OAAO,CAACd,KAAK,CAAC,SAAS,EAAEA,KAAK,CAAC;MACjC;KACD,CAAC;EACJ;EAEF;EACAwZ,kBAAkBA,CAAA;IAChB,IAAI,CAAChG,eAAe,GAAG,IAAI;IAC3B,IAAI,CAAChB,cAAc,CAACxM,mBAAmB,CAAC,IAAI,CAACC,QAAQ,CAAC,CAACqP,SAAS,CAAC;MAC/D1U,IAAI,EAAG6Y,QAAQ,IAAI;QACjB,IAAI,CAACtK,cAAc,GAAGsK,QAAQ;QAC9B,IAAI,CAAC3N,YAAY,GAAG2N,QAAQ,CAACpV,MAAM;QACnC,IAAI,CAACmP,eAAe,GAAG,KAAK;QAE5B;QACA,IAAI,IAAI,CAACrE,cAAc,CAAC9K,MAAM,GAAG,CAAC,EAAE;UAClC,IAAI,CAACuK,eAAe,CAAC,IAAI,CAACO,cAAc,CAAC,CAAC,CAAC,CAAC;QAC9C;MACF,CAAC;MACDnP,KAAK,EAAGuF,GAAG,IAAI;QACb,IAAI,CAACgJ,aAAa,GAAG,wCAAwC;QAC7D,IAAI,CAACiF,eAAe,GAAG,KAAK;QAC5B1S,OAAO,CAACd,KAAK,CAACuF,GAAG,CAAC;MACpB;KACD,CAAC;EACJ;EAEA;EAGE;EACQ+T,YAAYA,CAAClM,MAAe;IAClC,IAAI,CAAChE,kBAAkB,CAACsQ,UAAU,CAAC;MACjCrM,UAAU,EAAED,MAAM,CAACC,UAAU;MAC7B2I,KAAK,EAAE5I,MAAM,CAAC4I,KAAK;MACnBC,SAAS,EAAE7I,MAAM,CAAC6I,SAAS;MAC3BQ,OAAO,EAAErJ,MAAM,CAACqJ,OAAO;MACvBkD,KAAK,EAAEvM,MAAM,CAACuM,KAAK;MACnBjD,IAAI,EAAEtJ,MAAM,CAACsJ,IAAI;MACjBkD,KAAK,EAAExM,MAAM,CAACwM;KACf,CAAC;IAEF;IACA,IAAIxM,MAAM,CAAC6I,SAAS,EAAE;MACpB,MAAM4D,UAAU,GAAGzM,MAAM,CAAC6I,SAAS,CAAC6B,OAAO,CAAC,gBAAgB,EAAE,OAAO,CAAC;MACtE,IAAI,CAAC1O,kBAAkB,CAACsQ,UAAU,CAAC;QAAEzD,SAAS,EAAE4D;MAAU,CAAE,CAAC;IAC/D;IAEA,IAAIzM,MAAM,CAACsJ,IAAI,EAAE;MACf,MAAMgB,QAAQ,GAAG,IAAI,CAACpH,cAAc,CAAClD,MAAM,CAACsJ,IAAI,CAAC;MACjD,IAAIgB,QAAQ,EAAE;QACZ,IAAI,CAACnH,SAAS,GAAG,GAAGmH,QAAQ,CAACnH,SAAS,GAAG,CAAC,CAAC;QAC3C,IAAI,CAAC6C,cAAc,GAAGsE,QAAQ,CAAC9D,QAAQ;QACvC,IAAI,CAACwE,oBAAoB,CAACV,QAAQ,CAAC9D,QAAQ,CAAC;MAC9C;IACF;EACF;EAEQ2F,gBAAgBA,CAAChZ,UAA6B;IACpD,IAAI,CAACuJ,oBAAoB,GAAG,CAAC,CAACvJ,UAAU;IACxC,IAAI,CAACoK,OAAO,CAACsN,QAAQ,CAAC1X,UAAU,CAAC;IACjC,IAAI,CAAC4S,uBAAuB,GAAG,KAAK;EACtC;EAEAvB,aAAaA,CAAA;IACX,IAAI,CAACxI,kBAAkB,GAAG,IAAI,CAACgJ,EAAE,CAAC0H,KAAK,CAAC;MACtCzM,UAAU,EAAE,CAAC,EAAE,EAAE,CAACzG,uDAAU,CAACmT,QAAQ,EAAEnT,uDAAU,CAACoT,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;MAChEhE,KAAK,EAAE,CAAC,EAAE,EAAE,CAACpP,uDAAU,CAACoP,KAAK,CAAC,CAAC;MAC/BC,SAAS,EAAE,CAAC,EAAE,CAAC;MACfQ,OAAO,EAAE,CAAC,EAAE,CAAC;MACbkD,KAAK,EAAE,CAAC,EAAE,CAAC;MACXjD,IAAI,EAAE,CAAC,EAAE,CAAC;MACVkD,KAAK,EAAE,CAAC,EAAE;KACX,CAAC;EACJ;EAEA/H,iBAAiBA,CAAA;IACf,IAAI,CAACZ,cAAc,GAAG,IAAI,CAACmB,EAAE,CAAC0H,KAAK,CAAC;MAClC1P,GAAG,EAAE,CAAC,EAAE,EAAExD,uDAAU,CAACmT,QAAQ,CAAC;MAC9B/D,KAAK,EAAE,CAAC,EAAE,EAAEpP,uDAAU,CAACoP,KAAK,CAAC;MAC7BC,SAAS,EAAE,CAAC,EAAE,CAAC;MACfQ,OAAO,EAAE,CAAC,EAAE,CAAC;MACbP,KAAK,EAAE,CAAC,EAAE,CAAC;MACXH,OAAO,EAAE,CAAC,EAAE,CAAC;MACbW,IAAI,EAAE,CAAC,EAAE;KACV,CAAC;EACJ;EAEQ5E,eAAeA,CAAA;IACrB,MAAMjS,KAAK,GAAG6B,YAAY,CAACe,OAAO,CAAC,aAAa,CAAC,IAAI,EAAE;IACvD,IAAI,CAAC5C,KAAK,EAAE;IAEZ,IAAI,CAACwS,iBAAiB,CAACxR,iBAAiB,EAAE,CAACyU,SAAS,CAC/C2E,IAAkB,IAAI;MACnB,IAAI,CAAC/G,kBAAkB,CAACtS,IAAI,CAACqZ,IAAI,CAAC,CAAC,CAAC;MACpC,IAAI,CAACC,iBAAiB,EAAE;IAC5B,CAAC,EACD3U,GAAG,IAAG;MACFzE,OAAO,CAACd,KAAK,CAAC,kDAAkD,EAAEuF,GAAG,CAAC;MACtE,IAAI,CAAC2C,YAAY,GAAG3C,GAAG,CAACvF,KAAK,EAAEA,KAAK,IAAI,+BAA+B;IAC3E,CAAC,CACJ;EACH;EAEA;EACQka,iBAAiBA,CAAA;IACvB,IAAI,CAACnP,eAAe,GAAGlE,oDAAa,CAAC,CACnC,IAAI,CAAC8D,OAAO,CAACwP,YAAY,CAACva,IAAI,CAC5BoH,gDAAS,CAAC,EAAE,CAAC,EACbF,0CAAG,CAACnG,KAAK,IAAI,OAAOA,KAAK,KAAK,QAAQ,GAAGA,KAAK,GAAGA,KAAK,EAAEyJ,GAAG,CAAC,CAC7D,EACD,IAAI,CAAC8I,kBAAkB,CACxB,CAAC,CAACtT,IAAI,CACLkH,0CAAG,CAAC,CAAC,CAACzB,IAAI,EAAE+U,WAAW,CAAC,KACtB/U,IAAI,GAAG,IAAI,CAACgV,OAAO,CAAChV,IAAI,EAAE+U,WAAW,CAAC,GAAGA,WAAW,CACrD,CACF;EACH;EAEFvZ,iBAAiBA,CAAA;IACf,IAAI,CAACzB,YAAY,CAACO,mBAAmB,EAAE,CAACC,IAAI,CAC1Cf,gDAAS,CAACgB,KAAK,IAAG;MAChB,IAAI,CAACA,KAAK,EAAE;QACViB,OAAO,CAACd,KAAK,CAAC,yBAAyB,CAAC;QACxC,OAAOjB,iDAAU,CAAC,MAAM,IAAIsB,KAAK,CAAC,oBAAoB,CAAC,CAAC;MAC1D;MACA,OAAO,IAAI,CAACgS,iBAAiB,CAACxR,iBAAiB,EAAE;IACnD,CAAC,CAAC,CACH,CAACyU,SAAS,CAAC;MACV1U,IAAI,EAAGwZ,WAAW,IAAI;QACpBtZ,OAAO,CAACE,GAAG,CAAC,uCAAuC,EAAEoZ,WAAW,CAAC;QAEjE;QACA,IAAI,CAAClH,kBAAkB,CAACtS,IAAI,CAACwZ,WAAW,CAAC;QAEzC,IAAI,CAACrP,eAAe,GAAG,IAAI,CAACJ,OAAO,CAACwP,YAAY,CAACva,IAAI,CACnDoH,gDAAS,CAAsB,EAAE,CAAC,EAClCF,0CAAG,CAACnG,KAAK,IAAKA,KAAK,GAAI,OAAOA,KAAK,KAAK,QAAQ,GAAGA,KAAK,GAAGA,KAAK,CAACyJ,GAAG,GAAI,EAAG,CAAC,EAC5EtD,0CAAG,CAACzB,IAAI,IAAKA,IAAI,GAAG,IAAI,CAACgV,OAAO,CAAChV,IAAI,EAAE,IAAI,CAAC6N,kBAAkB,CAACvS,KAAK,CAAC,GAAG,IAAI,CAACuS,kBAAkB,CAACvS,KAAK,CAACwX,KAAK,EAAG,CAAC,CAChH;MACH,CAAC;MACDnY,KAAK,EAAGA,KAAK,IAAI;QACfc,OAAO,CAACd,KAAK,CAAC,oDAAoD,EAAEA,KAAK,CAAC;MAC5E;KACD,CAAC;EACJ;EAGUqa,OAAOA,CAAChV,IAAY,EAAE+U,WAAyB;IACrD,MAAME,WAAW,GAAGjV,IAAI,CAACkV,WAAW,EAAE;IACtC,OAAOH,WAAW,CAACI,MAAM,CAAC5F,CAAC,IACvBA,CAAC,CAACxK,GAAG,CAACmQ,WAAW,EAAE,CAACnF,QAAQ,CAACkF,WAAW,CAAC,CAC5C;EACH;EAEAzP,mBAAmBA,CAAC+J,CAAc;IAChC,OAAOA,CAAC,GAAGA,CAAC,CAACxK,GAAG,GAAG,EAAE;EACvB;EAEE;EACFG,oBAAoBA,CAACyK,KAAU;IAC7B;IACA;IACA;IACA;IACA;IACA;EAAA;EAGF;EACAvK,SAASA,CAAA;IACP,IAAI,CAAC,IAAI,CAACV,SAAS,EAAE;MACnB,IAAI,CAAC7B,YAAY,GAAG,mDAAmD;MACvE;IACF;IACA,IAAI,CAAC,IAAI,CAAC6B,SAAS,EAAE;IAErB,IAAI,CAAC8H,iBAAiB,EAAE;IACxB,IAAI,CAACZ,cAAc,CAACwJ,KAAK,EAAE;IAE3B;IACA,IAAI,CAACxJ,cAAc,CAACyI,UAAU,CAAC;MAC7BhD,IAAI,EAAE;KACP,CAAC;IAEF;IACA,IAAI,CAAC7F,sBAAsB,CAAC;MAC1BG,MAAM,EAAE;QACNrQ,KAAK,EAAE,IAAI,CAACsQ,cAAc,CAAClR,GAAG,CAAC,MAAM,CAAC,EAAEY;;KAE3C,CAAC;IAEF,IAAI,CAACiS,SAAS,GAAG,IAAI;IACrB,IAAI,CAACO,uBAAuB,GAAG,KAAK;EACtC;EAEAzC,UAAUA,CAAA;IAAK,IAAI,CAACkC,SAAS,GAAG,KAAK;EAAE;EAEvCjB,cAAcA,CAAA;IACZ,IAAI,CAACV,cAAc,GAAG,IAAI,CAACmB,EAAE,CAAC0H,KAAK,CAAC;MAClC1P,GAAG,EAAE,CAAC,EAAE,EAAExD,uDAAU,CAACmT,QAAQ,CAAC;MAC9BrD,IAAI,EAAE,CAAC,EAAE,CAAC;MACVV,KAAK,EAAE,CAAC,EAAE,CAAC;MACXC,SAAS,EAAE,CAAC,EAAE,CAAC;MACfQ,OAAO,EAAE,CAAC,EAAE,CAAC;MACbP,KAAK,EAAE,CAAC,EAAE,CAAC;MACXH,OAAO,EAAE,CAAC,EAAE;KACb,CAAC;EACJ;EAEAzE,iBAAiBA,CAAA;IACb,IAAI,IAAI,CAACL,cAAc,CAACzF,OAAO,EAAE;IAEjC;IACA,IAAI,CAAC+H,SAAS,GAAG,IAAI;IAErB;IACAmH,UAAU,CAAC,MAAK;MACd,MAAMja,aAAa,GAAe;QAC9B2J,GAAG,EAAE,IAAI,CAAC6G,cAAc,CAACtQ,KAAK,CAACyJ,GAAG;QAClCsM,IAAI,EAAE,IAAI,CAACzF,cAAc,CAACtQ,KAAK,CAAC+V,IAAI;QACpCV,KAAK,EAAE,IAAI,CAAC/E,cAAc,CAACtQ,KAAK,CAACqV,KAAK;QACtCC,SAAS,EAAE,IAAI,CAAChF,cAAc,CAACtQ,KAAK,CAACsV,SAAS;QAC9CQ,OAAO,EAAE,IAAI,CAACxF,cAAc,CAACtQ,KAAK,CAAC8V,OAAO;QAC1CP,KAAK,EAAE,IAAI,CAACjF,cAAc,CAACtQ,KAAK,CAACuV,KAAK;QACtCH,OAAO,EAAE,IAAI,CAAC9E,cAAc,CAACtQ,KAAK,CAACoV,OAAO;QAC1CI,IAAI,EAAG,IAAI,CAAClF,cAAc,CAACtQ,KAAK,CAACwV,IAAI;QACrCI,GAAG,EAAE,IAAI,CAACtF,cAAc,CAACtQ,KAAK,CAAC4V,GAAG;QAClCF,IAAI,EAAE,IAAI,CAACpF,cAAc,CAACtQ,KAAK,CAAC0V,IAAI;QACpCG,MAAM,EAAE,IAAI,CAACvF,cAAc,CAACtQ,KAAK,CAAC6V,MAAM;QACxCF,IAAI,EAAE,IAAI,CAACrF,cAAc,CAACtQ,KAAK,CAAC2V,IAAI;QACpCF,OAAO,EAAE,IAAI,CAACnF,cAAc,CAACtQ,KAAK,CAACyV,OAAO;QAC1CQ,UAAU,EAAE,IAAI,CAAC3F,cAAc,CAACtQ,KAAK,CAACiW,UAAU;QAChDD,aAAa,EAAE,IAAI,CAAC1F,cAAc,CAACtQ,KAAK,CAACgW,aAAa;QACtDgE,OAAO,EAAE,IAAI,CAAC1J,cAAc,CAACtQ,KAAK,CAACga,OAAO;QAC1CC,OAAO,EAAE,IAAI,CAAC3J,cAAc,CAACtQ,KAAK,CAACia,OAAO;QAC1CjF,OAAO,EAAE,IAAI,CAAC1E,cAAc,CAACtQ,KAAK,CAACgV,OAAO;QAC1CkF,WAAW,EAAE,IAAI,CAAC5J,cAAc,CAACtQ,KAAK,CAACka,WAAW;QAClDC,SAAS,EAAE,IAAI,CAAC7J,cAAc,CAACtQ,KAAK,CAACma;OAGxC;MAED,IAAI,CAACzI,iBAAiB,CAAC/R,aAAa,CAACG,aAAa,CAAC,CAAC6U,SAAS,CAAC;QAC1D1U,IAAI,EAAGma,iBAAiB,IAAI;UACxB,MAAMC,OAAO,GAAG,IAAI,CAAC9H,kBAAkB,CAACvS,KAAK;UAC7C,IAAI,CAACuS,kBAAkB,CAACtS,IAAI,CAAC,CAACma,iBAAiB,EAAE,GAAGC,OAAO,CAAC,CAAC;UAC7D,IAAI,CAACrQ,OAAO,CAACsN,QAAQ,CAAC8C,iBAAiB,CAAC;UACxC,IAAI,CAACrK,UAAU,EAAE;UACjB,IAAI,CAACO,cAAc,CAACwJ,KAAK,EAAE;UAC3B,IAAI,CAAClH,SAAS,GAAG,KAAK;QAC1B,CAAC;QACDvT,KAAK,EAAGA,KAAK,IAAI;UACb,IAAI,CAACoI,eAAe,GAAGpI,KAAK,CAACG,OAAO,IAAI,4BAA4B;UACpE,IAAI,CAACoT,SAAS,GAAG,KAAK;QAC1B;OACH,CAAC;IACJ,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC;EACd;EAEAnI,cAAcA,CAAA;IAEZ,IAAI,CAAClD,YAAY,GAAG,EAAE;IACtB,IAAI,CAACE,eAAe,GAAG,EAAE;IACzB,IAAI,CAACD,cAAc,GAAG,EAAE;IAExB;IACA,IAAI,CAAC8S,oBAAoB,CAAC,IAAI,CAAC7R,kBAAkB,CAAC;IAElD,IAAI,IAAI,CAACA,kBAAkB,CAACoC,OAAO,EAAE;MACnC,IAAI,CAACtD,YAAY,GAAG,mDAAmD;MACvE;IACF;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAGA,IAAI,IAAI,CAAC4B,oBAAoB,IAAI,CAAC,IAAI,CAACa,OAAO,CAAChK,KAAK,EAAE;MACpD,IAAI,CAACuH,YAAY,GAAG,gDAAgD;MACpE;IACF;IAEA;IACA,IAAI,CAACqL,SAAS,GAAG,IAAI;IAErB;IACAmH,UAAU,CAAC,MAAK;MACd;MACA,MAAMQ,UAAU,GAAQ;QACtB,GAAG,IAAI,CAAC9R,kBAAkB,CAACzI,KAAK;QAChCQ,EAAE,EAAE,IAAI,CAAC8E;QACT;OACD;MAED;MACA,IAAI+M,SAAS,GAAqBrP,SAAS;MAE3C,IAAI,IAAI,CAAC+P,iBAAiB,EAAE;QAC1B;QACAV,SAAS,GAAG,IAAI,CAACU,iBAAiB;MACpC,CAAC,MAAM,IAAI,IAAI,CAACD,cAAc,EAAE2B,QAAQ,CAAC,QAAQ,CAAC,EAAE;QAClD;QACA8F,UAAU,CAAC7B,KAAK,GAAG,IAAI,CAAC,CAAC;MAC3B;MAEA;MACA,IAAI,IAAI,CAACvP,oBAAoB,IAAI,IAAI,CAACa,OAAO,CAAChK,KAAK,EAAEQ,EAAE,EAAE;QACvD+Z,UAAU,CAAC5N,gBAAgB,GAAG;UAAEnM,EAAE,EAAE,IAAI,CAACwJ,OAAO,CAAChK,KAAK,CAACQ;QAAE,CAAE;MAC7D,CAAC,MAAM;QACL+Z,UAAU,CAAC5N,gBAAgB,GAAG,IAAI;MACpC;MAEA;MACA,IAAI,CAACgF,aAAa,CAAC6I,YAAY,CAAC,IAAI,CAAClV,QAAQ,EAAEiV,UAAU,EAAElI,SAAS,CAAC,CAACsC,SAAS,CAAC;QAC9E1U,IAAI,EAAGwa,aAAa,IAAI;UACtB;UACA,IAAIA,aAAa,CAAC/B,KAAK,EAAE;YACvB;YACA,IAAI,CAAC5F,cAAc,GAAG,IAAI,CAACnB,aAAa,CAAC4G,eAAe,CAACkC,aAAa,CAAC/B,KAAK,CAAC;UAC/E,CAAC,MAAM;YACL,IAAI,CAAC5F,cAAc,GAAG,uBAAuB;UAC/C;UAEA,IAAI,CAACtL,cAAc,GAAG,8BAA8B;UACpD,IAAI,CAACD,YAAY,GAAG,EAAE;UAEtB;UACA,IAAI,CAAC4K,WAAW,GAAG,IAAI;UACvB,IAAI,CAACY,iBAAiB,GAAG,IAAI;UAE7B;UACA,IAAI,CAAC3J,SAAS,GAAG,KAAK;UACtB,IAAI,CAACX,kBAAkB,CAAC4I,OAAO,EAAE;UAEjC,IAAI,CAACuB,SAAS,GAAG,KAAK;QACxB,CAAC;QACDvT,KAAK,EAAGA,KAAK,IAAI;UACfc,OAAO,CAACd,KAAK,CAAC,SAAS,EAAEA,KAAK,CAAC;UAC/B,IAAI,CAACkI,YAAY,GAAGlI,KAAK,CAACA,KAAK,EAAEG,OAAO,IAAI,0CAA0C;UACtF,IAAI,CAACgI,cAAc,GAAG,EAAE;UACxB,IAAI,CAACoL,SAAS,GAAG,KAAK;QACxB;OACD,CAAC;IACJ,CAAC,EAAE,IAAI,CAAC;EACV;EAEA;EACQ0H,oBAAoBA,CAACI,SAAoB;IAC/CxH,MAAM,CAACyH,MAAM,CAACD,SAAS,CAAC9C,QAAQ,CAAC,CAACjU,OAAO,CAACqG,OAAO,IAAG;MAClDA,OAAO,CAAC4Q,aAAa,EAAE;MAEvB,IAAI5Q,OAAO,YAAYlE,sDAAS,EAAE;QAChC,IAAI,CAACwU,oBAAoB,CAACtQ,OAAO,CAAC;MACpC;IACF,CAAC,CAAC;EACJ;EAEA/B,aAAaA,CAAA;IACX,IAAI,CAACmB,SAAS,GAAG,CAAC,IAAI,CAACA,SAAS;IAEhC,IAAI,IAAI,CAACA,SAAS,EAAE;MAClB,IAAI,CAACY,OAAO,CAAC4M,MAAM,EAAE;MACrB,IAAI,CAACnO,kBAAkB,CAACmO,MAAM,EAAE;IAClC,CAAC,MAAM;MACL;MACA,IAAI,CAACrP,YAAY,GAAG,EAAE;MACtB,IAAI,CAACiL,uBAAuB,GAAG,KAAK;MACpC,IAAI,CAACxI,OAAO,CAACqH,OAAO,EAAE;MACtB,IAAI,CAAC5I,kBAAkB,CAAC4I,OAAO,EAAE;MACjC,IAAI,CAACgH,cAAc,EAAE;IACvB;EACF;EAEA;EACA9N,WAAWA,CAAA;IACT,IAAI,IAAI,CAACnB,SAAS,EAAE;MAClB,IAAI,CAACkP,aAAa,EAAE;IACtB,CAAC,MAAM;MACL,IAAI,CAAC9G,MAAM,CAAC4G,QAAQ,CAAC,CAAC,UAAU,CAAC,CAAC;IACpC;EACF;EAEA5H,2BAA2BA,CAAA;IACzB,IAAIyG,MAAM,GAAG,IAAI,CAAC3G,cAAc,CAAClR,GAAG,CAAC,WAAW,CAAC,EAAEY,KAAK;IAExD;IACA,IAAI,CAACiX,MAAM,CAACI,UAAU,CAAC,IAAI,CAAC3E,mBAAmB,CAAC,EAAE;MAChD,IAAI,CAACpC,cAAc,CAAClR,GAAG,CAAC,WAAW,CAAC,EAAEkY,QAAQ,CAAC,IAAI,CAAC5E,mBAAmB,CAAC;MACxE;IACF;IAEA;IACA,MAAM0E,QAAQ,GAAGH,MAAM,CAACE,OAAO,CAAC,IAAI,CAACzE,mBAAmB,EAAE,EAAE,CAAC,CAACyE,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;IAChF,MAAMe,aAAa,GAAG,IAAI,CAACxF,mBAAmB,GAAG0E,QAAQ;IAEzD;IACA,MAAMyD,SAAS,GAAG,IAAI,CAACnI,mBAAmB,CAAChP,MAAM,GAAG,IAAI,CAACiP,wBAAwB;IACjF,IAAI,CAACrC,cAAc,CAAClR,GAAG,CAAC,WAAW,CAAC,EAAEkY,QAAQ,CAACY,aAAa,CAACV,KAAK,CAAC,CAAC,EAAEqD,SAAS,CAAC,CAAC;EACnF;EAEA3K,sBAAsBA,CAACmE,KAAU;IAC/B,MAAMyC,eAAe,GAAGzC,KAAK,CAAChE,MAAM,CAACrQ,KAAK;IAC1C,MAAM+W,QAAQ,GAAG,IAAI,CAACpH,cAAc,CAACmH,eAAe,CAAC;IAErD,IAAIC,QAAQ,EAAE;MACZ;MACA,IAAI,CAACrE,mBAAmB,GAAG,GAAGqE,QAAQ,CAACnH,SAAS,GAAG;MACnD,IAAI,CAAC+C,wBAAwB,GAAGoE,QAAQ,CAAC9D,QAAQ;MAEjD;MACA,MAAM6H,YAAY,GAAG,IAAI,CAACxK,cAAc,CAAClR,GAAG,CAAC,WAAW,CAAC,EAAEY,KAAK,IAAI,EAAE;MACtE,IAAI,CAAC8a,YAAY,CAACzD,UAAU,CAAC,IAAI,CAAC3E,mBAAmB,CAAC,EAAE;QACtD,IAAI,CAACpC,cAAc,CAAClR,GAAG,CAAC,WAAW,CAAC,EAAEkY,QAAQ,CAAC,IAAI,CAAC5E,mBAAmB,CAAC;MAC1E;MAEA;MACA,IAAI,CAACqI,8BAA8B,CAAChE,QAAQ,CAAC9D,QAAQ,CAAC;IACxD;EACF;EAEA8H,8BAA8BA,CAAC9H,QAAgB;IAC7C,IAAI,CAAC3C,cAAc,CAACsH,QAAQ,CAAC,WAAW,CAAC,CAACC,aAAa,CAAC,CACtD5R,uDAAU,CAAC6R,OAAO,CAAC,MAAM,IAAI,CAACpF,mBAAmB,OAAOO,QAAQ,IAAI,CAAC,CACtE,CAAC;IACF,IAAI,CAAC3C,cAAc,CAACsH,QAAQ,CAAC,WAAW,CAAC,CAACG,sBAAsB,EAAE;EACpE;EAEAiD,YAAYA,CAAA;IACV,IAAI,CAACxJ,MAAM,CAAC4G,QAAQ,CAAC,CAAC,UAAU,CAAC,CAAC;EACpC;EAOF6C,YAAYA,CAAA;IACV,IAAI,CAAC,IAAI,CAACxO,MAAM,IAAI,CAAC,IAAI,CAACnH,QAAQ,EAAE;MAClCnF,OAAO,CAACd,KAAK,CAAC,8BAA8B,CAAC;MAC7C;IACF;IAEA,IAAI,CAAC6L,sBAAsB,GAAG,IAAI;EACpC;EAGMF,cAAcA,CAAA;IAAA,IAAAkQ,MAAA;IAAA,OAAA3H,0IAAA;MAClB2H,MAAI,CAAChQ,sBAAsB,GAAG,KAAK;MAEnC,IAAI,CAACgQ,MAAI,CAACzO,MAAM,IAAI,CAACyO,MAAI,CAAC5V,QAAQ,EAAE;QAClC4V,MAAI,CAAC3T,YAAY,GAAG,yCAAyC;QAC7D;MACF;MAEA2T,MAAI,CAAC9H,WAAW,GAAG,IAAI;MACvB8H,MAAI,CAAC3T,YAAY,GAAG,EAAE;MACtB2T,MAAI,CAAC1T,cAAc,GAAG,EAAE;MAExB,IAAI;QACF,MAAM2T,UAAU,GAAGD,MAAI,CAACzO,MAAM,EAAEjM,EAAE,IAAI0a,MAAI,CAAC5V,QAAQ;QACnD,MAAM9F,OAAO,SAAS0b,MAAI,CAACvJ,aAAa,CAACsJ,YAAY,CAACE,UAAU,CAAC,CAACC,SAAS,EAAE;QAC7EF,MAAI,CAAC1T,cAAc,GAAGhI,OAAO,IAAI,+BAA+B;QAEhEua,UAAU,CAAC,MAAK;UACdmB,MAAI,CAAC1J,MAAM,CAAC4G,QAAQ,CAAC,CAAC,UAAU,CAAC,CAAC;QACpC,CAAC,EAAE,IAAI,CAAC;MACV,CAAC,CAAC,OAAOxT,GAAQ,EAAE;QACjB,IAAIpF,OAAO,GAAGoF,GAAG,EAAEpF,OAAO,IAAIoF,GAAG,EAAEvF,KAAK,IAAI,gCAAgC;QAE5E,MAAM6X,MAAM,GAAG,4BAA4B;QAC3C,IAAI1X,OAAO,CAAC6X,UAAU,CAACH,MAAM,CAAC,EAAE;UAC9B1X,OAAO,GAAGA,OAAO,CAAC6b,SAAS,CAACnE,MAAM,CAACxT,MAAM,CAAC;QAC5C;QACAwX,MAAI,CAAC3T,YAAY,GAAG/H,OAAO;MAC7B,CAAC,SAAS;QACR0b,MAAI,CAAC9H,WAAW,GAAG,KAAK;QACxB2G,UAAU,CAAC,MAAK;UACdmB,MAAI,CAAC3T,YAAY,GAAG,EAAE;UACtB2T,MAAI,CAAC1T,cAAc,GAAG,EAAE;QAC1B,CAAC,EAAE,IAAI,CAAC;MACV;IAAC;EACH;EAGA;EACE+J,SAASA,CAAA;IACP,IAAI,CAACe,OAAO,GAAG,IAAI;IACnB,IAAI,CAAC/K,YAAY,GAAG,EAAE;IAEtB,IAAI,CAACuK,YAAY,CAACwJ,gBAAgB,CAAC,IAAI,CAAChW,QAAQ,EAAE,IAAI,CAACC,kBAAkB,CAAC,CACvEoP,SAAS,CAAC;MACT1U,IAAI,EAAGsb,GAAU,IAAI;QACnBpb,OAAO,CAACE,GAAG,CAAC,kBAAkB,EAAEkb,GAAG,CAAC;QACpC,IAAI,CAACvJ,MAAM,GAAGuJ,GAAG;QAChB,IAAI,CAAC7M,UAAU,GAAG,IAAI,CAACsD,MAAM,CAACtO,MAAM;QAEnC;QACF,IAAI,IAAI,CAACsO,MAAM,CAACtO,MAAM,GAAG,CAAC,EAAE;UAC1B,IAAI,CAAC6L,eAAe,GAAG,IAAI,CAACyC,MAAM,CAAC,CAAC,CAAC,CAACxC,OAAO;UAC7C,IAAI,CAACV,aAAa,GAAG,IAAI,CAACkD,MAAM,CAAC,CAAC,CAAC;UAEnC7R,OAAO,CAACE,GAAG,CAAC,6CAA6C,EAAE,IAAI,CAACkP,eAAe,CAAC;QAClF;QAEA,IAAI,CAACyC,MAAM,GAAGuJ,GAAG;QACjB,IAAI,CAACjJ,OAAO,GAAG,KAAK;MACtB,CAAC;MACDjT,KAAK,EAAGuF,GAAG,IAAI;QACbzE,OAAO,CAACd,KAAK,CAAC,8BAA8B,EAAEuF,GAAG,CAAC;QAClD,IAAI,CAAC2C,YAAY,GAAG,qCAAqC;QACzD,IAAI,CAAC+K,OAAO,GAAG,KAAK;MACtB;KACD,CAAC;EACN;EAEA;EACAkJ,YAAYA,CAAC/O,MAAW;IACtB,IAAI,CAACnH,QAAQ,GAAGmH,MAAM,CAACjM,EAAE;IACzB,IAAI,CAAC+E,kBAAkB,GAAGvC,SAAS,CAAC,CAAC;IACrC,IAAI,CAACuO,SAAS,EAAE;EAClB;EAEA;EACAkK,sBAAsBA,CAAC9O,gBAAqB;IAC1C,IAAI,CAACpH,kBAAkB,GAAGoH,gBAAgB,CAACnM,EAAE;IAC7C,IAAI,CAAC8E,QAAQ,GAAG,CAAC;IACjB,IAAI,CAACiM,SAAS,EAAE;EAClB;EAEA,IAAImK,YAAYA,CAAA;IAChB,OAAO,IAAI,CAAC1J,MAAM,EAAEmE,MAAM,CAAC,UAASwF,GAAG,EAAExG,KAAK;MAC5C,OAAOwG,GAAG,IAAIxG,KAAK,CAAC1J,YAAY,IAAI,CAAC,CAAC;IACxC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC;EACZ;;;uCA/7BaqF,yBAAyB,EAAA/O,+DAAA,CAAAE,oDAAA,GAAAF,+DAAA,CAAAI,wDAAA,GAAAJ,+DAAA,CAAAga,2EAAA,GAAAha,+DAAA,CAAAia,mEAAA,GAAAja,+DAAA,CAAAE,4DAAA,GAAAF,+DAAA,CAAAoa,qFAAA,GAAApa,+DAAA,CAAAqa,iEAAA,GAAAra,+DAAA,CAAAsa,8EAAA;IAAA;EAAA;;;YAAzBvL,yBAAyB;MAAAyL,SAAA;MAAAC,SAAA,WAAAC,gCAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;;;;;;;;;;;;;;UC3CtC3a,4DAAA,aAA6B;UAY3BA,wDAVA,IAAA6a,wCAAA,iBAA0E,IAAAC,wCAAA,iBAKI,IAAAC,wCAAA,iBAKD;UAG/E/a,0DAAA,EAAM;UAKJA,4DAHF,aAA8B,WAGoG;UAApGA,wDAAA,mBAAAgb,sDAAA;YAAAhb,2DAAA,CAAAib,GAAA;YAAA,OAAAjb,yDAAA,CAAS4a,GAAA,CAAA3B,YAAA,EAAc;UAAA,EAAC;UAChDjZ,uDAAA,WAAoC;UAACA,4DAAA,cAAiD;UAAAA,oDAAA,cAAO;UACjGA,0DADiG,EAAO,EACpG;UAEJA,wDAAA,IAAAkb,wCAAA,kBAA+C;UAc7Blb,4DAPlB,eAA2E,eAC7C,eACQ,eAEJ,eACG,eACJ,UACX;UAAAA,oDAAA,iCAAyB;UAErCA,0DAFqC,EAAK,EAChC,EACJ;UAENA,4DAAA,eAA8D;UAA7BA,wDAAA,mBAAAmb,yDAAA;YAAAnb,2DAAA,CAAAib,GAAA;YAAA,OAAAjb,yDAAA,CAAS4a,GAAA,CAAApG,gBAAA,EAAkB;UAAA,EAAC;UAC3DxU,uDAAA,eAE0B;UAE1BA,4DAAA,eAAqB;UACnBA,uDAAA,eAAwE;UAE5EA,0DADE,EAAM,EACF;UAENA,4DAAA,oBACwC;UAAlCA,wDAAA,oBAAAob,4DAAAnU,MAAA;YAAAjH,2DAAA,CAAAib,GAAA;YAAA,OAAAjb,yDAAA,CAAU4a,GAAA,CAAAvI,cAAA,CAAApL,MAAA,CAAsB;UAAA,EAAC;UADvCjH,0DAAA,EACwC;UAGtCA,4DADF,eAA0B,aACkC;UAAAA,oDAAA,gDAAmC;UAAAA,uDAAA,UAAI;UAACA,oDAAA,kCAAyB;UAC7HA,0DAD6H,EAAI,EAC3H;UAKYA,4DAFV,eAAiE,gBAC3B,gBACG;UAC7BA,oDAAA,6BACA;UAEJA,0DAFI,EAAO,EAEJ;UAGHA,4DADJ,iBAAuB,kBAMK;UAH5BA,wDAAA,mBAAAqb,4DAAA;YAAArb,2DAAA,CAAAib,GAAA;YAAA,OAAAjb,yDAAA,CAAS4a,GAAA,CAAA1B,YAAA,EAAc;UAAA,EAAC;UAIxBlZ,uDAAA,aAAgC;UAIpDA,0DAHgB,EAAS,EACG,EACV,EACZ;UAMIA,4DAHV,eAA0B,eACG,eACU,UACzB;UAAAA,oDAAA,iCAAyB;UAAAA,0DAAA,EAAK;UAClCA,4DAAA,eAAuB;UAMrBA,wDALA,KAAAsb,uCAAA,gBAG4B,KAAAC,uCAAA,gBAKA;UAGtCvb,0DAFQ,EAAM,EACJ,EACJ;UAKFA,4DAHJ,gBAAoE,eACrC,eAEF;UACvBA,uDAAA,iBAGgD;UAChDA,4DAAA,iBAAsC;UAAAA,oDAAA,0BAAa;UAAAA,0DAAA,EAAQ;UAC3DA,wDAAA,KAAAwb,yCAAA,kBAA0H;UAI5Hxb,0DAAA,EAAM;UAENA,4DAAA,eAAyB;UACvBA,uDAAA,iBAEuC;UACvCA,4DAAA,iBAAiC;UAAAA,oDAAA,aAAK;UAAAA,0DAAA,EAAQ;UAC9CA,wDAAA,KAAAyb,yCAAA,kBAAgH;UAGlHzb,0DAAA,EAAM;UAENA,4DAAA,eAAyB;UACvBA,uDAAA,iBAGiD;UACjDA,4DAAA,iBAAmC;UAAAA,oDAAA,eAAO;UAE9CA,0DAF8C,EAAQ,EAC9C,EACF;UAKHA,4DAHH,eAA6B,eAEG,kBACsD;UAAhCA,wDAAA,oBAAA0b,6DAAAzU,MAAA;YAAAjH,2DAAA,CAAAib,GAAA;YAAA,OAAAjb,yDAAA,CAAU4a,GAAA,CAAA9F,YAAA,CAAA7N,MAAA,CAAoB;UAAA,EAAC;UAC7EjH,4DAAA,kBAAmC;UAAAA,oDAAA,YAAI;UAAAA,0DAAA,EAAS;UAChDA,wDAAA,KAAA2b,4CAAA,qBAA2D;UAG7D3b,0DAAA,EAAS;UACTA,4DAAA,iBAAgC;UAAAA,oDAAA,YAAI;UACxCA,0DADwC,EAAQ,EAC1C;UAIJA,4DADF,eAA8B,iBAKQ;UAA9BA,wDAAA,mBAAA4b,2DAAA;YAAA5b,2DAAA,CAAAib,GAAA;YAAA,OAAAjb,yDAAA,CAAS4a,GAAA,CAAA3E,iBAAA,EAAmB;UAAA,EAAC;UAJnCjW,0DAAA,EAIoC;UACpCA,4DAAA,iBAAqC;UAAAA,oDAAA,2BAAS;UAChDA,0DADgD,EAAQ,EAClD;UAGJA,4DAAA,eAA8B;UAC9BA,uDAAA,iBAGyC;UACzCA,4DAAA,iBAAgC;UAAAA,oDAAA,aAAK;UAGzCA,0DAHyC,EAAQ,EACzC,EAEF;UAIJA,4DAFF,eAAwB,eAEG;UACvBA,uDAAA,iBAG+C;UAC/CA,4DAAA,iBAAiC;UAAAA,oDAAA,aAAK;UACxCA,0DADwC,EAAQ,EAC1C;UAENA,4DAAA,eAAyB;UACvBA,uDAAA,iBAGyC;UACzCA,4DAAA,iBAAgC;UAAAA,oDAAA,aAAK;UAG3CA,0DAH2C,EAAQ,EACzC,EACF,EACD;UAuDPA,wDApDA,KAAA6b,yCAAA,kBAAkG,KAAAC,yCAAA,mBAmBA,KAAAC,yCAAA,kBAiC3C;UA8B/D/b,0DAHM,EAAM,EACF,EACF,EACF;UAGAA,wDAAA,KAAAgc,yCAAA,mBAAqE;UAiBrEhc,4DAJN,eAA+B,eACD,yBAC6B,eAE5C;UACPA,wDAAA,KAAAic,iDAAA,0BAA2B;UAUrBjc,4DAJN,eAAyB,eACK,eACQ,eAEmB;UACnDA,wDAAA,KAAAkc,yCAAA,oBAA0E;UAmI1Elc,4DAAA,eAAyB;UACvBA,wDAAA,MAAAmc,kDAAA,gCAAAnc,oEAAA,CAAgC;UAOlCA,0DADA,EAAM,EACA;UAOEA,4DAJR,gBAA8C,gBAChB,gBACgD,gBACrD,WACb;UAAAA,oDAAA,4BAAmB;UAE3BA,0DAF2B,EAAK,EACxB,EACF;UAGNA,4DAAA,gBAAuI;UAgBrIA,wDAdA,MAAAqc,0CAAA,kBAAuD,MAAAC,0CAAA,kBAIc,MAAAC,0CAAA,kBAI8B,MAAAC,4CAAA,qBAMpB;UAqCjFxc,0DAAA,EAAM;UAGNA,wDAAA,MAAAyc,0CAAA,kBAAmG;UAiB/Gzc,0DALU,EAAM,EACF,EACF,EACF,EACF,EACE;UAGVA,4DAAA,gBAAS;UACLA,wDAAA,MAAA0c,kDAAA,0BAA2B;UAUrB1c,4DAJN,gBAAyB,gBACK,gBACQ,gBAEoB;UAClDA,wDAAA,MAAA2c,0CAAA,oBAAiD;UAyHnD3c,0DAAA,EAAM;UAOEA,4DAJR,gBAA+C,gBACjB,gBACgD,gBACrD,WACb;UAAAA,oDAAA,0BAAiB;UAEzBA,0DAFyB,EAAK,EACtB,EACF;UAOEA,4DAJR,gBAAuI,cAC9H,cACE,eAC6G,WAC5G;UAAAA,oDAAA,4BAAc;UAAAA,0DAAA,EAAK;UACvBA,4DAAA,WAAI;UAAAA,oDAAA,aAAI;UAAAA,0DAAA,EAAK;UACbA,4DAAA,WAAI;UAAAA,oDAAA,sBAAa;UAAAA,0DAAA,EAAK;UACtBA,4DAAA,eAAuB;UAAAA,oDAAA,gBAAO;UAElCA,0DAFkC,EAAK,EAChC,EACC;UACRA,4DAAA,cAAO;UACLA,wDAAA,MAAA4c,yCAAA,mBAAyH;UAU/H5c,0DAFI,EAAQ,EACF,EACJ;UAOEA,4DAJR,gBAA2B,kBACG,kBACgB,WACpC,eACgC;UAAAA,oDAAA,cAAK;UAAAA,0DAAA,EAAK;UAC5CA,4DAAA,eAAiC;UAC9BA,oDAAA,KACH;;UAUtBA,0DAVsB,EAAK,EACF,EACC,EACF,EACJ,EACF,EACF,EACF,EACF,EACF,EACA;UAGVA,4DAAA,oBAAuB;UACnBA,uDAAA,gBACM;UACVA,0DAAA,EAAU;UAGNA,4DADJ,oBAAsB,gBACO;UACzBA,oDAAA,2CACA;UAKZA,0DALY,EAAM,EACA,EACI,EACZ,EACF,EACF;UAINA,wDAAA,MAAA6c,0CAAA,oBAA6C;;;;;;UA7tBrC7c,uDAAA,EAAkB;UAAlBA,wDAAA,SAAA4a,GAAA,CAAApV,YAAA,CAAkB;UAKlBxF,uDAAA,EAAoB;UAApBA,wDAAA,SAAA4a,GAAA,CAAAnV,cAAA,CAAoB;UAKpBzF,uDAAA,EAAqB;UAArBA,wDAAA,SAAA4a,GAAA,CAAAlV,eAAA,CAAqB;UAYrB1F,uDAAA,GAAe;UAAfA,wDAAA,SAAA4a,GAAA,CAAA/J,SAAA,CAAe;UAmBJ7Q,uDAAA,IAAgE;UAAhEA,wDAAA,QAAA4a,GAAA,CAAAxK,WAAA,IAAAwK,GAAA,CAAA7J,cAAA,6BAAA/Q,2DAAA,CAAgE;UA6BvDA,uDAAA,IAAwB;UAAxBA,wDAAA,aAAA4a,GAAA,CAAAvJ,WAAA,CAAwB;UAe5BrR,uDAAA,GAAgB;UAAhBA,wDAAA,UAAA4a,GAAA,CAAAvT,SAAA,CAAgB;UAKhBrH,uDAAA,EAAe;UAAfA,wDAAA,SAAA4a,GAAA,CAAAvT,SAAA,CAAe;UAQvBrH,uDAAA,EAAgC;UAAhCA,wDAAA,cAAA4a,GAAA,CAAAlU,kBAAA,CAAgC;UAS1B1G,uDAAA,GAAoG;UAApGA,wDAAA,WAAA8c,QAAA,GAAAlC,GAAA,CAAAlU,kBAAA,CAAArJ,GAAA,iCAAAyf,QAAA,CAAAjO,OAAA,OAAAiO,QAAA,GAAAlC,GAAA,CAAAlU,kBAAA,CAAArJ,GAAA,iCAAAyf,QAAA,CAAAhU,OAAA,EAAoG;UAWpG9I,uDAAA,GAA0F;UAA1FA,wDAAA,WAAA+c,QAAA,GAAAnC,GAAA,CAAAlU,kBAAA,CAAArJ,GAAA,4BAAA0f,QAAA,CAAAlO,OAAA,OAAAkO,QAAA,GAAAnC,GAAA,CAAAlU,kBAAA,CAAArJ,GAAA,4BAAA0f,QAAA,CAAAjU,OAAA,EAA0F;UAmBhE9I,uDAAA,IAAW;UAAXA,wDAAA,YAAA4a,GAAA,CAAA9L,QAAA,CAAW;UAiD3C9O,uDAAA,IAAuC;UAAvCA,wDAAA,SAAA4a,GAAA,CAAAvT,SAAA,IAAAuT,GAAA,CAAAxT,oBAAA,CAAuC;UAmBdpH,uDAAA,EAAiE;UAAjEA,wDAAA,SAAA4a,GAAA,CAAAxT,oBAAA,KAAAwT,GAAA,CAAAvT,SAAA,IAAAuT,GAAA,CAAAxT,oBAAA,EAAiE;UAiC1DpH,uDAAA,EAAe;UAAfA,wDAAA,SAAA4a,GAAA,CAAAvT,SAAA,CAAe;UAiChBrH,uDAAA,EAA4B;UAA5BA,wDAAA,SAAA4a,GAAA,CAAAzR,sBAAA,CAA4B;UAetDnJ,uDAAA,GAAmB;UAAnBA,wDAAA,oBAAmB;UAcIA,uDAAA,GAAsB;UAAAA,wDAAtB,SAAA4a,GAAA,CAAAvQ,cAAA,CAAsB,aAAA2S,qBAAA,CAAsB;UAyJ5Dhd,uDAAA,IAAqB;UAArBA,wDAAA,SAAA4a,GAAA,CAAA9J,eAAA,CAAqB;UAIrB9Q,uDAAA,EAAuC;UAAvCA,wDAAA,UAAA4a,GAAA,CAAA9J,eAAA,IAAA8J,GAAA,CAAA/O,aAAA,CAAuC;UAIvC7L,uDAAA,EAAuE;UAAvEA,wDAAA,UAAA4a,GAAA,CAAA9J,eAAA,KAAA8J,GAAA,CAAA/O,aAAA,IAAA+O,GAAA,CAAAnO,cAAA,CAAA9K,MAAA,OAAuE;UAMrE3B,uDAAA,EAAqE;UAArEA,wDAAA,UAAA4a,GAAA,CAAA9J,eAAA,KAAA8J,GAAA,CAAA/O,aAAA,IAAA+O,GAAA,CAAAnO,cAAA,CAAA9K,MAAA,KAAqE;UAwCnD3B,uDAAA,EAAqE;UAArEA,wDAAA,UAAA4a,GAAA,CAAA9J,eAAA,KAAA8J,GAAA,CAAA/O,aAAA,IAAA+O,GAAA,CAAAnO,cAAA,CAAA9K,MAAA,KAAqE;UAgCrE3B,uDAAA,GAAmB;UAAnBA,wDAAA,SAAA4a,GAAA,CAAA7N,aAAA,CAAmB;UAgJjB/M,uDAAA,IAAS;UAATA,wDAAA,YAAA4a,GAAA,CAAA3K,MAAA,CAAS;UAmB1BjQ,uDAAA,GACH;UADGA,gEAAA,MAAAA,yDAAA,UAAA4a,GAAA,CAAAjB,YAAA,gBACH;UA8BF3Z,uDAAA,GAAe;UAAfA,wDAAA,SAAA4a,GAAA,CAAA1K,SAAA,CAAe;;;qBDlsBvClM,wDAAW,EAAA5D,6DAAA,EAAAA,2DAAA,EAAAA,uEAAA,EAAAA,iEAAA,EAAAA,yEAAA,EAAAA,uEAAA,EAAAA,4DAAA,EAAAA,iEAAA,EAAAA,oDAAA,EACXoE,0DAAY,EAAAkZ,qDAAA,EAAAA,qDAAA,EAAAA,kDAAA,EAAAA,uDAAA,EAAAA,yDAAA,EAAAA,sDAAA,EACZzZ,gEAAmB,EAAA7D,iEAAA,EAAAA,+DAAA,EAAAA,4DAAA,EACnBqE,kFAAqB,EAAA2Z,4EAAA,EAAAA,8DAAA,EAAAA,mFAAA,EACrB1Z,sEAAgB,EAChBI,kEAAa,EAAA0Z,gEAAA,EAAAA,2DAAA,EAAAA,gEAAA,EACb7Z,4EAAkB,EAClBC,4DAAkB,EAClBC,kEAAa,EACbE,kEAAa,EAAEC,oEAAc,EAAEC,wEAAgB;MAAA2Z,MAAA;IAAA;EAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEvCf;AACsG;AACtE;AACzC;AACA;;AAE3B;AAAA,MAAAW,GAAA;AAAA,MAAA/X,GAAA;AAAA,MAAA+E,GAAA;AAAA,MAAAiT,GAAA;AAAA,MAAAC,GAAA;AACA,MAAMC,eAAe,GAAG,IAAIb,yDAAc,CAAC,iBAAiB,CAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA,MAAMc,OAAO,CAAC;EACVC,UAAU;EACVpjB,WAAWA,CAAA,EAAG;IACV,MAAMqjB,MAAM,GAAGf,qDAAM,CAACY,eAAe,EAAE;MAAEI,QAAQ,EAAE;IAAK,CAAC,CAAC;IAC1D,IAAI,CAACF,UAAU,GAAGC,MAAM,EAAED,UAAU,IAAI,QAAQ;EACpD;EACA,OAAOrf,IAAI,YAAAwf,gBAAAC,iBAAA;IAAA,YAAAA,iBAAA,IAAwFL,OAAO;EAAA;EAC1G,OAAOM,IAAI,kBAD8EjgB,+DAAE;IAAA0D,IAAA,EACJic,OAAO;IAAAnF,SAAA;IAAA2F,SAAA;IAAAC,QAAA;IAAAC,YAAA,WAAAC,qBAAA3F,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QADL3a,yDAAE,0BAAA4a,GAAA,CAAAgF,UAAA,KACW,UAAT,CAAC,uBAAAhF,GAAA,CAAAgF,UAAA,KAAQ,UAAT,CAAC;MAAA;IAAA;IAAAW,MAAA;MAAAX,UAAA;IAAA;IAAAY,QAAA;IAAAC,kBAAA,EAAAlB,GAAA;IAAAmB,KAAA;IAAAC,IAAA;IAAAC,QAAA,WAAAC,iBAAAlG,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QADL3a,6DAAE;QAAFA,0DAAE,EACyV,CAAC;MAAA;IAAA;IAAA4e,MAAA;IAAAoC,aAAA;IAAAC,eAAA;EAAA;AACzb;AACA;EAAA,QAAAC,SAAA,oBAAAA,SAAA,KAH6FlhB,+DAAE,CAGJ2f,OAAO,EAAc,CAAC;IACrGjc,IAAI,EAAEqb,oDAAS;IACfqC,IAAI,EAAE,CAAC;MAAEC,QAAQ,EAAE,UAAU;MAAEC,IAAI,EAAE;QACzB,OAAO,EAAE,uBAAuB;QAChC,+BAA+B,EAAE,2BAA2B;QAC5D,4BAA4B,EAAE;MAClC,CAAC;MAAEd,QAAQ,EAAE,SAAS;MAAEQ,aAAa,EAAEhC,4DAAiB,CAACuC,IAAI;MAAEN,eAAe,EAAEhC,kEAAuB,CAACuC,MAAM;MAAEZ,QAAQ,EAAE,6BAA6B;MAAEhC,MAAM,EAAE,CAAC,g/HAAg/H;IAAE,CAAC;EACjqI,CAAC,CAAC,EAAkB,MAAM,EAAE,EAAkB;IAAEgB,UAAU,EAAE,CAAC;MACrDlc,IAAI,EAAEwb,gDAAKA;IACf,CAAC;EAAE,CAAC;AAAA;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMuC,YAAY,CAAC;EACf,OAAOlhB,IAAI,YAAAmhB,qBAAA1B,iBAAA;IAAA,YAAAA,iBAAA,IAAwFyB,YAAY;EAAA;EAC/G,OAAOE,IAAI,kBAvB8E3hB,+DAAE;IAAA0D,IAAA,EAuBJ+d,YAAY;IAAAjH,SAAA;IAAA2F,SAAA;EAAA;AACvG;AACA;EAAA,QAAAe,SAAA,oBAAAA,SAAA,KAzB6FlhB,+DAAE,CAyBJyhB,YAAY,EAAc,CAAC;IAC1G/d,IAAI,EAAEyb,oDAAS;IACfiC,IAAI,EAAE,CAAC;MACCC,QAAQ,EAAE,kDAAkD;MAC5DC,IAAI,EAAE;QAAE,OAAO,EAAE;MAAqB;IAC1C,CAAC;EACT,CAAC,CAAC;AAAA;AACV;AACA;AACA;AACA;AACA;AACA,MAAMO,iBAAiB,CAAC;EACpB,OAAOthB,IAAI,YAAAuhB,0BAAA9B,iBAAA;IAAA,YAAAA,iBAAA,IAAwF6B,iBAAiB;EAAA;EACpH,OAAO5B,IAAI,kBAvC8EjgB,+DAAE;IAAA0D,IAAA,EAuCJme,iBAAiB;IAAArH,SAAA;IAAA2F,SAAA;IAAAM,kBAAA,EAAAlU,GAAA;IAAAmU,KAAA;IAAAC,IAAA;IAAAC,QAAA,WAAAmB,2BAAApH,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QAvCf3a,6DAAE,CAAAwH,GAAA;QAAFxH,4DAAE,SAuCwJ,CAAC;QAvC3JA,0DAAE,EAuCiU,CAAC;QAvCpUA,0DAAE,CAuCyU,CAAC;QAvC5UA,0DAAE,KAuC8oB,CAAC;QAvCjpBA,0DAAE,KAuCyqB,CAAC;MAAA;IAAA;IAAAghB,aAAA;IAAAC,eAAA;EAAA;AACzwB;AACA;EAAA,QAAAC,SAAA,oBAAAA,SAAA,KAzC6FlhB,+DAAE,CAyCJ6hB,iBAAiB,EAAc,CAAC;IAC/Gne,IAAI,EAAEqb,oDAAS;IACfqC,IAAI,EAAE,CAAC;MAAEC,QAAQ,EAAE,sBAAsB;MAAEL,aAAa,EAAEhC,4DAAiB,CAACuC,IAAI;MAAEN,eAAe,EAAEhC,kEAAuB,CAACuC,MAAM;MAAEF,IAAI,EAAE;QAAE,OAAO,EAAE;MAA2B,CAAC;MAAEV,QAAQ,EAAE;IAA2hB,CAAC;EAC5tB,CAAC,CAAC;AAAA;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMoB,cAAc,CAAC;EACjB,OAAOzhB,IAAI,YAAA0hB,uBAAAjC,iBAAA;IAAA,YAAAA,iBAAA,IAAwFgC,cAAc;EAAA;EACjH,OAAOL,IAAI,kBAtD8E3hB,+DAAE;IAAA0D,IAAA,EAsDJse,cAAc;IAAAxH,SAAA;IAAA2F,SAAA;EAAA;AACzG;AACA;EAAA,QAAAe,SAAA,oBAAAA,SAAA,KAxD6FlhB,+DAAE,CAwDJgiB,cAAc,EAAc,CAAC;IAC5Gte,IAAI,EAAEyb,oDAAS;IACfiC,IAAI,EAAE,CAAC;MACCC,QAAQ,EAAE,kBAAkB;MAC5BC,IAAI,EAAE;QAAE,OAAO,EAAE;MAAuB;IAC5C,CAAC;EACT,CAAC,CAAC;AAAA;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMY,eAAe,CAAC;EAClB,OAAO3hB,IAAI,YAAA4hB,wBAAAnC,iBAAA;IAAA,YAAAA,iBAAA,IAAwFkC,eAAe;EAAA;EAClH,OAAOP,IAAI,kBAxE8E3hB,+DAAE;IAAA0D,IAAA,EAwEJwe,eAAe;IAAA1H,SAAA;IAAA2F,SAAA;EAAA;AAC1G;AACA;EAAA,QAAAe,SAAA,oBAAAA,SAAA,KA1E6FlhB,+DAAE,CA0EJkiB,eAAe,EAAc,CAAC;IAC7Gxe,IAAI,EAAEyb,oDAAS;IACfiC,IAAI,EAAE,CAAC;MACCC,QAAQ,EAAE,2DAA2D;MACrEC,IAAI,EAAE;QAAE,OAAO,EAAE;MAAwB;IAC7C,CAAC;EACT,CAAC,CAAC;AAAA;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMc,cAAc,CAAC;EACjB;EACA;EACA;EACAC,KAAK,GAAG,OAAO;EACf,OAAO9hB,IAAI,YAAA+hB,uBAAAtC,iBAAA;IAAA,YAAAA,iBAAA,IAAwFoC,cAAc;EAAA;EACjH,OAAOT,IAAI,kBA9F8E3hB,+DAAE;IAAA0D,IAAA,EA8FJ0e,cAAc;IAAA5H,SAAA;IAAA2F,SAAA;IAAAC,QAAA;IAAAC,YAAA,WAAAkC,4BAAA5H,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QA9FZ3a,yDAAE,mCAAA4a,GAAA,CAAAyH,KAAA,KA8FM,KAAG,CAAC;MAAA;IAAA;IAAA9B,MAAA;MAAA8B,KAAA;IAAA;IAAA7B,QAAA;EAAA;AACzG;AACA;EAAA,QAAAU,SAAA,oBAAAA,SAAA,KAhG6FlhB,+DAAE,CAgGJoiB,cAAc,EAAc,CAAC;IAC5G1e,IAAI,EAAEyb,oDAAS;IACfiC,IAAI,EAAE,CAAC;MACCC,QAAQ,EAAE,kBAAkB;MAC5Bb,QAAQ,EAAE,gBAAgB;MAC1Bc,IAAI,EAAE;QACF,OAAO,EAAE,wCAAwC;QACjD,wCAAwC,EAAE;MAC9C;IACJ,CAAC;EACT,CAAC,CAAC,QAAkB;IAAEe,KAAK,EAAE,CAAC;MACtB3e,IAAI,EAAEwb,gDAAKA;IACf,CAAC;EAAE,CAAC;AAAA;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMsD,aAAa,CAAC;EAChB,OAAOjiB,IAAI,YAAAkiB,sBAAAzC,iBAAA;IAAA,YAAAA,iBAAA,IAAwFwC,aAAa;EAAA;EAChH,OAAOvC,IAAI,kBAvH8EjgB,+DAAE;IAAA0D,IAAA,EAuHJ8e,aAAa;IAAAhI,SAAA;IAAA2F,SAAA;IAAAM,kBAAA,EAAAhB,GAAA;IAAAiB,KAAA;IAAAC,IAAA;IAAA+B,MAAA;IAAA9B,QAAA,WAAA+B,uBAAAhI,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QAvHX3a,6DAAE,CAAAwf,GAAA;QAAFxf,0DAAE,EAuH4M,CAAC;QAvH/MA,4DAAE,YAuHsP,CAAC;QAvHzPA,0DAAE,KAuH+Z,CAAC;QAvHlaA,0DAAE,CAuHua,CAAC;QAvH1aA,0DAAE,KAuHkc,CAAC;MAAA;IAAA;IAAAghB,aAAA;IAAAC,eAAA;EAAA;AACliB;AACA;EAAA,QAAAC,SAAA,oBAAAA,SAAA,KAzH6FlhB,+DAAE,CAyHJwiB,aAAa,EAAc,CAAC;IAC3G9e,IAAI,EAAEqb,oDAAS;IACfqC,IAAI,EAAE,CAAC;MAAEC,QAAQ,EAAE,iBAAiB;MAAEL,aAAa,EAAEhC,4DAAiB,CAACuC,IAAI;MAAEN,eAAe,EAAEhC,kEAAuB,CAACuC,MAAM;MAAEF,IAAI,EAAE;QAAE,OAAO,EAAE;MAAsB,CAAC;MAAEV,QAAQ,EAAE;IAAkU,CAAC;EACzf,CAAC,CAAC;AAAA;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMgC,aAAa,CAAC;EAChB,OAAOriB,IAAI,YAAAsiB,sBAAA7C,iBAAA;IAAA,YAAAA,iBAAA,IAAwF4C,aAAa;EAAA;EAChH,OAAOjB,IAAI,kBAtI8E3hB,+DAAE;IAAA0D,IAAA,EAsIJkf,aAAa;IAAApI,SAAA;IAAA2F,SAAA;EAAA;AACxG;AACA;EAAA,QAAAe,SAAA,oBAAAA,SAAA,KAxI6FlhB,+DAAE,CAwIJ4iB,aAAa,EAAc,CAAC;IAC3Glf,IAAI,EAAEyb,oDAAS;IACfiC,IAAI,EAAE,CAAC;MACCC,QAAQ,EAAE,iBAAiB;MAC3BC,IAAI,EAAE;QAAE,OAAO,EAAE;MAAsB;IAC3C,CAAC;EACT,CAAC,CAAC;AAAA;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMwB,YAAY,CAAC;EACf,OAAOviB,IAAI,YAAAwiB,qBAAA/C,iBAAA;IAAA,YAAAA,iBAAA,IAAwF8C,YAAY;EAAA;EAC/G,OAAOnB,IAAI,kBA5J8E3hB,+DAAE;IAAA0D,IAAA,EA4JJof,YAAY;IAAAtI,SAAA;IAAA2F,SAAA;EAAA;AACvG;AACA;EAAA,QAAAe,SAAA,oBAAAA,SAAA,KA9J6FlhB,+DAAE,CA8JJ8iB,YAAY,EAAc,CAAC;IAC1Gpf,IAAI,EAAEyb,oDAAS;IACfiC,IAAI,EAAE,CAAC;MACCC,QAAQ,EAAE,kCAAkC;MAC5CC,IAAI,EAAE;QAAE,OAAO,EAAE;MAAqC;IAC1D,CAAC;EACT,CAAC,CAAC;AAAA;AACV;AACA,MAAM0B,cAAc,CAAC;EACjB,OAAOziB,IAAI,YAAA0iB,uBAAAjD,iBAAA;IAAA,YAAAA,iBAAA,IAAwFgD,cAAc;EAAA;EACjH,OAAOrB,IAAI,kBAxK8E3hB,+DAAE;IAAA0D,IAAA,EAwKJsf,cAAc;IAAAxI,SAAA;IAAA2F,SAAA;EAAA;AACzG;AACA;EAAA,QAAAe,SAAA,oBAAAA,SAAA,KA1K6FlhB,+DAAE,CA0KJgjB,cAAc,EAAc,CAAC;IAC5Gtf,IAAI,EAAEyb,oDAAS;IACfiC,IAAI,EAAE,CAAC;MACCC,QAAQ,EAAE,0CAA0C;MACpDC,IAAI,EAAE;QAAE,OAAO,EAAE;MAAwC;IAC7D,CAAC;EACT,CAAC,CAAC;AAAA;AACV;AACA,MAAM4B,cAAc,CAAC;EACjB,OAAO3iB,IAAI,YAAA4iB,uBAAAnD,iBAAA;IAAA,YAAAA,iBAAA,IAAwFkD,cAAc;EAAA;EACjH,OAAOvB,IAAI,kBApL8E3hB,+DAAE;IAAA0D,IAAA,EAoLJwf,cAAc;IAAA1I,SAAA;IAAA2F,SAAA;EAAA;AACzG;AACA;EAAA,QAAAe,SAAA,oBAAAA,SAAA,KAtL6FlhB,+DAAE,CAsLJkjB,cAAc,EAAc,CAAC;IAC5Gxf,IAAI,EAAEyb,oDAAS;IACfiC,IAAI,EAAE,CAAC;MACCC,QAAQ,EAAE,2CAA2C;MACrDC,IAAI,EAAE;QAAE,OAAO,EAAE;MAAwC;IAC7D,CAAC;EACT,CAAC,CAAC;AAAA;AACV;AACA,MAAM8B,cAAc,CAAC;EACjB,OAAO7iB,IAAI,YAAA8iB,uBAAArD,iBAAA;IAAA,YAAAA,iBAAA,IAAwFoD,cAAc;EAAA;EACjH,OAAOzB,IAAI,kBAhM8E3hB,+DAAE;IAAA0D,IAAA,EAgMJ0f,cAAc;IAAA5I,SAAA;IAAA2F,SAAA;EAAA;AACzG;AACA;EAAA,QAAAe,SAAA,oBAAAA,SAAA,KAlM6FlhB,+DAAE,CAkMJojB,cAAc,EAAc,CAAC;IAC5G1f,IAAI,EAAEyb,oDAAS;IACfiC,IAAI,EAAE,CAAC;MACCC,QAAQ,EAAE,0CAA0C;MACpDC,IAAI,EAAE;QAAE,OAAO,EAAE;MAAwC;IAC7D,CAAC;EACT,CAAC,CAAC;AAAA;AACV;AACA,MAAMgC,cAAc,CAAC;EACjB,OAAO/iB,IAAI,YAAAgjB,uBAAAvD,iBAAA;IAAA,YAAAA,iBAAA,IAAwFsD,cAAc;EAAA;EACjH,OAAO3B,IAAI,kBA5M8E3hB,+DAAE;IAAA0D,IAAA,EA4MJ4f,cAAc;IAAA9I,SAAA;IAAA2F,SAAA;EAAA;AACzG;AACA;EAAA,QAAAe,SAAA,oBAAAA,SAAA,KA9M6FlhB,+DAAE,CA8MJsjB,cAAc,EAAc,CAAC;IAC5G5f,IAAI,EAAEyb,oDAAS;IACfiC,IAAI,EAAE,CAAC;MACCC,QAAQ,EAAE,2CAA2C;MACrDC,IAAI,EAAE;QAAE,OAAO,EAAE;MAAwC;IAC7D,CAAC;EACT,CAAC,CAAC;AAAA;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMkC,aAAa,CAAC;EAChB,OAAOjjB,IAAI,YAAAkjB,sBAAAzD,iBAAA;IAAA,YAAAA,iBAAA,IAAwFwD,aAAa;EAAA;EAChH,OAAO7B,IAAI,kBAhO8E3hB,+DAAE;IAAA0D,IAAA,EAgOJ8f,aAAa;IAAAhJ,SAAA;IAAA2F,SAAA;EAAA;AACxG;AACA;EAAA,QAAAe,SAAA,oBAAAA,SAAA,KAlO6FlhB,+DAAE,CAkOJwjB,aAAa,EAAc,CAAC;IAC3G9f,IAAI,EAAEyb,oDAAS;IACfiC,IAAI,EAAE,CAAC;MACCC,QAAQ,EAAE,oCAAoC;MAC9CC,IAAI,EAAE;QAAE,OAAO,EAAE;MAAsB;IAC3C,CAAC;EACT,CAAC,CAAC;AAAA;AAEV,MAAMoC,eAAe,GAAG,CACpB/D,OAAO,EACPyC,cAAc,EACdoB,aAAa,EACbxB,cAAc,EACdY,aAAa,EACbJ,aAAa,EACbM,YAAY,EACZM,cAAc,EACdF,cAAc,EACdF,cAAc,EACdd,eAAe,EACfT,YAAY,EACZI,iBAAiB,EACjByB,cAAc,CACjB;AACD,MAAMve,aAAa,CAAC;EAChB,OAAOxE,IAAI,YAAAojB,sBAAA3D,iBAAA;IAAA,YAAAA,iBAAA,IAAwFjb,aAAa;EAAA;EAChH,OAAO6e,IAAI,kBA5P8E5jB,8DAAE;IAAA0D,IAAA,EA4PSqB;EAAa;EA2BjH,OAAO+e,IAAI,kBAvR8E9jB,8DAAE;IAAAgkB,OAAA,GAuRkC1E,0DAAe,EAAEA,0DAAe;EAAA;AACjK;AACA;EAAA,QAAA4B,SAAA,oBAAAA,SAAA,KAzR6FlhB,+DAAE,CAyRJ+E,aAAa,EAAc,CAAC;IAC3GrB,IAAI,EAAE0b,mDAAQ;IACdgC,IAAI,EAAE,CAAC;MACC4C,OAAO,EAAE,CAAC1E,0DAAe,EAAE,GAAGoE,eAAe,CAAC;MAC9CO,OAAO,EAAE,CAACP,eAAe,EAAEpE,0DAAe;IAC9C,CAAC;EACT,CAAC,CAAC;AAAA;;;;;;;;;;;;;;;;;;;ACnT0B;AACmE;AACzC;AACM;AACzC;AACA;AAE3B,MAAM6E,UAAU,CAAC;EACb;EACA,IAAIC,QAAQA,CAAA,EAAG;IACX,OAAO,IAAI,CAACC,SAAS;EACzB;EACA,IAAID,QAAQA,CAACnmB,KAAK,EAAE;IAChB,IAAI,CAAComB,SAAS,GAAGH,wDAAqB,CAACjmB,KAAK,CAAC;EACjD;EACAomB,SAAS,GAAG,KAAK;EACjB;EACA,IAAIC,KAAKA,CAAA,EAAG;IACR,OAAO,IAAI,CAACC,MAAM;EACtB;EACA,IAAID,KAAKA,CAACrmB,KAAK,EAAE;IACb,IAAI,CAACsmB,MAAM,GAAGL,wDAAqB,CAACjmB,KAAK,CAAC;EAC9C;EACAsmB,MAAM,GAAG,KAAK;EACd,OAAOhkB,IAAI,YAAAikB,mBAAAxE,iBAAA;IAAA,YAAAA,iBAAA,IAAwFmE,UAAU;EAAA;EAC7G,OAAOlE,IAAI,kBAD8EjgB,+DAAE;IAAA0D,IAAA,EACJygB,UAAU;IAAA3J,SAAA;IAAA2F,SAAA,WAA+H,WAAW;IAAAC,QAAA;IAAAC,YAAA,WAAAoE,wBAAA9J,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QADlJ3a,yDAAE,qBAAA4a,GAAA,CAAAwJ,QAAA,GACO,UAAU,GAAG,YAAY;QADlCpkB,yDAAE,yBAAA4a,GAAA,CAAAwJ,QACK,CAAC,4BAAAxJ,GAAA,CAAAwJ,QAAD,CAAC,sBAAAxJ,GAAA,CAAA0J,KAAD,CAAC;MAAA;IAAA;IAAA/D,MAAA;MAAA6D,QAAA;MAAAE,KAAA;IAAA;IAAA5D,KAAA;IAAAC,IAAA;IAAAC,QAAA,WAAA+D,oBAAAhK,EAAA,EAAAC,GAAA;IAAAgE,MAAA;IAAAoC,aAAA;IAAAC,eAAA;EAAA;AACrG;AACA;EAAA,QAAAC,SAAA,oBAAAA,SAAA,KAH6FlhB,+DAAE,CAGJmkB,UAAU,EAAc,CAAC;IACxGzgB,IAAI,EAAEqb,oDAAS;IACfqC,IAAI,EAAE,CAAC;MAAEC,QAAQ,EAAE,aAAa;MAAEC,IAAI,EAAE;QAC5B,MAAM,EAAE,WAAW;QACnB,yBAAyB,EAAE,sCAAsC;QACjE,8BAA8B,EAAE,UAAU;QAC1C,gCAAgC,EAAE,WAAW;QAC7C,2BAA2B,EAAE,OAAO;QACpC,OAAO,EAAE;MACb,CAAC;MAAEV,QAAQ,EAAE,EAAE;MAAEI,aAAa,EAAEhC,4DAAiB,CAACuC,IAAI;MAAEN,eAAe,EAAEhC,kEAAuB,CAACuC,MAAM;MAAE5C,MAAM,EAAE,CAAC,yeAAye;IAAE,CAAC;EAC1mB,CAAC,CAAC,QAAkB;IAAEwF,QAAQ,EAAE,CAAC;MACzB1gB,IAAI,EAAEwb,gDAAKA;IACf,CAAC,CAAC;IAAEoF,KAAK,EAAE,CAAC;MACR5gB,IAAI,EAAEwb,gDAAKA;IACf,CAAC;EAAE,CAAC;AAAA;AAEhB,MAAMja,gBAAgB,CAAC;EACnB,OAAO1E,IAAI,YAAAqkB,yBAAA5E,iBAAA;IAAA,YAAAA,iBAAA,IAAwF/a,gBAAgB;EAAA;EACnH,OAAO2e,IAAI,kBArB8E5jB,8DAAE;IAAA0D,IAAA,EAqBSuB;EAAgB;EACpH,OAAO6e,IAAI,kBAtB8E9jB,8DAAE;IAAAgkB,OAAA,GAsBqC1E,0DAAe,EAAEA,0DAAe;EAAA;AACpK;AACA;EAAA,QAAA4B,SAAA,oBAAAA,SAAA,KAxB6FlhB,+DAAE,CAwBJiF,gBAAgB,EAAc,CAAC;IAC9GvB,IAAI,EAAE0b,mDAAQ;IACdgC,IAAI,EAAE,CAAC;MACC4C,OAAO,EAAE,CAAC1E,0DAAe,EAAE6E,UAAU,CAAC;MACtCF,OAAO,EAAE,CAACE,UAAU,EAAE7E,0DAAe;IACzC,CAAC;EACT,CAAC,CAAC;AAAA;;;;;;;;;;;;;;;;;;;ACtD+C;AACrB;AACK;AACiG;AACtE;AAEpE,MAAM1a,kBAAkB,CAAC;EACrB,OAAOrE,IAAI,YAAAilB,2BAAAxF,iBAAA;IAAA,YAAAA,iBAAA,IAAwFpb,kBAAkB;EAAA;EACrH,OAAOgf,IAAI,kBAD8E5jB,8DAAE;IAAA0D,IAAA,EACSkB;EAAkB;EAQtH,OAAOkf,IAAI,kBAT8E9jB,8DAAE;IAAAgkB,OAAA,GASuC1E,0DAAe,EACzIuF,mEAAe,EAAEvF,0DAAe;EAAA;AAC5C;AACA;EAAA,QAAA4B,SAAA,oBAAAA,SAAA,KAZ6FlhB,+DAAE,CAYJ4E,kBAAkB,EAAc,CAAC;IAChHlB,IAAI,EAAE0b,mDAAQ;IACdgC,IAAI,EAAE,CAAC;MACC4C,OAAO,EAAE,CACL1E,0DAAe,EACfuF,mEAAe,EACfE,uDAAY,EACZC,uDAAQ,EACRE,uDAAQ,EACRE,uDAAO,EACPC,uDAAS,EACTE,uDAAS,CACZ;MACDtB,OAAO,EAAE,CAACc,uDAAY,EAAEC,uDAAQ,EAAEI,uDAAO,EAAEF,uDAAQ,EAAEG,uDAAS,EAAEE,uDAAS,EAAEjG,0DAAe;IAC9F,CAAC;EACT,CAAC,CAAC;AAAA","sources":["./src/app/admin-page/MODELS/FactureProForma.model.ts","./src/app/admin-page/SERVICES/entreprise-service.ts","./src/app/admin-page/SERVICES/factureproforma-service.ts","./src/app/admin-page/clients/detail-edit-client/detail-edit-client.component.ts","./src/app/admin-page/clients/detail-edit-client/detail-edit-client.component.html","./node_modules/@angular/material/fesm2022/card.mjs","./node_modules/@angular/material/fesm2022/divider.mjs","./node_modules/@angular/material/fesm2022/module-BXZhw7pQ.mjs"],"sourcesContent":["export enum StatutFactureProForma {\n  BROUILLON = 'BROUILLON',\n  APPROBATION = 'APPROBATION',\n  APPROUVE = 'APPROUVE',\n  ENVOYE = 'ENVOYE',\n  VALIDE = 'VALIDE',\n  ANNULE = 'ANNULE'\n}\n\n// Dans ton modèle FactureProForma\nexport interface LigneFactureProforma {\n  id?: number; // Rend l'id optionnel pour les nouvelles lignes\n  produit: {\n    id: number;\n    nom?: string; // Optionnel selon tes besoins\n    prixUnitaire?: number;\n  };\n  ligneDescription?: string;\n  quantite: number;\n  prixUnitaire: number; // Obligatoire\n  montantTotal?: number;\n}\n\nexport interface UpdateFactureProFormaDTO {\n  client?: { id: number } | null;\n  description?: string;\n  lignesFacture?: {\n    id?: number;\n    produit: { id: number };\n    ligneDescription?: string;\n    quantite: number;\n    prixUnitaire: number;\n  }[];\n  // Ajouter d'autres champs optionnels si besoin\n}\n\nexport interface FactureProForma {\n  id: number;\n  numeroFacture: string;\n  siege: string;\n  dateRelance?: string;\n  dateCreation: string;\n  dateApprobation?: string;\n  noteModification?: string;\n  // dateAnnulation?: string;\n  // methodeEnvoi?: 'EMAIL' | 'PHYSIQUE';\n  methodeEnvoi?: 'EMAIL' | 'PHYSIQUE' | 'AUTRE';\n  justification?: string;\n\n  montantTVA?: number;\n  tauxTva?: number;\n\n  utilisateurModificateur?: {\n      nomComplet: string;\n      email: string;\n      photo: string;\n  };\n  utilisateurApprobateur?: {\n      nomComplet: string;\n  };\n  approbateurs?: { \n    id: number;\n    nomComplet: string;\n    email?: string;\n    photo?: string;\n  }[];\n  entreprise?: {\n      siege: string;\n      tauxTva?: number\n\n  };\n  description: string;\n  totalHT: number;\n  remise?: number;\n  tva: boolean;\n  totalFacture: number;\n  statut?: string;\n  client?: {\n    id: number;\n    nomComplet: string;\n    telephone?: string;\n    email?: string;\n    pays?: string\n    ville?: string\n    adresse?: string;\n  };\n  entrepriseClient?: {\n    id: number;\n    nom: string;\n    email?: string;\n    adresse?: string;\n    telephone?: string;\n    ville?: string;\n    siege?: string\n    pays?: string\n  };\n  lignesFacture: LigneFactureProforma[];\n  // Ajout de utilisateurCreateur\n  utilisateurCreateur?: {\n      nomComplet: string;\n      photo: string;\n  };\n  \n}","import { HttpClient, HttpHeaders } from \"@angular/common/http\";\nimport { Injectable } from \"@angular/core\";\nimport { BehaviorSubject, catchError, Observable, switchMap, tap, throwError } from \"rxjs\";\nimport { Entreprise } from \"../MODELS/entreprise-model\";\nimport { EntrepriseClient } from \"../MODELS/entreprise-clients-model\";\nimport { environment } from \"src/environments/environment\";\nimport { UsersService } from \"./users.service\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class EntrepriseService {\n    private apiUrl = environment.apiBaseUrl;\n  \n\n  private entrepriseSubject = new BehaviorSubject<Entreprise[]>([]);\n  public entreprise$ = this.entrepriseSubject.asObservable(); \n  constructor(private http: HttpClient, private usersService: UsersService) { }\n\n  // Dans client.service.ts\n// Dans entreprise.service.ts\n getListEntreprises(): Observable<EntrepriseClient[]> {\n  return this.usersService.getValidAccessToken().pipe(\n    switchMap(token => {\n      const headers = new HttpHeaders({\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      });\n      return this.http.get<EntrepriseClient[]>(`${this.apiUrl}/entreprises`, { headers });\n    }),\n    catchError(error => {\n      let errorMsg = 'Erreur inconnue';\n      if (error.error instanceof ErrorEvent) {\n        errorMsg = `Erreur: ${error.error.message}`;\n      } else if (error.status === 404) {\n        errorMsg = 'Aucune entreprise trouvée';\n      }\n      return throwError(() => new Error(errorMsg));\n    })\n  );\n}\n\n\n  // Ajouter une entreprise\n addEntreprise(entreprise: Entreprise): Observable<Entreprise> {\n  return this.usersService.getValidAccessToken().pipe(\n    switchMap(token => {\n      const headers = new HttpHeaders({\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      });\n\n      return this.http.post<Entreprise>(`${this.apiUrl}/entreprise-clients`, entreprise, { headers });\n    }),\n    tap((newEntreprise) => {\n      const currentEntreprise = this.entrepriseSubject.value;\n      this.entrepriseSubject.next([...currentEntreprise, newEntreprise]);\n    }),\n    catchError(error => {\n      let errorMsg = 'Erreur inconnue';\n      if (error.error instanceof ErrorEvent) {\n        errorMsg = `Erreur: ${error.error.message}`;\n      } else if (error.status === 400) {\n        errorMsg = error.error || 'Données invalides';\n      }\n      return throwError(() => new Error(errorMsg));\n    })\n  );\n}\n\n\n  // List de tout les entreprises\n getListEntreprise(): Observable<Entreprise[]> {\n  return this.usersService.getValidAccessToken().pipe(\n    switchMap(token => {\n      if (!token) {\n        console.error('Token vide ou non défini ! Vérifiez que l\\'utilisateur est bien connecté.');\n        return throwError(() => new Error('Token manquant'));\n      }\n      const headers = new HttpHeaders().set('Authorization', `Bearer ${token}`);\n      console.log(\"En-têtes envoyés : \", headers);\n\n      return this.http.get<Entreprise[]>(`${this.apiUrl}/entreprises`, { headers });\n    }),\n    tap(data => {\n      this.entrepriseSubject.next(data);\n    }),\n    catchError(error => {\n      console.error('Erreur lors de la récupération des entreprises:', error);\n      return throwError(() => error);\n    })\n  );\n}\n\n\n\n  // Recuperer information d'une entreprise de la user connecter\n getEntrepriseById(id: number): Observable<Entreprise> {\n  return this.usersService.getValidAccessToken().pipe(\n    switchMap(token => {\n      if (!token) {\n        console.error('Token manquant');\n        return throwError(() => new Error('Token manquant'));\n      }\n      const headers = new HttpHeaders({\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      });\n      return this.http.get<Entreprise>(`${this.apiUrl}/entreprises/${id}`, { headers });\n    }),\n    catchError(error => {\n      let errorMsg = 'Erreur inconnue';\n      if (error.error instanceof ErrorEvent) {\n        errorMsg = `Erreur: ${error.error.message}`;\n      } else if (error.status === 404) {\n        errorMsg = 'Entreprise non trouvée';\n      }\n      return throwError(() => new Error(errorMsg));\n    })\n  );\n}\n\n\n  updateEntreprise(id: number, formData: FormData): Observable<string> {\n  return this.usersService.getValidAccessToken().pipe(\n    switchMap(token => {\n      if (!token) {\n        return throwError(() => new Error('Token manquant'));\n      }\n\n      const headers = new HttpHeaders({\n        'Authorization': `Bearer ${token}`\n      });\n\n      return this.http.patch(`${this.apiUrl}/updateEntreprise/${id}`, formData, {\n        headers,\n        responseType: 'text' // réponse en texte brut\n      });\n    }),\n    catchError(error => {\n      let errorMsg = 'Erreur inconnue';\n      if (error.error instanceof ErrorEvent) {\n        errorMsg = `Erreur: ${error.error.message}`;\n      } else if (error.status === 400) {\n        errorMsg = error.error || 'Données invalides';\n      }\n      return throwError(() => new Error(errorMsg));\n    })\n  );\n}\n\n\n  // updateEntreprise(id: number, formData: FormData): Observable<any> {\n  //   const token = localStorage.getItem('accessToken') || '';\n  //   const headers = new HttpHeaders({\n  //     'Authorization': `Bearer ${token}`\n  //   });\n\n  //   return this.http.patch(`${this.apiUrl}/updateEntreprise/${id}`, formData, { headers }).pipe(\n  //     catchError(error => {\n  //       let errorMsg = 'Erreur inconnue';\n  //       if (error.error instanceof ErrorEvent) {\n  //         errorMsg = `Erreur: ${error.error.message}`;\n  //       } else if (error.status === 400) {\n  //         errorMsg = error.error || 'Données invalides';\n  //       }\n  //       return throwError(() => new Error(errorMsg));\n  //     })\n  //   );\n  // }\n\n  // Get entreprise d'un user\n  getEntrepriseInfo(): Observable<Entreprise> {\n  return this.usersService.getValidAccessToken().pipe(\n    switchMap(token => {\n      if (!token) {\n        return throwError(() => new Error('Aucun token trouvé'));\n      }\n\n      const headers = new HttpHeaders({\n        Authorization: `Bearer ${token}`\n      });\n\n      return this.http.get<Entreprise>(`${this.apiUrl}/myEntreprise`, { headers }).pipe(\n        tap(entreprise => {\n          localStorage.setItem('entreprise', JSON.stringify(entreprise));\n        })\n      );\n    }),\n    catchError(error => {\n      console.error('Erreur récupération info entreprise:', error);\n      return throwError(() => error);\n    })\n  );\n}\n\n\n  // Simpl dcodage JWT pour vérifier si le token est expiré\n  decodeJwt(token: string): any {\n    return JSON.parse(atob(token.split('.')[1]));\n  }\n  \n  // Vérifier si le token est expiré\n  isTokenExpired(decodedToken: any): boolean {\n    const expirationDate = new Date(decodedToken.exp * 1000);\n    return expirationDate < new Date();\n  }\n    \n  // Rafraîchir le token avec un refresh token (si applicable)\n  getNewTokenFromApi(): Observable<{ token: string }> {\n    const refreshToken = localStorage.getItem('refreshToken');\n    return this.http.post<{ token: string }>(`${this.apiUrl}/refresh-token`, { refreshToken });\n  }\n\n \n}","import { HttpClient, HttpHeaders, HttpParams } from \"@angular/common/http\";\nimport { Injectable } from \"@angular/core\";\nimport { catchError, Observable, switchMap, tap, throwError } from \"rxjs\";\nimport { FactureProForma, StatutFactureProForma, UpdateFactureProFormaDTO } from \"../MODELS/FactureProForma.model\";\nimport { Note } from \"../MODELS/Note.model\";\nimport { environment } from \"src/environments/environment\";\nimport { UsersService } from \"./users.service\";\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FactureProFormaService {\n    private apiUrl = environment.apiBaseUrl;\n  \n\n  constructor(private http: HttpClient, private usersService: UsersService) { }\n\n  creerFactureProforma(\n  facture: any,\n  remisePourcentage?: number,\n  appliquerTVA?: boolean,\n  appliquerAdjustments?: boolean\n): Observable<any> {\n  return this.usersService.getValidAccessToken().pipe(\n    switchMap(token => {\n      const headers = new HttpHeaders({\n        'Authorization': `Bearer ${token}`\n      });\n      \n      let params = new HttpParams();\n\n      if (appliquerAdjustments) {\n        if (remisePourcentage !== undefined) {\n          params = params.set('remisePourcentage', remisePourcentage.toString());\n        }\n        if (appliquerTVA !== undefined) {\n          params = params.set('appliquerTVA', appliquerTVA.toString());\n        }\n      }\n\n      return this.http.post(`${this.apiUrl}/ajouter`, facture, { headers, params });\n    }),\n    tap(response => console.log('Facture créée avec succès:', response)),\n    catchError(error => {\n      console.error('Erreur détaillée:', error);\n      console.log('Corps de la réponse:', error.error);\n      return throwError(() => error);\n    })\n  );\n}\n\n\n  //Get facture proformat\n getAlFactproformaOfEntreprise(entrepriseId: number): Observable<any[]> {\n  return this.usersService.getValidAccessToken().pipe(\n    switchMap(token => {\n      const headers = new HttpHeaders({\n        Authorization: `Bearer ${token}`\n      });\n      return this.http.get<any[]>(`${this.apiUrl}/mes-factures`, { headers });\n    })\n  );\n}\n\n\n  getFactureProformaById(id: number): Observable<FactureProForma> {\n  return this.usersService.getValidAccessToken().pipe(\n    switchMap(token => {\n      const headers = new HttpHeaders({\n        'Authorization': `Bearer ${token}`\n      });\n      return this.http.get<FactureProForma>(`${this.apiUrl}/factureProforma/${id}`, { headers });\n    })\n  );\n}\n\n\n  // Dans FactureProFormaService\n updateFactureProforma(\n  factureId: number,\n  remisePourcentage: number | undefined,\n  appliquerTVA: boolean | undefined,\n  modifications: Partial<FactureProForma>,\n  idsApprobateurs?: number[]\n): Observable<FactureProForma> {\n  return this.usersService.getValidAccessToken().pipe(\n    switchMap(token => {\n      const headers = new HttpHeaders({\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      });\n\n      let params = new HttpParams();\n\n      if (remisePourcentage !== undefined) {\n        params = params.set('remisePourcentage', remisePourcentage.toString());\n      }\n\n      if (appliquerTVA !== undefined) {\n        params = params.set('appliquerTVA', appliquerTVA.toString());\n      }\n\n      if (idsApprobateurs && idsApprobateurs.length > 0) {\n        idsApprobateurs.forEach(id => {\n          params = params.append('idsApprobateurs', id.toString());\n        });\n      }\n\n      if (modifications.statut === StatutFactureProForma.ANNULE) {\n        params = params.set('isAnnulation', 'true');\n      }\n\n      return this.http.put<FactureProForma>(\n        `${this.apiUrl}/updatefacture/${factureId}`,\n        modifications,\n        { headers, params }\n      ).pipe(\n        tap(response => console.log('Facture mise à jour:', response)),\n        catchError(error => {\n          console.error('Erreur mise à jour:', error);\n          return throwError(() => error);\n        })\n      );\n    })\n  );\n}\n\n\n  //Envoyer Facture par mail :\n  envoyerFactureEmail(\n    factureId: number,\n    emailRequest: {\n      to: string;\n      cc: string;\n      subject: string;\n      body: string;\n      attachments?: File[];\n    }\n  ): Observable<string> {\n    const formData = new FormData();\n    formData.append('to', emailRequest.to);\n    formData.append('cc', emailRequest.cc);\n    formData.append('subject', emailRequest.subject);\n    formData.append('body', emailRequest.body);\n\n    if (emailRequest.attachments) {\n      emailRequest.attachments.forEach((file, index) => {\n        formData.append(`attachments`, file, file.name);\n      });\n    }\n\n      return this.usersService.getValidAccessToken().pipe(\n    switchMap(token => {\n      const headers = new HttpHeaders({\n        'Authorization': `Bearer ${token}`\n      });\n      return this.http.post(\n        `${this.apiUrl}/factures/${factureId}/envoyer-email`,\n        formData,\n        { headers, responseType: 'text' }\n      );\n    })\n  );\n\n \n  }\n\n\n  //Get History Facture\ngetHistoriqueFacture(factureId: number): Observable<any> {\n  return this.usersService.getValidAccessToken().pipe(\n    switchMap(token => {\n      const headers = new HttpHeaders({\n        'Authorization': `Bearer ${token}`\n      });\n\n      return this.http.get<any>(`${this.apiUrl}/factpro/${factureId}/historique`, { headers });\n    }),\n    catchError(err => {\n      console.error('Erreur récupération historique facture:', err);\n      return throwError(() => err);\n    })\n  );\n}\n\n\n// getHistoriqueActions(factureId: number): Observable<any> {\n//   return this.http.get(`${this.apiUrl}/factpro/${factureId}/historique`);\n// }\n\n//Endpoint pour recuperer les notes d'une facture proforma\ngetNotesFactureProforma(id: number): Observable<any[]> {\n  return this.usersService.getValidAccessToken().pipe(\n    switchMap(token => {\n      const headers = new HttpHeaders({\n        'Authorization': `Bearer ${token}`\n      });\n      return this.http.get<any[]>(`${this.apiUrl}/factures/${id}/notes`, { headers });\n    }),\n    catchError(err => {\n      console.error('Erreur récupération historique facture:', err);\n      return throwError(() => err);\n    })\n  );\n}\n\n\n  //Note by Id\ngetNoteById(factureId: number, noteId: number): Observable<Note> {\n  return this.usersService.getValidAccessToken().pipe(\n    switchMap(token => {\n      const headers = new HttpHeaders({\n        'Authorization': `Bearer ${token}`,\n        'Accept': 'application/json'\n      });\n\n      return this.http.get<Note>(\n        `${this.apiUrl}/auth/${factureId}/notes/${noteId}`, \n        { headers }\n      );\n    }),\n    catchError(err => {\n      console.error('Erreur lors de la récupération de la note:', err);\n      return throwError(() => err);\n    })\n  );\n}\n\n\n\n\n  //Endpoint pour modifier les notes\nupdateNote(factureId: number, noteId: number, nouveauContenu: string): Observable<any> {\n  return this.usersService.getValidAccessToken().pipe(\n    switchMap(token => {\n      const headers = new HttpHeaders({\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      });\n      const url = `${this.apiUrl}/${factureId}/notes/${noteId}`;\n      const body = { nouveauContenu };\n      return this.http.put<any>(url, body, { headers });\n    }),\n    tap(response => console.log('Note modifiée avec succès:', response)),\n    catchError(error => {\n      console.error('Erreur lors de la modification de la note:', error);\n      return throwError(() => error);\n    })\n  );\n}\n\n\ndeletNoteFactureProforma(factureId: number, noteId: number): Observable<any> {\n  return this.usersService.getValidAccessToken().pipe(\n    switchMap(token => {\n      const headers = new HttpHeaders({\n        'Authorization': `Bearer ${token}`,\n        'Accept': 'application/json'\n      });\n      return this.http.delete<any>(\n        `${this.apiUrl}/${factureId}/notes/${noteId}/supprimer`,\n        { headers }\n      );\n    }),\n    catchError(error => {\n      console.error('Erreur lors de la suppression de la note:', error);\n      return throwError(() => error);\n    })\n  );\n}\n\n\n getFacturesByClient(clientId?: number, entrepriseClientId?: number): Observable<any[]> {\n  return this.usersService.getValidAccessToken().pipe(\n    switchMap(token => {\n      let params = new HttpParams();\n\n      if (clientId !== undefined) {\n        params = params.set('clientId', clientId.toString());\n      }\n      if (entrepriseClientId !== undefined) {\n        params = params.set('entrepriseClientId', entrepriseClientId.toString());\n      }\n\n      const headers = new HttpHeaders({\n        Authorization: `Bearer ${token}`\n      });\n\n      return this.http.get<any[]>(`${this.apiUrl}/factures/client`, { headers, params });\n    }),\n    catchError(error => {\n      console.error('Erreur dans getFacturesByClient:', error);\n      return throwError(() => error);\n    })\n  );\n}\n\n\n//Trier\n\ngetFacturesParPeriode(\n  type: 'jour' | 'mois' | 'annee' | 'personnalise',\n  dateDebut?: string, // format ISO: '2025-07-01'\n  dateFin?: string\n): Observable<any[]> {\n  return this.usersService.getValidAccessToken().pipe(\n    switchMap(token => {\n      const headers = new HttpHeaders({\n        Authorization: `Bearer ${token}`\n      });\n\n      let params = new HttpParams().set('type', type);\n\n      if (type === 'personnalise') {\n        if (!dateDebut || !dateFin) {\n          throw new Error(\"Pour 'personnalise', les dates dateDebut et dateFin sont obligatoires.\");\n        }\n        params = params.set('dateDebut', dateDebut).set('dateFin', dateFin);\n      }\n\n      return this.http.get<any[]>(`${this.apiUrl}/mes-factures/par-periode`, { headers, params });\n    })\n  );\n}\n\n\n deletFactureProforma(factureId: number): Observable<any> {\n  return this.usersService.getValidAccessToken().pipe(\n    switchMap(token => {\n      const headers = new HttpHeaders({\n        'Authorization': `Bearer ${token}`,\n        'Accept': 'application/json'\n      });\n      return this.http.delete<any>(\n        `${this.apiUrl}/deletefactureproforma/${factureId}`,\n        { headers }\n      );\n    }),\n    catchError(error => {\n      console.error('Erreur lors de la suppression de la note:', error);\n      return throwError(() => error);\n    })\n  );\n}\n}\n\n\n\n","import { Component, ElementRef, ViewChild } from '@angular/core';\nimport { FormBuilder, FormControl, FormGroup, FormsModule, ReactiveFormsModule, Validators } from '@angular/forms';\nimport { BehaviorSubject, combineLatest, map, Observable, of, startWith, switchMap, throwError } from 'rxjs';\nimport { Entreprise } from '../../MODELS/entreprise-model';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport imageCompression from 'browser-image-compression';\nimport { Clients } from '../../MODELS/clients-model';\nimport { ClientService } from '../../SERVICES/client-service';\nimport { EntrepriseService } from '../../SERVICES/entreprise-service';\nimport { CommonModule } from '@angular/common';\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\nimport { FactureProFormaService } from '../../SERVICES/factureproforma-service';\nimport { CustomNumberPipe } from '../../MODELS/customNumberPipe';\nimport { MatExpansionModule } from '@angular/material/expansion';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatTabsModule } from '@angular/material/tabs';\n\nimport { MatCardModule } from '@angular/material/card';\nimport { MatTableModule } from '@angular/material/table';\nimport { MatDividerModule } from '@angular/material/divider';\nimport { environment } from 'src/environments/environment';\nimport { UsersService } from '../../SERVICES/users.service';\nimport { VenteService } from '../../SERVICES/VenteService/vente-service';\n\n\n@Component({\n  selector: 'app-detail-edit-client',\n  standalone: true,\n  imports: [\n    FormsModule,\n    CommonModule,\n    ReactiveFormsModule,\n    MatAutocompleteModule,\n    CustomNumberPipe,\n    MatTabsModule,\n    MatExpansionModule, \n    MatFormFieldModule,\n    MatIconModule,\n    MatCardModule, MatTableModule, MatDividerModule\n  ],\n  templateUrl: './detail-edit-client.component.html',\n  styleUrl: './detail-edit-client.component.scss'\n})\nexport class DetailEditClientComponent {\n  private imgUrl = environment.imgUrl\n  clientId!: number;\n  ventes: any[] = [];\n  entrepriseClientId?: number;\n  errorMessage: string = '';\n  errorMessageApi: string = '';\n  successMessage = '';\n  modifierClientForm!: FormGroup;\n  entrepriseForm!: FormGroup;\n  isEntrepriseSelected = false;\n  showPopup = false;\n  urllink: string = \"assets/img/appareil.jpg\";\n  newPhotoUrl: string | null = null;\n  selectedFile: File | null | undefined = null;\n  imageFile: File | null = null;\n  control = new FormControl();\n  filteredOptions: Observable<Entreprise[]> = of([]);\n  loading = false;\n  optionsEntreprise$ = new BehaviorSubject<Entreprise[]>([]);\n  entrepriseRequiredError = false;\n  indicatif: string = '';\n  maxPhoneLength: number = 0;\n  entrepriseIndicatif: string = '';\n  entrepriseMaxPhoneLength: number = 0;\n  isLoading = false;\n\n  facturesClient: any[] = [];\n  loadingFactures = false;\n  errorFactures = '';\n  selectedFactureId: number | null = null;\n  selectedAchatId: number | null = null;\n  selectedAchat: any = null;\n  factureDetails: any = null;\n\n  // @ViewChild('fileInput') fileInput!: ElementRef;\n  @ViewChild('fileInput') fileInput!: ElementRef<HTMLInputElement>;\n  clientPhotoUrl: string | null = null;\n  selectedImageFile: File | null = null;\n\n  // Ajoutez ces propriétés dans la classe\n  entrepriseNom: string = '';\n  entrepriseSecteur: string = '';\n  entrepriseEmail: string = '';\n  entrepriseTelephone: string = '';\n  entrepriseSiege: string = '';\n  entrepriseLogo: string = '';\n  entrepriseSiteWeb: string = '';\n  entrepriseNina: string = '';\n  entrepriseRccm: string = '';\n  entrepriseNif: string = '';\n  entrepriseBanque: string = '';\n  entrepriseAdresse: string = '';\n  entreprisePays: string = '';\n  entrepriseSignataireNom: string = '';\n  entrepriseSignataire: string = '';\n\n  factureCount: number = 0;\n  achatCount: number = 0\n\n  // Ajoutez cette propriété dans la classe\n  isEditing = false;\n\n  displayedColumns1 = ['numero', 'date', 'statut', 'montant'];\n\n  // Définir les indicatifs par pays\n   paysIndicatifs: { [key: string]: { indicatif: string, longueur: number } } = {\n  'Mali': { indicatif: '+223', longueur: 8 },\n  'Sénégal': { indicatif: '+221', longueur: 9 },\n  'Côte d\\'Ivoire': { indicatif: '+225', longueur: 10 },\n  'Burkina Faso': { indicatif: '+226', longueur: 8 },\n  'Niger': { indicatif: '+227', longueur: 8 },\n  'France': { indicatif: '+33', longueur: 9 },\n  'Belgique': { indicatif: '+32', longueur: 9 },\n  'Suisse': { indicatif: '+41', longueur: 9 },\n  'Canada': { indicatif: '+1', longueur: 10 },\n  'États-Unis': { indicatif: '+1', longueur: 10 },\n  'Maroc': { indicatif: '+212', longueur: 9 },\n  'Algérie': { indicatif: '+213', longueur: 9 },\n  'Tunisie': { indicatif: '+216', longueur: 8 },\n  'Togo': { indicatif: '+228', longueur: 8 },\n  'Bénin': { indicatif: '+229', longueur: 8 },\n  'Guinée': { indicatif: '+224', longueur: 9 },\n  'Tchad': { indicatif: '+235', longueur: 8 },\n  'Cameroun': { indicatif: '+237', longueur: 9 },\n  'RDC': { indicatif: '+243', longueur: 9 },\n  'Gabon': { indicatif: '+241', longueur: 9 },\n  'Afrique du Sud': { indicatif: '+27', longueur: 9 },\n  'Rwanda': { indicatif: '+250', longueur: 9 },\n  'Kenya': { indicatif: '+254', longueur: 9 },\n  'Nigéria': { indicatif: '+234', longueur: 10 },\n  'Ghana': { indicatif: '+233', longueur: 9 },\n  'Éthiopie': { indicatif: '+251', longueur: 9 },\n  'Égypte': { indicatif: '+20', longueur: 10 },\n  'Inde': { indicatif: '+91', longueur: 10 },\n  'Chine': { indicatif: '+86', longueur: 11 },\n  'Mexique': { indicatif: '+52', longueur: 10 },\n  'Allemagne': { indicatif: '+49', longueur: 10 },\n  'Espagne': { indicatif: '+34', longueur: 9 },\n  'Italie': { indicatif: '+39', longueur: 10 },\n  'Royaume-Uni': { indicatif: '+44', longueur: 10 },\n  'Pays-Bas': { indicatif: '+31', longueur: 9 },\n  'Portugal': { indicatif: '+351', longueur: 9 }\n  };\n\n  paysKeys: string[] = Object.keys(this.paysIndicatifs);\n\n\n\n\n  ngOnInit() {\n    this.getListEntreprise();\n    this.initEntreprise();\n    this.getClientForm();\n    this.getEntrepriseForm();\n    this.loadEntreprises();\n    this.getRouteClient();\n    this.modifierClientForm.disable();\n    this.control.disable();\n    this.loadEntrepriseInfo();\n    this.getVentes();\n    \n  }\n  \n  constructor(\n    private router: Router,\n    private fb: FormBuilder,\n    private entrepriseService: EntrepriseService,\n    private clientService: ClientService,\n    private route: ActivatedRoute,\n    private factureService: FactureProFormaService,\n    private usersService: UsersService,\n    private venteService: VenteService\n  ) {}\n\n  async testImageCompression(file: File) {\n      if (!file) {\n        console.log('Aucun fichier sélectionné.');\n        return;\n      }\n    \n      console.log('Taille originale:', file.size / 1024, 'Ko');\n    \n      // Options de compression\n      const options = {\n        maxSizeMB: 1,\n        maxWidthOrHeight: 1000,\n        useWebWorker: true,\n      };\n    \n      try {\n        const compressedFile = await imageCompression(file, options);\n        console.log('Taille après compression:', compressedFile.size / 1024, 'Ko');\n    \n        // Vérifier si le fichier est bien en PNG/JPEG après compression\n        if (compressedFile.type !== 'image/png' && compressedFile.type !== 'image/jpeg') {\n          console.error('Le fichier compressé n\\'est pas un format supporté (PNG ou JPEG).');\n          this.errorMessage = 'Erreur de compression : Le format de l\\'image n\\'est pas valide.';\n          return;\n        }\n    \n        // Lire l'image compressée et afficher l'aperçu\n        const reader = new FileReader();\n        reader.onload = (e) => {\n          this.newPhotoUrl = e.target?.result as string;\n          console.log('Image compressée prête à être affichée !');\n        };\n        reader.readAsDataURL(compressedFile);\n      } catch (error) {\n        console.error('Erreur lors de la compression:', error);\n      }\n  }\n\n  onFileSelected(event: Event): void {\n    this.errorMessage = '';\n    const input = event.target as HTMLInputElement;\n    if (input.files?.length) {\n      const file = input.files[0];\n      this.selectedImageFile = file;\n      \n      // Vérification du format\n      const allowedFormats = ['image/jpeg', 'image/png', 'image/jpg'];\n      if (!allowedFormats.includes(file.type)) {\n        this.errorMessage = 'Seuls les formats JPG, PNG sont acceptés';\n        return;\n      }\n\n      this.testImageCompression(file);\n      \n      \n      // Aperçu de l'image\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        this.newPhotoUrl = e.target?.result as string;\n      };\n      reader.readAsDataURL(file);\n    }\n  }\n\n  // Ajouter cette méthode pour charger les détails d'une facture\nloadFactureDetails(factureId: number): void {\n  this.factureService.getFactureProformaById(factureId).subscribe({\n    next: (details: any) => {\n      // Calculer le montant après remise\n      const remiseValue = details.remise || 0;\n      const totalApresRemise = details.totalHT - (details.totalHT * remiseValue / 100);\n      \n      // Calculer la TVA si nécessaire\n      let montantTVA = 0;\n      let tauxTva = 0;\n      \n      if (details.tva) {\n        // Calcul: TTC = (HT - Remise) + TVA\n        // => TVA = TTC - (HT - Remise)\n        montantTVA = details.totalFacture - totalApresRemise;\n        \n        // Calculer le taux de TVA réel\n        if (totalApresRemise > 0) {\n          tauxTva = montantTVA / totalApresRemise;\n        }\n      }\n      \n      // Valider et corriger la remise\n      let remiseCorrigee = remiseValue;\n      if (remiseCorrigee > 100) {\n        console.warn(`Remise invalide corrigée: ${remiseCorrigee}% -> 100%`);\n        remiseCorrigee = 100;\n      }\n      \n      this.factureDetails = {\n        ...details,\n        montantTVA,\n        tauxTva,\n        remise: remiseCorrigee\n      };\n    },\n    error: (err) => {\n      console.error('Erreur chargement détails facture', err);\n    }\n  });\n}\n\nonSelectFacture(facture: any): void {\n  this.selectedFactureId = facture.id;\n  this.loadFactureDetails(facture.id);\n}\n\nonSelectAchat(vente: any): void {\n  this.selectedAchat = vente;               // garde l’objet complet\n  this.selectedAchatId = vente.venteId;     // garde juste l’ID (optionnel)\n  console.log('Achat sélectionné:', this.selectedAchat);\n}\n\n\n// Méthode pour charger les infos entreprise\nloadEntrepriseInfo(): void {\n  this.entrepriseService.getEntrepriseInfo().subscribe({\n    next: (entreprise) => {\n      this.entrepriseNom = entreprise.nom;\n      this.entrepriseSecteur = entreprise.secteur;\n      this.entrepriseEmail = entreprise.email;\n      this.entrepriseTelephone = entreprise.telephone;\n      this.entrepriseSiege = entreprise.siege;\n      this.entrepriseLogo = entreprise.logo ? `${this.imgUrl}${entreprise.logo}` : '';\n      this.entrepriseSiteWeb = entreprise.siteWeb;\n      this.entrepriseNina = entreprise.nina;\n      this.entrepriseRccm = entreprise.rccm;\n      this.entrepriseNif = entreprise.nif;\n      this.entrepriseBanque = entreprise.banque;\n      this.entrepriseAdresse = entreprise.adresse;\n      this.entreprisePays = entreprise.pays;\n      this.entrepriseSignataireNom = entreprise.signataireNom;\n      this.entrepriseSignataire = entreprise.signataire;\n    },\n    error: (err) => {\n      console.error('Erreur chargement infos entreprise', err);\n    }\n  });\n}\n\n  // Calcul du total des factures\n  // getTotalFactures(): number {\n  //   return this.facturesClient.reduce((sum: number, facture: any) => \n  //     sum + facture.totalFacture, 0\n  //   );\n  // }\n\n  getTotalFactures(): number {\n    const total = this.facturesClient.reduce((sum: number, facture: any) => \n      sum + facture.totalFacture, 0\n    );\n    \n    // Arrondir à l'entier le plus proche\n    return Math.round(total);\n  }\n\n  // Méthode pour déclencher l'input file\n  triggerFileInput(): void {\n    if (!this.isEditing) return;\n    this.fileInput.nativeElement.click();\n  }\n\n  startEditing(): void {\n    this.isEditing = true;\n    this.modifierClientForm.enable(); // Active tous les champs du formulaire\n  }\n\n  // Ajoutez ces méthodes\nonPaysChange(event: any): void {\n  const paysSelectionne = event.target.value;\n  const paysInfo = this.paysIndicatifs[paysSelectionne];\n\n  if (paysInfo) {\n    this.indicatif = paysInfo.indicatif; // ← pas d’espace ici\n    this.maxPhoneLength = paysInfo.longueur;\n    this.modifierClientForm.get('telephone')?.enable();\n\n    const ctrl = this.modifierClientForm.get('telephone');\n    let valeur = ctrl?.value ?? '';\n\n    const prefix = this.indicatif.replace(/\\D/g, '');\n    const chiffres = valeur.replace(/\\D/g, '');\n\n    // Si le numéro ne commence pas par l’indicatif, on réinitialise\n    if (!chiffres.startsWith(prefix)) {\n      ctrl?.setValue(this.indicatif);\n    } else {\n      const reste = chiffres.slice(prefix.length);\n      ctrl?.setValue(this.indicatif + reste);\n    }\n\n    this.updatePhoneValidator(this.maxPhoneLength);\n  } else {\n    this.modifierClientForm.get('telephone')?.disable();\n  }\n}\n\n\n  // Modifiez la méthode updatePhoneValidator\n  updatePhoneValidator(longueur: number): void {\n  const regex = new RegExp(`^\\\\${this.indicatif}\\\\s?\\\\d{${longueur}}$`);\n  this.modifierClientForm.controls['telephone'].setValidators([\n    Validators.pattern(regex)\n  ]);\n  this.modifierClientForm.controls['telephone'].updateValueAndValidity();\n}\n\n  \n  // Modifiez la méthode formatPhoneNumber\nformatPhoneNumber(): void {\n  const ctrl = this.modifierClientForm.get('telephone');\n  let valeur = ctrl?.value ?? '';\n\n  // Nettoie tout sauf les chiffres\n  let numerique = valeur.replace(/\\D/g, '');\n  const prefix = this.indicatif.replace(/\\D/g, '');\n\n  // Supprime l’indicatif s’il est déjà dans la valeur\n  if (numerique.startsWith(prefix)) {\n    numerique = numerique.slice(prefix.length);\n  }\n\n  // Formate et limite la longueur\n  const numeroFormate = this.indicatif + numerique.slice(0, this.maxPhoneLength);\n  ctrl?.setValue(numeroFormate);\n}\n\n\n  goToStock() {\n    this.router.navigate(['/clients']);\n  }\n\n  getRouteClient() {\n    this.route.params.subscribe(params => {\n      this.clientId = +params['id'];\n      this.loadClientData();\n    });\n  }\n\n  cancelEditing(): void {\n    this.isEditing = false;\n    this.modifierClientForm.disable();\n    this.loadClientData(); // Recharge les données originales\n  }\n\n  getFullImageUrl(relativePath: string): string {\n    // Si le chemin est déjà une URL complète, retournez directement\n    if (relativePath.startsWith('http')) return relativePath;\n    \n    // Si c'est un chemin d'assets, retournez tel quel\n    if (relativePath.startsWith('assets')) return relativePath;\n    \n    // Sinon, construisez l'URL complète\n    return relativePath \n      ? `${environment.imgUrl}${relativePath}`\n      : 'assets/img/profil.png';\n  }\n\n  private loadClientData() {\n    this.clientService.getClientById(this.clientId).subscribe({\n      next: (client) => {\n        // Transformez l'URL de la photo\n        this.clientPhotoUrl = client.photo \n        ? this.clientService.getFullImageUrl(client.photo)\n        : 'assets/img/profil.png';\n        \n        this.populateForm(client);\n        this.modifierClientForm.disable();\n        this.handleEntreprise(client.entrepriseClient);\n        this.loadFacturesClient();\n\n        if (client.photo) {\n          this.clientPhotoUrl = this.clientService.getFullImageUrl(client.photo);\n        }\n      },\n      error: (error) => {\n        this.errorMessage = 'Erreur lors du chargement du client';\n        console.error('Erreur:', error);\n      }\n    });\n  }\n\n// Dans loadFacturesClient, sélectionner la première facture par défaut\nloadFacturesClient() {\n  this.loadingFactures = true;\n  this.factureService.getFacturesByClient(this.clientId).subscribe({\n    next: (factures) => {\n      this.facturesClient = factures;\n      this.factureCount = factures.length;\n      this.loadingFactures = false;\n      \n      // Sélectionner la première facture par défaut\n      if (this.facturesClient.length > 0) {\n        this.onSelectFacture(this.facturesClient[0]);\n      }\n    },\n    error: (err) => {\n      this.errorFactures = 'Erreur lors du chargement des factures';\n      this.loadingFactures = false;\n      console.error(err);\n    }\n  });\n}\n\n//Load vente by client\n\n\n  // Modifiez la méthode populateForm pour initialiser l'indicatif\n  private populateForm(client: Clients) {\n    this.modifierClientForm.patchValue({\n      nomComplet: client.nomComplet,\n      email: client.email,\n      telephone: client.telephone,\n      adresse: client.adresse,\n      poste: client.poste,\n      pays: client.pays,\n      ville: client.ville\n    });\n\n    // Initialiser l'indicatif si le pays est déjà défini\n    if (client.telephone) {\n      const phoneValue = client.telephone.replace(/(\\+\\d{3})(\\d+)/, '$1 $2');\n      this.modifierClientForm.patchValue({ telephone: phoneValue });\n    }\n  \n    if (client.pays) {\n      const paysInfo = this.paysIndicatifs[client.pays];\n      if (paysInfo) {\n        this.indicatif = `${paysInfo.indicatif} `; // Ajout de l'espace\n        this.maxPhoneLength = paysInfo.longueur;\n        this.updatePhoneValidator(paysInfo.longueur);\n      }\n    }\n  }\n\n  private handleEntreprise(entreprise: Entreprise | null) {\n    this.isEntrepriseSelected = !!entreprise;\n    this.control.setValue(entreprise);\n    this.entrepriseRequiredError = false;\n  }\n\n  getClientForm() {\n    this.modifierClientForm = this.fb.group({\n      nomComplet: ['', [Validators.required, Validators.minLength(2)]],\n      email: ['', [Validators.email]],\n      telephone: [''],\n      adresse: [''],\n      poste: [''],\n      pays: [''],\n      ville: ['']\n    });\n  }\n\n  getEntrepriseForm() {\n    this.entrepriseForm = this.fb.group({\n      nom: ['', Validators.required],\n      email: ['', Validators.email],\n      telephone: [''],\n      adresse: [''],\n      siege: [''],\n      secteur: [''],\n      pays: ['']\n    });\n  }\n\n  private loadEntreprises() {\n    const token = localStorage.getItem('accessToken') || '';\n    if (!token) return;\n\n    this.entrepriseService.getListEntreprise().subscribe(\n        (list: Entreprise[]) => {\n            this.optionsEntreprise$.next(list); // Mettre à jour le BehaviorSubject\n            this.setupAutocomplete();\n        },\n        err => {\n            console.error('Erreur lors de la récupération des entreprises :', err);\n            this.errorMessage = err.error?.error || 'Erreur chargement entreprises';\n        }\n    );\n  }\n\n  // Ajouter une nouvelle méthode pour configurer l'autocomplete :\n  private setupAutocomplete() {\n    this.filteredOptions = combineLatest([\n      this.control.valueChanges.pipe(\n        startWith(''),\n        map(value => typeof value === 'string' ? value : value?.nom)\n      ),\n      this.optionsEntreprise$\n    ]).pipe(\n      map(([name, entreprises]) => \n        name ? this._filter(name, entreprises) : entreprises\n      )\n    );\n  }\n\ngetListEntreprise() {\n  this.usersService.getValidAccessToken().pipe(\n    switchMap(token => {\n      if (!token) {\n        console.error('🔐 Aucun token trouvé !');\n        return throwError(() => new Error('Aucun token trouvé'));\n      }\n      return this.entrepriseService.getListEntreprise();\n    })\n  ).subscribe({\n    next: (entreprises) => {\n      console.log('🏢 Entreprises reçues depuis l\\'API :', entreprises);\n\n      // Mettre à jour le BehaviorSubject\n      this.optionsEntreprise$.next(entreprises); \n\n      this.filteredOptions = this.control.valueChanges.pipe(\n        startWith<string | Entreprise>(''),\n        map(value => (value ? (typeof value === 'string' ? value : value.nom) : '')),\n        map(name => (name ? this._filter(name, this.optionsEntreprise$.value) : this.optionsEntreprise$.value.slice()))\n      );\n    },\n    error: (error) => {\n      console.error('❌ Erreur lors de la récupération des entreprises :', error);\n    }\n  });\n}\n\n  \n  private _filter(name: string, entreprises: Entreprise[]): Entreprise[] {\n    const filterValue = name.toLowerCase();\n    return entreprises.filter(e =>\n        e.nom.toLowerCase().includes(filterValue)\n    );\n  }\n\n  displayFnEntreprise(e?: Entreprise): string {\n    return e ? e.nom : '';\n  }\n\n    // Methode pour la selection d'un entreprise\n  onEntrepriseSelected(event: any): void {\n    // console.log(\"Entreprise selectionner :\", event.entreprise.value);\n    // if (event.entreprise && event.entreprise.value) {\n    //   this.ajouteEntrepriseForm.get('entrepriseId')?.setValue(event.option.value.id);\n    // } else {\n    //   this.ajouteEntrepriseForm.get('entrepriseId')?.setValue(null);\n    // }\n  }\n\n  // Ouvre/ferme le popup d’entreprise\n  openPopup() {\n    if (!this.isEditing) {\n      this.errorMessage = \"Activez le mode édition pour créer une entreprise\";\n      return;\n    }\n    if (!this.isEditing) return;\n    \n    this.getEntrepriseForm();\n    this.entrepriseForm.reset();\n    \n    // Initialiser avec le Mali par défaut\n    this.entrepriseForm.patchValue({\n      pays: 'Mali'\n    });\n    \n    // Forcer l'initialisation de l'indicatif\n    this.onEntreprisePaysChange({\n      target: { \n        value: this.entrepriseForm.get('pays')?.value \n      }\n    });\n    \n    this.showPopup = true;\n    this.entrepriseRequiredError = false;\n  }\n  \n  closePopup() { this.showPopup = false; }\n  \n  initEntreprise() {\n    this.entrepriseForm = this.fb.group({\n      nom: ['', Validators.required],\n      pays: [''],\n      email: [''],\n      telephone: [''],\n      adresse: [''],\n      siege: [''],\n      secteur: [''],\n    });\n  }\n  \n  ajouterEntreprise() {\n      if (this.entrepriseForm.invalid) return;\n    \n      // Activer l'indicateur de chargement\n      this.isLoading = true;\n    \n      // Créer un délai de 3 secondes\n      setTimeout(() => {\n        const newEntreprise: Entreprise = {\n            nom: this.entrepriseForm.value.nom,\n            pays: this.entrepriseForm.value.pays,\n            email: this.entrepriseForm.value.email,\n            telephone: this.entrepriseForm.value.telephone,\n            adresse: this.entrepriseForm.value.adresse,\n            siege: this.entrepriseForm.value.siege,\n            secteur: this.entrepriseForm.value.secteur,\n            logo : this.entrepriseForm.value.logo,\n            nif: this.entrepriseForm.value.nif,\n            nina: this.entrepriseForm.value.nina,\n            banque: this.entrepriseForm.value.banque,\n            rccm: this.entrepriseForm.value.rccm,\n            siteWeb: this.entrepriseForm.value.siteWeb,\n            signataire: this.entrepriseForm.value.signataire,\n            signataireNom: this.entrepriseForm.value.signataireNom,\n            prefixe: this.entrepriseForm.value.prefixe,\n            suffixe: this.entrepriseForm.value.suffixe,\n            tauxTva: this.entrepriseForm.value.tauxTva,\n            signaturNum: this.entrepriseForm.value.signaturNum,\n            cachetNum: this.entrepriseForm.value.cachetNum\n\n\n        };\n    \n        this.entrepriseService.addEntreprise(newEntreprise).subscribe({\n            next: (createdEntreprise) => {\n                const current = this.optionsEntreprise$.value;\n                this.optionsEntreprise$.next([createdEntreprise, ...current]);\n                this.control.setValue(createdEntreprise);\n                this.closePopup();\n                this.entrepriseForm.reset();\n                this.isLoading = false;\n            },\n            error: (error) => {\n                this.errorMessageApi = error.message || 'Erreur lors de la création';\n                this.isLoading = false;\n            }\n        });\n      }, 3000); // Délai de 3 secondes\n  }\n\n  modifierClient() {\n\n    this.errorMessage = '';\n    this.errorMessageApi = '';\n    this.successMessage = '';\n\n    // Marquer tous les champs comme touchés pour afficher les erreurs\n    this.markFormGroupTouched(this.modifierClientForm);\n\n    if (this.modifierClientForm.invalid) {\n      this.errorMessage = 'Veuillez corriger les erreurs dans le formulaire.';\n      return;\n    }\n\n    // Vérification de l'entreprise si le toggle est activé\n    // let entrepriseClient: Entreprise | null = null;\n    // if (this.isEntrepriseSelected) {\n    //   entrepriseClient = this.control.value;\n    //   if (!entrepriseClient) {\n    //     this.entrepriseRequiredError = true;\n    //     this.errorMessage = 'Veuillez sélectionner ou créer une entreprise.';\n    //     return;\n    //   }\n    // }\n\n\n    if (this.isEntrepriseSelected && !this.control.value) {\n      this.errorMessage = 'Veuillez sélectionner ou créer une entreprise.';\n      return;\n    }\n\n    // Activer l'indicateur de chargement\n    this.isLoading = true;\n    \n    // Créer un délai de 3 secondes avant la modification\n    setTimeout(() => {\n      // Construction de l'objet client - NE PAS inclure l'URL complète\n      const clientData: any = {\n        ...this.modifierClientForm.value,\n        id: this.clientId,\n        // Supprimer la propriété photo ici\n      };\n\n      // Gestion spécifique de la photo :\n      let imageFile: File | undefined = undefined;\n      \n      if (this.selectedImageFile) {\n        // Cas 1 : Nouvelle image sélectionnée\n        imageFile = this.selectedImageFile;\n      } else if (this.clientPhotoUrl?.includes('assets')) {\n        // Cas 2 : Photo actuelle est l'image par défaut\n        clientData.photo = null; // Demander la suppression\n      }\n      \n      // Gestion de l'entreprise\n      if (this.isEntrepriseSelected && this.control.value?.id) {\n        clientData.entrepriseClient = { id: this.control.value.id };\n      } else {\n        clientData.entrepriseClient = null;\n      }\n\n      // Appel au service avec gestion du fichier image\n      this.clientService.updateClient(this.clientId, clientData, imageFile).subscribe({\n        next: (updatedClient) => {\n          // Mettre à jour l'URL de la photo dans l'interface\n          if (updatedClient.photo) {\n            // Utiliser getFullImageUrl pour reconstruire le chemin complet\n            this.clientPhotoUrl = this.clientService.getFullImageUrl(updatedClient.photo);\n          } else {\n            this.clientPhotoUrl = 'assets/img/profil.png';\n          }\n\n          this.successMessage = 'Client modifié avec succès !';\n          this.errorMessage = '';\n          \n          // Réinitialiser les états d'image\n          this.newPhotoUrl = null;\n          this.selectedImageFile = null;\n          \n          // Désactiver le mode édition après succès\n          this.isEditing = false;\n          this.modifierClientForm.disable();\n          \n          this.isLoading = false;\n        },\n        error: (error) => {\n          console.error('Erreur:', error);\n          this.errorMessage = error.error?.message || 'Erreur lors de la modification du client';\n          this.successMessage = '';\n          this.isLoading = false;\n        }\n      });\n    }, 3000);\n  }\n  \n  // Méthode utilitaire pour marquer tous les champs comme touchés\n  private markFormGroupTouched(formGroup: FormGroup) {\n    Object.values(formGroup.controls).forEach(control => {\n      control.markAsTouched();\n  \n      if (control instanceof FormGroup) {\n        this.markFormGroupTouched(control);\n      }\n    });\n  }\n\n  toggleEditing(): void {\n    this.isEditing = !this.isEditing;\n    \n    if (this.isEditing) {\n      this.control.enable();\n      this.modifierClientForm.enable();\n    } else {\n      // Réinitialiser les erreurs en sortant du mode édition\n      this.errorMessage = '';\n      this.entrepriseRequiredError = false;\n      this.control.disable();\n      this.modifierClientForm.disable();\n      this.loadClientData();\n    }\n  }\n\n  // Annuler et revenir à la liste\n  goToClients() {\n    if (this.isEditing) {\n      this.cancelEditing();\n    } else {\n      this.router.navigate(['/clients']);\n    }\n  }\n\n  formatEntreprisePhoneNumber(): void {\n    let valeur = this.entrepriseForm.get('telephone')?.value;\n    \n    // Garantir que l'indicatif est présent\n    if (!valeur.startsWith(this.entrepriseIndicatif)) {\n      this.entrepriseForm.get('telephone')?.setValue(this.entrepriseIndicatif);\n      return;\n    }\n    \n    // Nettoyer et formater les chiffres\n    const chiffres = valeur.replace(this.entrepriseIndicatif, '').replace(/\\D/g, '');\n    const numeroFormate = this.entrepriseIndicatif + chiffres;\n    \n    // Limiter la longueur\n    const maxLength = this.entrepriseIndicatif.length + this.entrepriseMaxPhoneLength;\n    this.entrepriseForm.get('telephone')?.setValue(numeroFormate.slice(0, maxLength));\n  }\n\n  onEntreprisePaysChange(event: any): void {\n    const paysSelectionne = event.target.value;\n    const paysInfo = this.paysIndicatifs[paysSelectionne];\n    \n    if (paysInfo) {\n      // Mettre à jour l'indicatif et la longueur max\n      this.entrepriseIndicatif = `${paysInfo.indicatif} `;\n      this.entrepriseMaxPhoneLength = paysInfo.longueur;\n      \n      // Mettre à jour la valeur du téléphone\n      const currentPhone = this.entrepriseForm.get('telephone')?.value || '';\n      if (!currentPhone.startsWith(this.entrepriseIndicatif)) {\n        this.entrepriseForm.get('telephone')?.setValue(this.entrepriseIndicatif);\n      }\n      \n      // Mettre à jour les validateurs\n      this.updateEntreprisePhoneValidator(paysInfo.longueur);\n    }\n  }\n\n  updateEntreprisePhoneValidator(longueur: number): void {\n    this.entrepriseForm.controls['telephone'].setValidators([\n      Validators.pattern(`^\\\\${this.entrepriseIndicatif}\\\\d{${longueur}}$`)\n    ]);\n    this.entrepriseForm.controls['telephone'].updateValueAndValidity();\n  }\n\n  navigateBack(){\n    this.router.navigate(['/clients'])\n  }\n\nclient: Clients | null = null;\n\nshowConfirmationModalC = false;\nisDeletingC = false;\n\ndeleteClient() {\n  if (!this.client && !this.clientId) {\n    console.error(\"Client ou ID non disponible.\");\n    return;\n  }\n\n  this.showConfirmationModalC = true;\n}\n\n\nasync confirmDeleteC(): Promise<void> {\n  this.showConfirmationModalC = false;\n\n  if (!this.client && !this.clientId) {\n    this.errorMessage = \"Client non disponible pour suppression.\";\n    return;\n  }\n\n  this.isDeletingC = true;\n  this.errorMessage = '';\n  this.successMessage = '';\n\n  try {\n    const idToDelete = this.client?.id || this.clientId;\n    const message = await this.clientService.deleteClient(idToDelete).toPromise();\n    this.successMessage = message || 'Client supprimé avec succès !';\n\n    setTimeout(() => {\n      this.router.navigate(['/clients']);\n    }, 2000);\n  } catch (err: any) {\n    let message = err?.message || err?.error || 'Erreur lors de la suppression.';\n\n    const prefix = \"Une erreur est survenue : \";\n    if (message.startsWith(prefix)) {\n      message = message.substring(prefix.length);\n    }\n    this.errorMessage = message;\n  } finally {\n    this.isDeletingC = false;\n    setTimeout(() => {\n      this.errorMessage = '';\n      this.successMessage = '';\n    }, 5000);\n  }\n}\n\n\n//\n  getVentes(): void {\n    this.loading = true;\n    this.errorMessage = '';\n\n    this.venteService.getVenteByClient(this.clientId, this.entrepriseClientId)\n      .subscribe({\n        next: (res: any[]) => {\n          console.log(\"données reçues :\", res);\n          this.ventes = res;\n           this.achatCount = this.ventes.length;\n\n            // ✅ Sélectionner automatiquement le premier\n          if (this.ventes.length > 0) {\n            this.selectedAchatId = this.ventes[0].venteId;\n            this.selectedAchat = this.ventes[0];\n\n            console.log('Premier achat sélectionné automatiquement :', this.selectedAchatId);\n          }\n          \n          this.ventes = res;\n          this.loading = false;\n        },\n        error: (err) => {\n          console.error('Erreur récupération ventes :', err);\n          this.errorMessage = 'Impossible de récupérer les ventes.';\n          this.loading = false;\n        }\n      });\n  }\n\n  // Méthode appelée lors du clic sur un client\n  selectClient(client: any) {\n    this.clientId = client.id;\n    this.entrepriseClientId = undefined; // Réinitialise l'entreprise\n    this.getVentes();\n  }\n\n  // Méthode appelée lors du clic sur une entreprise cliente\n  selectEntrepriseClient(entrepriseClient: any) {\n    this.entrepriseClientId = entrepriseClient.id;\n    this.clientId = 0; \n    this.getVentes();\n  }\n\n  get totalMontant(): number {\n  return this.ventes?.reduce(function(acc, vente) {\n    return acc + (vente.montantTotal || 0);\n  }, 0) || 0;\n}\n\n\n} \n","\n<div class=\"toast-container\">\n  <!-- Message d'erreur principal -->\n  <div *ngIf=\"errorMessage\" class=\"alert alert-danger toast-message-danger\">\n    {{ errorMessage }}\n  </div>\n  \n  <!-- Message de succès -->\n  <div *ngIf=\"successMessage\" class=\"alert alert-success toast-message-success\">\n    {{ successMessage }}\n  </div>\n  \n  <!-- Erreur API -->\n  <div *ngIf=\"errorMessageApi\" class=\"alert alert-danger toast-message-danger\">\n    {{ errorMessageApi }}\n  </div>\n</div>\n\n<div class=\"container_client\">\n\n  <!-- Icon return  -->\n  <p class=\"retour_icon_text\" (click)=\"navigateBack()\" style=\"cursor: pointer; color: #0672E4;\" title=\"Retour sur la page client\">\n      <i class=\"ri-arrow-left-s-line\"></i> <span style=\"margin-left: 8px; font-size: 12px;\">Clients</span>\n  </p>\n\n  <div *ngIf=\"isLoading\" class=\"loading-overlay\">\n    <div class=\"loading-content\">\n      <div class=\"spinner\"></div>\n      <p>Creation en cours...</p>\n    </div>\n  </div>\n\n  <div class=\"information_cadre\" style=\"margin-bottom: 20px; padding: 20px;\">\n    <div class=\"info_personnel\">\n      <div class=\"information_grid_two\">\n        <!-- Section Profil -->\n        <div class=\"profil_section\">\n            <div class=\"section_title\">\n                <div class=\"title\">\n                    <h6>Photo de profil du client</h6>\n                </div>\n            </div>\n\n            <div class=\"profile-img-wrapper\" (click)=\"triggerFileInput()\">\n              <img [src]=\"newPhotoUrl || clientPhotoUrl || 'assets/img/profil.png'\"\n                  alt=\"Photo de profil\" \n                  class=\"profile-img\" />\n              \n              <div class=\"overlay\">\n                <img src=\"assets/img/appareil.jpg\" alt=\"Modifier\" class=\"camera-icon\" />\n              </div>\n            </div>\n\n            <input #fileInput type=\"file\" accept=\"image/*\" hidden \n                  (change)=\"onFileSelected($event)\">\n\n            <div class=\"taille_photo\">\n              <p style=\"margin: 0; font-size: 8px; text-align: center;\">Formats JPG, GIF ou PNG autorisés. <br> Taille maximale : 800 Ko.</p>\n            </div>\n\n            <!-- Bouton supprimer  -->\n                    <div class=\"delete-boutique-container\" style=\"margin-top: 22px;\">\n                           <span style=\"font-size: 13px;\">\n                              <span style=\"font-size: 13px;\">\n                                Supprimer le client\n                                </span>\n\n                            </span>\n\n                            <label class=\"switch2\">\n                                <button \n                            class=\"delete-boutique-btn\" \n                            (click)=\"deleteClient()\" \n                            [disabled]=\"isDeletingC\"\n                            aria-label=\"Supprimer le client\"\n                            title=\"Supprimer le client\">\n                            <i class=\"fas fa-trash-alt\"></i>\n                        </button>\n                            </label>\n                    </div> \n        </div> \n        \n        <!-- Section Informations Personnelles -->\n        <div class=\"info_section\">\n          <div class=\"section_title\">\n              <div class=\"title title_display\">\n                  <h6>Informations Personnelles</h6>\n                  <div class=\"icon_edit\">\n                    <i *ngIf=\"!isEditing\" \n                      class=\"ri-edit-box-line\" \n                      title=\"Cliquer ici pour modifier\"\n                      (click)=\"toggleEditing()\"></i>\n                    \n                    <i *ngIf=\"isEditing\" style=\"color: #ff0000;\"\n                      class=\"ri-close-line\" \n                      title=\"Fermer l'édition\"\n                      (click)=\"toggleEditing()\"></i>\n                  </div>\n              </div>\n          </div>\n          \n          <form [formGroup]=\"modifierClientForm\" class=\"container_formulaire\">\n            <div class=\"champ_grid_true\">\n              <!-- Nom et prenom -->\n              <div class=\"champ_input\">\n                <input type=\"text\" class=\"input_focus\" \n                          id=\"nomComplet\" formControlName=\"nomComplet\"\n                          name=\"nomComplet\"\n                          placeholder=\"Saisis le nom et prénom\">\n                <label for=\"nomComplet\" class=\"label\">Nom et prénom</label>\n                <div *ngIf=\"modifierClientForm.get('nomComplet')?.touched && modifierClientForm.get('nomComplet')?.invalid\" class=\"error\">\n                  <small *ngIf=\"modifierClientForm.get('nomComplet')?.errors?.['required']\">Champ requis.</small>\n                  <small *ngIf=\"modifierClientForm.get('nomComplet')?.errors?.['minlength']\">Au moins 2 caractères.</small>\n                </div>\n              </div>\n              <!-- Email -->\n              <div class=\"champ_input\">\n                <input type=\"email\" class=\"input_focus\" \n                          id=\"email\" formControlName=\"email\"\n                          placeholder=\"Saisis l'email\">\n                <label for=\"email\" class=\"label\">Email</label>\n                <div *ngIf=\"modifierClientForm.get('email')?.touched && modifierClientForm.get('email')?.invalid\" class=\"error\">\n                  <small *ngIf=\"modifierClientForm.get('email')?.errors?.['email']\">Format invalide.</small>\n                </div>\n              </div>\n              <!-- Adress -->\n              <div class=\"champ_input\">\n                <input class=\"input_focus\" \n                          id=\"adresse\" formControlName=\"adresse\"\n                          name=\"adresse\"\n                          placeholder=\"Saisissez votre adresse \">\n                <label for=\"adresse\" class=\"label\">Adresse</label>\n              </div>\n            </div>\n\n            <div class=\"champ_grid_true\">\n              <!-- Sélecteur de pays -->\n              <div class=\"champ_input div1\">\n               <select class=\"input_focus\" formControlName=\"pays\" (change)=\"onPaysChange($event)\">\n                    <option value=\"\" disabled selected>Pays</option>\n                    <option *ngFor=\"let nomPays of paysKeys\" [value]=\"nomPays\">\n                      {{ nomPays }} \n                    </option>\n                  </select>\n                  <label for=\"pays\" class=\"label\">Pays</label>\n              </div>\n\n              <!-- Champ téléphone -->\n              <div class=\"champ_input div2\">\n                <input type=\"tel\" class=\"input_focus\"\n                      id=\"telephone\" formControlName=\"telephone\"\n                      name=\"telephone\"\n                      placeholder=\"Saisis le numéro de téléphone\"\n                      (input)=\"formatPhoneNumber()\">\n                <label for=\"telephone\" class=\"label\">Téléphone</label>\n              </div>\n\n                <!-- Ville -->\n                <div class=\"champ_input div3\">\n                <input class=\"input_focus\"\n                          id=\"ville\" formControlName=\"ville\"\n                          name=\"ville\"\n                          placeholder=\"Saisis la viille\">\n                <label for=\"pays\" class=\"label\">Ville</label>\n              </div>\n\n            </div>\n\n            <div class=\"champ_grid\">\n              <!-- Poste -->\n              <div class=\"champ_input\">\n                <input class=\"input_focus\"\n                          id=\"poste\" formControlName=\"poste\"\n                          name=\"poste\"\n                          placeholder=\"Saisissez votre poste \">\n                <label for=\"poste\" class=\"label\">Poste</label>\n              </div>\n              <!-- Ville -->\n              <div class=\"champ_input\">\n                <input class=\"input_focus\"\n                          id=\"ville\" formControlName=\"ville\"\n                          name=\"ville\"\n                          placeholder=\"Saisis la viille\">\n                <label for=\"pays\" class=\"label\">Ville</label>\n              </div>\n            </div>\n          </form>\n\n          <!-- Les information des Entreprises  -->\n          <div *ngIf=\"isEditing || isEntrepriseSelected\" class=\"info_titre_input\" style=\"margin-top: 20px;\">\n              <h6>Entreprise</h6>\n\n              <!-- J'appartient à une entreprise -->\n              <div class=\"champ_input_inventaire\">\n                  <p>J'appartient à une entreprise</p>\n\n                  <label class=\"switch\">\n                      <!-- Activer/désactiver le toggle uniquement en mode édition -->\n                      <input type=\"checkbox\" \n                            [disabled]=\"!isEditing\" \n                            [(ngModel)]=\"isEntrepriseSelected\" \n                            [ngModelOptions]=\"{standalone: true}\"/>\n                      <span class=\"slider round\"></span>\n                  </label>\n              </div>\n          </div>\n\n          <!-- // Cadre entreprise  -->\n          <div class=\"cadre_entreprise\" *ngIf=\"isEntrepriseSelected && (isEditing || isEntrepriseSelected)\">\n            <div class=\"champ_input\">\n              <input type=\"text\"\n                    placeholder=\"Selectionner un entreprise\"\n                    [formControl]=\"control\" matInput\n                    [matAutocomplete]=\"auto\"\n                    class=\"input_focus input_cursor\">\n              <label for=\"categorieId\" class=\"label\">Mon entreprise</label>\n              <mat-autocomplete #auto=\"matAutocomplete\" (optionSelected)=\"onEntrepriseSelected($event)\" [displayWith]=\"displayFnEntreprise\">\n\n                <mat-option class=\"select-option\" (click)=\"openPopup()\">\n                  <div style=\"display: flex; align-items: center; color: #0672E4;\">\n                    <!-- <i class=\"ri-checkbox-multiple-line\"></i> -->\n                    <i class=\"ri-community-line\"></i>\n                    <span style=\"margin-left: 8px;\">Créer une entreprise</span>\n                  </div>\n                </mat-option>\n\n                <mat-option *ngFor=\"let ent of filteredOptions | async\" [value]=\"ent\">\n                  <div class=\"option-content\">\n                    {{ ent.nom }}\n                  </div>\n                </mat-option>\n\n              </mat-autocomplete>\n              <!-- // icon  -->\n              <div class=\"icon_arrow\">\n                <i class=\"ri-arrow-down-s-line\"></i>\n              </div>\n            </div>\n          </div>\n\n          <!-- Boutons Ajouter et Sauvegarder -->\n          <div class=\" information_cadre_save\" *ngIf=\"isEditing\">\n              <!-- Message d'erreur global -->\n            <!-- <div class=\"container_error_message\">\n                <div *ngIf=\"errorMessage\" class=\"error-messageApi2\">{{ errorMessage }}</div>\n                <div *ngIf=\"successMessage\" class=\"success-messageApi2\">{{ successMessage }}</div>\n                <div *ngIf=\"entrepriseRequiredError\" class=\"error-message\">\n                  Veuillez sélectionner ou créer une entreprise\n                </div>\n            </div> -->\n            <div></div>\n\n            <div class=\"info_titre_input info_titre_input_btn\">\n              <div class=\"btn_annuler\">\n                <button class=\"btn_cancel\" (click)=\"goToClients()\">{{ isEditing ? 'Annuler' : 'Retour' }}</button>\n              </div>\n              <div class=\"btn_ajouter\">\n                <button class=\"btn_save\" (click)=\"modifierClient()\"\n                      [disabled]=\"modifierClientForm.invalid\"\n                      [style.backgroundColor]=\"modifierClientForm.valid ? '#0672E4' : '#0671e434'\"\n                      [style.color]=\"modifierClientForm.valid ? '#ffffff' : '#00000073'\"\n                      [style.cursor]=\"modifierClientForm.valid ? 'pointer' : 'no-drop'\">\n                  Modifier\n              </button>\n              </div>\n            </div>\n          </div>\n        \n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- Modal de confirmation personnalisée -->\n        <div class=\"confirmation-modal-averB\" *ngIf=\"showConfirmationModalC\">\n          <div class=\"modal-content-averB\">\n              <h4 style=\"font-size: 16px; margin-bottom: 10px;\">Confirmation</h4>\n              <p style=\"margin: 0; font-size: 12px;\">Êtes-vous sûr de vouloir supprimer ce Client ?</p>\n              <div class=\"modal-actions-averB\">\n              <button class=\"btn-confirm\" style=\"font-size: 12px;\" (click)=\"confirmDeleteC()\">OUI</button>\n              <button class=\"btn-cancel\" style=\"font-size: 12px;\" (click)=\"showConfirmationModalC = false\">NON</button>\n              </div>\n          </div>\n        </div>\n\n\n  <!-- End -->\n  <div class=\"information_cadre\">\n    <div class=\"section_navbar\">\n      <mat-tab-group [selectedIndex]=\"0\" class=\"custom-tabs\"> \n        <!-- // Factures  -->\n        <mat-tab>\n          <ng-template mat-tab-label>\n            <div class=\"tab-label\">\n              <span>Factures client</span>\n              <span class=\"facture-count\">{{factureCount}}</span>\n            </div>\n          </ng-template>\n          <div class=\"tab-content\">\n            <div class=\"content_client\">\n              <div class=\"information_grid_two\">\n                <!-- Section Profil -->\n                <div class=\"profil_section profil_section_facture\">\n                <div class=\"facture_model\" *ngIf=\"factureDetails; else noFactureSelected\">\n                  <!-- En-tête dynamique -->\n                  <div class=\"header_apercu\" style=\"display: flex; align-items: center; gap: 5px; margin: 10px;\">\n                    <div class=\"logo_entreprise\">\n                      <img [src]=\"entrepriseLogo || entrepriseLogo || 'assets/img/Votre.png'\"><!--  alt=\"Logo entreprise\" -->\n                    </div>\n                    <div class=\"entete_entreprise\">\n                      <p class=\"para1\">{{ entrepriseNom }}</p>\n                      <p class=\"para1\">Secteur: {{ entrepriseSecteur }}</p>\n                      <div class=\"para1\">\n                        Email: {{ entrepriseEmail }} \n                        Téléphone: {{ entrepriseTelephone }}\n                      </div>\n                    </div>\n                  </div>\n\n                  <hr><hr>\n\n                  <!-- Numéro de facture -->\n                  <div class=\"titre\" style=\"text-align: center; font-size: 8px;\">\n                    <h6>Facture proforma: \n                      <span style=\"color: #0000003e;\">\n                        {{ factureDetails.numeroFacture }}\n                      </span>\n                    </h6>\n                  </div>\n\n                  <!-- Date et lieu -->\n                  <div class=\"date_right\">\n                    <p style=\"margin: 0 10px; font-size: 8px; text-align: right;\">\n                      {{ entrepriseSiege }}, {{ factureDetails.dateCreation | date:'dd/MM/yyyy' }}\n                    </p>\n                  </div>\n\n                  <!-- Destinataire -->\n                  <div class=\"name_client\" style=\"margin-left: 10px;\">\n                    <div class=\"doit\" style=\"display: flex; align-items: center; gap: 3px;\">\n                      <h6 style=\"margin: 0; font-size: 8px;\">Doit : </h6>\n                      <p style=\"margin: 0; font-size: 8px;\">\n                        {{ factureDetails.client?.nomComplet || factureDetails.entrepriseClient?.nom }}\n                      </p>\n                    </div>\n                    <div class=\"objets\" style=\"display: flex; align-items: center; gap: 3px;\">\n                      <h6 style=\"margin: 0; font-size: 8px;\">Objet : </h6>\n                      <p style=\"margin: 0; font-size: 8px;\">\n                        {{ factureDetails.description }}\n                      </p>\n                    </div>\n                  </div>\n\n                  <!-- Lignes de produits -->\n                  <div class=\"container_table\" style=\"display: flex; justify-content: center;\">\n                    <table class=\"table\">\n                      <thead>\n                        <tr>\n                          <th class=\"th\">Désignation</th>\n                          <th class=\"th\">Description</th>\n                          <th class=\"th\">PU</th>\n                          <th class=\"th\">Quantité</th>\n                          <th class=\"th\">Montant (FCFA)</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        <tr *ngFor=\"let ligne of factureDetails.lignesFacture\">\n                          <td class=\"td\">{{ ligne.nomProduit }}</td>\n                          <td class=\"td\">{{ ligne.ligneDescription }}</td>\n                          <td class=\"td\">{{ ligne.prixUnitaire | customNumber }}</td>\n                          <td class=\"td\">{{ ligne.quantite }}</td>\n                          <td class=\"td\">{{ ligne.montantTotal | customNumber }}</td>\n                        </tr>\n                      </tbody>\n                      <tfoot class=\"tfoot\">\n                        <!-- Totaux dynamiques -->\n                        <tr>\n                          <td class=\"td\" colspan=\"4\">Total HT</td>\n                          <td class=\"td\">{{ factureDetails.totalHT | customNumber }}</td>\n                        </tr>\n                        <tr *ngIf=\"factureDetails.remise > 0\">\n                          <!-- <td class=\"td\" colspan=\"4\">Remise {{ factureDetails.remise | number:'1.0-0' }}%</td> -->\n                          <td class=\"td\" colspan=\"4\">Remise 0%</td>\n                          <!-- <td class=\"td\">{{ (factureDetails.totalHT * factureDetails.remise / 100) | customNumber }}</td> -->\n                          <td class=\"td\">0000</td>\n                        </tr>\n                        <tr *ngIf=\"factureDetails.tva\">\n                          <!-- <td class=\"td\" colspan=\"4\">TVA {{ (factureDetails.tauxTva * 100) | number:'1.0-0' }}%</td> -->\n                          <td class=\"td\" colspan=\"4\">TVA 0%</td>\n                          <!-- <td class=\"td\">{{ factureDetails.montantTVA | customNumber }}</td> -->\n                          <td class=\"td\">000</td>\n                        </tr>\n                        <tr>\n                          <td class=\"td\" colspan=\"4\">Montant TTC</td>\n                          <td class=\"td\">{{ factureDetails.totalFacture | customNumber }}</td>\n                        </tr>\n                      </tfoot>\n                    </table>\n                  </div>\n\n                  <div class=\"arret_somme\">\n                      <p style=\"margin: 0 0 0 10px; font-size: 6px;\">Arrêté la présente facture à la somme de : Zero .....</p>\n                  </div>\n\n                  <div class=\"signature\" style=\"text-align: right; margin: 20px 10px 16px 0;\">\n                      <div class=\"post_signateure\">\n                        <p style=\"font-size: 8px;\">{{ entrepriseSignataire }}</p>\n                      </div>\n                      <div class=\"nom_signateure\">\n                        <p style=\"font-size: 8px;\">{{ entrepriseSignataireNom }}</p>\n                      </div>\n                  </div>\n\n                  <!-- Pied de page dynamique -->\n                  <div class=\"container_footer\">\n                    <div class=\"footer\">\n                      <hr>\n                      <p style=\"text-align: center; font-size: 8px; margin: 0 0 3px 0;\">\n                        <strong>{{ entrepriseSiteWeb }}</strong>\n                      </p>\n                      <div style=\"font-size: 5px; text-align: center;\">\n                        <em>\n                          NINA: {{ entrepriseNina }}\n                          RCCM: {{ entrepriseRccm }}\n                          NIF: {{ entrepriseNif }}\n                          Banque: {{ entrepriseBanque }}\n                        </em>\n                      </div>\n                       <div style=\"margin-top: 0px; font-size: 5px; text-align: center;\">\n                          <em>Adresse : {{ entrepriseAdresse }} /{{ entreprisePays }}</em>\n                        </div>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"non_facture\">\n                  <ng-template #noFactureSelected>\n                    <div class=\"empty-preview\">\n                      <i class=\"ri-file-text-line\"></i>\n                      <p>Cette facture n’est pas liée à cet utilisateur.</p>\n                    </div>\n                  </ng-template>\n                </div>\n                </div>\n                \n                <!-- Section Informations Factures -->\n                <div class=\"info_section\" style=\"padding: 0;\">\n                  <div class=\"contact_info__\">\n                    <div class=\"section_title section_title2\" style=\"padding: 20px 20px 6px;\">\n                      <div class=\"title\">\n                        <h6>Toutes les factures</h6>\n                      </div>\n                    </div>\n\n                    <!-- Nouveau tableau avec header fixe -->\n                    <div class=\"table-container\" style=\"max-height: 41vh; border-radius: 10px; display: flex; flex-direction: column; position: relative;\">\n                      <!-- États de chargement/erreur -->\n                      <div *ngIf=\"loadingFactures\" class=\"loading-indicator\">\n                        <i class=\"ri-loader-4-line spin\"></i> Chargement des factures...\n                      </div>\n                      \n                      <div *ngIf=\"!loadingFactures && errorFactures\" class=\"error-message\">\n                        {{ errorFactures }}\n                      </div>\n                      \n                      <div *ngIf=\"!loadingFactures && !errorFactures && facturesClient.length === 0\" class=\"empty-state\">\n                        <i class=\"ri-file-list-2-line\"></i>\n                        <p>Aucune facture trouvée pour ce client</p>\n                      </div>\n                      \n                      <!-- Tableau réel -->\n                      <table *ngIf=\"!loadingFactures && !errorFactures && facturesClient.length > 0\">\n                        <thead>\n                          <tr style=\"position: sticky; top: 0; background: white; z-index: 10; box-shadow: 0 2px 2px -1px rgba(0,0,0,0.1);\">\n                            <th>Numéro</th>\n                            <th>Date</th>\n                            <th>Statut</th>\n                            <th class=\"text-right\">Montant</th>\n                          </tr>\n                        </thead>\n                        <tbody>\n                          <tr *ngFor=\"let facture of facturesClient\" \n                              (click)=\"onSelectFacture(facture)\"\n                              [class.selected-row]=\"selectedFactureId === facture.id\">\n                            <td>{{ facture.numeroFacture }}</td>\n                            <td>{{ facture.dateFacture | date:'dd/MM/yyyy' }}</td>\n                            <td>\n                              <span class=\"status-badge\" [ngClass]=\"{\n                                'draft': facture.statut === 'BROUILLON',\n                                'sent': facture.statut === 'ENVOYE',\n                                'approved': facture.statut === 'APPROUVE',\n                                'valid': facture.statut === 'VALIDE'\n                              }\">\n                                {{ facture.statut }}\n                              </span>\n                            </td>\n                            <td class=\"text-right\">{{ facture.totalFacture | customNumber }}</td>\n                          </tr>\n                        </tbody>\n                        <!-- <tfoot>\n                          <tr>\n                            <td colspan=\"3\" class=\"text-bold\">Total</td>\n                            <td class=\"text-right text-bold\">\n                              {{ getTotalFactures() | customNumber }}\n                            </td>\n                          </tr>\n                        </tfoot> -->\n                      </table>\n                    </div>\n  \n                    <!-- Footer collé en bas du conteneur -->\n                    <div class=\"sticky-footer\" *ngIf=\"!loadingFactures && !errorFactures && facturesClient.length > 0\">\n                      <table style=\"width: 100%;\">\n                        <tfoot style=\"background-color: #ffffff;\">\n                          <tr>\n                            <td colspan=\"3\" class=\"text-bold\">Total</td>\n                            <td class=\"text-right text-bold\">\n                              {{ getTotalFactures() | customNumber }}\n                            </td>\n                          </tr>\n                        </tfoot>\n                      </table>\n                    </div>\n                  </div> \n                </div>\n              </div>\n            </div>\n          </div>\n        </mat-tab>\n        \n        <!-- // Notifications  -->\n        <mat-tab>\n            <ng-template mat-tab-label>\n              <div class=\"tab-label\">\n                <span>Achat</span>\n                <span class=\"facture-count\">{{achatCount}}</span>\n              </div>\n            </ng-template>\n            <div class=\"tab-content\">\n              <div class=\"content_client\">\n                <div class=\"information_grid_two\">\n                  <!-- Section Profil -->\n                  <div class=\"profil_section profil_section_facture\" >\n                    <div class=\"facture_model\" *ngIf=\"selectedAchat\">\n                      <!-- En-tête statique -->\n                      <div class=\"header_apercu\" style=\"display: flex; align-items: center; gap: 5px; margin: 10px;\">\n                        <div class=\"logo_entreprise\">\n                          <img src=\"assets/img/Votre.png\">\n                        </div>\n                        <div class=\"entete_entreprise\">\n                          <p class=\"para1\">Nom Entreprise</p>\n                          <p class=\"para1\">Secteur Entreprise</p>\n                          <div class=\"para1\">\n                            Email: emailentreprise.com \n                            Téléphone: 000000000\n                          </div>\n                        </div>\n                      </div>\n\n                      <hr><hr>\n\n                      <!-- Numéro de facture -->\n                      <div class=\"titre\" style=\"text-align: center; font-size: 8px;\">\n                        <h6>Facture proforma: \n                          <span style=\"color: #0000003e;\">\n                            {{ selectedAchat.numeroFacture }}\n                          </span>\n                        </h6>\n                      </div>\n\n                      <!-- Date et lieu -->\n                      <div class=\"date_right\">\n                        <p style=\"margin: 0 10px; font-size: 8px; text-align: right;\">\n                         {{ selectedAchat.dateVente | date:'dd/MM/yyyy HH:mm' }}\n                        </p>\n                      </div>\n\n                      <!-- Destinataire -->\n                      <div class=\"name_client\" style=\"margin-left: 10px;\">\n                        <div class=\"doit\" style=\"display: flex; align-items: center; gap: 3px;\">\n                          <h6 style=\"margin: 0; font-size: 8px;\">Vendeur : </h6>\n                          <p style=\"margin: 0; font-size: 8px;\">{{ selectedAchat.nomVendeur }}</p>\n                        </div>\n                        <div class=\"objets\" style=\"display: flex; align-items: center; gap: 3px;\">\n                          <h6 style=\"margin: 0; font-size: 8px;\">Objet : </h6>\n                          <p style=\"margin: 0; font-size: 8px;\">{{selectedAchat.description}}</p>\n                        </div>\n                      </div>\n\n                      <!-- Lignes de produits -->\n                      <div class=\"container_table\" style=\"display: flex; justify-content: center;\">\n                        <table class=\"table\">\n                          <thead>\n                            <tr>\n                              <th class=\"th\">Désignation</th>\n                              <th class=\"th\">PU</th>\n                              <th class=\"th\">Quantité</th>\n                              <th class=\"th\">Montant (FCFA)</th>\n                              <th class=\"th\">Remise </th>\n\n\n                            </tr>\n                          </thead>\n                          <tbody>\n                            <tr *ngFor=\"let ligne of selectedAchat.lignes\">\n                              <td class=\"td\">{{ ligne.nomProduit }}</td>\n                              <td class=\"td\">{{ ligne.prixUnitaire | number:'1.0-0' }}</td>\n                              <td class=\"td\">{{ ligne.quantite }}</td>\n                              <td class=\"td\">{{ ligne.montantLigne | number:'1.0-0' }}</td>\n                              <td class=\"td\">{{ligne.remise}}</td>\n                            </tr>\n                          </tbody>\n                          <tfoot class=\"tfoot\">\n                            <tr>\n                              <td class=\"td\" colspan=\"4\">Total HT</td>\n                              <td class=\"td\">{{ selectedAchat.montantTotal | number:'1.0-0' }}</td>\n                            </tr>\n                            <tr>\n                              <td class=\"td\" colspan=\"4\">Remise 0%</td>\n                              <td class=\"td\">{{ selectedAchat.remiseGlobale | number:'1.0-0' }}</td>\n                            </tr>\n                           \n                            <tr>\n                              <td class=\"td\" colspan=\"4\">Montant TTC</td>\n                              <td class=\"td\">{{ (selectedAchat.montantTotal - selectedAchat.remiseGlobale) | number:'1.0-0' }}</td>\n                            </tr>\n                          </tfoot>\n                        </table>\n                      </div>\n\n                      <div class=\"arret_somme\">\n                        <p style=\"margin: 0 0 0 10px; font-size: 6px;\">Arrêté la présente facture à la somme de : Zero .....</p>\n                      </div>\n\n                      <div class=\"signature\" style=\"text-align: right; margin: 20px 10px 16px 0;\">\n                        <div class=\"post_signateure\">\n                          <p style=\"font-size: 8px;\">Signataire</p>\n                        </div>\n                        <div class=\"nom_signateure\">\n                          <p style=\"font-size: 8px;\">Nom Signataire</p>\n                        </div>\n                      </div>\n\n                      <!-- Pied de page statique -->\n                      <div class=\"container_footer\">\n                        <div class=\"footer\">\n                          <hr>\n                          <p style=\"text-align: center; font-size: 8px; margin: 0 0 3px 0;\">\n                            <strong>www.siteweb.com</strong>\n                          </p>\n                          <div style=\"font-size: 5px; text-align: center;\">\n                            <em>\n                              NINA: 000000\n                              RCCM: 000000\n                              NIF: 000000\n                              Banque: Banque\n                            </em>\n                          </div>\n                          <div style=\"margin-top: 0px; font-size: 5px; text-align: center;\">\n                            <em>Adresse : Rue / Pays</em>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  <!-- Section Informations Factures -->\n                  <div class=\"info_section\" style=\"padding: 0;\" >\n                    <div class=\"contact_info__\">\n                      <div class=\"section_title section_title2\" style=\"padding: 20px 20px 6px;\">\n                        <div class=\"title\">\n                          <h6>Toutes les achats</h6>\n                        </div>\n                      </div>\n\n                      <!-- Tableau statique -->\n                      <div class=\"table-container\" style=\"max-height: 41vh; border-radius: 10px; display: flex; flex-direction: column; position: relative;\">\n                        <table>\n                          <thead>\n                            <tr style=\"position: sticky; top: 0; background: white; z-index: 10; box-shadow: 0 2px 2px -1px rgba(0,0,0,0.1);\">\n                              <th>Numéro Facture</th>\n                              <th>Date</th>\n                              <th>Mode Paiement</th>\n                              <th class=\"text-right\">Montant</th>\n                            </tr>\n                          </thead>\n                          <tbody>\n                            <tr *ngFor=\"let vente of ventes\" [class.selected-row]=\"selectedAchatId === vente.venteId\" (click)=\"onSelectAchat(vente)\">\n                              <td>{{ vente.numeroFacture }}</td>\n                              <td>{{ vente.dateVente | date:'dd/MM/yyyy' }}</td>\n                              <td>\n                                <span class=\"status-badge\">{{ vente.modePaiement }}</span>\n                              </td>\n                              <td class=\"text-right\">{{ vente.montantTotal | number:'1.0-0' }}</td>\n                            </tr>\n                          </tbody>\n                        </table>\n                      </div>\n\n                      <!-- Footer statique -->\n                      <div class=\"sticky-footer\">\n                        <table style=\"width: 100%;\">\n                          <tfoot style=\"background-color: #ffffff;\">\n                            <tr>\n                              <td colspan=\"3\" class=\"text-bold\">Total</td>\n                              <td class=\"text-right text-bold\">\n                                 {{ totalMontant | number:'1.0-0' }}\n                              </td>\n                            </tr>\n                          </tfoot>\n                        </table>\n                      </div>\n                    </div> \n                  </div>\n                </div>\n              </div>\n            </div>\n        </mat-tab>\n\n        <!-- // Factures  -->\n        <mat-tab label=\"Notes\">\n            <div class=\"tab-content\">\n            </div>\n        </mat-tab>\n        <!-- // Securite  -->\n        <mat-tab label=\"????\">\n            <div class=\"tab-content\">\n            Contenu de la sécurité\n            </div>\n        </mat-tab>\n      </mat-tab-group>\n    </div>\n  </div>\n</div>\n\n\n<!-- Popup overlay -->\n<div class=\"popup-overlay\" *ngIf=\"showPopup\">\n  <div class=\"popup-content\">\n      <div class=\"popup-header\">\n          <h4>Ajouter une entreprise</h4>\n          <button class=\"close-btn\" (click)=\"closePopup()\">&times;</button>\n      </div>\n      <form [formGroup]=\"entrepriseForm\">\n        <div class=\"popup-body\">\n          <div class=\"champ_grid\">\n            <!-- Nom entreprise -->\n            <div class=\"champ_input\">\n              <input class=\"input_focus\" \n                     type=\"text\" \n                     formControlName=\"nom\"\n                     placeholder=\"Saisis le nom de l'entreprise\">\n              <label class=\"label\">Nom entreprise <span style=\"color: #ff0000; margin-left: 5px;\">*</span></label>\n              <div *ngIf=\"entrepriseForm.get('nom')?.invalid && entrepriseForm.get('nom')?.touched\" \n                   class=\"error-text\">\n                Ce champ est requis\n              </div>\n            </div>\n      \n            <!-- Email -->\n            <div class=\"champ_input\">\n              <input class=\"input_focus\" \n                     type=\"email\" \n                     formControlName=\"email\"\n                     placeholder=\"Saisis l'email\">\n              <label class=\"label\">Email</label>\n              <!-- <div *ngIf=\"entrepriseForm.get('email')?.errors?.['email']\" \n                   class=\"error-text\">\n                Format email invalide\n              </div> -->\n            </div>\n          </div>\n      \n          <div class=\"champ_grid\">\n            <!-- Adresse -->\n            <div class=\"champ_input\">\n              <input class=\"input_focus\" \n                     type=\"text\" \n                     formControlName=\"adresse\"\n                     placeholder=\"Saisis l'adresse\">\n              <label class=\"label\">Adresse</label>\n            </div>\n      \n            <!-- Siege -->\n            <div class=\"champ_input\">\n              <input class=\"input_focus\" \n                     type=\"text\" \n                     formControlName=\"siege\"\n                     placeholder=\"Saisis le siège\">\n              <label class=\"label\">Ville</label>\n            </div>\n\n          </div>\n\n          <!-- Modifiez le sélecteur de pays et le champ téléphone -->\n          <div class=\"grid_colonne\">\n            <!-- Pays -->\n                 <div class=\"champ_input div1\">\n                  <select class=\"input_focus\" formControlName=\"pays\" (change)=\"onEntreprisePaysChange($event)\">\n                    <option value=\"\" disabled selected>Pays</option>\n                    <option *ngFor=\"let nomPays of paysKeys\" [value]=\"nomPays\">\n                      {{ nomPays }} ({{ paysIndicatifs[nomPays].indicatif }})\n                    </option>\n                  </select>\n                  <label for=\"pays\" class=\"label\">Pays</label>\n                 \n                </div>\n\n            <!-- Téléphone -->\n            <div class=\"champ_input div2\">\n              <input type=\"tel\" \n                    class=\"input_focus\"\n                    formControlName=\"telephone\"\n                    placeholder=\"Saisis le numéro de téléphone\"\n                    (focus)=\"onEntreprisePaysChange({target: {value: entrepriseForm.get('pays')?.value}})\"\n                    (input)=\"formatEntreprisePhoneNumber()\">\n              <label class=\"label\">Téléphone</label>\n            </div>\n\n            <!-- Secteur -->\n            <div class=\"champ_input div3\">\n              <input class=\"input_focus\"\n                    formControlName=\"secteur\"\n                    placeholder=\"Saisis le secteur\">\n              <label class=\"label\">Secteur</label>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"container_error_message\">\n          <!-- <div *ngIf=\"errorMessageApi\" class=\"error-messageApi\">\n          {{ errorMessageApi }}\n          </div> -->\n        </div>\n      \n        <div class=\"popup-footer\">\n          <button type=\"button\" class=\"btn-cancel\" (click)=\"closePopup()\">Annuler</button>\n          <button type=\"submit\" class=\"btn-submit\" \n                [disabled]=\"entrepriseForm.invalid\" \n                [style.backgroundColor]=\"entrepriseForm.valid ? '#0672E4' : '#0671e434'\"\n                [style.color]=\"entrepriseForm.valid ? '#ffffff' : '#00000073'\"\n                [style.cursor]=\"entrepriseForm.valid ? 'pointer' : 'no-drop'\" (click)=\"ajouterEntreprise()\">\n            Ajouter\n          </button>\n        </div>\n      </form>\n  </div>\n</div>","import * as i0 from '@angular/core';\nimport { InjectionToken, inject, Component, ViewEncapsulation, ChangeDetectionStrategy, Input, Directive, NgModule } from '@angular/core';\nimport { M as MatCommonModule } from './common-module-WayjW0Pb.mjs';\nimport '@angular/cdk/a11y';\nimport '@angular/cdk/bidi';\n\n/** Injection token that can be used to provide the default options the card module. */\nconst MAT_CARD_CONFIG = new InjectionToken('MAT_CARD_CONFIG');\n/**\n * Material Design card component. Cards contain content and actions about a single subject.\n * See https://material.io/design/components/cards.html\n *\n * MatCard provides no behaviors, instead serving as a purely visual treatment.\n */\nclass MatCard {\n    appearance;\n    constructor() {\n        const config = inject(MAT_CARD_CONFIG, { optional: true });\n        this.appearance = config?.appearance || 'raised';\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"19.2.6\", ngImport: i0, type: MatCard, deps: [], target: i0.ɵɵFactoryTarget.Component });\n    static ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"19.2.6\", type: MatCard, isStandalone: true, selector: \"mat-card\", inputs: { appearance: \"appearance\" }, host: { properties: { \"class.mat-mdc-card-outlined\": \"appearance === \\\"outlined\\\"\", \"class.mdc-card--outlined\": \"appearance === \\\"outlined\\\"\" }, classAttribute: \"mat-mdc-card mdc-card\" }, exportAs: [\"matCard\"], ngImport: i0, template: \"<ng-content></ng-content>\\n\", styles: [\".mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color, var(--mat-sys-surface-container-low));border-color:var(--mdc-elevated-card-container-color, var(--mat-sys-surface-container-low));border-radius:var(--mdc-elevated-card-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mdc-elevated-card-container-elevation, var(--mat-sys-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:\\\"\\\";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape, var(--mat-sys-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color, var(--mat-sys-surface));border-radius:var(--mdc-outlined-card-container-shape, var(--mat-sys-corner-medium));border-width:var(--mdc-outlined-card-outline-width, 1px);border-color:var(--mdc-outlined-card-outline-color, var(--mat-sys-outline-variant));box-shadow:var(--mdc-outlined-card-container-elevation, var(--mat-sys-level0))}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:\\\"\\\"}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-sys-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-sys-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-sys-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-sys-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-sys-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-sys-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-sys-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-sys-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-sys-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-sys-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-sys-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}\\n\"], changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"19.2.6\", ngImport: i0, type: MatCard, decorators: [{\n            type: Component,\n            args: [{ selector: 'mat-card', host: {\n                        'class': 'mat-mdc-card mdc-card',\n                        '[class.mat-mdc-card-outlined]': 'appearance === \"outlined\"',\n                        '[class.mdc-card--outlined]': 'appearance === \"outlined\"',\n                    }, exportAs: 'matCard', encapsulation: ViewEncapsulation.None, changeDetection: ChangeDetectionStrategy.OnPush, template: \"<ng-content></ng-content>\\n\", styles: [\".mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color, var(--mat-sys-surface-container-low));border-color:var(--mdc-elevated-card-container-color, var(--mat-sys-surface-container-low));border-radius:var(--mdc-elevated-card-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mdc-elevated-card-container-elevation, var(--mat-sys-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:\\\"\\\";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape, var(--mat-sys-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color, var(--mat-sys-surface));border-radius:var(--mdc-outlined-card-container-shape, var(--mat-sys-corner-medium));border-width:var(--mdc-outlined-card-outline-width, 1px);border-color:var(--mdc-outlined-card-outline-color, var(--mat-sys-outline-variant));box-shadow:var(--mdc-outlined-card-container-elevation, var(--mat-sys-level0))}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:\\\"\\\"}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-sys-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-sys-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-sys-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-sys-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-sys-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-sys-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-sys-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-sys-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-sys-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-sys-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-sys-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}\\n\"] }]\n        }], ctorParameters: () => [], propDecorators: { appearance: [{\n                type: Input\n            }] } });\n// TODO(jelbourn): add `MatActionCard`, which is a card that acts like a button (and has a ripple).\n// Supported in MDC with `.mdc-card__primary-action`. Will require additional a11y docs for users.\n/**\n * Title of a card, intended for use within `<mat-card>`. This component is an optional\n * convenience for one variety of card title; any custom title element may be used in its place.\n *\n * MatCardTitle provides no behaviors, instead serving as a purely visual treatment.\n */\nclass MatCardTitle {\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"19.2.6\", ngImport: i0, type: MatCardTitle, deps: [], target: i0.ɵɵFactoryTarget.Directive });\n    static ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"19.2.6\", type: MatCardTitle, isStandalone: true, selector: \"mat-card-title, [mat-card-title], [matCardTitle]\", host: { classAttribute: \"mat-mdc-card-title\" }, ngImport: i0 });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"19.2.6\", ngImport: i0, type: MatCardTitle, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: `mat-card-title, [mat-card-title], [matCardTitle]`,\n                    host: { 'class': 'mat-mdc-card-title' },\n                }]\n        }] });\n/**\n * Container intended to be used within the `<mat-card>` component. Can contain exactly one\n * `<mat-card-title>`, one `<mat-card-subtitle>` and one content image of any size\n * (e.g. `<img matCardLgImage>`).\n */\nclass MatCardTitleGroup {\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"19.2.6\", ngImport: i0, type: MatCardTitleGroup, deps: [], target: i0.ɵɵFactoryTarget.Component });\n    static ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"19.2.6\", type: MatCardTitleGroup, isStandalone: true, selector: \"mat-card-title-group\", host: { classAttribute: \"mat-mdc-card-title-group\" }, ngImport: i0, template: \"<div>\\n  <ng-content\\n      select=\\\"mat-card-title, mat-card-subtitle,\\n      [mat-card-title], [mat-card-subtitle],\\n      [matCardTitle], [matCardSubtitle]\\\"></ng-content>\\n</div>\\n<ng-content select=\\\"[mat-card-image], [matCardImage],\\n                    [mat-card-sm-image], [matCardImageSmall],\\n                    [mat-card-md-image], [matCardImageMedium],\\n                    [mat-card-lg-image], [matCardImageLarge],\\n                    [mat-card-xl-image], [matCardImageXLarge]\\\"></ng-content>\\n<ng-content></ng-content>\\n\", changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"19.2.6\", ngImport: i0, type: MatCardTitleGroup, decorators: [{\n            type: Component,\n            args: [{ selector: 'mat-card-title-group', encapsulation: ViewEncapsulation.None, changeDetection: ChangeDetectionStrategy.OnPush, host: { 'class': 'mat-mdc-card-title-group' }, template: \"<div>\\n  <ng-content\\n      select=\\\"mat-card-title, mat-card-subtitle,\\n      [mat-card-title], [mat-card-subtitle],\\n      [matCardTitle], [matCardSubtitle]\\\"></ng-content>\\n</div>\\n<ng-content select=\\\"[mat-card-image], [matCardImage],\\n                    [mat-card-sm-image], [matCardImageSmall],\\n                    [mat-card-md-image], [matCardImageMedium],\\n                    [mat-card-lg-image], [matCardImageLarge],\\n                    [mat-card-xl-image], [matCardImageXLarge]\\\"></ng-content>\\n<ng-content></ng-content>\\n\" }]\n        }] });\n/**\n * Content of a card, intended for use within `<mat-card>`. This component is an optional\n * convenience for use with other convenience elements, such as `<mat-card-title>`; any custom\n * content block element may be used in its place.\n *\n * MatCardContent provides no behaviors, instead serving as a purely visual treatment.\n */\nclass MatCardContent {\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"19.2.6\", ngImport: i0, type: MatCardContent, deps: [], target: i0.ɵɵFactoryTarget.Directive });\n    static ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"19.2.6\", type: MatCardContent, isStandalone: true, selector: \"mat-card-content\", host: { classAttribute: \"mat-mdc-card-content\" }, ngImport: i0 });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"19.2.6\", ngImport: i0, type: MatCardContent, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: 'mat-card-content',\n                    host: { 'class': 'mat-mdc-card-content' },\n                }]\n        }] });\n/**\n * Sub-title of a card, intended for use within `<mat-card>` beneath a `<mat-card-title>`. This\n * component is an optional convenience for use with other convenience elements, such as\n * `<mat-card-title>`.\n *\n * MatCardSubtitle provides no behaviors, instead serving as a purely visual treatment.\n */\nclass MatCardSubtitle {\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"19.2.6\", ngImport: i0, type: MatCardSubtitle, deps: [], target: i0.ɵɵFactoryTarget.Directive });\n    static ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"19.2.6\", type: MatCardSubtitle, isStandalone: true, selector: \"mat-card-subtitle, [mat-card-subtitle], [matCardSubtitle]\", host: { classAttribute: \"mat-mdc-card-subtitle\" }, ngImport: i0 });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"19.2.6\", ngImport: i0, type: MatCardSubtitle, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: `mat-card-subtitle, [mat-card-subtitle], [matCardSubtitle]`,\n                    host: { 'class': 'mat-mdc-card-subtitle' },\n                }]\n        }] });\n/**\n * Bottom area of a card that contains action buttons, intended for use within `<mat-card>`.\n * This component is an optional convenience for use with other convenience elements, such as\n * `<mat-card-content>`; any custom action block element may be used in its place.\n *\n * MatCardActions provides no behaviors, instead serving as a purely visual treatment.\n */\nclass MatCardActions {\n    // TODO(jelbourn): deprecate `align` in favor of `actionPosition` or `actionAlignment`\n    // as to not conflict with the native `align` attribute.\n    /** Position of the actions inside the card. */\n    align = 'start';\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"19.2.6\", ngImport: i0, type: MatCardActions, deps: [], target: i0.ɵɵFactoryTarget.Directive });\n    static ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"19.2.6\", type: MatCardActions, isStandalone: true, selector: \"mat-card-actions\", inputs: { align: \"align\" }, host: { properties: { \"class.mat-mdc-card-actions-align-end\": \"align === \\\"end\\\"\" }, classAttribute: \"mat-mdc-card-actions mdc-card__actions\" }, exportAs: [\"matCardActions\"], ngImport: i0 });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"19.2.6\", ngImport: i0, type: MatCardActions, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: 'mat-card-actions',\n                    exportAs: 'matCardActions',\n                    host: {\n                        'class': 'mat-mdc-card-actions mdc-card__actions',\n                        '[class.mat-mdc-card-actions-align-end]': 'align === \"end\"',\n                    },\n                }]\n        }], propDecorators: { align: [{\n                type: Input\n            }] } });\n/**\n * Header region of a card, intended for use within `<mat-card>`. This header captures\n * a card title, subtitle, and avatar.  This component is an optional convenience for use with\n * other convenience elements, such as `<mat-card-footer>`; any custom header block element may be\n * used in its place.\n *\n * MatCardHeader provides no behaviors, instead serving as a purely visual treatment.\n */\nclass MatCardHeader {\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"19.2.6\", ngImport: i0, type: MatCardHeader, deps: [], target: i0.ɵɵFactoryTarget.Component });\n    static ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"19.2.6\", type: MatCardHeader, isStandalone: true, selector: \"mat-card-header\", host: { classAttribute: \"mat-mdc-card-header\" }, ngImport: i0, template: \"<ng-content select=\\\"[mat-card-avatar], [matCardAvatar]\\\"></ng-content>\\n<div class=\\\"mat-mdc-card-header-text\\\">\\n  <ng-content\\n      select=\\\"mat-card-title, mat-card-subtitle,\\n      [mat-card-title], [mat-card-subtitle],\\n      [matCardTitle], [matCardSubtitle]\\\"></ng-content>\\n</div>\\n<ng-content></ng-content>\\n\", changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"19.2.6\", ngImport: i0, type: MatCardHeader, decorators: [{\n            type: Component,\n            args: [{ selector: 'mat-card-header', encapsulation: ViewEncapsulation.None, changeDetection: ChangeDetectionStrategy.OnPush, host: { 'class': 'mat-mdc-card-header' }, template: \"<ng-content select=\\\"[mat-card-avatar], [matCardAvatar]\\\"></ng-content>\\n<div class=\\\"mat-mdc-card-header-text\\\">\\n  <ng-content\\n      select=\\\"mat-card-title, mat-card-subtitle,\\n      [mat-card-title], [mat-card-subtitle],\\n      [matCardTitle], [matCardSubtitle]\\\"></ng-content>\\n</div>\\n<ng-content></ng-content>\\n\" }]\n        }] });\n/**\n * Footer area a card, intended for use within `<mat-card>`.\n * This component is an optional convenience for use with other convenience elements, such as\n * `<mat-card-content>`; any custom footer block element may be used in its place.\n *\n * MatCardFooter provides no behaviors, instead serving as a purely visual treatment.\n */\nclass MatCardFooter {\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"19.2.6\", ngImport: i0, type: MatCardFooter, deps: [], target: i0.ɵɵFactoryTarget.Directive });\n    static ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"19.2.6\", type: MatCardFooter, isStandalone: true, selector: \"mat-card-footer\", host: { classAttribute: \"mat-mdc-card-footer\" }, ngImport: i0 });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"19.2.6\", ngImport: i0, type: MatCardFooter, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: 'mat-card-footer',\n                    host: { 'class': 'mat-mdc-card-footer' },\n                }]\n        }] });\n// TODO(jelbourn): deprecate the \"image\" selectors to replace with \"media\".\n// TODO(jelbourn): support `.mdc-card__media-content`.\n/**\n * Primary image content for a card, intended for use within `<mat-card>`. Can be applied to\n * any media element, such as `<img>` or `<picture>`.\n *\n * This component is an optional convenience for use with other convenience elements, such as\n * `<mat-card-content>`; any custom media element may be used in its place.\n *\n * MatCardImage provides no behaviors, instead serving as a purely visual treatment.\n */\nclass MatCardImage {\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"19.2.6\", ngImport: i0, type: MatCardImage, deps: [], target: i0.ɵɵFactoryTarget.Directive });\n    static ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"19.2.6\", type: MatCardImage, isStandalone: true, selector: \"[mat-card-image], [matCardImage]\", host: { classAttribute: \"mat-mdc-card-image mdc-card__media\" }, ngImport: i0 });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"19.2.6\", ngImport: i0, type: MatCardImage, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[mat-card-image], [matCardImage]',\n                    host: { 'class': 'mat-mdc-card-image mdc-card__media' },\n                }]\n        }] });\n/** Same as `MatCardImage`, but small. */\nclass MatCardSmImage {\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"19.2.6\", ngImport: i0, type: MatCardSmImage, deps: [], target: i0.ɵɵFactoryTarget.Directive });\n    static ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"19.2.6\", type: MatCardSmImage, isStandalone: true, selector: \"[mat-card-sm-image], [matCardImageSmall]\", host: { classAttribute: \"mat-mdc-card-sm-image mdc-card__media\" }, ngImport: i0 });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"19.2.6\", ngImport: i0, type: MatCardSmImage, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[mat-card-sm-image], [matCardImageSmall]',\n                    host: { 'class': 'mat-mdc-card-sm-image mdc-card__media' },\n                }]\n        }] });\n/** Same as `MatCardImage`, but medium. */\nclass MatCardMdImage {\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"19.2.6\", ngImport: i0, type: MatCardMdImage, deps: [], target: i0.ɵɵFactoryTarget.Directive });\n    static ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"19.2.6\", type: MatCardMdImage, isStandalone: true, selector: \"[mat-card-md-image], [matCardImageMedium]\", host: { classAttribute: \"mat-mdc-card-md-image mdc-card__media\" }, ngImport: i0 });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"19.2.6\", ngImport: i0, type: MatCardMdImage, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[mat-card-md-image], [matCardImageMedium]',\n                    host: { 'class': 'mat-mdc-card-md-image mdc-card__media' },\n                }]\n        }] });\n/** Same as `MatCardImage`, but large. */\nclass MatCardLgImage {\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"19.2.6\", ngImport: i0, type: MatCardLgImage, deps: [], target: i0.ɵɵFactoryTarget.Directive });\n    static ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"19.2.6\", type: MatCardLgImage, isStandalone: true, selector: \"[mat-card-lg-image], [matCardImageLarge]\", host: { classAttribute: \"mat-mdc-card-lg-image mdc-card__media\" }, ngImport: i0 });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"19.2.6\", ngImport: i0, type: MatCardLgImage, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[mat-card-lg-image], [matCardImageLarge]',\n                    host: { 'class': 'mat-mdc-card-lg-image mdc-card__media' },\n                }]\n        }] });\n/** Same as `MatCardImage`, but extra-large. */\nclass MatCardXlImage {\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"19.2.6\", ngImport: i0, type: MatCardXlImage, deps: [], target: i0.ɵɵFactoryTarget.Directive });\n    static ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"19.2.6\", type: MatCardXlImage, isStandalone: true, selector: \"[mat-card-xl-image], [matCardImageXLarge]\", host: { classAttribute: \"mat-mdc-card-xl-image mdc-card__media\" }, ngImport: i0 });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"19.2.6\", ngImport: i0, type: MatCardXlImage, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[mat-card-xl-image], [matCardImageXLarge]',\n                    host: { 'class': 'mat-mdc-card-xl-image mdc-card__media' },\n                }]\n        }] });\n/**\n * Avatar image content for a card, intended for use within `<mat-card>`. Can be applied to\n * any media element, such as `<img>` or `<picture>`.\n *\n * This component is an optional convenience for use with other convenience elements, such as\n * `<mat-card-title>`; any custom media element may be used in its place.\n *\n * MatCardAvatar provides no behaviors, instead serving as a purely visual treatment.\n */\nclass MatCardAvatar {\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"19.2.6\", ngImport: i0, type: MatCardAvatar, deps: [], target: i0.ɵɵFactoryTarget.Directive });\n    static ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"19.2.6\", type: MatCardAvatar, isStandalone: true, selector: \"[mat-card-avatar], [matCardAvatar]\", host: { classAttribute: \"mat-mdc-card-avatar\" }, ngImport: i0 });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"19.2.6\", ngImport: i0, type: MatCardAvatar, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[mat-card-avatar], [matCardAvatar]',\n                    host: { 'class': 'mat-mdc-card-avatar' },\n                }]\n        }] });\n\nconst CARD_DIRECTIVES = [\n    MatCard,\n    MatCardActions,\n    MatCardAvatar,\n    MatCardContent,\n    MatCardFooter,\n    MatCardHeader,\n    MatCardImage,\n    MatCardLgImage,\n    MatCardMdImage,\n    MatCardSmImage,\n    MatCardSubtitle,\n    MatCardTitle,\n    MatCardTitleGroup,\n    MatCardXlImage,\n];\nclass MatCardModule {\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"19.2.6\", ngImport: i0, type: MatCardModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\n    static ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"19.2.6\", ngImport: i0, type: MatCardModule, imports: [MatCommonModule, MatCard,\n            MatCardActions,\n            MatCardAvatar,\n            MatCardContent,\n            MatCardFooter,\n            MatCardHeader,\n            MatCardImage,\n            MatCardLgImage,\n            MatCardMdImage,\n            MatCardSmImage,\n            MatCardSubtitle,\n            MatCardTitle,\n            MatCardTitleGroup,\n            MatCardXlImage], exports: [MatCard,\n            MatCardActions,\n            MatCardAvatar,\n            MatCardContent,\n            MatCardFooter,\n            MatCardHeader,\n            MatCardImage,\n            MatCardLgImage,\n            MatCardMdImage,\n            MatCardSmImage,\n            MatCardSubtitle,\n            MatCardTitle,\n            MatCardTitleGroup,\n            MatCardXlImage, MatCommonModule] });\n    static ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"19.2.6\", ngImport: i0, type: MatCardModule, imports: [MatCommonModule, MatCommonModule] });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"19.2.6\", ngImport: i0, type: MatCardModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [MatCommonModule, ...CARD_DIRECTIVES],\n                    exports: [CARD_DIRECTIVES, MatCommonModule],\n                }]\n        }] });\n\nexport { MAT_CARD_CONFIG, MatCard, MatCardActions, MatCardAvatar, MatCardContent, MatCardFooter, MatCardHeader, MatCardImage, MatCardLgImage, MatCardMdImage, MatCardModule, MatCardSmImage, MatCardSubtitle, MatCardTitle, MatCardTitleGroup, MatCardXlImage };\n","import * as i0 from '@angular/core';\nimport { Component, ViewEncapsulation, ChangeDetectionStrategy, Input, NgModule } from '@angular/core';\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport { M as MatCommonModule } from './common-module-WayjW0Pb.mjs';\nimport '@angular/cdk/a11y';\nimport '@angular/cdk/bidi';\n\nclass MatDivider {\n    /** Whether the divider is vertically aligned. */\n    get vertical() {\n        return this._vertical;\n    }\n    set vertical(value) {\n        this._vertical = coerceBooleanProperty(value);\n    }\n    _vertical = false;\n    /** Whether the divider is an inset divider. */\n    get inset() {\n        return this._inset;\n    }\n    set inset(value) {\n        this._inset = coerceBooleanProperty(value);\n    }\n    _inset = false;\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"19.2.6\", ngImport: i0, type: MatDivider, deps: [], target: i0.ɵɵFactoryTarget.Component });\n    static ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"19.2.6\", type: MatDivider, isStandalone: true, selector: \"mat-divider\", inputs: { vertical: \"vertical\", inset: \"inset\" }, host: { attributes: { \"role\": \"separator\" }, properties: { \"attr.aria-orientation\": \"vertical ? \\\"vertical\\\" : \\\"horizontal\\\"\", \"class.mat-divider-vertical\": \"vertical\", \"class.mat-divider-horizontal\": \"!vertical\", \"class.mat-divider-inset\": \"inset\" }, classAttribute: \"mat-divider\" }, ngImport: i0, template: '', isInline: true, styles: [\".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color, var(--mat-sys-outline));border-top-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color, var(--mat-sys-outline));border-right-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\\n\"], changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"19.2.6\", ngImport: i0, type: MatDivider, decorators: [{\n            type: Component,\n            args: [{ selector: 'mat-divider', host: {\n                        'role': 'separator',\n                        '[attr.aria-orientation]': 'vertical ? \"vertical\" : \"horizontal\"',\n                        '[class.mat-divider-vertical]': 'vertical',\n                        '[class.mat-divider-horizontal]': '!vertical',\n                        '[class.mat-divider-inset]': 'inset',\n                        'class': 'mat-divider',\n                    }, template: '', encapsulation: ViewEncapsulation.None, changeDetection: ChangeDetectionStrategy.OnPush, styles: [\".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color, var(--mat-sys-outline));border-top-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color, var(--mat-sys-outline));border-right-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\\n\"] }]\n        }], propDecorators: { vertical: [{\n                type: Input\n            }], inset: [{\n                type: Input\n            }] } });\n\nclass MatDividerModule {\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"19.2.6\", ngImport: i0, type: MatDividerModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\n    static ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"19.2.6\", ngImport: i0, type: MatDividerModule, imports: [MatCommonModule, MatDivider], exports: [MatDivider, MatCommonModule] });\n    static ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"19.2.6\", ngImport: i0, type: MatDividerModule, imports: [MatCommonModule, MatCommonModule] });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"19.2.6\", ngImport: i0, type: MatDividerModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [MatCommonModule, MatDivider],\n                    exports: [MatDivider, MatCommonModule],\n                }]\n        }] });\n\nexport { MatDivider, MatDividerModule };\n","import { ObserversModule } from '@angular/cdk/observers';\nimport * as i0 from '@angular/core';\nimport { NgModule } from '@angular/core';\nimport { j as MatFormField, M as MatLabel, b as MatError, c as MatHint, e as MatPrefix, g as MatSuffix } from './form-field-DqPi4knt.mjs';\nimport { M as MatCommonModule } from './common-module-WayjW0Pb.mjs';\n\nclass MatFormFieldModule {\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"19.2.6\", ngImport: i0, type: MatFormFieldModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\n    static ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"19.2.6\", ngImport: i0, type: MatFormFieldModule, imports: [MatCommonModule,\n            ObserversModule,\n            MatFormField,\n            MatLabel,\n            MatError,\n            MatHint,\n            MatPrefix,\n            MatSuffix], exports: [MatFormField, MatLabel, MatHint, MatError, MatPrefix, MatSuffix, MatCommonModule] });\n    static ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"19.2.6\", ngImport: i0, type: MatFormFieldModule, imports: [MatCommonModule,\n            ObserversModule, MatCommonModule] });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"19.2.6\", ngImport: i0, type: MatFormFieldModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [\n                        MatCommonModule,\n                        ObserversModule,\n                        MatFormField,\n                        MatLabel,\n                        MatError,\n                        MatHint,\n                        MatPrefix,\n                        MatSuffix,\n                    ],\n                    exports: [MatFormField, MatLabel, MatHint, MatError, MatPrefix, MatSuffix, MatCommonModule],\n                }]\n        }] });\n\nexport { MatFormFieldModule as M };\n"],"names":["StatutFactureProForma","HttpHeaders","BehaviorSubject","catchError","switchMap","tap","throwError","environment","EntrepriseService","constructor","http","usersService","apiUrl","apiBaseUrl","entrepriseSubject","entreprise$","asObservable","getListEntreprises","getValidAccessToken","pipe","token","headers","get","error","errorMsg","ErrorEvent","message","status","Error","addEntreprise","entreprise","post","newEntreprise","currentEntreprise","value","next","getListEntreprise","console","set","log","data","getEntrepriseById","id","updateEntreprise","formData","patch","responseType","getEntrepriseInfo","Authorization","localStorage","setItem","JSON","stringify","decodeJwt","parse","atob","split","isTokenExpired","decodedToken","expirationDate","Date","exp","getNewTokenFromApi","refreshToken","getItem","i0","ɵɵinject","i1","HttpClient","i2","UsersService","factory","ɵfac","providedIn","HttpParams","FactureProFormaService","creerFactureProforma","facture","remisePourcentage","appliquerTVA","appliquerAdjustments","params","undefined","toString","response","getAlFactproformaOfEntreprise","entrepriseId","getFactureProformaById","updateFactureProforma","factureId","modifications","idsApprobateurs","length","forEach","append","statut","ANNULE","put","envoyerFactureEmail","emailRequest","FormData","to","cc","subject","body","attachments","file","index","name","getHistoriqueFacture","err","getNotesFactureProforma","getNoteById","noteId","updateNote","nouveauContenu","url","deletNoteFactureProforma","delete","getFacturesByClient","clientId","entrepriseClientId","getFacturesParPeriode","type","dateDebut","dateFin","deletFactureProforma","FormControl","FormGroup","FormsModule","ReactiveFormsModule","Validators","combineLatest","map","of","startWith","imageCompression","CommonModule","MatAutocompleteModule","CustomNumberPipe","MatExpansionModule","MatFormFieldModule","MatIconModule","MatTabsModule","MatCardModule","MatTableModule","MatDividerModule","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ctx_r1","errorMessage","successMessage","errorMessageApi","ɵɵelement","ɵɵlistener","DetailEditClientComponent_i_42_Template_i_click_0_listener","ɵɵrestoreView","_r3","ɵɵnextContext","ɵɵresetView","toggleEditing","DetailEditClientComponent_i_43_Template_i_click_0_listener","_r4","ɵɵtemplate","DetailEditClientComponent_div_50_small_1_Template","DetailEditClientComponent_div_50_small_2_Template","ɵɵproperty","tmp_3_0","modifierClientForm","errors","tmp_4_0","DetailEditClientComponent_div_55_small_1_Template","nomPays_r5","ɵɵtwoWayListener","DetailEditClientComponent_div_85_Template_input_ngModelChange_7_listener","$event","_r6","ɵɵtwoWayBindingSet","isEntrepriseSelected","isEditing","ɵɵtwoWayProperty","ɵɵpureFunction0","_c1","ent_r8","nom","DetailEditClientComponent_div_86_Template_mat_autocomplete_optionSelected_5_listener","_r7","onEntrepriseSelected","DetailEditClientComponent_div_86_Template_mat_option_click_7_listener","openPopup","DetailEditClientComponent_div_86_mat_option_12_Template","control","auto_r9","displayFnEntreprise","ɵɵpipeBind1","filteredOptions","DetailEditClientComponent_div_87_Template_button_click_4_listener","_r10","goToClients","DetailEditClientComponent_div_87_Template_button_click_7_listener","modifierClient","ɵɵtextInterpolate","ɵɵstyleProp","valid","invalid","DetailEditClientComponent_div_88_Template_button_click_7_listener","_r11","confirmDeleteC","DetailEditClientComponent_div_88_Template_button_click_9_listener","showConfirmationModalC","factureCount","ligne_r12","nomProduit","ligneDescription","prixUnitaire","quantite","montantTotal","DetailEditClientComponent_div_98_tr_48_Template","DetailEditClientComponent_div_98_tr_56_Template","DetailEditClientComponent_div_98_tr_57_Template","entrepriseLogo","ɵɵsanitizeUrl","entrepriseNom","entrepriseSecteur","ɵɵtextInterpolate2","entrepriseEmail","entrepriseTelephone","factureDetails","numeroFacture","entrepriseSiege","ɵɵpipeBind2","dateCreation","client","nomComplet","entrepriseClient","description","lignesFacture","totalHT","remise","tva","totalFacture","entrepriseSignataire","entrepriseSignataireNom","entrepriseSiteWeb","ɵɵtextInterpolate4","entrepriseNina","entrepriseRccm","entrepriseNif","entrepriseBanque","entrepriseAdresse","entreprisePays","errorFactures","DetailEditClientComponent_table_112_tr_12_Template_tr_click_0_listener","facture_r14","_r13","$implicit","onSelectFacture","ɵɵclassProp","selectedFactureId","dateFacture","ɵɵpureFunction4","_c2","DetailEditClientComponent_table_112_tr_12_Template","facturesClient","getTotalFactures","achatCount","ligne_r15","montantLigne","DetailEditClientComponent_div_120_tr_48_Template","selectedAchat","dateVente","nomVendeur","lignes","remiseGlobale","DetailEditClientComponent_tr_140_Template_tr_click_0_listener","vente_r17","_r16","onSelectAchat","selectedAchatId","venteId","modePaiement","nomPays_r19","paysIndicatifs","indicatif","DetailEditClientComponent_div_155_Template_button_click_5_listener","_r18","closePopup","DetailEditClientComponent_div_155_div_16_Template","DetailEditClientComponent_div_155_Template_select_change_32_listener","onEntreprisePaysChange","DetailEditClientComponent_div_155_option_35_Template","DetailEditClientComponent_div_155_Template_input_focus_39_listener","target","entrepriseForm","DetailEditClientComponent_div_155_Template_input_input_39_listener","formatEntreprisePhoneNumber","DetailEditClientComponent_div_155_Template_button_click_48_listener","DetailEditClientComponent_div_155_Template_button_click_50_listener","ajouterEntreprise","touched","paysKeys","DetailEditClientComponent","ngOnInit","initEntreprise","getClientForm","getEntrepriseForm","loadEntreprises","getRouteClient","disable","loadEntrepriseInfo","getVentes","router","fb","entrepriseService","clientService","route","factureService","venteService","imgUrl","ventes","showPopup","urllink","newPhotoUrl","selectedFile","imageFile","loading","optionsEntreprise$","entrepriseRequiredError","maxPhoneLength","entrepriseIndicatif","entrepriseMaxPhoneLength","isLoading","loadingFactures","clientPhotoUrl","selectedImageFile","displayedColumns1","longueur","Object","keys","isDeletingC","testImageCompression","_this","_asyncToGenerator","size","options","maxSizeMB","maxWidthOrHeight","useWebWorker","compressedFile","reader","FileReader","onload","e","result","readAsDataURL","onFileSelected","event","input","files","allowedFormats","includes","loadFactureDetails","subscribe","details","remiseValue","totalApresRemise","montantTVA","tauxTva","remiseCorrigee","warn","vente","secteur","email","telephone","siege","logo","siteWeb","nina","rccm","nif","banque","adresse","pays","signataireNom","signataire","total","reduce","sum","Math","round","triggerFileInput","fileInput","nativeElement","click","startEditing","enable","onPaysChange","paysSelectionne","paysInfo","ctrl","valeur","prefix","replace","chiffres","startsWith","setValue","reste","slice","updatePhoneValidator","regex","RegExp","controls","setValidators","pattern","updateValueAndValidity","formatPhoneNumber","numerique","numeroFormate","goToStock","navigate","loadClientData","cancelEditing","getFullImageUrl","relativePath","getClientById","photo","populateForm","handleEntreprise","loadFacturesClient","factures","patchValue","poste","ville","phoneValue","group","required","minLength","list","setupAutocomplete","valueChanges","entreprises","_filter","filterValue","toLowerCase","filter","reset","setTimeout","prefixe","suffixe","signaturNum","cachetNum","createdEntreprise","current","markFormGroupTouched","clientData","updateClient","updatedClient","formGroup","values","markAsTouched","maxLength","currentPhone","updateEntreprisePhoneValidator","navigateBack","deleteClient","_this2","idToDelete","toPromise","substring","getVenteByClient","res","selectClient","selectEntrepriseClient","totalMontant","acc","ɵɵdirectiveInject","Router","FormBuilder","i3","i4","ClientService","ActivatedRoute","i5","i6","i7","VenteService","selectors","viewQuery","DetailEditClientComponent_Query","rf","ctx","DetailEditClientComponent_div_1_Template","DetailEditClientComponent_div_2_Template","DetailEditClientComponent_div_3_Template","DetailEditClientComponent_Template_p_click_5_listener","_r1","DetailEditClientComponent_div_9_Template","DetailEditClientComponent_Template_div_click_18_listener","DetailEditClientComponent_Template_input_change_22_listener","DetailEditClientComponent_Template_button_click_34_listener","DetailEditClientComponent_i_42_Template","DetailEditClientComponent_i_43_Template","DetailEditClientComponent_div_50_Template","DetailEditClientComponent_div_55_Template","DetailEditClientComponent_Template_select_change_62_listener","DetailEditClientComponent_option_65_Template","DetailEditClientComponent_Template_input_input_69_listener","DetailEditClientComponent_div_85_Template","DetailEditClientComponent_div_86_Template","DetailEditClientComponent_div_87_Template","DetailEditClientComponent_div_88_Template","DetailEditClientComponent_ng_template_93_Template","DetailEditClientComponent_div_98_Template","DetailEditClientComponent_ng_template_100_Template","ɵɵtemplateRefExtractor","DetailEditClientComponent_div_109_Template","DetailEditClientComponent_div_110_Template","DetailEditClientComponent_div_111_Template","DetailEditClientComponent_table_112_Template","DetailEditClientComponent_div_113_Template","DetailEditClientComponent_ng_template_115_Template","DetailEditClientComponent_div_120_Template","DetailEditClientComponent_tr_140_Template","DetailEditClientComponent_div_155_Template","tmp_11_0","tmp_12_0","noFactureSelected_r20","ɵNgNoValidate","NgSelectOption","ɵNgSelectMultipleOption","DefaultValueAccessor","CheckboxControlValueAccessor","SelectControlValueAccessor","NgControlStatus","NgControlStatusGroup","NgModel","i8","NgClass","NgForOf","NgIf","AsyncPipe","DecimalPipe","DatePipe","FormControlDirective","FormGroupDirective","FormControlName","i9","MatAutocomplete","MatOption","MatAutocompleteTrigger","i10","MatTabLabel","MatTab","MatTabGroup","styles","InjectionToken","inject","Component","ViewEncapsulation","ChangeDetectionStrategy","Input","Directive","NgModule","M","MatCommonModule","_c0","_c3","_c4","MAT_CARD_CONFIG","MatCard","appearance","config","optional","MatCard_Factory","__ngFactoryType__","ɵcmp","ɵɵdefineComponent","hostAttrs","hostVars","hostBindings","MatCard_HostBindings","inputs","exportAs","ngContentSelectors","decls","vars","template","MatCard_Template","ɵɵprojectionDef","ɵɵprojection","encapsulation","changeDetection","ngDevMode","ɵsetClassMetadata","args","selector","host","None","OnPush","MatCardTitle","MatCardTitle_Factory","ɵdir","ɵɵdefineDirective","MatCardTitleGroup","MatCardTitleGroup_Factory","MatCardTitleGroup_Template","MatCardContent","MatCardContent_Factory","MatCardSubtitle","MatCardSubtitle_Factory","MatCardActions","align","MatCardActions_Factory","MatCardActions_HostBindings","MatCardHeader","MatCardHeader_Factory","consts","MatCardHeader_Template","MatCardFooter","MatCardFooter_Factory","MatCardImage","MatCardImage_Factory","MatCardSmImage","MatCardSmImage_Factory","MatCardMdImage","MatCardMdImage_Factory","MatCardLgImage","MatCardLgImage_Factory","MatCardXlImage","MatCardXlImage_Factory","MatCardAvatar","MatCardAvatar_Factory","CARD_DIRECTIVES","MatCardModule_Factory","ɵmod","ɵɵdefineNgModule","ɵinj","ɵɵdefineInjector","imports","exports","coerceBooleanProperty","MatDivider","vertical","_vertical","inset","_inset","MatDivider_Factory","MatDivider_HostBindings","ɵɵattribute","MatDivider_Template","MatDividerModule_Factory","ObserversModule","j","MatFormField","MatLabel","b","MatError","c","MatHint","MatPrefix","g","MatSuffix","MatFormFieldModule_Factory"],"sourceRoot":"webpack:///","x_google_ignoreList":[5,6,7]}