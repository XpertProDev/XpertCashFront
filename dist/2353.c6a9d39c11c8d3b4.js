"use strict";(self.webpackChunkskeleton=self.webpackChunkskeleton||[]).push([[2353],{9293:(dt,j,d)=>{d.d(j,{R:()=>_});var C=d(1626),v=d(4412),O=d(5558),A=d(1985),D=d(8141),R=d(9437),T=d(8810),L=d(2525),E=d(4438),q=d(8026);let _=(()=>{class u{constructor(m,P){this.http=m,this.usersService=P,this.apiUrl=L.c.apiBaseUrl,this.categoriesSubject=new v.t([]),this.categories$=this.categoriesSubject.asObservable()}getCategories(){return this.usersService.getValidAccessToken().pipe((0,O.n)(m=>{if(!m)return console.error("\u26a0\ufe0f Token vide ou non d\xe9fini ! V\xe9rifiez que l'utilisateur est bien connect\xe9."),new A.c;const P=(new C.Lr).set("Authorization",`Bearer ${m}`);return console.log("\u{1f539} En-t\xeates envoy\xe9s :",P),this.http.get(`${this.apiUrl}/allCategory`,{headers:P}).pipe((0,D.M)(t=>{this.categoriesSubject.next(t)}))}),(0,R.W)(m=>(console.error("Erreur lors de la r\xe9cup\xe9ration des cat\xe9gories:",m),(0,T.$)(()=>m))))}ajouterCategorie(m){return this.usersService.getValidAccessToken().pipe((0,O.n)(P=>{if(!P)return console.error("\u26a0\ufe0f Token vide ou non d\xe9fini ! V\xe9rifiez que l'utilisateur est bien connect\xe9."),(0,T.$)(()=>new Error("Aucun token valide trouv\xe9"));const t=new C.Lr({Authorization:`Bearer ${P}`});return this.http.post(`${this.apiUrl}/createCategory`,m,{headers:t}).pipe((0,D.M)(g=>{this.categoriesSubject.next([...this.categoriesSubject.value,g])}))}),(0,R.W)(P=>(console.error("Erreur lors de l'ajout de la cat\xe9gorie:",P),(0,T.$)(()=>P))))}static{this.\u0275fac=function(P){return new(P||u)(E.KVO(C.Qq),E.KVO(q.g))}}static{this.\u0275prov=E.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})()},6375:(dt,j,d)=>{d.d(j,{D:()=>L});var C=d(1626),v=d(5558),O=d(9437),A=d(8810),D=d(2525),R=d(4438),T=d(8026);let L=(()=>{class E{constructor(_,u){this.http=_,this.usersService=u,this.apiUrl=D.c.apiBaseUrl}ajouterProduit(_,u,b,m,P,t,g){const M=`${this.apiUrl}/create?addToStock=${t}`,k=new FormData;return k.append("boutiqueIds",JSON.stringify(_)),k.append("quantites",JSON.stringify(u)),k.append("produit",JSON.stringify(m)),k.append("seuilAlert",JSON.stringify(b)),P&&k.append("image",P,P.name),g&&k.append("datePreemption",g),this.usersService.getValidAccessToken().pipe((0,v.n)(Q=>{const X=new C.Lr({Authorization:`Bearer ${Q}`});return this.http.post(M,k,{headers:X})}))}modifierProduit(_,u){const b=new FormData,{id:m,...P}=_;return b.append("produit",JSON.stringify(P)),b.append("addToStock",_.enStock?"true":"false"),u&&b.append("image",u,u.name),this.usersService.getValidAccessToken().pipe((0,v.n)(t=>{const g=new C.Lr({Authorization:`Bearer ${t}`});return this.http.patch(`${this.apiUrl}/updateProduit/${_.id}`,b,{headers:g})}))}getProduitById(_){return this.usersService.getValidAccessToken().pipe((0,v.n)(u=>{const b=new C.Lr({Authorization:`Bearer ${u}`});return this.http.get(`${this.apiUrl}/produits/${_}`,{headers:b})}))}getProduitsEntreprise(_){return this.usersService.getValidAccessToken().pipe((0,v.n)(u=>{const b=new C.Lr({Authorization:`Bearer ${u}`});return this.http.get(`${this.apiUrl}/produits/${_}/stock`,{headers:b}).pipe((0,O.W)(m=>(0,A.$)(400===m.status&&"Cette boutique est d\xe9sactiv\xe9e, ses produits ne sont pas accessibles !"===m.error?.error?()=>new Error("BOUTIQUE_DESACTIVEE"):()=>m)))}))}getProduitBoutique(_){return this.usersService.getValidAccessToken().pipe((0,v.n)(u=>{const b=new C.Lr({Authorization:`Bearer ${u}`});return this.http.get(`${this.apiUrl}/produits/${_}/totaux-stock`,{headers:b})}))}getProduitsByEntrepriseId(_){return this.usersService.getValidAccessToken().pipe((0,v.n)(u=>{const b=new C.Lr({Authorization:`Bearer ${u}`});return this.http.get(`${this.apiUrl}/produits/entreprise/${_}`,{headers:b})}))}getProduitsParEntreprise(_){return this.usersService.getValidAccessToken().pipe((0,v.n)(u=>{const b=new C.Lr({Authorization:`Bearer ${u}`});return this.http.get(`${this.apiUrl}/produits/entreprise/${_}`,{headers:b})}))}getFournisseurs(){return this.usersService.getValidAccessToken().pipe((0,v.n)(_=>{const u=new C.Lr({Authorization:`Bearer ${_}`});return this.http.get(`${this.apiUrl}/get-fournisseurs`,{headers:u})}))}importProduitsFromExcel(_,u){return this.usersService.getValidAccessToken().pipe((0,v.n)(b=>{const m=new C.Lr({Authorization:`Bearer ${b}`});return _.append("boutiqueIds",JSON.stringify(u)),this.http.post(`${this.apiUrl}/import-produits-excel`,_,{headers:m})}))}static{this.\u0275fac=function(u){return new(u||E)(R.KVO(C.Qq),R.KVO(T.g))}}static{this.\u0275prov=R.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})()},2353:(dt,j,d)=>{d.r(j),d.d(j,{ProduitsComponent:()=>Je});var C=d(467),v=d(177),O=d(9417),A=d(9107),D=d(2288),R=d(8660),T=d(1811),L=d(850),E=d(3746),q=d(3509),_=d(1281),u=d(4941),b=d.n(u),m=d(6115),P=d(5837),t=d(4438),g=d(1413),M=d(8359),k=d(605),Q=d(536),X=d(1985),K=d(7786),Vt=d(4412),F=d(9629),ht=d(3700),I=d(9355),B=d(7418),W=d(6977),Gt=d(6354),$t=d(6697),Ut=d(8141),Xt=d(5558),pt=d(9172),Wt=d(4790),Z=d(7333),ut=d(1845),Ht=d(9022),Yt=d(1959);function gt(r){const n=r.cloneNode(!0),e=n.querySelectorAll("[id]"),i=r.nodeName.toLowerCase();n.removeAttribute("id");for(let o=0;o<e.length;o++)e[o].removeAttribute("id");return"canvas"===i?ft(r,n):("input"===i||"select"===i||"textarea"===i)&&mt(r,n),_t("canvas",r,n,ft),_t("input, textarea, select",r,n,mt),n}function _t(r,n,e,i){const o=n.querySelectorAll(r);if(o.length){const s=e.querySelectorAll(r);for(let a=0;a<o.length;a++)i(o[a],s[a])}}let Qt=0;function mt(r,n){"file"!==n.type&&(n.value=r.value),"radio"===n.type&&n.name&&(n.name=`mat-clone-${n.name}-${Qt++}`)}function ft(r,n){const e=n.getContext("2d");if(e)try{e.drawImage(r,0,0)}catch{}}function J(r){const n=r.getBoundingClientRect();return{top:n.top,right:n.right,bottom:n.bottom,left:n.left,width:n.width,height:n.height,x:n.x,y:n.y}}function tt(r,n,e){const{top:i,bottom:o,left:s,right:a}=r;return e>=i&&e<=o&&n>=s&&n<=a}function z(r,n,e){r.top+=n,r.bottom=r.top+r.height,r.left+=e,r.right=r.left+r.width}function xt(r,n,e,i){const{top:o,right:s,bottom:a,left:c,width:l,height:h}=r,p=l*n,f=h*n;return i>o-f&&i<a+f&&e>c-p&&e<s+p}class bt{_document;positions=new Map;constructor(n){this._document=n}clear(){this.positions.clear()}cache(n){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),n.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:J(e)})})}handleScroll(n){const e=(0,F._)(n),i=this.positions.get(e);if(!i)return null;const o=i.scrollPosition;let s,a;if(e===this._document){const h=this.getViewportScrollPosition();s=h.top,a=h.left}else s=e.scrollTop,a=e.scrollLeft;const c=o.top-s,l=o.left-a;return this.positions.forEach((h,p)=>{h.clientRect&&e!==p&&e.contains(p)&&z(h.clientRect,c,l)}),o.top=s,o.left=a,{top:c,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function Pt(r,n){const e=r.rootNodes;if(1===e.length&&e[0].nodeType===n.ELEMENT_NODE)return e[0];const i=n.createElement("div");return e.forEach(o=>i.appendChild(o)),i}function et(r,n,e){for(let i in n)if(n.hasOwnProperty(i)){const o=n[i];o?r.setProperty(i,o,e?.has(i)?"important":""):r.removeProperty(i)}return r}function N(r,n){const e=n?"":"none";et(r.style,{"touch-action":n?"":"none","-webkit-user-drag":n?"":"none","-webkit-tap-highlight-color":n?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function vt(r,n,e){et(r.style,{position:n?"":"fixed",top:n?"":"0",opacity:n?"":"0",left:n?"":"-999em"},e)}function H(r,n){return n&&"none"!=n?r+" "+n:r}function Ct(r,n){r.style.width=`${n.width}px`,r.style.height=`${n.height}px`,r.style.transform=Y(n.left,n.top)}function Y(r,n){return`translate3d(${Math.round(r)}px, ${Math.round(n)}px, 0)`}function Dt(r){const n=r.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(r)*n}function it(r,n){return r.getPropertyValue(n).split(",").map(i=>i.trim())}const Zt=new Set(["position"]);class Jt{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(n,e,i,o,s,a,c,l,h,p){this._document=n,this._rootElement=e,this._direction=i,this._initialDomRect=o,this._previewTemplate=s,this._previewClass=a,this._pickupPositionOnPage=c,this._initialTransform=l,this._zIndex=h,this._renderer=p}attach(n){this._preview=this._createPreview(),n.appendChild(this._preview),wt(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(n){this._preview.style.transform=n}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(n){this._preview.classList.add(n)}getTransitionDuration(){return function Kt(r){const n=getComputedStyle(r),e=it(n,"transition-property"),i=e.find(c=>"transform"===c||"all"===c);if(!i)return 0;const o=e.indexOf(i),s=it(n,"transition-duration"),a=it(n,"transition-delay");return Dt(s[o])+Dt(a[o])}(this._preview)}addEventListener(n,e){return this._renderer.listen(this._preview,n,e)}_createPreview(){const n=this._previewTemplate,e=this._previewClass,i=n?n.template:null;let o;if(i&&n){const s=n.matchSize?this._initialDomRect:null,a=n.viewContainer.createEmbeddedView(i,n.context);a.detectChanges(),o=Pt(a,this._document),this._previewEmbeddedView=a,n.matchSize?Ct(o,s):o.style.transform=Y(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else o=gt(this._rootElement),Ct(o,this._initialDomRect),this._initialTransform&&(o.style.transform=this._initialTransform);return et(o.style,{"pointer-events":"none",margin:wt(o)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},Zt),N(o,!1),o.classList.add("cdk-drag-preview"),o.setAttribute("popover","manual"),o.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(s=>o.classList.add(s)):o.classList.add(e)),o}}function wt(r){return"showPopover"in r}const te={passive:!0},Et={passive:!1},ee={passive:!1,capture:!0},St=new Set(["position"]);class ne{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_anchor;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=(0,t.vPA)(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new g.B;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=M.yU.EMPTY;_pointerUpSubscription=M.yU.EMPTY;_scrollSubscription=M.yU.EMPTY;_resizeSubscription=M.yU.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(n){n!==this._disabled&&(this._disabled=n,this._toggleNativeDragInteractions(),this._handles.forEach(e=>N(e,n)))}_disabled=!1;beforeStarted=new g.B;started=new g.B;released=new g.B;ended=new g.B;entered=new g.B;exited=new g.B;dropped=new g.B;moved=this._moveEvents;data;constrainPosition;constructor(n,e,i,o,s,a,c){this._config=e,this._document=i,this._ngZone=o,this._viewportRuler=s,this._dragDropRegistry=a,this._renderer=c,this.withRootElement(n).withParent(e.parentDragRef||null),this._parentPositions=new bt(i),a.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(n){this._handles=n.map(i=>(0,I.a)(i)),this._handles.forEach(i=>N(i,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(n){return this._previewTemplate=n,this}withPlaceholderTemplate(n){return this._placeholderTemplate=n,this}withRootElement(n){const e=(0,I.a)(n);return e!==this._rootElement&&(this._removeRootElementListeners(),this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[(0,B._)(this._renderer,e,"mousedown",this._pointerDown,Et),(0,B._)(this._renderer,e,"touchstart",this._pointerDown,te),(0,B._)(this._renderer,e,"dragstart",this._nativeDragStart,Et)]),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(n){return this._boundaryElement=n?(0,I.a)(n):null,this._resizeSubscription.unsubscribe(),n&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(n){return this._parentDragRef=n,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(n){!this._disabledHandles.has(n)&&this._handles.indexOf(n)>-1&&(this._disabledHandles.add(n),N(n,!0))}enableHandle(n){this._disabledHandles.has(n)&&(this._disabledHandles.delete(n),N(n,this.disabled))}withDirection(n){return this._direction=n,this}_withDropContainer(n){this._dropContainer=n}getFreeDragPosition(){const n=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:n.x,y:n.y}}setFreeDragPosition(n){return this._activeTransform={x:0,y:0},this._passiveTransform.x=n.x,this._passiveTransform.y=n.y,this._dropContainer||this._applyRootElementTransform(n.x,n.y),this}withPreviewContainer(n){return this._previewContainer=n,this}_sortFromLastPointerPosition(){const n=this._lastKnownPointerPosition;n&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(n),n)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_pointerDown=n=>{if(this.beforeStarted.next(),this._handles.length){const e=this._getTargetHandle(n);e&&!this._disabledHandles.has(e)&&!this.disabled&&this._initializeDragSequence(e,n)}else this.disabled||this._initializeDragSequence(this._rootElement,n)};_pointerMove=n=>{const e=this._getPointerPositionOnPage(n);if(!this._hasStartedDragging()){if(Math.abs(e.x-this._pickupPositionOnPage.x)+Math.abs(e.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const c=Date.now()>=this._dragStartTime+this._getDragStartDelay(n),l=this._dropContainer;if(!c)return void this._endDragSequence(n);(!l||!l.isDragging()&&!l.isReceiving())&&(n.cancelable&&n.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(n)))}return}n.cancelable&&n.preventDefault();const i=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._lastKnownPointerPosition=e,this._updatePointerDirectionDelta(i),this._dropContainer)this._updateActiveDropContainer(i,e);else{const o=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,s=this._activeTransform;s.x=i.x-o.x+this._passiveTransform.x,s.y=i.y-o.y+this._passiveTransform.y,this._applyRootElementTransform(s.x,s.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:i,event:n,distance:this._getDragDistance(i),delta:this._pointerDirectionDelta})})};_pointerUp=n=>{this._endDragSequence(n)};_endDragSequence(n){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging()))if(this.released.next({source:this,event:n}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(n),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(n);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:n})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(n){V(n)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._getShadowRoot(),i=this._dropContainer;if(e&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=(0,B._)(this._renderer,e,"selectstart",oe,ee)}),i){const o=this._rootElement,s=o.parentNode,a=this._placeholder=this._createPlaceholderElement(),c=this._anchor=this._anchor||this._document.createComment("");s.insertBefore(c,o),this._initialTransform=o.style.transform||"",this._preview=new Jt(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(s,e)),vt(o,!1,St),this._document.body.appendChild(s.replaceChild(a,o)),this.started.next({source:this,event:n}),i.start(),this._initialContainer=i,this._initialIndex=i.getItemIndex(this)}else this.started.next({source:this,event:n}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(i?i.getScrollableParents():[])}_initializeDragSequence(n,e){this._parentDragRef&&e.stopPropagation();const i=this.isDragging(),o=V(e),s=!o&&0!==e.button,a=this._rootElement,c=(0,F._)(e),l=!o&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),h=o?(0,ht.a)(e):(0,ht.i)(e);if(c&&c.draggable&&"mousedown"===e.type&&e.preventDefault(),i||s||l||h)return;if(this._handles.length){const x=a.style;this._rootElementTapHighlight=x.webkitTapHighlightColor||"",x.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(x=>this._updateOnScroll(x)),this._boundaryElement&&(this._boundaryRect=J(this._boundaryElement));const p=this._previewTemplate;this._pickupPositionInElement=p&&p.template&&!p.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,n,e);const f=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:f.x,y:f.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(n){vt(this._rootElement,!0,St),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),o=this._getPointerPositionOnPage(n),s=this._getDragDistance(o),a=e._isOverContainer(o.x,o.y);this.ended.next({source:this,distance:s,dropPoint:o,event:n}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:a,distance:s,dropPoint:o,event:n}),e.drop(this,i,this._initialIndex,this._initialContainer,a,s,o,n),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:n,y:e},{x:i,y:o}){let s=this._initialContainer._getSiblingContainerFromPosition(this,n,e);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(n,e)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,n,e,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,o),this._dropContainer._sortItem(this,n,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(n,e):this._applyPreviewTransform(n-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const n=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(n.left,n.top);const e=this._preview.getTransitionDuration();return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const o=c=>{(!c||this._preview&&(0,F._)(c)===this._preview.element&&"transform"===c.propertyName)&&(a(),i(),clearTimeout(s))},s=setTimeout(o,1.5*e),a=this._preview.addEventListener("transitionend",o)}))}_createPlaceholderElement(){const n=this._placeholderTemplate,e=n?n.template:null;let i;return e?(this._placeholderRef=n.viewContainer.createEmbeddedView(e,n.context),this._placeholderRef.detectChanges(),i=Pt(this._placeholderRef,this._document)):i=gt(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(n,e,i){const o=e===this._rootElement?null:e,s=o?o.getBoundingClientRect():n,a=V(i)?i.targetTouches[0]:i,c=this._getViewportScrollPosition();return{x:s.left-n.left+(a.pageX-s.left-c.left),y:s.top-n.top+(a.pageY-s.top-c.top)}}_getPointerPositionOnPage(n){const e=this._getViewportScrollPosition(),i=V(n)?n.touches[0]||n.changedTouches[0]||{pageX:0,pageY:0}:n,o=i.pageX-e.left,s=i.pageY-e.top;if(this._ownerSVGElement){const a=this._ownerSVGElement.getScreenCTM();if(a){const c=this._ownerSVGElement.createSVGPoint();return c.x=o,c.y=s,c.matrixTransform(a.inverse())}}return{x:o,y:s}}_getConstrainedPointerPosition(n){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:o}=this.constrainPosition?this.constrainPosition(n,this,this._initialDomRect,this._pickupPositionInElement):n;if("x"===this.lockAxis||"x"===e?o=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===e)&&(i=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:s,y:a}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,c=this._boundaryRect,{width:l,height:h}=this._getPreviewRect(),p=c.top+a,f=c.bottom-(h-a);i=yt(i,c.left+s,c.right-(l-s)),o=yt(o,p,f)}return{x:i,y:o}}_updatePointerDirectionDelta(n){const{x:e,y:i}=n,o=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,a=Math.abs(e-s.x),c=Math.abs(i-s.y);return a>this._config.pointerDirectionChangeThreshold&&(o.x=e>s.x?1:-1,s.x=e),c>this._config.pointerDirectionChangeThreshold&&(o.y=i>s.y?1:-1,s.y=i),o}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const n=this._handles.length>0||!this.isDragging();n!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=n,N(this._rootElement,n))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(n=>n()),this._rootElementCleanups=void 0}_applyRootElementTransform(n,e){const i=1/this.scale,o=Y(n*i,e*i),s=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=s.transform&&"none"!=s.transform?s.transform:""),s.transform=H(o,this._initialTransform)}_applyPreviewTransform(n,e){const i=this._previewTemplate?.template?void 0:this._initialTransform,o=Y(n,e);this._preview.setTransform(H(o,i))}_getDragDistance(n){const e=this._pickupPositionOnPage;return e?{x:n.x-e.x,y:n.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:n,y:e}=this._passiveTransform;if(0===n&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._rootElement.getBoundingClientRect(),o=this._boundaryElement.getBoundingClientRect();if(0===o.width&&0===o.height||0===i.width&&0===i.height)return;const s=o.left-i.left,a=i.right-o.right,c=o.top-i.top,l=i.bottom-o.bottom;o.width>i.width?(s>0&&(n+=s),a>0&&(n-=a)):n=0,o.height>i.height?(c>0&&(e+=c),l>0&&(e-=l)):e=0,(n!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:n})}_getDragStartDelay(n){const e=this.dragStartDelay;return"number"==typeof e?e:V(n)?e.touch:e?e.mouse:0}_updateOnScroll(n){const e=this._parentPositions.handleScroll(n);if(e){const i=(0,F._)(n);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&z(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,F.a)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(n,e){const i=this._previewContainer||"global";if("parent"===i)return n;if("global"===i){const o=this._document;return e||o.fullscreenElement||o.webkitFullscreenElement||o.mozFullScreenElement||o.msFullscreenElement||o.body}return(0,I.a)(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=n=>{if(this._handles.length){const e=this._getTargetHandle(n);e&&!this._disabledHandles.has(e)&&!this.disabled&&n.preventDefault()}else this.disabled||n.preventDefault()};_getTargetHandle(n){return this._handles.find(e=>n.target&&(n.target===e||e.contains(n.target)))}}function yt(r,n,e){return Math.max(n,Math.min(e,r))}function V(r){return"t"===r.type[0]}function oe(r){r.preventDefault()}function nt(r,n,e){const i=G(n,r.length-1),o=G(e,r.length-1);if(i===o)return;const s=r[i],a=o<i?-1:1;for(let c=i;c!==o;c+=a)r[c]=r[c+a];r[o]=s}function G(r,n){return Math.max(0,Math.min(n,r))}class Ot{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(n){this._dragDropRegistry=n}_previousSwap={drag:null,delta:0,overlaps:!1};start(n){this.withItems(n)}sort(n,e,i,o){const s=this._itemPositions,a=this._getItemIndexFromPointerPosition(n,e,i,o);if(-1===a&&s.length>0)return null;const c="horizontal"===this.orientation,l=s.findIndex(y=>y.drag===n),h=s[a],f=h.clientRect,x=l>a?1:-1,ct=this._getItemOffsetPx(s[l].clientRect,f,x),ti=this._getSiblingOffsetPx(l,s,x),ei=s.slice();return nt(s,l,a),s.forEach((y,ii)=>{if(ei[ii]===y)return;const Lt=y.drag===n,lt=Lt?ct:ti,qt=Lt?n.getPlaceholderElement():y.drag.getRootElement();y.offset+=lt;const zt=Math.round(y.offset*(1/y.drag.scale));c?(qt.style.transform=H(`translate3d(${zt}px, 0, 0)`,y.initialTransform),z(y.clientRect,0,lt)):(qt.style.transform=H(`translate3d(0, ${zt}px, 0)`,y.initialTransform),z(y.clientRect,lt,0))}),this._previousSwap.overlaps=tt(f,e,i),this._previousSwap.drag=h.drag,this._previousSwap.delta=c?o.x:o.y,{previousIndex:l,currentIndex:a}}enter(n,e,i,o){const s=null==o||o<0?this._getItemIndexFromPointerPosition(n,e,i):o,a=this._activeDraggables,c=a.indexOf(n),l=n.getPlaceholderElement();let h=a[s];if(h===n&&(h=a[s+1]),!h&&(null==s||-1===s||s<a.length-1)&&this._shouldEnterAsFirstChild(e,i)&&(h=a[0]),c>-1&&a.splice(c,1),h&&!this._dragDropRegistry.isDragging(h)){const p=h.getRootElement();p.parentElement.insertBefore(l,p),a.splice(s,0,n)}else this._element.appendChild(l),a.push(n);l.style.transform="",this._cacheItemPositions()}withItems(n){this._activeDraggables=n.slice(),this._cacheItemPositions()}withSortPredicate(n){this._sortPredicate=n}reset(){this._activeDraggables?.forEach(n=>{const e=n.getRootElement();if(e){const i=this._itemPositions.find(o=>o.drag===n)?.initialTransform;e.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(n){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===n)}updateOnScroll(n,e){this._itemPositions.forEach(({clientRect:i})=>{z(i,n,e)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}withElementContainer(n){this._element=n}_cacheItemPositions(){const n="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(e=>{const i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:J(i)}}).sort((e,i)=>n?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_getItemOffsetPx(n,e,i){const o="horizontal"===this.orientation;let s=o?e.left-n.left:e.top-n.top;return-1===i&&(s+=o?e.width-n.width:e.height-n.height),s}_getSiblingOffsetPx(n,e,i){const o="horizontal"===this.orientation,s=e[n].clientRect,a=e[n+-1*i];let c=s[o?"width":"height"]*i;if(a){const l=o?"left":"top",h=o?"right":"bottom";-1===i?c-=a.clientRect[l]-s[h]:c+=s[l]-a.clientRect[h]}return c}_shouldEnterAsFirstChild(n,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,o="horizontal"===this.orientation;if(i[0].drag!==this._activeDraggables[0]){const a=i[i.length-1].clientRect;return o?n>=a.right:e>=a.bottom}{const a=i[0].clientRect;return o?n<=a.left:e<=a.top}}_getItemIndexFromPointerPosition(n,e,i,o){const s="horizontal"===this.orientation,a=this._itemPositions.findIndex(({drag:c,clientRect:l})=>c!==n&&((!o||c!==this._previousSwap.drag||!this._previousSwap.overlaps||(s?o.x:o.y)!==this._previousSwap.delta)&&(s?e>=Math.floor(l.left)&&e<Math.floor(l.right):i>=Math.floor(l.top)&&i<Math.floor(l.bottom))));return-1!==a&&this._sortPredicate(a,n)?a:-1}}class se{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(n,e){this._document=n,this._dragDropRegistry=e}start(n){const e=this._element.childNodes;this._relatedNodes=[];for(let i=0;i<e.length;i++){const o=e[i];this._relatedNodes.push([o,o.nextSibling])}this.withItems(n)}sort(n,e,i,o){const s=this._getItemIndexFromPointerPosition(n,e,i),a=this._previousSwap;if(-1===s||this._activeItems[s]===n)return null;const c=this._activeItems[s];if(a.drag===c&&a.overlaps&&a.deltaX===o.x&&a.deltaY===o.y)return null;const l=this.getItemIndex(n),h=n.getPlaceholderElement(),p=c.getRootElement();s>l?p.after(h):p.before(h),nt(this._activeItems,l,s);const f=this._getRootNode().elementFromPoint(e,i);return a.deltaX=o.x,a.deltaY=o.y,a.drag=c,a.overlaps=p===f||p.contains(f),{previousIndex:l,currentIndex:s}}enter(n,e,i,o){let s=null==o||o<0?this._getItemIndexFromPointerPosition(n,e,i):o;-1===s&&(s=this._getClosestItemIndexToPointer(n,e,i));const a=this._activeItems[s],c=this._activeItems.indexOf(n);c>-1&&this._activeItems.splice(c,1),a&&!this._dragDropRegistry.isDragging(a)?(this._activeItems.splice(s,0,n),a.getRootElement().before(n.getPlaceholderElement())):(this._activeItems.push(n),this._element.appendChild(n.getPlaceholderElement()))}withItems(n){this._activeItems=n.slice()}withSortPredicate(n){this._sortPredicate=n}reset(){const n=this._element,e=this._previousSwap;for(let i=this._relatedNodes.length-1;i>-1;i--){const[o,s]=this._relatedNodes[i];o.parentNode===n&&o.nextSibling!==s&&(null===s?n.appendChild(o):s.parentNode===n&&n.insertBefore(o,s))}this._relatedNodes=[],this._activeItems=[],e.drag=null,e.deltaX=e.deltaY=0,e.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(n){return this._activeItems.indexOf(n)}updateOnScroll(){this._activeItems.forEach(n=>{this._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()})}withElementContainer(n){n!==this._element&&(this._element=n,this._rootNode=void 0)}_getItemIndexFromPointerPosition(n,e,i){const o=this._getRootNode().elementFromPoint(Math.floor(e),Math.floor(i)),s=o?this._activeItems.findIndex(a=>{const c=a.getRootElement();return o===c||c.contains(o)}):-1;return-1!==s&&this._sortPredicate(s,n)?s:-1}_getRootNode(){return this._rootNode||(this._rootNode=(0,F.a)(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(n,e,i){if(0===this._activeItems.length)return-1;if(1===this._activeItems.length)return 0;let o=1/0,s=-1;for(let a=0;a<this._activeItems.length;a++){const c=this._activeItems[a];if(c!==n){const{x:l,y:h}=c.getRootElement().getBoundingClientRect(),p=Math.hypot(e-l,i-h);p<o&&(o=p,s=a)}}return s}}var S=function(r){return r[r.NONE=0]="NONE",r[r.UP=1]="UP",r[r.DOWN=2]="DOWN",r}(S||{}),w=function(r){return r[r.NONE=0]="NONE",r[r.LEFT=1]="LEFT",r[r.RIGHT=2]="RIGHT",r}(w||{});class re{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis;autoScrollDisabled=!1;autoScrollStep=2;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new g.B;entered=new g.B;exited=new g.B;dropped=new g.B;sorted=new g.B;receivingStarted=new g.B;receivingStopped=new g.B;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=M.yU.EMPTY;_verticalScrollDirection=S.NONE;_horizontalScrollDirection=w.NONE;_scrollNode;_stopScrollTimers=new g.B;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(n,e,i,o,s){this._dragDropRegistry=e,this._ngZone=o,this._viewportRuler=s;const a=this.element=(0,I.a)(n);this._document=i,this.withOrientation("vertical").withElementContainer(a),e.registerDropContainer(this),this._parentPositions=new bt(i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(n,e,i,o){this._draggingStarted(),null==o&&this.sortingDisabled&&(o=this._draggables.indexOf(n)),this._sortStrategy.enter(n,e,i,o),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:n,container:this,currentIndex:this.getItemIndex(n)})}exit(n){this._reset(),this.exited.next({item:n,container:this})}drop(n,e,i,o,s,a,c,l={}){this._reset(),this.dropped.next({item:n,currentIndex:e,previousIndex:i,container:this,previousContainer:o,isPointerOverContainer:s,distance:a,dropPoint:c,event:l})}withItems(n){const e=this._draggables;return this._draggables=n,n.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(o=>o.isDragging()).every(o=>-1===n.indexOf(o))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(n){return this._direction=n,this._sortStrategy instanceof Ot&&(this._sortStrategy.direction=n),this}connectedTo(n){return this._siblings=n.slice(),this}withOrientation(n){if("mixed"===n)this._sortStrategy=new se(this._document,this._dragDropRegistry);else{const e=new Ot(this._dragDropRegistry);e.direction=this._direction,e.orientation=n,this._sortStrategy=e}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((e,i)=>this.sortPredicate(e,i,this)),this}withScrollableParents(n){const e=this._container;return this._scrollableElements=-1===n.indexOf(e)?[e,...n]:n.slice(),this}withElementContainer(n){if(n===this._container)return this;(0,I.a)(this.element);const i=this._scrollableElements.indexOf(this._container),o=this._scrollableElements.indexOf(n);return i>-1&&this._scrollableElements.splice(i,1),o>-1&&this._scrollableElements.splice(o,1),this._sortStrategy&&this._sortStrategy.withElementContainer(n),this._cachedShadowRoot=null,this._scrollableElements.unshift(n),this._container=n,this}getScrollableParents(){return this._scrollableElements}getItemIndex(n){return this._isDragging?this._sortStrategy.getItemIndex(n):this._draggables.indexOf(n)}isReceiving(){return this._activeSiblings.size>0}_sortItem(n,e,i,o){if(this.sortingDisabled||!this._domRect||!xt(this._domRect,.05,e,i))return;const s=this._sortStrategy.sort(n,e,i,o);s&&this.sorted.next({previousIndex:s.previousIndex,currentIndex:s.currentIndex,container:this,item:n})}_startScrollingIfNecessary(n,e){if(this.autoScrollDisabled)return;let i,o=S.NONE,s=w.NONE;if(this._parentPositions.positions.forEach((a,c)=>{c===this._document||!a.clientRect||i||xt(a.clientRect,.05,n,e)&&([o,s]=function ae(r,n,e,i,o){const s=It(n,o),a=Rt(n,i);let c=S.NONE,l=w.NONE;if(s){const h=r.scrollTop;s===S.UP?h>0&&(c=S.UP):r.scrollHeight-h>r.clientHeight&&(c=S.DOWN)}if(a){const h=r.scrollLeft;"rtl"===e?a===w.RIGHT?h<0&&(l=w.RIGHT):r.scrollWidth+h>r.clientWidth&&(l=w.LEFT):a===w.LEFT?h>0&&(l=w.LEFT):r.scrollWidth-h>r.clientWidth&&(l=w.RIGHT)}return[c,l]}(c,a.clientRect,this._direction,n,e),(o||s)&&(i=c))}),!o&&!s){const{width:a,height:c}=this._viewportRuler.getViewportSize(),l={width:a,height:c,top:0,right:a,bottom:c,left:0};o=It(l,e),s=Rt(l,n),i=window}i&&(o!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=o,this._horizontalScrollDirection=s,this._scrollNode=i,(o||s)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const n=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=n.msScrollSnapType||n.scrollSnapType||"",n.scrollSnapType=n.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;const n=this._container.style;n.scrollSnapType=n.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),(0,k.Y)(0,Q.X).pipe((0,W.Q)(this._stopScrollTimers)).subscribe(()=>{const n=this._scrollNode,e=this.autoScrollStep;this._verticalScrollDirection===S.UP?n.scrollBy(0,-e):this._verticalScrollDirection===S.DOWN&&n.scrollBy(0,e),this._horizontalScrollDirection===w.LEFT?n.scrollBy(-e,0):this._horizontalScrollDirection===w.RIGHT&&n.scrollBy(e,0)})};_isOverContainer(n,e){return null!=this._domRect&&tt(this._domRect,n,e)}_getSiblingContainerFromPosition(n,e,i){return this._siblings.find(o=>o._canReceive(n,e,i))}_canReceive(n,e,i){if(!this._domRect||!tt(this._domRect,e,i)||!this.enterPredicate(n,this))return!1;const o=this._getShadowRoot().elementFromPoint(e,i);return!!o&&(o===this._container||this._container.contains(o))}_startReceiving(n,e){const i=this._activeSiblings;!i.has(n)&&e.every(o=>this.enterPredicate(o,this)||this._draggables.indexOf(o)>-1)&&(i.add(n),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:n,receiver:this,items:e}))}_stopReceiving(n){this._activeSiblings.delete(n),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:n,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(n=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(n);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const n=(0,F.a)(this._container);this._cachedShadowRoot=n||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const n=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,n))}}function It(r,n){const{top:e,bottom:i,height:o}=r,s=.05*o;return n>=e-s&&n<=e+s?S.UP:n>=i-s&&n<=i+s?S.DOWN:S.NONE}function Rt(r,n){const{left:e,right:i,width:o}=r,s=.05*o;return n>=e-s&&n<=e+s?w.LEFT:n>=i-s&&n<=i+s?w.RIGHT:w.NONE}const $={capture:!0},ot={passive:!1,capture:!0};let ce=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275cmp=t.VBU({type:r,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(i,o){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}\n"],encapsulation:2,changeDetection:0})}return r})(),st=(()=>{class r{_ngZone=(0,t.WQX)(t.SKi);_document=(0,t.WQX)(v.qQ);_styleLoader=(0,t.WQX)(Wt._);_renderer=(0,t.WQX)(t._9s).createRenderer(null,null);_cleanupDocumentTouchmove;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=(0,t.vPA)([]);_globalListeners;_draggingPredicate=e=>e.isDragging();_domNodesToDirectives=null;pointerMove=new g.B;pointerUp=new g.B;scroll=new g.B;constructor(){}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=(0,B._)(this._renderer,this._document,"touchmove",this._persistentTouchmoveListener,ot)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._cleanupDocumentTouchmove?.()}startDragging(e,i){if(!(this._activeDragInstances().indexOf(e)>-1)&&(this._styleLoader.load(ce),this._activeDragInstances.update(o=>[...o,e]),1===this._activeDragInstances().length)){const o=i.type.startsWith("touch"),s=c=>this.pointerUp.next(c),a=[["scroll",c=>this.scroll.next(c),$],["selectstart",this._preventDefaultWhileDragging,ot]];o?a.push(["touchend",s,$],["touchcancel",s,$]):a.push(["mouseup",s,$]),o||a.push(["mousemove",c=>this.pointerMove.next(c),ot]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=a.map(([c,l,h])=>(0,B._)(this._renderer,this._document,c,l,h))})}}stopDragging(e){this._activeDragInstances.update(i=>{const o=i.indexOf(e);return o>-1?(i.splice(o,1),[...i]):i}),0===this._activeDragInstances().length&&this._clearGlobalListeners()}isDragging(e){return this._activeDragInstances().indexOf(e)>-1}scrolled(e){const i=[this.scroll];return e&&e!==this._document&&i.push(new X.c(o=>this._ngZone.runOutsideAngular(()=>{const s=(0,B._)(this._renderer,e,"scroll",a=>{this._activeDragInstances().length&&o.next(a)},$);return()=>{s()}}))),(0,K.h)(...i)}registerDirectiveNode(e,i){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(e,i)}removeDirectiveNode(e){this._domNodesToDirectives?.delete(e)}getDragDirectiveForNode(e){return this._domNodesToDirectives?.get(e)||null}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=e=>{this._activeDragInstances().length>0&&e.preventDefault()};_persistentTouchmoveListener=e=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&e.preventDefault(),this.pointerMove.next(e))};_clearGlobalListeners(){this._globalListeners?.forEach(e=>e()),this._globalListeners=void 0}static \u0275fac=function(i){return new(i||r)};static \u0275prov=t.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const le={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let rt=(()=>{class r{_document=(0,t.WQX)(v.qQ);_ngZone=(0,t.WQX)(t.SKi);_viewportRuler=(0,t.WQX)(Z.Xj);_dragDropRegistry=(0,t.WQX)(st);_renderer=(0,t.WQX)(t._9s).createRenderer(null,null);constructor(){}createDrag(e,i=le){return new ne(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(e){return new re(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(i){return new(i||r)};static \u0275prov=t.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const U=new t.nKC("CDK_DRAG_PARENT"),Tt=new t.nKC("CdkDragHandle"),Ft=new t.nKC("CDK_DRAG_CONFIG"),Bt=new t.nKC("CdkDropList");let jt=(()=>{class r{element=(0,t.WQX)(t.aKT);dropContainer=(0,t.WQX)(Bt,{optional:!0,skipSelf:!0});_ngZone=(0,t.WQX)(t.SKi);_viewContainerRef=(0,t.WQX)(t.c1b);_dir=(0,t.WQX)(ut.D,{optional:!0});_changeDetectorRef=(0,t.WQX)(t.gRc);_selfHandle=(0,t.WQX)(Tt,{optional:!0,self:!0});_parentDrag=(0,t.WQX)(U,{optional:!0,skipSelf:!0});_dragDropRegistry=(0,t.WQX)(st);_destroyed=new g.B;_handles=new Vt.t([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!(!this.dropContainer||!this.dropContainer.disabled)}set disabled(e){this._disabled=e,this._dragRef.disabled=this._disabled}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new t.bkB;released=new t.bkB;ended=new t.bkB;entered=new t.bkB;exited=new t.bkB;dropped=new t.bkB;moved=new X.c(e=>{const i=this._dragRef.moved.pipe((0,Gt.T)(o=>({source:this,pointerPosition:o.pointerPosition,event:o.event,delta:o.delta,distance:o.distance}))).subscribe(e);return()=>{i.unsubscribe()}});_injector=(0,t.WQX)(t.zZn);constructor(){const e=this.dropContainer,i=(0,t.WQX)(Ft,{optional:!0}),o=(0,t.WQX)(rt);this._dragRef=o.createDrag(this.element,{dragStartThreshold:i&&null!=i.dragStartThreshold?i.dragStartThreshold:5,pointerDirectionChangeThreshold:i&&null!=i.pointerDirectionChangeThreshold?i.pointerDirectionChangeThreshold:5,zIndex:i?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),i&&this._assignDefaults(i),e&&(this._dragRef._withDropContainer(e._dropListRef),e.addItem(this),e._dropListRef.beforeStarted.pipe((0,W.Q)(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){(0,t.mal)(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(e){const i=e.rootElementSelector,o=e.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,o&&!o.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(e){const i=this._handles.getValue();i.push(e),this._handles.next(i)}_removeHandle(e){const i=this._handles.getValue(),o=i.indexOf(e);o>-1&&(i.splice(o,1),this._handles.next(i))}_setPreviewTemplate(e){this._previewTemplate=e}_resetPreviewTemplate(e){e===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(e){this._placeholderTemplate=e}_resetPlaceholderTemplate(e){e===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){const e=this.element.nativeElement;let i=e;this.rootElementSelector&&(i=void 0!==e.closest?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||e)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?this.element.nativeElement.closest(e):(0,I.a)(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const i=this._dir,o=this.dragStartDelay,s=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,a=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.scale=this.scale,e.dragStartDelay="object"==typeof o&&o?o:(0,I.c)(o),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(s).withPreviewTemplate(a).withPreviewContainer(this.previewContainer||"global"),i&&e.withDirection(i.value)}}),e.beforeStarted.pipe((0,$t.s)(1)).subscribe(()=>{if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let i=this.element.nativeElement.parentElement;for(;i;){const o=this._dragDropRegistry.getDragDirectiveForNode(i);if(o){e.withParent(o._dragRef);break}i=i.parentElement}})}_handleEvents(e){e.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),e.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(e){const{lockAxis:i,dragStartDelay:o,constrainPosition:s,previewClass:a,boundaryElement:c,draggingDisabled:l,rootElementSelector:h,previewContainer:p}=e;this.disabled=l??!1,this.dragStartDelay=o||0,i&&(this.lockAxis=i),s&&(this.constrainPosition=s),a&&(this.previewClass=a),c&&(this.boundaryElement=c),h&&(this.rootElementSelector=h),p&&(this.previewContainer=p)}_setupHandlesListener(){this._handles.pipe((0,Ut.M)(e=>{const i=e.map(o=>o.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),(0,Xt.n)(e=>(0,K.h)(...e.map(i=>i._stateChanges.pipe((0,pt.Z)(i))))),(0,W.Q)(this._destroyed)).subscribe(e=>{const i=this._dragRef,o=e.element.nativeElement;e.disabled?i.disableHandle(o):i.enableHandle(o)})}static \u0275fac=function(i){return new(i||r)};static \u0275dir=t.FsC({type:r,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(i,o){2&i&&t.AVh("cdk-drag-disabled",o.disabled)("cdk-drag-dragging",o._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",t.L39],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",t.Udg]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[t.Jv_([{provide:U,useExisting:r}]),t.GFd,t.OA$]})}return r})();const at=new t.nKC("CdkDropListGroup");let At=(()=>{class r{element=(0,t.WQX)(t.aKT);_changeDetectorRef=(0,t.WQX)(t.gRc);_scrollDispatcher=(0,t.WQX)(Z.R);_dir=(0,t.WQX)(ut.D,{optional:!0});_group=(0,t.WQX)(at,{optional:!0,skipSelf:!0});_latestSortedRefs;_destroyed=new g.B;_scrollableParentsResolved;static _dropLists=[];_dropListRef;connectedTo=[];data;orientation;id=(0,t.WQX)(Ht._).getId("cdk-drop-list-");lockAxis;get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=e}_disabled;sortingDisabled;enterPredicate=()=>!0;sortPredicate=()=>!0;autoScrollDisabled;autoScrollStep;elementContainerSelector;dropped=new t.bkB;entered=new t.bkB;exited=new t.bkB;sorted=new t.bkB;_unsortedItems=new Set;constructor(){const e=(0,t.WQX)(rt),i=(0,t.WQX)(Ft,{optional:!0});this._dropListRef=e.createDropList(this.element),this._dropListRef.data=this,i&&this._assignDefaults(i),this._dropListRef.enterPredicate=(o,s)=>this.enterPredicate(o.data,s.data),this._dropListRef.sortPredicate=(o,s,a)=>this.sortPredicate(o,s.data,a.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),r._dropLists.push(this),this._group&&this._group._items.add(this)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef(this.getSortedItems().map(i=>i._dragRef))}removeItem(e){if(this._unsortedItems.delete(e),this._latestSortedRefs){const i=this._latestSortedRefs.indexOf(e._dragRef);i>-1&&(this._latestSortedRefs.splice(i,1),this._syncItemsWithRef(this._latestSortedRefs))}}getSortedItems(){return Array.from(this._unsortedItems).sort((e,i)=>e._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=r._dropLists.indexOf(this);e>-1&&r._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._latestSortedRefs=void 0,this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe((0,pt.Z)(this._dir.value),(0,W.Q)(this._destroyed)).subscribe(i=>e.withDirection(i)),e.beforeStarted.subscribe(()=>{const i=(0,Yt.c)(this.connectedTo).map(o=>"string"==typeof o?r._dropLists.find(a=>a.id===o):o);if(this._group&&this._group._items.forEach(o=>{-1===i.indexOf(o)&&i.push(o)}),!this._scrollableParentsResolved){const o=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(s=>s.getElementRef().nativeElement);this._dropListRef.withScrollableParents(o),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){const o=this.element.nativeElement.querySelector(this.elementContainerSelector);e.withElementContainer(o)}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=this.sortingDisabled,e.autoScrollDisabled=this.autoScrollDisabled,e.autoScrollStep=(0,I.c)(this.autoScrollStep,2),e.connectedTo(i.filter(o=>o&&o!==this).map(o=>o._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(this.getSortedItems().map(i=>i._dragRef)),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),(0,K.h)(e.receivingStarted,e.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(e){const{lockAxis:i,draggingDisabled:o,sortingDisabled:s,listAutoScrollDisabled:a,listOrientation:c}=e;this.disabled=o??!1,this.sortingDisabled=s??!1,this.autoScrollDisabled=a??!1,this.orientation=c||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(e){this._latestSortedRefs=e,this._dropListRef.withItems(e)}static \u0275fac=function(i){return new(i||r)};static \u0275dir=t.FsC({type:r,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(i,o){2&i&&(t.BMQ("id",o.id),t.AVh("cdk-drop-list-disabled",o.disabled)("cdk-drop-list-dragging",o._dropListRef.isDragging())("cdk-drop-list-receiving",o._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",t.L39],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",t.L39],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",t.L39],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[t.Jv_([{provide:at,useValue:void 0},{provide:Bt,useExisting:r}]),t.GFd]})}return r})(),_e=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=t.$C({type:r});static \u0275inj=t.G2t({providers:[rt],imports:[Z.Gj]})}return r})();var Nt=d(2525),me=d(9293),fe=d(6375),xe=d(9192),be=d(8026),Pe=d(9252);const ve=["searchInput"],Ce=()=>[],De=()=>[5,10,25,100];function we(r,n){if(1&r){const e=t.RV6();t.j41(0,"i",40),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.rafraichirProduits())}),t.k0s()}}function Ee(r,n){1&r&&t.nrm(0,"i",41)}function Se(r,n){if(1&r){const e=t.RV6();t.j41(0,"div",42)(1,"div",43),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.downloadExcel())}),t.EFF(2,"T\xe9l\xe9charger en Excel"),t.k0s(),t.j41(3,"div",43),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.downloadPDF())}),t.EFF(4,"T\xe9l\xe9charger en PDF"),t.k0s(),t.j41(5,"div",43),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.downloadCSV())}),t.EFF(6,"T\xe9l\xe9charger en CSV"),t.k0s()()}}function ye(r,n){if(1&r){const e=t.RV6();t.j41(0,"span",44),t.EFF(1),t.j41(2,"span",45),t.bIt("click",function(o){t.eBV(e);const s=t.XpG();return s.removeFilter(s.selectedFilters[0]),t.Njj(o.stopPropagation())}),t.EFF(3,"\u2716"),t.k0s()()}if(2&r){const e=t.XpG();t.R7$(),t.SpI(" ",e.selectedFilters[0].label," ")}}function Oe(r,n){1&r&&t.nrm(0,"i",46)}function Me(r,n){1&r&&t.nrm(0,"i",47)}function ke(r,n){if(1&r){const e=t.RV6();t.j41(0,"div",48),t.bIt("click",function(o){return t.eBV(e),t.Njj(o.stopPropagation())}),t.j41(1,"div",49)(2,"div",50)(3,"h4",51),t.EFF(4,"Filtres"),t.k0s(),t.j41(5,"div")(6,"button",52),t.bIt("click",function(o){return t.eBV(e),t.XpG().resetFilters(),t.Njj(o.stopPropagation())}),t.EFF(7," R\xe9initialiser "),t.k0s()()(),t.j41(8,"ul",53)(9,"li",54),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.addFilter({type:"nomCategorie",label:"Cat\xe9gorie"}))}),t.EFF(10," Cat\xe9gorie "),t.k0s(),t.j41(11,"li",55),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.addFilter({type:"nomUnite",label:"Unit\xe9"}))}),t.EFF(12," Unit\xe9 "),t.k0s()()()()}if(2&r){const e=t.XpG();t.R7$(9),t.xc7("background",e.isFilterSelected("nomCategorie")?"#f0f0f0":"transparent"),t.AVh("disabled",e.isFilterSelected("nomCategorie")),t.R7$(2),t.xc7("background",e.isFilterSelected("nomUnite")?"#f0f0f0":"transparent"),t.AVh("disabled",e.isFilterSelected("nomUnite"))}}function Ie(r,n){if(1&r&&(t.j41(0,"span",56),t.EFF(1),t.k0s()),2&r){const e=t.XpG();t.R7$(),t.SpI(" ",e.totalAllProducts," ")}}function Re(r,n){if(1&r&&(t.j41(0,"span",56),t.EFF(1),t.k0s()),2&r){const e=t.XpG().$implicit,i=t.XpG(2);t.R7$(),t.SpI(" ",i.productCounts[e.id]," ")}}function Te(r,n){1&r&&t.nrm(0,"i",62)}function Fe(r,n){1&r&&t.nrm(0,"div",63)}function Be(r,n){if(1&r){const e=t.RV6();t.qex(0),t.j41(1,"div",58),t.bIt("click",function(){const o=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(o.actif?s.selectBoutique(o):s.showSuspendedBoutiqueDialog())}),t.j41(2,"p",59),t.EFF(3),t.DNE(4,Re,2,1,"span",32)(5,Te,1,0,"i",60),t.k0s()(),t.DNE(6,Fe,1,0,"div",61),t.bVm()}if(2&r){const e=n.$implicit,i=n.index,o=t.XpG(2);t.R7$(),t.xc7("color",e.actif),t.AVh("name_boutique_active",e.id===(null==o.selectedBoutique?null:o.selectedBoutique.id)&&e.actif)("suspended-boutique",!e.actif),t.R7$(2),t.SpI(" ",e.nomBoutique," "),t.R7$(),t.Y8G("ngIf",o.productCounts[e.id]>0),t.R7$(),t.Y8G("ngIf",!e.actif),t.R7$(),t.Y8G("ngIf",i!==o.boutiques.length-1)}}function je(r,n){if(1&r&&(t.qex(0),t.DNE(1,Be,7,10,"ng-container",57),t.bVm()),2&r){const e=t.XpG();t.R7$(),t.Y8G("ngForOf",e.boutiques||t.lJ4(1,Ce))}}function Ae(r,n){1&r&&(t.qex(0),t.j41(1,"th"),t.EFF(2,"Boutique"),t.k0s(),t.bVm())}function Ne(r,n){if(1&r){const e=t.RV6();t.j41(0,"div",70)(1,"div",71),t.bIt("click",function(o){return t.eBV(e),t.Njj(o.stopPropagation())}),t.nrm(2,"img",67),t.k0s()()}if(2&r){const e=t.XpG(2);t.R7$(2),t.Y8G("src",e.imagePopup,t.B4B)}}function Le(r,n){if(1&r&&(t.j41(0,"div",72),t.EFF(1),t.k0s()),2&r){const e=t.XpG().$implicit;t.R7$(),t.JRh(e.description||"sans description")}}function qe(r,n){if(1&r&&(t.j41(0,"td"),t.EFF(1),t.k0s()),2&r){const e=t.XpG().$implicit,i=t.XpG();t.R7$(),t.JRh(i.getBoutiqueNames(e.boutiques))}}function ze(r,n){if(1&r){const e=t.RV6();t.j41(0,"tr",64),t.bIt("click",function(){const o=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.openProduitDetail(o.id))}),t.nrm(1,"td",65),t.j41(2,"td")(3,"div",66),t.nrm(4,"img",67),t.k0s(),t.DNE(5,Ne,3,1,"div",39),t.k0s(),t.nrm(6,"td",65),t.j41(7,"td",68),t.bIt("mouseover",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.showDescription=!0)})("mouseout",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.showDescription=!1)}),t.EFF(8),t.nI1(9,"slice"),t.DNE(10,Le,2,1,"div",69),t.k0s(),t.nrm(11,"td",65),t.j41(12,"td"),t.EFF(13),t.nI1(14,"customNumber"),t.k0s(),t.j41(15,"td"),t.EFF(16),t.nI1(17,"customNumber"),t.k0s(),t.nrm(18,"td",65),t.j41(19,"td"),t.EFF(20),t.k0s(),t.qex(21),t.DNE(22,qe,2,1,"td",33),t.bVm(),t.k0s()}if(2&r){const e=n.$implicit,i=t.XpG();t.R7$(),t.Y8G("innerHTML",i.highlightMatch(e.codeGenerique||""),t.npT),t.R7$(3),t.Y8G("src",e.photo,t.B4B),t.R7$(),t.Y8G("ngIf",i.imagePopup),t.R7$(),t.Y8G("innerHTML",i.highlightMatch(e.nom),t.npT),t.R7$(2),t.SpI(" ",e.description?t.brH(9,12,e.description,0,20)+(e.description.length>20?"...":""):"sans description"," "),t.R7$(2),t.Y8G("ngIf",i.showDescription),t.R7$(),t.Y8G("innerHTML",i.highlightMatch(e.nomCategorie||"sans categorie"),t.npT),t.R7$(2),t.JRh(t.bMT(14,16,e.prixVente)),t.R7$(3),t.JRh(t.bMT(17,18,e.prixAchat)),t.R7$(2),t.Y8G("innerHTML",i.highlightMatch(e.nomUnite||"sans unite"),t.npT),t.R7$(2),t.SpI(" ","PHYSIQUE"===e.typeProduit?"Produit":"SERVICE"===e.typeProduit?"Service":"Type Produit"," "),t.R7$(2),t.Y8G("ngIf",!i.selectedBoutique)}}function Ve(r,n){1&r&&(t.j41(0,"tr")(1,"td",73),t.EFF(2,"Aucun produit trouv\xe9e."),t.k0s()())}function Ge(r,n){1&r&&(t.j41(0,"div",74)(1,"p",75),t.EFF(2,"Vous n'avez pas de produit"),t.k0s()())}function $e(r,n){if(1&r){const e=t.RV6();t.j41(0,"mat-paginator",76),t.bIt("page",function(o){t.eBV(e);const s=t.XpG();return t.Njj(s.onPageChange(o))}),t.k0s()}if(2&r){const e=t.XpG();t.Y8G("length",e.tasks.length)("pageSize",e.pageSize)("pageSizeOptions",t.lJ4(3,De))}}function Ue(r,n){if(1&r){const e=t.RV6();t.j41(0,"div",108)(1,"label")(2,"input",104),t.bIt("change",function(){const o=t.eBV(e).$implicit,s=t.XpG(3);return t.Njj(s.toggleBoutiqueSelection(o.id))}),t.k0s(),t.EFF(3),t.k0s()()}if(2&r){const e=n.$implicit,i=t.XpG(3);t.R7$(2),t.Y8G("checked",i.selectedBoutiquesForImport.includes(e.id)),t.R7$(),t.SpI(" ",e.nomBoutique," ")}}function Xe(r,n){if(1&r){const e=t.RV6();t.j41(0,"div",99)(1,"div",100)(2,"h4"),t.EFF(3,"S\xe9lectionner des boutiques"),t.k0s(),t.j41(4,"button",101),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.toggleBoutiqueSelectionPanel())}),t.EFF(5,"\xd7"),t.k0s()(),t.j41(6,"div",102)(7,"div",103)(8,"label")(9,"input",104),t.bIt("change",function(o){t.eBV(e);const s=t.XpG(2);return t.Njj(s.toggleSelectAllBoutiques(o))}),t.k0s(),t.EFF(10," S\xe9lectionner toutes les boutiques "),t.k0s()(),t.DNE(11,Ue,4,2,"div",105),t.k0s(),t.j41(12,"div",106)(13,"button",107),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.confirmBoutiqueSelection())}),t.EFF(14,"Confirmer"),t.k0s()()()}if(2&r){const e=t.XpG(2);t.R7$(9),t.Y8G("checked",e.areAllBoutiquesSelected()),t.R7$(2),t.Y8G("ngForOf",e.boutiques)}}function We(r,n){1&r&&(t.j41(0,"p"),t.EFF(1,"Cliquez pour s\xe9lectionner votre fichier Excel"),t.k0s())}function He(r,n){if(1&r&&(t.j41(0,"p"),t.EFF(1),t.k0s()),2&r){const e=t.XpG(2);t.R7$(),t.JRh(e.selectedFile.name)}}function Ye(r,n){if(1&r&&(t.j41(0,"li"),t.EFF(1),t.k0s()),2&r){const e=n.$implicit;t.R7$(),t.JRh(e)}}function Qe(r,n){if(1&r&&(t.j41(0,"div",111)(1,"h4"),t.EFF(2,"Erreurs survenues :"),t.k0s(),t.j41(3,"ul"),t.DNE(4,Ye,2,1,"li",57),t.k0s()()),2&r){const e=t.XpG(3);t.R7$(4),t.Y8G("ngForOf",e.importErrors)}}function Ke(r,n){if(1&r&&(t.j41(0,"div",109),t.EFF(1),t.DNE(2,Qe,5,1,"div",110),t.k0s()),2&r){const e=t.XpG(2);t.AVh("success",e.importSuccess)("error",!e.importSuccess),t.R7$(),t.SpI(" ",e.importMessage," "),t.R7$(),t.Y8G("ngIf",e.importErrors.length>0)}}function Ze(r,n){if(1&r){const e=t.RV6();t.j41(0,"div",70)(1,"div",71),t.bIt("click",function(o){return t.eBV(e),t.Njj(o.stopPropagation())}),t.j41(2,"span",77),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.closeExcelImportModal())}),t.EFF(3,"\xd7"),t.k0s(),t.j41(4,"h5"),t.EFF(5,"Importer des produits depuis Excel"),t.k0s(),t.j41(6,"div",78)(7,"div",79)(8,"h3"),t.EFF(9,"Instructions pour pr\xe9parer votre fichier Excel :"),t.k0s(),t.j41(10,"ol")(11,"li",80),t.EFF(12,"T\xe9l\xe9chargez notre mod\xe8le Excel ci-dessous"),t.k0s(),t.j41(13,"li",80),t.EFF(14,"Remplissez les colonnes avec vos donn\xe9es"),t.k0s(),t.j41(15,"li",80),t.EFF(16,"Les colonnes obligatoires sont marqu\xe9es d'un *"),t.k0s(),t.j41(17,"li",80),t.EFF(18,"\xc9vitez de modifier les en-t\xeates de colonnes"),t.k0s()(),t.j41(19,"div",81)(20,"h6"),t.EFF(21,"Structure des colonnes :"),t.k0s(),t.j41(22,"ul")(23,"li")(24,"strong"),t.EFF(25,"Nom produit "),t.j41(26,"span",75),t.EFF(27,"*"),t.k0s()(),t.EFF(28," - Nom du produit (texte)"),t.k0s(),t.j41(29,"li")(30,"strong"),t.EFF(31,"Description"),t.k0s(),t.EFF(32," - Description du produit"),t.k0s(),t.j41(33,"li")(34,"strong"),t.EFF(35,"Cat\xe9gorie "),t.j41(36,"span",75),t.EFF(37,"*"),t.k0s()(),t.EFF(38," - Nom de la cat\xe9gorie existante"),t.k0s(),t.j41(39,"li")(40,"strong"),t.EFF(41,"Prix Vente "),t.j41(42,"span",75),t.EFF(43,"*"),t.k0s()(),t.EFF(44," - Prix de vente (nombre)"),t.k0s(),t.j41(45,"li")(46,"strong"),t.EFF(47,"Prix Achat "),t.j41(48,"span",75),t.EFF(49,"*"),t.k0s()(),t.EFF(50," - Prix d'achat (nombre)"),t.k0s(),t.j41(51,"li")(52,"strong"),t.EFF(53,"Quantit\xe9 "),t.j41(54,"span",75),t.EFF(55,"*"),t.k0s()(),t.EFF(56," - Quantit\xe9 initiale (nombre entier)"),t.k0s(),t.j41(57,"li")(58,"strong"),t.EFF(59,"Unit\xe9"),t.k0s(),t.EFF(60," - Unit\xe9 de mesure existante"),t.k0s(),t.j41(61,"li")(62,"strong"),t.EFF(63,"Code Barre"),t.k0s(),t.EFF(64," - Code barre (nombre entier)"),t.k0s(),t.j41(65,"li")(66,"strong"),t.EFF(67,"Type Produit"),t.k0s(),t.EFF(68," - PHYSIQUE ou SERVICE"),t.k0s(),t.j41(69,"li")(70,"strong"),t.EFF(71,"Date Preemption"),t.k0s(),t.EFF(72," - Format: "),t.j41(73,"span",82),t.EFF(74,"dd-MM-yyyy"),t.k0s(),t.EFF(75," (ex: 31-12-2025) "),t.k0s(),t.j41(76,"li")(77,"strong"),t.EFF(78,"Seuil Alert"),t.k0s(),t.EFF(79," - Seuil d'alerte stock (nombre entier)"),t.k0s()()(),t.j41(80,"button",83),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.downloadExcelTemplate())}),t.nrm(81,"i",84),t.EFF(82," T\xe9l\xe9charger le mod\xe8le "),t.k0s()(),t.j41(83,"div",85)(84,"div",86)(85,"div",87)(86,"input",88),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.toggleBoutiqueSelectionPanel())}),t.k0s(),t.j41(87,"label",89),t.nrm(88,"i",90),t.EFF(89," S\xe9lectionner vos boutiques"),t.k0s(),t.DNE(90,Xe,15,2,"div",91),t.k0s()(),t.j41(91,"div",92),t.bIt("click",function(){t.eBV(e);const o=t.sdS(93);return t.Njj(o.click())}),t.j41(92,"input",93,1),t.bIt("change",function(o){t.eBV(e);const s=t.XpG();return t.Njj(s.onFileSelected(o))}),t.k0s(),t.nrm(94,"i",94),t.DNE(95,We,2,0,"p",33)(96,He,2,1,"p",33),t.j41(97,"small"),t.EFF(98,"Formats accept\xe9s: .xlsx, .xls (Max 5MB)"),t.k0s()(),t.j41(99,"div",95)(100,"button",96),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.closeExcelImportModal())}),t.EFF(101,"Annuler"),t.k0s(),t.j41(102,"button",97),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.uploadExcel())}),t.qex(103),t.EFF(104,"Importer"),t.bVm(),t.k0s()(),t.DNE(105,Ke,3,6,"div",98),t.k0s()()()()}if(2&r){const e=t.XpG();t.R7$(85),t.AVh("invalid-field",e.showBoutiqueError),t.R7$(),t.Y8G("value",e.getSelectedBoutiquesText()),t.R7$(4),t.Y8G("ngIf",e.showBoutiqueSelectionPanel),t.R7$(),t.AVh("active",e.selectedFile),t.R7$(4),t.Y8G("ngIf",!e.selectedFile),t.R7$(),t.Y8G("ngIf",e.selectedFile),t.R7$(6),t.Y8G("disabled",!e.selectedFile),t.R7$(3),t.Y8G("ngIf",e.importMessage)}}let Je=(()=>{class r{onClick(e){const i=e.target;!i.closest(".container_inputSearch")&&!i.closest(".filter-dropdown")&&!i.closest(".trier")&&(this.showFilterDropdown=!1),i.closest(".export-container")||(this.showExportDropdown=!1)}constructor(e,i,o,s,a,c,l){this.categorieService=e,this.produitService=i,this.fb=o,this.router=s,this.usersService=a,this.dialog=c,this.cdr=l,this.backendUrl=Nt.c.apiBaseUrl,this.searchText="",this.tasks=[],this.imagePopup=null,this.nomEntreprise="",this.adresseEntreprise="",this.logoEntreprise="",this.userName="",this.boutiqueName="",this.addressBoutique="",this.showDescription=!1,this.selectedBoutique=null,this.previousSelectedBoutique=null,this.boutiqueActuelle="Toutes les boutiques",this.boutiques=[],this.apiUrl=Nt.c.imgUrl,this.isDataLoaded=!1,this.isLoading=!1,this.showNoProductsMessage=!1,this.productCounts={},this.totalAllProducts=0,this.showFilterDropdown=!1,this.selectedFilters=[],this.allProducts=[],this.sortColumn=null,this.sortDirection="asc",this.showExcelImportModal=!1,this.selectedFile=null,this.isImporting=!1,this.importMessage="",this.importSuccess=!1,this.importErrors=[],this.selectedBoutiquesForImport=[],this.isAllBoutiquesSelected=!1,this.showBoutiqueError=!1,this.showBoutiqueSelectionPanel=!1,this.dataSource=new _.I6,this.pageSize=5,this.currentPage=0,this.showExportDropdown=!1,this.urllink="assets/img/appareil.jpg",this.newPhotoUrl=null,this.entrepriseId=null}ngOnInit(){this.getUserInfo()}toggleFilterDropdown(){this.showFilterDropdown=!this.showFilterDropdown,this.showExportDropdown=!1}applyFilters(){let e=[...this.allProducts];const i=this.searchText.toLowerCase();this.searchText&&(e=e.filter(this.selectedFilters.length>0?o=>this.selectedFilters.every(s=>{const a=s.type;return(o[a]?.toString().toLowerCase()||"").includes(i)}):o=>Object.values(o).some(s=>s?.toString().toLowerCase().includes(i)))),this.tasks=e,this.currentPage=0}addFilter(e){this.selectedFilters=this.isFilterSelected(e.type)?[]:[e],this.showFilterDropdown=!1,this.applyFilters(),setTimeout(()=>{this.searchInput?.nativeElement&&this.searchInput.nativeElement.focus()},0)}isFilterSelected(e){return this.selectedFilters.some(i=>i.type===e)}focusSearchInput(){this.searchInput?.nativeElement&&this.searchInput.nativeElement.focus()}removeFilter(e){this.selectedFilters=this.selectedFilters.filter(i=>i!==e),this.applyFilters()}getSearchPlaceholder(){return this.selectedFilters.length>0?`Par ${this.selectedFilters.map(e=>e.label).join(", ")}...`:"Recherche..."}resetFilters(){this.selectedFilters=[],this.searchText="",this.tasks=[...this.allProducts],this.currentPage=0,this.showFilterDropdown=!1}goToAddProduit(){this.router.navigate(["/addProduit"])}highlightMatch(e){if(!this.searchText)return e;const i=new RegExp(`(${this.searchText})`,"gi");return e.replace(i,"<mark>$1</mark>")}filteredProducts(){const e=this.currentPage*this.pageSize;return this.tasks.slice(e,e+this.pageSize)}toggleExportDropdown(){this.showExportDropdown=!this.showExportDropdown}onClickOutside(e){e.target.closest(".export-container")||(this.showExportDropdown=!1)}getImageBase64(e){return new Promise((i,o)=>{const s=new XMLHttpRequest;s.onload=function(){const a=new FileReader;a.onloadend=function(){i(a.result)},a.readAsDataURL(s.response)},s.onerror=function(){o(new Error("Erreur lors du chargement de l'image"))},s.open("GET",e),s.responseType="blob",s.send()})}downloadExcel(){const e=D.Wp.json_to_sheet(this.tasks),i=D.Wp.book_new();D.Wp.book_append_sheet(i,e,"Produits"),D._h(i,"Produits.xlsx")}downloadPDF(){if(!this.tasks||0===this.tasks.length)return void console.error("Aucun produit \xe0 afficher dans le PDF !");const e=new A.default,o=this.nomEntreprise||"Nom non disponible";this.getImageBase64(this.logoEntreprise?`${this.apiUrl}${this.logoEntreprise}`:`${this.apiUrl}/logoUpload/651.jpg`).then(s=>{const a=s.startsWith("data:image/png")?"PNG":"JPEG";e.addImage(s,a,14,5,30,30),e.setFontSize(18),e.setFont("helvetica","bold"),e.text(`Nom de l'entreprise: ${o}`,60,20),e.text("Liste des produits",60,30),e.setLineWidth(.5),e.line(14,35,195,35);const l=this.currentPage*this.pageSize,h=this.tasks.slice(l,l+this.pageSize);if(!Array.isArray(h)||0===h.length)return void console.error("Aucun produit trouv\xe9e sur cette page !");const p=h.map(x=>[x.codeGenerique||"",x.nom||"",x.description||"",x.nomCategorie?`${x.nomCategorie}`:"Aucune categorie",x.prixVente??0,x.prixAchat??0,x.quantite??0,x.nomUnite?`${x.nomUnite}`:"Sans unit\xe9",x.seuilAlert??0]);b()(e,{head:[["Code","Nom produit","Description","Cat\xe9gorie","Prix vente","Prix achat","En Stock","Unite","Seuil Alert"]],body:p,startY:40,theme:"grid",headStyles:{fillColor:[64,153,255],textColor:[255,255,255],fontSize:12},bodyStyles:{fontSize:10}});const f=e.lastAutoTable?.finalY||60;e.setLineWidth(.5),e.line(14,f+5,195,f+5),e.setFontSize(10),e.setFont("helvetica","italic"),e.text(`Nom de Boutique: ${this.boutiqueName}`,14,f+10),e.text(`Adress: ${this.addressBoutique}`,14,f+15),e.save("Produits.pdf")}).catch(s=>{console.error("Erreur lors du chargement du logo :",s)})}downloadCSV(){const i=this.tasks.map(c=>[c.codeGenerique||"",c.photo,c.nom,c.nomCategorie||"",c.description,c.prixVente,c.prixAchat,c.quantite,c.nomUnite||"",c.seuilAlert,c.createdAt]),o=[["Code","Photo","Nom produit","Cat\xe9gorie","Description","Prix Vente","Prix Achat","Quantit\xe9","Unit\xe9","Seuil Alerte","Date & heure"].join(","),...i.map(c=>c.join(","))].join("\n"),s=new Blob([o],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(s),a.download="Produits.csv",a.click()}onPageChange(e){this.currentPage=e.pageIndex,this.pageSize=e.pageSize}getUserBoutiqueId(){const e=JSON.parse(localStorage.getItem("user")||"{}");return e&&e.boutiques&&e.boutiques.length>0?e.boutiques[0]?.id||null:(console.error("Aucune boutique trouv\xe9e pour cet utilisateur"),null)}getUserInfo(){this.usersService.getUserInfo().subscribe({next:e=>{console.log("Donn\xe9es re\xe7ues:",e),localStorage.setItem("user",JSON.stringify(e)),this.userName=e.nomComplet,this.nomEntreprise=e.nomEntreprise,this.boutiques=e.boutiques??[],this.entrepriseId=e.entrepriseId,this.selectBoutique(null),this.entrepriseId?(this.allProducts=[...this.tasks],this.addressBoutique=this.selectedBoutique?.adresse||"Adresse non trouv\xe9e",setTimeout(()=>{this.showNoProductsMessage=0===this.tasks.length,this.cdr.detectChanges()},500)):console.error("Aucun ID entreprise trouv\xe9 !")},error:e=>{this.boutiques=[],console.error("Erreur lors de la r\xe9cup\xe9ration des informations utilisateur :",e),setTimeout(()=>{this.showNoProductsMessage=0===this.tasks.length,this.cdr.detectChanges()},500)}})}selectBoutique(e){!e||e.actif?(this.previousSelectedBoutique=this.selectedBoutique,null===e?(this.selectedBoutique=e,this.boutiqueActuelle="Toutes les boutiques",this.loadAllProduits()):(console.log("Boutique s\xe9lectionn\xe9e:",e),this.selectedBoutique=e,this.boutiqueActuelle=e.nomBoutique?e.nomBoutique:"Boutique sans nom",this.loadProduits(e.id)),this.currentPage=0,console.log("Boutique actuelle:",this.boutiqueActuelle)):this.showSuspendedBoutiqueDialog()}loadAllProduits(){this.showNoProductsMessage=!1,this.entrepriseId?this.produitService.getProduitsByEntrepriseId(this.entrepriseId).subscribe({next:e=>{this.tasks=e.map(o=>{const s=o.photo&&"null"!==o.photo&&"undefined"!==o.photo?`${this.apiUrl}${o.photo}`:"";return{...o,photo:s,createdAt:this.formatDate(o.createdAt?.toString()||"")}}).sort((o,s)=>{const a=new Date(o.createdAt??(new Date).toISOString()).getTime();return new Date(s.createdAt??(new Date).toISOString()).getTime()-a});const i={};e.forEach(o=>{o.boutiques&&o.boutiques.forEach(s=>{i[s.id]=(i[s.id]||0)+1})}),this.productCounts=i,this.totalAllProducts=e.length,this.dataSource.data=this.tasks,this.paginator&&(this.dataSource.paginator=this.paginator),this.showNoProductsMessage=0===this.tasks.length,this.allProducts=[...this.tasks],this.resetFilters()},error:e=>{console.error("Erreur :",e),this.showNoProductsMessage=0===this.tasks.length}}):console.error("ID entreprise manquant")}loadProduits(e){this.showNoProductsMessage=!1,e?this.produitService.getProduitsEntreprise(e).subscribe({next:i=>{this.tasks=i.map(o=>{const s=o.photo&&"null"!==o.photo&&"undefined"!==o.photo?`${this.apiUrl}${o.photo}`:"";let a="";if(o.createdAt)if(o.createdAt.includes("\xe0")){const[c,l]=o.createdAt.split(" \xe0 ")}else a=new Date(o.createdAt).toISOString();return{id:o.id,codeGenerique:o.codeGenerique||"",codeBare:o.codeBare||"",nom:o.nom||"Nom inconnu",description:o.description||"",prixVente:o.prixVente||0,prixAchat:o.prixAchat||0,quantite:o.quantite||0,seuilAlert:o.seuilAlert||0,enStock:o.enStock||!1,photo:s,nomCategorie:o.nomCategorie||"",nomUnite:o.nomUnite||"",createdAt:a,categorieId:o.categorieId||0,uniteId:o.uniteId||0,typeProduit:o.typeProduit||"Non d\xe9fini",boutiques:o.boutiques||[]}}).sort((o,s)=>{const a=new Date(o.createdAt??(new Date).toISOString()).getTime();return new Date(s.createdAt??(new Date).toISOString()).getTime()-a}),this.productCounts[e]=i.length,this.dataSource.data=this.tasks,this.paginator&&(this.dataSource.paginator=this.paginator),this.isLoading=!1,this.allProducts=[...this.tasks],this.resetFilters(),this.showNoProductsMessage=0===this.tasks.length},error:i=>{if(this.isLoading=!1,"BOUTIQUE_DESACTIVEE"===i.message)return this.showSuspendedBoutiqueDialog(),void(this.selectedBoutique=this.previousSelectedBoutique);console.error("Erreur :",i),this.showNoProductsMessage=0===this.tasks.length}}):console.error("L'ID de la boutique est manquant")}rafraichirProduits(){if(this.showNoProductsMessage=!1,!this.selectedBoutique?.id)return;this.isLoading=!0;const e=Date.now();this.produitService.getProduitsEntreprise(this.selectedBoutique.id).subscribe({next:i=>{const o=Date.now()-e,s=Math.max(500-o,0);setTimeout(()=>{this.tasks=i.map(a=>{const c=a.photo&&"null"!==a.photo&&"undefined"!==a.photo?`${this.apiUrl}${a.photo}`:"";let l="";if(a.createdAt)if(a.createdAt.includes("\xe0")){const[h,p]=a.createdAt.split(" \xe0 ")}else l=new Date(a.createdAt).toISOString();return{id:a.id,codeGenerique:a.codeGenerique||"",codeBare:a.codeBare||"",nom:a.nom||"Nom inconnu",description:a.description||"",prixVente:a.prixVente||0,prixAchat:a.prixAchat||0,quantite:a.quantite||0,seuilAlert:a.seuilAlert||0,enStock:a.enStock||!1,photo:c,nomCategorie:a.nomCategorie||"",nomUnite:a.nomUnite||"",createdAt:l,categorieId:a.categorieId||0,uniteId:a.uniteId||0,typeProduit:a.typeProduit||"Non d\xe9fini",boutiques:a.boutiques||[]}}).sort((a,c)=>{const l=new Date(a.createdAt??(new Date).toISOString()).getTime();return new Date(c.createdAt??(new Date).toISOString()).getTime()-l}),this.dataSource.data=this.tasks,this.paginator&&(this.dataSource.paginator=this.paginator),this.isLoading=!1,this.allProducts=[...this.tasks],this.applyFilters()},s)},error:i=>{this.isLoading=!1,"BOUTIQUE_DESACTIVEE"===i.message?(this.showSuspendedBoutiqueDialog(),this.selectedBoutique=this.previousSelectedBoutique):console.error("Erreur :",i)}})}showSuspendedBoutiqueDialog(){this.dialog.open(P.F,{width:"400px",disableClose:!0,data:{onClose:()=>{this.selectedBoutique=this.previousSelectedBoutique}}})}formatDate(e){try{const[i,o]=e.split(" \xe0 "),[s,a,c]=i.split("-"),[l,h]=o.split(":");return new Date(parseInt(c),parseInt(a)-1,parseInt(s),parseInt(l),parseInt(h)).toISOString()}catch{return(new Date).toISOString()}}openProduitDetail(e){const i=this.selectedBoutique?.id;this.router.navigate(["/detail-produit",e],{queryParams:{boutiqueId:i}})}getImageUrl(e){if(e.photo&&""!==e.photo.trim())return e.photo;{const i=e.nom?e.nom.trim().charAt(0):"P";return this.generateInitialImage(i)}}generateInitialImage(e){const i=`\n      <svg xmlns="http://www.w3.org/2000/svg" width="200" height="200">\n        <rect width="100%" height="100%" fill="#0671e4ac"/>\n        <text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" font-size="100" fill="#fff">\n          ${e.toUpperCase()}\n        </text> \n      </svg>\n    `;return"data:image/svg+xml;base64,"+btoa(i)}getBoutiqueNames(e){return e&&0!==e.length?e.length>2?`${e.slice(0,2).map(s=>s.nom).join(", ")}, ...`:e.map(o=>o.nom).join(", "):"Aucune boutique"}onDrop(e){const i=this.boutiques.findIndex(s=>s===e.item.data);nt(this.boutiques,i,e.currentIndex)}openExcelImportModal(){this.resetImportState(),this.showExcelImportModal=!0}closeExcelImportModal(){this.showExcelImportModal=!1,this.resetImportState()}resetImportState(){this.selectedFile=null,this.isImporting=!1,this.importMessage="",this.importSuccess=!1,this.importErrors=[]}downloadExcelTemplate(){const e=D.Wp.book_new(),o=D.Wp.aoa_to_sheet([["Nom produit*","Description","Cat\xe9gorie*","Prix Vente*","Prix Achat*","Quantit\xe9*","Unit\xe9","Code Barre","Type Produit","Date Preemption","Seuil Alert"],["T-Shirt","T-shirt en coton","V\xeatements",25.99,15.5,100,"Pi\xe8ce",123456789,"PHYSIQUE","29-12-2026",10]]);o["!cols"]=[{wch:20},{wch:25},{wch:15},{wch:12},{wch:12},{wch:10},{wch:10},{wch:15},{wch:12},{wch:12},{wch:12}],D.Wp.book_append_sheet(e,o,"Mod\xe8le Produits");const a=D.M9(e,{bookType:"xlsx",type:"array"}),c=new Blob([a],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),l=window.URL.createObjectURL(c),h=document.createElement("a");h.href=l,h.download="modele-import-produits.xlsx",document.body.appendChild(h),h.click(),document.body.removeChild(h),window.URL.revokeObjectURL(l)}validateExcelDates(e){return new Promise(i=>{const o=new FileReader;o.onload=s=>{const a=new Uint8Array(s.target.result),c=D.LF(a,{type:"array"}),h=D.Wp.sheet_to_json(c.Sheets[c.SheetNames[0]],{header:1});for(let p=1;p<h.length;p++){const f=h[p];if(f[9]&&!/^(0[1-9]|[12][0-9]|3[01])-(0[1-9]|1[012])-\d{4}$/.test(f[9]))return void i(!1)}i(!0)},o.readAsArrayBuffer(e)})}onFileSelected(e){var i=this;return(0,C.A)(function*(){const o=e.target.files[0];if(o){if(o.size>5242880)return i.importMessage="Le fichier est trop volumineux (max 5MB)",void(i.importSuccess=!1);const s=[".xlsx",".xls"],a=o.name.substring(o.name.lastIndexOf(".")).toLowerCase();if(!s.includes(a))return i.importMessage="Format de fichier non support\xe9",void(i.importSuccess=!1);if(i.selectedFile=o,!(yield i.validateExcelDates(o)))return i.importMessage="Format de date invalide. Utilisez dd-MM-yyyy",i.importSuccess=!1,void(i.selectedFile=null)}})()}uploadExcel(){if(!this.selectedFile||!this.entrepriseId)return;this.importMessage="",this.importErrors=[];const e=new FormData;if(e.append("file",this.selectedFile),e.append("entrepriseId",this.entrepriseId.toString()),this.selectedBoutique?.id&&e.append("boutiqueId",this.selectedBoutique.id.toString()),0===this.selectedBoutiquesForImport.length)return this.importMessage="Veuillez s\xe9lectionner au moins une boutique",void(this.importSuccess=!1);this.produitService.importProduitsFromExcel(e,this.selectedBoutiquesForImport).subscribe({next:i=>{i.count>0?(this.importSuccess=!0,this.importMessage=`Importation r\xe9ussie ! ${i.count} produits ajout\xe9s.`):(this.importSuccess=!1,this.importMessage="Aucun produit ajout\xe9"),i.errors&&(this.importErrors=i.errors),this.importSuccess&&setTimeout(()=>{this.selectedBoutique?this.loadProduits(this.selectedBoutique.id):(this.loadAllProduits(),this.closeExcelImportModal())},2e3)},error:i=>{this.importSuccess=!1,(this.importMessage.includes("Date")||this.importMessage.includes("Preemption"))&&(this.importMessage+=". Format de date invalide. Utilisez dd-MM-yyyy."),i.error?(i.error.error?this.importMessage=i.error.error:i.error.message&&(this.importMessage=i.error.message),i.error.errors&&(this.importErrors=i.error.errors)):this.importMessage="Erreur inconnue lors de l'importation"}})}toggleBoutiqueSelection(e){const i=this.selectedBoutiquesForImport.indexOf(e);-1===i?this.selectedBoutiquesForImport.push(e):this.selectedBoutiquesForImport.splice(i,1)}toggleAllBoutiques(){this.selectedBoutiquesForImport=this.isAllBoutiquesSelected?[]:this.boutiques.filter(e=>e.actif).map(e=>e.id),this.isAllBoutiquesSelected=!this.isAllBoutiquesSelected}toggleBoutiqueSelectionPanel(){this.showBoutiqueSelectionPanel=!this.showBoutiqueSelectionPanel}areAllBoutiquesSelected(){return this.boutiques.length>0&&this.boutiques.every(e=>this.selectedBoutiquesForImport.includes(e.id))}toggleSelectAllBoutiques(e){this.selectedBoutiquesForImport=e.target.checked?this.boutiques.map(o=>o.id):[]}confirmBoutiqueSelection(){this.toggleBoutiqueSelectionPanel()}getSelectedBoutiquesText(){return 0===this.selectedBoutiquesForImport.length?"":this.selectedBoutiquesForImport.length===this.boutiques.length?"Toutes les boutiques":this.boutiques.filter(i=>this.selectedBoutiquesForImport.includes(i.id)).map(i=>i.nomBoutique).join(", ")}static{this.\u0275fac=function(i){return new(i||r)(t.rXU(me.R),t.rXU(fe.D),t.rXU(O.ok),t.rXU(xe.Ix),t.rXU(be.g),t.rXU(Pe.j),t.rXU(t.gRc))}}static{this.\u0275cmp=t.VBU({type:r,selectors:[["app-produits"]],viewQuery:function(i,o){if(1&i&&(t.GBs(ve,5),t.GBs(q.iy,5)),2&i){let s;t.mGM(s=t.lsd())&&(o.searchInput=s.first),t.mGM(s=t.lsd())&&(o.paginator=s.first)}},hostBindings:function(i,o){1&i&&t.bIt("click",function(a){return o.onClickOutside(a)},!1,t.EBC)},decls:66,vars:20,consts:[["searchInput",""],["fileInput",""],[1,"containerTable"],[1,"tasks-header"],[1,"title"],[1,"actions"],[1,"add-task",3,"click"],["title","importer Excel",1,"add-task1",3,"click"],["src","assets/icon/excel.png","alt","Importer Excel"],[1,"bare"],[1,"contentIcon"],["class","ri-refresh-line",3,"click",4,"ngIf"],["class","ri-loader-line ri-spin",4,"ngIf"],[1,"export-container"],[1,"iconDrop"],[1,"ri-printer-cloud-line",3,"click"],["class","export-dropdown",4,"ngIf"],[1,"container_inputSearch",2,"display","flex","align-items","center","position","relative"],[1,"inputSearch",2,"flex","1","position","relative"],[1,"tags-container",2,"display","flex","flex-wrap","wrap","align-items","center","padding-left","35px","min-height","40px","border","1.5px solid #000","border-top-left-radius","5px","min-width","250px","border-bottom-left-radius","5px","border-top-right-radius","0px","border-bottom-right-radius","0px","background","white","cursor","text",3,"click"],["class","tag","style","display: flex; align-items: center; background: #e0e0e0; padding: 2px 8px; border-radius: 20px; margin: 2px 4px 2px 0; font-size: 12px; z-index: 12;",4,"ngIf"],["type","text",2,"border","none","outline","none","flex","1","padding","5px 0","min-width","120px",3,"ngModelChange","click","ngModel","placeholder"],[1,"ri-search-2-line",2,"position","absolute","left","10px","top","50%","transform","translateY(-50%)","z-index","1"],["title","Trier et filtrer",1,"trier",2,"cursor","pointer",3,"click"],["style","font-size: 18px;","class","ri-arrow-down-s-fill",4,"ngIf"],["style","font-size: 18px;","class","ri-close-line",4,"ngIf"],["class","filter-dropdown","style","position: absolute; top: 100%; right: 0; background: white; \n          border: 1px solid #ccc; border-radius: 5px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); \n          z-index: 100; width: 100%; margin-top: 5px;",3,"click",4,"ngIf"],["cdkDropList","","cdkDropListAutoScroll","",1,"container_list_boutique",3,"cdkDropListDropped","cdkDropListData"],[1,"content_list_boutique"],[1,"name_boutique"],[1,"all_boutique",3,"click"],[1,"all_boutique",2,"display","flex","align-items","center"],["class","facture-count",4,"ngIf"],[4,"ngIf"],[1,"titleTableProduit"],["style","font-size: 10px;",3,"click",4,"ngFor","ngForOf"],["style","text-align: center; margin-top: 20px;",4,"ngIf"],[1,"pagination"],[3,"length","pageSize","pageSizeOptions","page",4,"ngIf"],["class","modal",4,"ngIf"],[1,"ri-refresh-line",3,"click"],[1,"ri-loader-line","ri-spin"],[1,"export-dropdown"],[1,"export-option",3,"click"],[1,"tag",2,"display","flex","align-items","center","background","#e0e0e0","padding","2px 8px","border-radius","20px","margin","2px 4px 2px 0","font-size","12px","z-index","12"],[1,"remove-chip",3,"click"],[1,"ri-arrow-down-s-fill",2,"font-size","18px"],[1,"ri-close-line",2,"font-size","18px"],[1,"filter-dropdown",2,"position","absolute","top","100%","right","0","background","white","border","1px solid #ccc","border-radius","5px","box-shadow","0 2px 10px rgba(0,0,0,0.1)","z-index","100","width","100%","margin-top","5px",3,"click"],[1,"filter-section",2,"padding","10px"],[2,"display","flex","justify-content","space-between","align-items","center"],[2,"margin","0","font-size","16px","color","#333"],[2,"background","none","border","none","color","#0671e4","cursor","pointer","font-size","13px",3,"click"],[2,"list-style","none","padding","0","margin","10px 0 0 0"],[2,"padding","8px 12px","cursor","pointer","border-radius","4px","margin-bottom","5px","transition","background 0.3s",3,"click"],[2,"padding","8px 12px","cursor","pointer","border-radius","4px","transition","background 0.3s",3,"click"],[1,"facture-count"],[4,"ngFor","ngForOf"],["cdkDrag","",1,"draggable-item",3,"click"],[2,"display","flex","align-items","center"],["class","ri-error-warning-line warning-icon",4,"ngIf"],["class","barre",4,"ngIf"],[1,"ri-error-warning-line","warning-icon"],[1,"barre"],[2,"font-size","10px",3,"click"],[3,"innerHTML"],[1,"imgProduit"],["alt","Produit",3,"src"],[1,"description-cell",3,"mouseover","mouseout"],["class","description-hover",4,"ngIf"],[1,"modal"],[1,"modal-content",3,"click"],[1,"description-hover"],["colspan","10",2,"text-align","center"],[2,"text-align","center","margin-top","20px"],[2,"color","red"],[3,"page","length","pageSize","pageSizeOptions"],[1,"close",3,"click"],[1,"container_modal_excel"],[1,"import-instructions"],[2,"font-size","12px"],[1,"columns-info"],[2,"color","red","font-weight","bold"],[1,"download-template",3,"click"],[1,"ri-download-line"],[1,"left_import_excel"],[1,"double_input2"],[1,"champ_input"],["autocomplete","off","type","text","placeholder","S\xe9lectionner vos boutiques","matInput","","readonly","",1,"input_focus",2,"cursor","pointer",3,"click","value"],["for","boutiqueId",1,"label"],[1,"ri-check-double-line"],["class","boutique-selection-panel",4,"ngIf"],[1,"file-upload-area",3,"click"],["type","file","accept",".xlsx, .xls","hidden","",3,"change"],[1,"ri-upload-cloud-2-line"],[1,"modal-actions"],[1,"btn-cancel",3,"click"],[1,"btn-import",3,"click","disabled"],["class","import-status",3,"success","error",4,"ngIf"],[1,"boutique-selection-panel"],[1,"panel-header"],[1,"close-btn",3,"click"],[1,"panel-body"],[1,"boutique-item","select-all"],["type","checkbox",3,"change","checked"],["class","boutique-item",4,"ngFor","ngForOf"],[1,"panel-footer"],[1,"btn-confirm",3,"click"],[1,"boutique-item"],[1,"import-status"],["class","import-errors",4,"ngIf"],[1,"import-errors"]],template:function(i,o){if(1&i){const s=t.RV6();t.j41(0,"div",2)(1,"div",3)(2,"h1",4),t.EFF(3,"Produits"),t.k0s(),t.j41(4,"div",5)(5,"button",6),t.bIt("click",function(){return t.eBV(s),t.Njj(o.goToAddProduit())}),t.EFF(6,"Ajouter un produit"),t.k0s(),t.j41(7,"button",7),t.bIt("click",function(){return t.eBV(s),t.Njj(o.openExcelImportModal())}),t.nrm(8,"img",8),t.k0s(),t.nrm(9,"div",9),t.j41(10,"div",10),t.DNE(11,we,1,0,"i",11)(12,Ee,1,0,"i",12),t.nrm(13,"div",9),t.j41(14,"div",13)(15,"div",14)(16,"i",15),t.bIt("click",function(){return t.eBV(s),t.Njj(o.toggleExportDropdown())}),t.k0s()(),t.DNE(17,Se,7,0,"div",16),t.k0s()(),t.j41(18,"div",17)(19,"div",18)(20,"div",19),t.bIt("click",function(){return t.eBV(s),t.Njj(o.focusSearchInput())}),t.DNE(21,ye,4,1,"span",20),t.j41(22,"input",21,0),t.mxI("ngModelChange",function(c){return t.eBV(s),t.DH7(o.searchText,c)||(o.searchText=c),t.Njj(c)}),t.bIt("ngModelChange",function(){return t.eBV(s),t.Njj(o.applyFilters())})("click",function(c){return t.eBV(s),t.Njj(c.stopPropagation())}),t.k0s(),t.nrm(24,"i",22),t.k0s()(),t.j41(25,"div",23),t.bIt("click",function(c){return t.eBV(s),o.toggleFilterDropdown(),t.Njj(c.stopPropagation())}),t.DNE(26,Oe,1,0,"i",24)(27,Me,1,0,"i",25),t.k0s(),t.DNE(28,ke,13,8,"div",26),t.k0s()()(),t.j41(29,"div",27),t.bIt("cdkDropListDropped",function(c){return t.eBV(s),t.Njj(o.onDrop(c))}),t.j41(30,"div",28)(31,"div",29)(32,"div",30),t.bIt("click",function(){return t.eBV(s),t.Njj(o.selectBoutique(null))}),t.j41(33,"p",31),t.EFF(34," Toutes les boutiques "),t.DNE(35,Ie,2,1,"span",32),t.k0s()(),t.DNE(36,je,2,2,"ng-container",33),t.k0s()()(),t.j41(37,"table")(38,"thead")(39,"tr",34)(40,"th"),t.EFF(41,"Code"),t.k0s(),t.j41(42,"th"),t.EFF(43,"Photo"),t.k0s(),t.j41(44,"th"),t.EFF(45,"Nom produit"),t.k0s(),t.j41(46,"th"),t.EFF(47,"Description"),t.k0s(),t.j41(48,"th"),t.EFF(49,"Cat\xe9gorie"),t.k0s(),t.j41(50,"th"),t.EFF(51,"Prix Vente"),t.k0s(),t.j41(52,"th"),t.EFF(53,"Co\xfbt du produit"),t.k0s(),t.j41(54,"th"),t.EFF(55,"Unit\xe9"),t.k0s(),t.j41(56,"th"),t.EFF(57,"Type"),t.k0s(),t.DNE(58,Ae,3,0,"ng-container",33),t.k0s()(),t.j41(59,"tbody"),t.DNE(60,ze,23,20,"tr",35)(61,Ve,3,0,"tr",33),t.k0s()(),t.DNE(62,Ge,3,0,"div",36),t.j41(63,"div",37),t.DNE(64,$e,1,4,"mat-paginator",38),t.k0s()(),t.DNE(65,Ze,106,10,"div",39)}2&i&&(t.R7$(11),t.Y8G("ngIf",!o.isLoading),t.R7$(),t.Y8G("ngIf",o.isLoading),t.R7$(5),t.Y8G("ngIf",o.showExportDropdown),t.R7$(4),t.Y8G("ngIf",o.selectedFilters.length>0),t.R7$(),t.R50("ngModel",o.searchText),t.Y8G("placeholder",o.getSearchPlaceholder()),t.R7$(4),t.Y8G("ngIf",!o.showFilterDropdown),t.R7$(),t.Y8G("ngIf",o.showFilterDropdown),t.R7$(),t.Y8G("ngIf",o.showFilterDropdown),t.R7$(),t.Y8G("cdkDropListData",o.boutiques),t.R7$(3),t.AVh("name_boutique_active",null===o.selectedBoutique),t.R7$(3),t.Y8G("ngIf",o.totalAllProducts>0),t.R7$(),t.Y8G("ngIf",((null==o.boutiques?null:o.boutiques.length)||0)>0),t.R7$(22),t.Y8G("ngIf",!o.selectedBoutique),t.R7$(2),t.Y8G("ngForOf",o.filteredProducts()),t.R7$(),t.Y8G("ngIf",o.tasks.length>0&&0===o.filteredProducts().length),t.R7$(),t.Y8G("ngIf",o.showNoProductsMessage&&!o.isLoading),t.R7$(2),t.Y8G("ngIf",o.tasks.length>5),t.R7$(),t.Y8G("ngIf",o.showExcelImportModal))},dependencies:[v.MD,v.Sq,v.bT,v.P9,O.X1,O.me,O.BC,O.YN,O.vS,R.M,T.M,L.jL,E.fS,E.fg,q.Ou,q.iy,m.v,_e,At,jt],styles:['@charset "UTF-8";table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.title[_ngcontent-%COMP%]{font-size:18px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border-bottom:1px solid rgba(221,221,221,.5803921569);padding:8px}tr[_ngcontent-%COMP%]{font-size:13px!important}th[_ngcontent-%COMP%]{background-color:#f2f2f2}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f9f9f9}tr[_ngcontent-%COMP%]:hover{background-color:#ddd}.containerTable[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:10px}.tasks-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:20px}.actions[_ngcontent-%COMP%]{display:flex;align-items:center}.actions[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#000}.add-task[_ngcontent-%COMP%]{padding:10px 30px;background-color:#0672e4;color:#fff;border-radius:5px;border:none}.add-task1[_ngcontent-%COMP%]{padding:2px 10px;margin-left:10px;border:none;border-radius:8px;background-color:#fff}.add-task1[_ngcontent-%COMP%]:hover{transform:scale(1.05);cursor:pointer}.add-task1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:auto;transition:transform .2s ease}.add-task1[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:rotate(-5deg) scale(1.1)}.contentIcon[_ngcontent-%COMP%]{margin:0 10px;display:flex;align-items:center}.contentIcon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding:0 15px;font-size:20px;cursor:pointer}.contentIcon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:#0672e4;transition:all .5s ease}.bare[_ngcontent-%COMP%]{width:2px;height:30px;background-color:#eee}.inputSearch[_ngcontent-%COMP%]{position:relative;width:250px;height:40px;display:flex;align-items:center}.inputSearch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:100%;padding-left:10px;border-radius:5px}.inputSearch[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:15px;font-size:17px}.export-container[_ngcontent-%COMP%]{position:relative;display:inline-block}.export-dropdown[_ngcontent-%COMP%]{position:absolute;background-color:#f9f9f9;min-width:180px;box-shadow:0 8px 16px #00000063;z-index:1;top:100%;left:0;border-radius:5px}.export-dropdown[_ngcontent-%COMP%]   .export-option[_ngcontent-%COMP%]{padding:12px 16px;cursor:pointer}.export-dropdown[_ngcontent-%COMP%]   .export-option[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.iconDrop[_ngcontent-%COMP%]{display:flex;align-items:center}.iconMontreArrow[_ngcontent-%COMP%]{margin-left:-30px}.iconMontreArrow[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px}.imgProduit[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;overflow:hidden;display:flex;align-items:center;justify-content:center;background-color:#f5f5f5;box-shadow:0 4px 6px #0000001a;cursor:pointer}.imgProduit[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80%;height:80%;object-fit:cover;border-radius:50%;transition:transform .2s}.imgProduit[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:10px;max-width:80%;max-height:80%;display:flex;justify-content:center}.modal-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:80vh;border-radius:10px}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;width:100%;max-width:600px;border-radius:8px;box-shadow:0 2px 10px #0003;overflow:hidden}.modal-header[_ngcontent-%COMP%]{padding:16px;background-color:#f1f1f1;display:flex;justify-content:space-between;align-items:center;margin:0}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:18px}.modal-close[_ngcontent-%COMP%]{cursor:pointer;font-size:24px}.modal-body[_ngcontent-%COMP%]{padding:16px;overflow:auto;width:100%;height:100%}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#e9d52132;border-radius:10px}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#0671e43e;border-radius:10px}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#0465cd56}.modal-footer[_ngcontent-%COMP%]{padding:16px;display:flex;margin-top:10px}.champ_input[_ngcontent-%COMP%]{position:relative;margin-bottom:10px}.formulaire[_ngcontent-%COMP%]{position:relative}.inpuemail[_ngcontent-%COMP%]{margin-top:20px}.input_focus[_ngcontent-%COMP%]{width:100%;min-width:250px;height:49px;outline:none;border-bottom:1px solid rgb(53,50,50);border-top:none;border-left:none;border-right:none;margin:10px 0;transition:all .3s;font-size:12px;background:none;color:#695c5c}.add_category[_ngcontent-%COMP%]{border:none;margin-top:5px;cursor:pointer}.champ_input[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{position:absolute;top:22px;left:4px;pointer-events:none}.input_focus[_ngcontent-%COMP%]:hover{border-bottom:1px solid #0672E4;border-top:none;border-left:none;border-right:none}.input_focus[_ngcontent-%COMP%]:not(:placeholder-shown) + .label[_ngcontent-%COMP%], .input_focus[_ngcontent-%COMP%]:focus + .label[_ngcontent-%COMP%]{color:#0672e4;top:-6px;left:0;transition:all .3s ease-in-out;background:none;font-size:14px;padding:0}.input_focus[_ngcontent-%COMP%]::placeholder{opacity:0}.input_focus[_ngcontent-%COMP%]:focus::placeholder{opacity:1;animation-delay:1s;font-size:15px;transition:all .2s ease-in-out}.double_input[_ngcontent-%COMP%]{display:flex;align-items:center}.input_focus2[_ngcontent-%COMP%]{width:100%;min-width:250px;height:60px;outline:none;border-top:none;border-left:none;border-right:none;margin-top:10px;transition:all .3s;font-size:18px;background-color:#dcdcdc4c;color:#777474;resize:none;border-radius:5px;padding-top:10px;border-bottom:1px solid rgb(53,50,50)}.input_focus2[_ngcontent-%COMP%]:hover{border-bottom:1px solid #0672E4;border-top:none;border-left:none;border-right:none}.champ_input2[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{position:absolute;top:0;left:15px;pointer-events:none;color:#423838}.input_focus2[_ngcontent-%COMP%]:not(:placeholder-shown) + .label[_ngcontent-%COMP%], .input_focus2[_ngcontent-%COMP%]:focus + .label[_ngcontent-%COMP%]{color:#0672e4;top:-10px;left:0;transition:all .3s ease-in-out;background:none;font-size:14px;padding:0}.input_focus2[_ngcontent-%COMP%]::placeholder{opacity:0}.input_focus2[_ngcontent-%COMP%]:focus::placeholder{opacity:1;animation-delay:1s;font-size:15px;transition:all .2s ease-in-out}.champ_input_margin[_ngcontent-%COMP%]{margin-left:50px}.input_file[_ngcontent-%COMP%]{display:inline-block;width:300px;margin-top:10px}.custom-file-label[_ngcontent-%COMP%]{display:flex;align-items:center;border:1px solid #ccc;border-radius:5px;overflow:hidden;width:100%;cursor:pointer}.custom-file-button[_ngcontent-%COMP%]{background-color:#0672e4;color:#fff;padding:8px 12px;font-size:14px;border:none;outline:none;cursor:pointer}.custom-file-text[_ngcontent-%COMP%]{flex:1;padding:8px;font-size:14px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:#555}.btn-save[_ngcontent-%COMP%]{padding:8px 20px;margin-right:10px;background-color:#0672e4;color:#fff;border:none;border-radius:5px}.btn-cancel[_ngcontent-%COMP%]{padding:8px 20px;margin-right:10px;background-color:#ff0000b3;color:#fff;border:none;border-radius:5px}.btn-save[_ngcontent-%COMP%]:hover{background-color:#0465cd;transition:all .5s}.btn-cancel[_ngcontent-%COMP%]:hover{background-color:red;transition:all .5s}.iconArrow[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;right:10px;top:20px}.iconArrow[_ngcontent-%COMP%]{font-size:20px}.pagination[_ngcontent-%COMP%]{justify-content:right;margin-top:20px}mat-paginator[_ngcontent-%COMP%]{background-color:#dcdcdc51;border-radius:5px}.error-message[_ngcontent-%COMP%]{font-size:12px;color:red;font-weight:700;margin-top:-6px}.error-message2[_ngcontent-%COMP%]{font-size:13px;color:red;font-weight:700;margin-top:7px}.btn_add_categoryDiv[_ngcontent-%COMP%]{margin:10px 0;justify-content:center}.btn_add_categoryDiv2[_ngcontent-%COMP%]{margin:10px 0;justify-content:center;position:absolute;right:10px;top:10px}.double_input2[_ngcontent-%COMP%]{position:relative}.martopBottom[_ngcontent-%COMP%]{height:90px}.btn_add_category[_ngcontent-%COMP%]{border:none;padding-left:15px}.btn_add_category2[_ngcontent-%COMP%]{border:none;border-radius:2px}.btn_add_category[_ngcontent-%COMP%]:hover{background-color:#f2efef;transition:all .5s}.messageCate[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:red}.modal-overlay2[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0009;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content2[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:10px;text-align:center;width:90%;max-width:400px;box-shadow:0 5px 15px #0000004d;animation:_ngcontent-%COMP%_fadeInDown .3s ease;position:relative}.popup-header2[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-bottom:20px}.popup-img2[_ngcontent-%COMP%]{width:80px;height:85px;margin-bottom:10px}.popup-icon2[_ngcontent-%COMP%]{width:100%;height:100%;margin-bottom:10px}.modal-content2[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5em;color:#333}.modal-content2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;color:#555;margin:20px 0}.modal-content2[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#0672e4;color:#fff;border:none;padding:10px 20px;font-size:1em;border-radius:5px;cursor:pointer;transition:background .3s ease}.modal-content2.error[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#e53935}.modal-content2[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0863c5}.modal-content2.error[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#d32f2f}@keyframes _ngcontent-%COMP%_fadeInDown{0%{opacity:0;transform:translateY(-30px)}to{opacity:1;transform:translateY(0)}}.modal-overlay-category[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0009;z-index:1000;display:flex;justify-content:center;align-items:center}.modal-content-category[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:10px;text-align:center;width:90%;max-width:400px;box-shadow:0 5px 15px #0000004d;animation:_ngcontent-%COMP%_fadeInDown .3s ease;position:relative}.modal-header-category[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-bottom:20px}.modal-content-category[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5em;color:#333}.img_input[_ngcontent-%COMP%]{display:flex;align-items:center}.roudel_img[_ngcontent-%COMP%]{margin-left:20px;width:50px;height:50px;border-radius:4px;overflow:hidden;display:flex;align-items:center;justify-content:center;background-color:#f5f5f5;box-shadow:0 4px 6px #0000001a;cursor:pointer;position:relative;top:4px}img.roudel[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:2px;transition:transform .2s}.tableProduit[_ngcontent-%COMP%]{cursor:pointer}.titleTableProduit[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:12px}.input_focus_taille[_ngcontent-%COMP%]{font-size:14px;cursor:pointer;color:#0672e4}.img_input_detail[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:30px}.roudel_img_detail[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:4px;overflow:hidden;display:flex;align-items:center;justify-content:center;background-color:#f5f5f5;box-shadow:0 4px 6px #0000001a;cursor:pointer;position:relative;top:4px}img.roudel_detail[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:2px;transition:transform .2s}.input_focus_detail[_ngcontent-%COMP%]:not(:placeholder-shown) + .label[_ngcontent-%COMP%], .input_focus_detail[_ngcontent-%COMP%]:focus + .label[_ngcontent-%COMP%]{color:#000}.title_produit_detail[_ngcontent-%COMP%]{display:flex;align-items:center}.iconEdit[_ngcontent-%COMP%]{margin-left:30px}.iconEdit[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px;color:#0672e4}.input-non-editing[_ngcontent-%COMP%]{cursor:no-drop}.input-editing[_ngcontent-%COMP%]{cursor:text}.container_file[_ngcontent-%COMP%]{width:150px;border-radius:10px;box-shadow:4px 4px 30px #0003;display:flex;flex-direction:column;align-items:center;justify-content:space-between;padding:10px;gap:5px;background-color:#006eff0a;margin-bottom:10px}.header_file[_ngcontent-%COMP%]{height:140px;width:140px;border:1px dashed rgba(6,113,228,.6156862745);border-radius:10px;flex-direction:column;overflow:hidden;display:flex;align-items:center;justify-content:center;box-shadow:#959da533 0 8px 24px}.header_file[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:cover;transition:transform .2s}.header_file[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:100px}.header_file[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;color:#000}.footer_file[_ngcontent-%COMP%]{background-color:#006eff13;width:140px;height:35px;padding:5px 8px;border-radius:5px;cursor:pointer;display:flex;align-items:center;color:#000;border:none;margin-top:3px}.footer_file[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0!important;font-size:10px}.footer_file[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px;margin-right:7px}#file[_ngcontent-%COMP%]{display:none}.header_file[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.btn_save_edit[_ngcontent-%COMP%]{position:absolute;right:10px}.btn_save_edit[_ngcontent-%COMP%]   .save_edit[_ngcontent-%COMP%]{padding:5px 10px;border:none;background-color:#0672e4;color:#fff;border-radius:5px;margin-right:15px}.btn_save_edit[_ngcontent-%COMP%]   .annule_edit[_ngcontent-%COMP%]{padding:5px 10px;border:none;background-color:#ff0000b6;color:#fff;border-radius:5px}.btn_save_edit[_ngcontent-%COMP%]   .save_edit[_ngcontent-%COMP%]:hover{background-color:#0465cd;transition:all .5s}.btn_save_edit[_ngcontent-%COMP%]   .annule_edit[_ngcontent-%COMP%]:hover{background-color:red;transition:all .5s}.inputSize[_ngcontent-%COMP%]{font-size:15px;color:#0672e4}.labelColor[_ngcontent-%COMP%]{color:#000!important}.updateDate[_ngcontent-%COMP%]{float:right}.description-cell[_ngcontent-%COMP%]{position:relative;cursor:pointer}.description-hover[_ngcontent-%COMP%]{display:none;position:absolute;top:100%;left:50%;transform:translate(-50%);background-color:#333;color:#fff;padding:10px;border-radius:5px;font-size:12px;width:200px;z-index:10}.description-cell[_ngcontent-%COMP%]:hover   .description-hover[_ngcontent-%COMP%]{display:block}.container_list_boutique[_ngcontent-%COMP%]{scrollbar-width:auto;overflow:auto;scrollbar-color:#888 #f1f1f1;scrollbar-width:thin}.container_list_boutique[_ngcontent-%COMP%]::-webkit-scrollbar{width:2px;height:3px}.container_list_boutique[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.container_list_boutique[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#00f;border-radius:4px}.container_list_boutique[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:red}.name_boutique[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;cursor:pointer;margin:30px 0 10px}.name_boutique[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:5px 15px}.name_boutique_active[_ngcontent-%COMP%]{background-color:#e9d421;border-radius:5px;color:#000}.barre[_ngcontent-%COMP%]{height:25px;width:1px;background-color:#0000003f;margin:8px 0}.name_boutique[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{cursor:pointer;padding:8px 16px;margin:4px 0;transition:all .3s ease;font-weight:500;border-radius:4px}.name_boutique[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:hover{background-color:#0000000d;transform:translateY(-1px)}.name_boutique[_ngcontent-%COMP%]   p.name_boutique_active[_ngcontent-%COMP%]{background-color:#e9d421;color:#000!important}.name_boutique[_ngcontent-%COMP%]   .no-boutiques-message[_ngcontent-%COMP%]{color:#666;font-style:italic;padding:10px;text-align:center}.warning-icon[_ngcontent-%COMP%]{margin-left:8px;color:red;font-size:14px}.container_list_boutique[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto;scroll-behavior:smooth}.cdk-drag-preview[_ngcontent-%COMP%]{background:#e4cb0d;border-radius:5px;text-align:center;display:flex;align-items:center;justify-content:center;min-height:40px;padding:10px;font-weight:700}.trier[_ngcontent-%COMP%]{border-top:1.5px solid #000;border-right:1.5px solid #000;border-bottom:1.5px solid #000;border-top-right-radius:5px;border-bottom-right-radius:5px;padding:5px 10px;cursor:pointer}.remove-chip[_ngcontent-%COMP%]{margin-left:5px;cursor:pointer}.remove-chip[_ngcontent-%COMP%]:hover{color:#f44}.filter-dropdown[_ngcontent-%COMP%]{position:absolute;top:100%;right:0;background:#fff;border:1px solid #ccc;border-radius:5px;box-shadow:0 2px 10px #0000001a;z-index:100;width:300px;padding:15px}.filter-dropdown[_ngcontent-%COMP%]   .filter-option[_ngcontent-%COMP%]{padding:8px 0;display:flex;flex-direction:column}.filter-dropdown[_ngcontent-%COMP%]   .filter-select[_ngcontent-%COMP%]{margin-top:5px;padding:8px;border:1px solid #ddd;border-radius:4px;background:#fff;cursor:pointer}.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed!important;pointer-events:none}.facture-count[_ngcontent-%COMP%]{background-color:#ddd;color:#000;border-radius:50%;font-size:10px;min-width:18px;height:18px;display:flex;justify-content:center;align-items:center;padding:2px;margin-left:10px}.draggable-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:flex;align-items:center}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:8px;width:100%;max-width:700px;max-height:90vh;overflow-y:auto;position:relative}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;top:15px;right:15px;font-size:24px;cursor:pointer;color:#666}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;color:#333;border-bottom:1px solid #eee;padding-bottom:15px}.import-instructions[_ngcontent-%COMP%]{background-color:#f9f9f9;border-left:4px solid #0671e4;padding:15px;margin-bottom:20px;border-radius:4px}.import-instructions[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;color:#0671e4;font-size:13px}.import-instructions[_ngcontent-%COMP%]   .columns-info[_ngcontent-%COMP%]{margin:15px 0;padding:10px;background-color:#fff;border:1px solid #eee;border-radius:4px;height:175px;overflow-y:scroll}.import-instructions[_ngcontent-%COMP%]   .columns-info[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:20px;margin-bottom:0}.import-instructions[_ngcontent-%COMP%]   .columns-info[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px;line-height:1.4;font-size:12px!important}.import-instructions[_ngcontent-%COMP%]   .columns-info[_ngcontent-%COMP%]::-webkit-scrollbar{width:2px;height:2px}.import-instructions[_ngcontent-%COMP%]   .columns-info[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#0003;border-radius:3px}.import-instructions[_ngcontent-%COMP%]   .columns-info[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.import-instructions[_ngcontent-%COMP%]   .download-template[_ngcontent-%COMP%]{background-color:#0671e4;color:#fff;border:none;padding:10px 15px;border-radius:4px;cursor:pointer;display:flex;align-items:center;gap:8px;margin-top:10px}.import-instructions[_ngcontent-%COMP%]   .download-template[_ngcontent-%COMP%]:hover{background-color:#055cb9}.file-upload-area[_ngcontent-%COMP%]{border:2px dashed #ddd;border-radius:8px;padding:40px 20px;text-align:center;cursor:pointer;transition:all .3s;margin:20px 0}.file-upload-area[_ngcontent-%COMP%]:hover, .file-upload-area.active[_ngcontent-%COMP%]{border-color:#0671e4;background-color:#f0f8ff}.file-upload-area[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:48px;color:#0671e4;margin-bottom:15px}.file-upload-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0;font-size:16px}.file-upload-area[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#777}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;margin-top:20px}.modal-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background-color:#f5f5f5;color:#333;border:1px solid #ddd;padding:10px 20px;border-radius:4px;cursor:pointer}.modal-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover{background-color:#eaeaea}.modal-actions[_ngcontent-%COMP%]   .btn-import[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;border:none;padding:10px 20px;border-radius:4px;cursor:pointer}.modal-actions[_ngcontent-%COMP%]   .btn-import[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#218838}.modal-actions[_ngcontent-%COMP%]   .btn-import[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}.import-status[_ngcontent-%COMP%]{padding:15px;border-radius:4px;margin-top:20px}.import-status.success[_ngcontent-%COMP%]{background-color:#d4edda;border:1px solid #c3e6cb;color:#155724}.import-status.error[_ngcontent-%COMP%]{background-color:#f8d7da;border:1px solid #f5c6cb;color:#721c24}.import-errors[_ngcontent-%COMP%]{margin-top:10px;max-height:200px;overflow-y:auto;background-color:#ffffffb3;padding:10px;border-radius:4px}.import-errors[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:0;margin-bottom:10px}.import-errors[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:20px;margin-bottom:0}.boutique-selection-panel[_ngcontent-%COMP%]{position:absolute;z-index:1000;background:#fff;border:1px solid #ddd;border-radius:4px;box-shadow:0 2px 4px #0003;width:100%;max-width:400px;margin-top:8px}.boutique-selection-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]{padding:12px;border-bottom:1px solid #eee;display:flex;justify-content:space-between;align-items:center}.boutique-selection-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:16px}.boutique-selection-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:20px;cursor:pointer}.boutique-selection-panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto;padding:12px}.boutique-selection-panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .boutique-item[_ngcontent-%COMP%]{padding:8px;border-bottom:1px solid #eee}.boutique-selection-panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .boutique-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;width:100%}.boutique-selection-panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .boutique-item[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-right:8px}.boutique-selection-panel[_ngcontent-%COMP%]   .panel-footer[_ngcontent-%COMP%]{padding:12px;text-align:right;border-top:1px solid #eee}.boutique-selection-panel[_ngcontent-%COMP%]   .panel-footer[_ngcontent-%COMP%]   .btn-confirm[_ngcontent-%COMP%]{background-color:#0672e4;color:#fff;border:none;padding:8px 16px;border-radius:4px;cursor:pointer}.boutique-selection-panel[_ngcontent-%COMP%]   .panel-footer[_ngcontent-%COMP%]   .btn-confirm[_ngcontent-%COMP%]:hover{background-color:#055cb3}.container_modal_excel[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-template-rows:1fr;grid-column-gap:0px;grid-row-gap:0px;gap:20px}.btn-import[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;font-size:1.2em}']})}}return r})()}}]);