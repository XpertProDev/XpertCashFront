"use strict";(self.webpackChunkskeleton=self.webpackChunkskeleton||[]).push([[4229],{6822:(j,M,a)=>{a.d(M,{K:()=>u});var u=function(s){return s.BROUILLON="BROUILLON",s.APPROBATION="APPROBATION",s.APPROUVE="APPROUVE",s.ENVOYE="ENVOYE",s.VALIDE="VALIDE",s.ANNULE="ANNULE",s}(u||{})},6115:(j,M,a)=>{a.d(M,{v:()=>s});var u=a(4438);let s=(()=>{class C{transform(b){return null==b?"":b.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}static{this.\u0275fac=function(O){return new(O||C)}}static{this.\u0275pipe=u.EJ8({name:"customNumber",type:C,pure:!0})}}return C})()},2120:(j,M,a)=>{a.d(M,{r:()=>k});var u=a(1626),s=a(4412),C=a(9437),v=a(8810),b=a(8141),O=a(1985),P=a(5558),F=a(2525),E=a(4438);let k=(()=>{class c{constructor(r){this.http=r,this.apiUrl=F.c.apiBaseUrl,this.entrepriseSubject=new s.t([]),this.entreprise$=this.entrepriseSubject.asObservable()}getListEntreprises(){const r=localStorage.getItem("authToken")||"",p=new u.Lr({Authorization:`Bearer ${r}`,"Content-Type":"application/json"});return this.http.get(`${this.apiUrl}/entreprises`,{headers:p}).pipe((0,C.W)(d=>{let l="Erreur inconnue";return d.error instanceof ErrorEvent?l=`Erreur: ${d.error.message}`:404===d.status&&(l="Aucune entreprise trouv\xe9e"),(0,v.$)(()=>new Error(l))}))}addEntreprise(r){const p=localStorage.getItem("authToken")||"",d=new u.Lr({Authorization:`Bearer ${p}`,"Content-Type":"application/json"});return this.http.post(`${this.apiUrl}/entreprises`,r,{headers:d}).pipe((0,C.W)(l=>{let g="Erreur inconnue";return l.error instanceof ErrorEvent?g=`Erreur: ${l.error.message}`:400===l.status&&(g=l.error||"Donn\xe9es invalides"),(0,v.$)(()=>new Error(g))}),(0,b.M)(l=>{this.entrepriseSubject.next([...this.entrepriseSubject.value,l])}))}getListEntreprise(r){if(!r)return console.error("Token vide ou non d\xe9fini ! V\xe9rifiez que l'utilisateur est bien connect\xe9."),new O.c;const p=(new u.Lr).set("Authorization",`Bearer ${r}`);return console.log("En-t\xeates envoy\xe9r : ",p),this.http.get(`${this.apiUrl}/entreprises`,{headers:p}).pipe((0,b.M)(d=>{this.entrepriseSubject.next(d)}))}getEntrepriseById(r){const p=localStorage.getItem("authToken")||"",d=new u.Lr({Authorization:`Bearer ${p}`,"Content-Type":"application/json"});return this.http.get(`${this.apiUrl}/entreprises/${r}`,{headers:d}).pipe((0,C.W)(l=>{let g="Erreur inconnue";return l.error instanceof ErrorEvent?g=`Erreur: ${l.error.message}`:404===l.status&&(g="Entreprise non trouv\xe9e"),(0,v.$)(()=>new Error(g))}))}updateEntreprise(r,p){const d=localStorage.getItem("authToken")||"",l=new u.Lr({Authorization:`Bearer ${d}`});return this.http.patch(`${this.apiUrl}/updateEntreprise/${r}`,p,{headers:l,responseType:"text"}).pipe((0,C.W)(g=>{let m="Erreur inconnue";return g.error instanceof ErrorEvent?m=`Erreur: ${g.error.message}`:400===g.status&&(m=g.error||"Donn\xe9es invalides"),(0,v.$)(()=>new Error(m))}))}getEntrepriseInfo(){const r=localStorage.getItem("authToken");if(!r)return console.error("Aucun token trouv\xe9"),(0,v.$)(()=>new Error("Aucun token trouv\xe9"));const p=this.decodeJwt(r);if(this.isTokenExpired(p))return this.getNewTokenFromApi().pipe((0,P.n)(l=>{localStorage.setItem("authToken",l.token);const g=new u.Lr({Authorization:`Bearer ${l.token}`});return this.http.get(`${this.apiUrl}/myEntreprise`,{headers:g}).pipe((0,b.M)(m=>{localStorage.setItem("entreprise",JSON.stringify(m))}))}));{const l=new u.Lr({Authorization:`Bearer ${r}`});return this.http.get(`${this.apiUrl}/myEntreprise`,{headers:l}).pipe((0,b.M)(g=>{localStorage.setItem("entreprise",JSON.stringify(g))}))}}decodeJwt(r){return JSON.parse(atob(r.split(".")[1]))}isTokenExpired(r){return new Date(1e3*r.exp)<new Date}getNewTokenFromApi(){const r=localStorage.getItem("refreshToken");return this.http.post(`${this.apiUrl}/refresh-token`,{refreshToken:r})}static{this.\u0275fac=function(p){return new(p||c)(E.KVO(u.Qq))}}static{this.\u0275prov=E.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}}return c})()},2409:(j,M,a)=>{a.d(M,{c:()=>F});var u=a(1626),s=a(8810),C=a(8141),v=a(9437),b=a(6822),O=a(2525),P=a(4438);let F=(()=>{class E{constructor(c){this.http=c,this.apiUrl=O.c.apiBaseUrl}creerFactureProforma(c,e,r,p){const d=localStorage.getItem("authToken");if(!d)return(0,s.$)(()=>new Error("Token manquant"));const l=new u.Lr({Authorization:`Bearer ${d}`});let g=new u.Nl;return p&&(void 0!==e&&(g=g.set("remisePourcentage",e.toString())),void 0!==r&&(g=g.set("appliquerTVA",r.toString()))),this.http.post(`${this.apiUrl}/ajouter`,c,{headers:l,params:g}).pipe((0,C.M)(m=>console.log("Facture cr\xe9\xe9e avec succ\xe8s:",m)),(0,v.W)(m=>(console.error("Erreur d\xe9taill\xe9e:",m),console.log("Corps de la r\xe9ponse:",m.error),(0,s.$)(()=>m))))}getAlFactproformaOfEntreprise(c){const e=localStorage.getItem("authToken");if(!e)return console.error("Aucun token trouv\xe9"),(0,s.$)("Aucun token trouv\xe9");const r=new u.Lr({Authorization:`Bearer ${e}`});return this.http.get(`${this.apiUrl}/mes-factures`,{headers:r})}getFactureProformaById(c){const e=localStorage.getItem("authToken"),r=new u.Lr({Authorization:`Bearer ${e}`});return this.http.get(`${this.apiUrl}/factureProforma/${c}`,{headers:r})}updateFactureProforma(c,e,r,p,d){const l=localStorage.getItem("authToken");if(!l)return(0,s.$)(()=>new Error("Token manquant"));const g=new u.Lr({Authorization:`Bearer ${l}`,"Content-Type":"application/json"});let m=new u.Nl;return void 0!==e&&(m=m.set("remisePourcentage",e.toString())),void 0!==r&&(m=m.set("appliquerTVA",r.toString())),d&&d.length>0&&d.forEach(x=>{m=m.append("idsApprobateurs",x.toString())}),p.statut===b.K.ANNULE&&(m=m.set("isAnnulation","true")),this.http.put(`${this.apiUrl}/updatefacture/${c}`,p,{headers:g,params:m}).pipe((0,C.M)(x=>console.log("Facture mise \xe0 jour:",x)),(0,v.W)(x=>(console.error("Erreur mise \xe0 jour:",x),(0,s.$)(()=>x))))}envoyerFactureEmail(c,e){const r=new FormData;r.append("to",e.to),r.append("cc",e.cc),r.append("subject",e.subject),r.append("body",e.body),e.attachments&&e.attachments.forEach((l,g)=>{r.append("attachments",l,l.name)});const p=localStorage.getItem("authToken"),d=new u.Lr({Authorization:`Bearer ${p}`});return this.http.post(`${this.apiUrl}/factures/${c}/envoyer-email`,r,{headers:d,responseType:"text"})}getHistoriqueFacture(c){const e=localStorage.getItem("authToken"),r=new u.Lr({Authorization:`Bearer ${e}`});return this.http.get(`${this.apiUrl}/factpro/${c}/historique`,{headers:r})}getNotesFactureProforma(c){const e=localStorage.getItem("authToken"),r=new u.Lr({Authorization:`Bearer ${e}`});return this.http.get(`${this.apiUrl}/factures/${c}/notes`,{headers:r})}getNoteById(c,e){const r=localStorage.getItem("authToken"),p=new u.Lr({Authorization:`Bearer ${r}`,Accept:"application/json"});return this.http.get(`${this.apiUrl}/auth/${c}/notes/${e}`,{headers:p})}updateNote(c,e,r){const p=localStorage.getItem("authToken"),d=new u.Lr({Authorization:`Bearer ${p}`,"Content-Type":"application/json"});return this.http.put(`${this.apiUrl}/${c}/notes/${e}`,{nouveauContenu:r},{headers:d}).pipe((0,C.M)(m=>console.log("Note modifi\xe9e avec succ\xe8s:",m)),(0,v.W)(m=>(console.error("Erreur lors de la modification de la note:",m),(0,s.$)(()=>m))))}deletNoteFactureProforma(c,e){const r=localStorage.getItem("authToken"),p=new u.Lr({Authorization:`Bearer ${r}`,Accept:"application/json"});return this.http.delete(`${this.apiUrl}/${c}/notes/${e}/supprimer`,{headers:p})}getFacturesByClient(c,e){const r=localStorage.getItem("authToken"),p=new u.Lr({Authorization:`Bearer ${r}`});let d=new u.Nl;return c&&(d=d.set("clientId",c.toString())),e&&(d=d.set("entrepriseClientId",e.toString())),this.http.get(`${this.apiUrl}/factures/client`,{headers:p,params:d}).pipe((0,v.W)(l=>(console.error("Erreur dans getFacturesByClient:",l),(0,s.$)(()=>l))))}static{this.\u0275fac=function(e){return new(e||E)(P.KVO(u.Qq))}}static{this.\u0275prov=P.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})()},4229:(j,M,a)=>{a.r(M),a.d(M,{DetailEditClientComponent:()=>X});var u=a(467),s=a(9417),C=a(7673),v=a(4412),b=a(4572),O=a(9172),P=a(6354),F=a(6967),E=a(177),k=a(850),c=a(6115),e=a(4438),r=a(9192),p=a(2120),d=a(7746),l=a(2409),g=a(4564);const m=()=>({standalone:!0}),x=(i,_,t,n)=>({draft:i,sent:_,approved:t,valid:n});function D(i,_){1&i&&(e.j41(0,"small"),e.EFF(1,"Champ requis."),e.k0s())}function y(i,_){1&i&&(e.j41(0,"small"),e.EFF(1,"Au moins 2 caract\xe8res."),e.k0s())}function T(i,_){if(1&i&&(e.j41(0,"div",55),e.DNE(1,D,2,0,"small",53)(2,y,2,0,"small",53),e.k0s()),2&i){let t,n;const o=e.XpG();e.R7$(),e.Y8G("ngIf",null==(t=o.modifierClientForm.get("nomComplet"))||null==t.errors?null:t.errors.required),e.R7$(),e.Y8G("ngIf",null==(n=o.modifierClientForm.get("nomComplet"))||null==n.errors?null:n.errors.minlength)}}function $(i,_){1&i&&(e.j41(0,"small"),e.EFF(1,"Format invalide."),e.k0s())}function A(i,_){if(1&i&&(e.j41(0,"div",55),e.DNE(1,$,2,0,"small",53),e.k0s()),2&i){let t;const n=e.XpG();e.R7$(),e.Y8G("ngIf",null==(t=n.modifierClientForm.get("email"))||null==t.errors?null:t.errors.email)}}function w(i,_){if(1&i&&(e.j41(0,"mat-option",66)(1,"div",67),e.EFF(2),e.k0s()()),2&i){const t=_.$implicit;e.Y8G("value",t),e.R7$(2),e.SpI(" ",t.nom," ")}}function R(i,_){if(1&i){const t=e.RV6();e.j41(0,"div",8)(1,"div",9)(2,"div",11),e.nrm(3,"input",56),e.j41(4,"label",57),e.EFF(5,"Mon entreprise"),e.k0s(),e.j41(6,"mat-autocomplete",58,0),e.bIt("optionSelected",function(o){e.eBV(t);const h=e.XpG();return e.Njj(h.onEntrepriseSelected(o))}),e.j41(8,"mat-option",59),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.openPopup())}),e.j41(9,"div",60),e.nrm(10,"i",61),e.j41(11,"span",62),e.EFF(12,"Cr\xe9er une entreprise"),e.k0s()()(),e.DNE(13,w,3,2,"mat-option",63),e.nI1(14,"async"),e.k0s(),e.j41(15,"div",64),e.nrm(16,"i",65),e.k0s()()()()}if(2&i){const t=e.sdS(7),n=e.XpG();e.R7$(3),e.Y8G("formControl",n.control)("matAutocomplete",t),e.R7$(3),e.Y8G("displayWith",n.displayFnEntreprise),e.R7$(7),e.Y8G("ngForOf",e.bMT(14,4,n.filteredOptions))}}function S(i,_){if(1&i&&(e.j41(0,"div",68),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.JRh(t.errorMessage)}}function L(i,_){if(1&i&&(e.j41(0,"div",69),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.JRh(t.successMessage)}}function U(i,_){1&i&&(e.j41(0,"div",70),e.EFF(1," Veuillez s\xe9lectionner ou cr\xe9er une entreprise "),e.k0s())}function B(i,_){1&i&&(e.j41(0,"div",71),e.nrm(1,"i",72),e.EFF(2," Chargement des factures... "),e.k0s())}function N(i,_){if(1&i&&(e.j41(0,"div",70),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.errorFactures," ")}}function z(i,_){1&i&&(e.j41(0,"div",73),e.nrm(1,"i",74),e.j41(2,"p"),e.EFF(3,"Aucune facture trouv\xe9e pour ce client"),e.k0s()())}function G(i,_){if(1&i&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.nI1(5,"date"),e.k0s(),e.j41(6,"td")(7,"span",79),e.EFF(8),e.k0s()(),e.j41(9,"td",75),e.EFF(10),e.nI1(11,"customNumber"),e.k0s()()),2&i){const t=_.$implicit;e.R7$(2),e.JRh(t.numeroFacture),e.R7$(2),e.JRh(e.i5U(5,5,t.dateFacture,"dd/MM/yyyy")),e.R7$(3),e.Y8G("ngClass",e.ziG(10,x,"BROUILLON"===t.statut,"ENVOYE"===t.statut,"APPROUVE"===t.statut,"VALIDE"===t.statut)),e.R7$(),e.SpI(" ",t.statut," "),e.R7$(2),e.JRh(e.bMT(11,8,t.totalFacture))}}function W(i,_){if(1&i&&(e.j41(0,"table")(1,"thead")(2,"tr")(3,"th"),e.EFF(4,"Num\xe9ro"),e.k0s(),e.j41(5,"th"),e.EFF(6,"Date"),e.k0s(),e.j41(7,"th"),e.EFF(8,"Statut"),e.k0s(),e.j41(9,"th",75),e.EFF(10,"Montant"),e.k0s()()(),e.j41(11,"tbody"),e.DNE(12,G,12,15,"tr",76),e.k0s(),e.j41(13,"tfoot")(14,"tr")(15,"td",77),e.EFF(16,"Total"),e.k0s(),e.j41(17,"td",78),e.EFF(18),e.nI1(19,"customNumber"),e.k0s()()()()),2&i){const t=e.XpG();e.R7$(12),e.Y8G("ngForOf",t.facturesClient),e.R7$(6),e.SpI(" ",e.bMT(19,2,t.getTotalFactures())," ")}}function V(i,_){1&i&&(e.j41(0,"div",97),e.EFF(1," Ce champ est requis "),e.k0s())}function K(i,_){if(1&i&&(e.j41(0,"div",98),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.errorMessageApi," ")}}function Y(i,_){if(1&i){const t=e.RV6();e.j41(0,"div",80)(1,"div",81)(2,"div",82)(3,"h4"),e.EFF(4,"Ajouter une entreprise"),e.k0s(),e.j41(5,"button",83),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.closePopup())}),e.EFF(6,"\xd7"),e.k0s()(),e.j41(7,"form",84)(8,"div",85)(9,"div",10)(10,"div",11),e.nrm(11,"input",86),e.j41(12,"label",87),e.EFF(13,"Nom entreprise "),e.j41(14,"span",88),e.EFF(15,"*"),e.k0s()(),e.DNE(16,V,2,0,"div",89),e.k0s(),e.j41(17,"div",11),e.nrm(18,"input",90),e.j41(19,"label",87),e.EFF(20,"Email"),e.k0s()()(),e.j41(21,"div",10)(22,"div",11),e.nrm(23,"input",91),e.j41(24,"label",87),e.EFF(25,"Adresse"),e.k0s()(),e.j41(26,"div",11),e.nrm(27,"input",92),e.j41(28,"label",87),e.EFF(29,"T\xe9l\xe9phone"),e.k0s()()()(),e.j41(30,"div",40),e.DNE(31,K,2,1,"div",93),e.k0s(),e.j41(32,"div",94)(33,"button",95),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.closePopup())}),e.EFF(34,"Annuler"),e.k0s(),e.j41(35,"button",96),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.ajouterEntreprise())}),e.EFF(36," Ajouter "),e.k0s()()()()()}if(2&i){let t;const n=e.XpG();e.R7$(7),e.Y8G("formGroup",n.entrepriseForm),e.R7$(9),e.Y8G("ngIf",(null==(t=n.entrepriseForm.get("nom"))?null:t.invalid)&&(null==(t=n.entrepriseForm.get("nom"))?null:t.touched)),e.R7$(15),e.Y8G("ngIf",n.errorMessageApi),e.R7$(4),e.xc7("background-color",n.entrepriseForm.valid?"#0672E4":"#0671e434")("color",n.entrepriseForm.valid?"#ffffff":"#00000073")("cursor",n.entrepriseForm.valid?"pointer":"no-drop"),e.Y8G("disabled",n.entrepriseForm.invalid)}}let X=(()=>{class i{constructor(t,n,o,h,f,I){this.router=t,this.fb=n,this.entrepriseService=o,this.clientService=h,this.route=f,this.factureService=I,this.errorMessage="",this.errorMessageApi="",this.successMessage="",this.isEntrepriseSelected=!1,this.showPopup=!1,this.urllink="assets/img/appareil.jpg",this.newPhotoUrl=null,this.selectedFile=null,this.imageFile=null,this.control=new s.MJ,this.filteredOptions=(0,C.of)([]),this.loading=!1,this.optionsEntreprise$=new v.t([]),this.entrepriseRequiredError=!1,this.indicatif="",this.maxPhoneLength=0,this.facturesClient=[],this.loadingFactures=!1,this.errorFactures="",this.paysIndicatifs={Mali:{indicatif:"+223",longueur:8},S\u00e9n\u00e9gal:{indicatif:"+221",longueur:9},"C\xf4te d'Ivoire":{indicatif:"+225",longueur:10}}}testImageCompression(t){var n=this;return(0,u.A)(function*(){if(!t)return void console.log("Aucun fichier s\xe9lectionn\xe9.");console.log("Taille originale:",t.size/1024,"Ko");const o={maxSizeMB:1,maxWidthOrHeight:1e3,useWebWorker:!0};try{const h=yield(0,F.A)(t,o);if(console.log("Taille apr\xe8s compression:",h.size/1024,"Ko"),"image/png"!==h.type&&"image/jpeg"!==h.type)return console.error("Le fichier compress\xe9 n'est pas un format support\xe9 (PNG ou JPEG)."),void(n.errorMessage="Erreur de compression : Le format de l'image n'est pas valide.");const f=new FileReader;f.onload=I=>{n.newPhotoUrl=I.target?.result,console.log("Image compress\xe9e pr\xeate \xe0 \xeatre affich\xe9e !")},f.readAsDataURL(h)}catch(h){console.error("Erreur lors de la compression:",h)}})()}getTotalFactures(){const t=this.facturesClient.reduce((n,o)=>n+o.totalFacture,0);return Math.round(t)}onFileSelected(t){const n=t.target;if(n.files&&n.files.length>0){const o=n.files[0];if(!["image/jpeg","image/png","image/jpg"].includes(o.type))return void(this.errorMessage="Le fichier doit \xeatre une image (JPG, PNG)");this.selectedFile=o,this.imageFile=o,this.testImageCompression(o);const f=new FileReader;f.onload=I=>{this.newPhotoUrl=I.target?.result},f.readAsDataURL(this.selectedFile)}}onPaysChange(t){const o=this.paysIndicatifs[t.target.value];o&&(this.indicatif=`${o.indicatif} `,this.maxPhoneLength=this.indicatif.length+o.longueur,(this.modifierClientForm.get("telephone")?.value||"").startsWith(this.indicatif)||this.modifierClientForm.get("telephone")?.setValue(this.indicatif),this.updatePhoneValidator(o.longueur))}updatePhoneValidator(t){this.modifierClientForm.controls.telephone.setValidators([s.k0.pattern(`^\\${this.indicatif}\\d{${t}}$`)]),this.modifierClientForm.controls.telephone.updateValueAndValidity()}formatPhoneNumber(){let t=this.modifierClientForm.get("telephone")?.value;if(!t.startsWith(this.indicatif))return void this.modifierClientForm.get("telephone")?.setValue(this.indicatif);const n=t.replace(this.indicatif,"").replace(/\D/g,""),o=this.indicatif+n,h=this.indicatif.length+this.maxPhoneLength;this.modifierClientForm.get("telephone")?.setValue(o.slice(0,h))}goToStock(){this.router.navigate(["/clients"])}ngOnInit(){this.getListEntreprise(),this.initEntreprise(),this.getClientForm(),this.getEntrepriseForm(),this.loadEntreprises(),this.getRouteClient()}getRouteClient(){this.route.params.subscribe(t=>{this.clientId=+t.id,this.loadClientData()})}loadClientData(){this.clientService.getClientById(this.clientId).subscribe({next:t=>{this.populateForm(t),this.handleEntreprise(t.entrepriseClient),this.loadFacturesClient()},error:t=>{this.errorMessage="Erreur lors du chargement du client",console.error("Erreur:",t)}})}loadFacturesClient(){this.loadingFactures=!0,this.factureService.getFacturesByClient(this.clientId).subscribe({next:t=>{this.facturesClient=t,this.loadingFactures=!1},error:t=>{this.errorFactures="Erreur lors du chargement des factures",this.loadingFactures=!1,console.error(t)}})}populateForm(t){if(this.modifierClientForm.patchValue({nomComplet:t.nomComplet,email:t.email,telephone:t.telephone,adresse:t.adresse,poste:t.poste,pays:t.pays,ville:t.ville}),t.telephone){const n=t.telephone.replace(/(\+\d{3})(\d+)/,"$1 $2");this.modifierClientForm.patchValue({telephone:n})}if(t.pays){const n=this.paysIndicatifs[t.pays];n&&(this.indicatif=`${n.indicatif} `,this.maxPhoneLength=n.longueur,this.updatePhoneValidator(n.longueur))}}handleEntreprise(t){this.isEntrepriseSelected=!!t,this.control.setValue(t),this.entrepriseRequiredError=!1}getClientForm(){this.modifierClientForm=this.fb.group({nomComplet:["",[s.k0.required,s.k0.minLength(2)]],email:["",[s.k0.email]],telephone:[""],adresse:[""],poste:[""],pays:[""],ville:[""]})}getEntrepriseForm(){this.entrepriseForm=this.fb.group({nom:["",s.k0.required],email:["",s.k0.email],telephone:[""],adresse:[""],siege:[""],secteur:[""]})}loadEntreprises(){const t=localStorage.getItem("authToken")||"";t&&this.entrepriseService.getListEntreprise(t).subscribe(n=>{this.optionsEntreprise$.next(n),this.setupAutocomplete()},n=>{console.error("Erreur lors de la r\xe9cup\xe9ration des entreprises :",n),this.errorMessage=n.error?.error||"Erreur chargement entreprises"})}setupAutocomplete(){this.filteredOptions=(0,b.z)([this.control.valueChanges.pipe((0,O.Z)(""),(0,P.T)(t=>"string"==typeof t?t:t?.nom)),this.optionsEntreprise$]).pipe((0,P.T)(([t,n])=>t?this._filter(t,n):n))}getListEntreprise(){const t=localStorage.getItem("authToken");t?this.entrepriseService.getListEntreprise(t).subscribe(n=>{console.log("Entreprise re\xe7ues depuis l'API :",n),this.optionsEntreprise$.next(n),this.filteredOptions=this.control.valueChanges.pipe((0,O.Z)(""),(0,P.T)(o=>o?"string"==typeof o?o:o.nom:""),(0,P.T)(o=>o?this._filter(o,this.optionsEntreprise$.value):this.optionsEntreprise$.value.slice()))},n=>{console.error("Erreur lors de la r\xe9cup\xe9ration des entreprises :",n)}):console.error("Aucun token trouv\xe9 !")}_filter(t,n){const o=t.toLowerCase();return n.filter(h=>h.nom.toLowerCase().includes(o))}displayFnEntreprise(t){return t?t.nom:""}onEntrepriseSelected(t){}openPopup(){this.showPopup=!0}closePopup(){this.showPopup=!1}initEntreprise(){this.entrepriseForm=this.fb.group({nom:["",s.k0.required],pays:[""],email:[""],telephone:[""],adresse:[""],siege:[""],secteur:[""]})}ajouterEntreprise(){this.entrepriseForm.invalid||this.entrepriseService.addEntreprise({nom:this.entrepriseForm.value.nom,pays:this.entrepriseForm.value.pays,email:this.entrepriseForm.value.email,telephone:this.entrepriseForm.value.telephone,adresse:this.entrepriseForm.value.adresse,siege:this.entrepriseForm.value.siege,secteur:this.entrepriseForm.value.secteur,logo:this.newPhotoUrl||"",nif:this.entrepriseForm.value.nif,nina:this.entrepriseForm.value.nina,banque:this.entrepriseForm.value.banque,rccm:this.entrepriseForm.value.rccm,siteWeb:this.entrepriseForm.value.siteWeb,signataire:this.entrepriseForm.value.signataire,signataireNom:this.entrepriseForm.value.signataireNom,prefixe:this.entrepriseForm.value.prefixe,suffixe:this.entrepriseForm.value.suffixe,tauxTva:this.entrepriseForm.value.tauxTva}).subscribe({next:n=>{this.optionsEntreprise$.next([n,...this.optionsEntreprise$.value]),this.control.setValue(n),this.closePopup(),this.entrepriseForm.reset()},error:n=>{this.errorMessageApi=n.message||"Erreur lors de la cr\xe9ation"}})}modifierClient(){if(this.markFormGroupTouched(this.modifierClientForm),this.modifierClientForm.invalid)return void(this.errorMessage="Veuillez corriger les erreurs dans le formulaire.");let t=null;if(this.isEntrepriseSelected&&(t=this.control.value,!t))return this.entrepriseRequiredError=!0,void(this.errorMessage="Veuillez s\xe9lectionner ou cr\xe9er une entreprise.");const n={...this.modifierClientForm.value,id:this.clientId};n.entrepriseClient=this.isEntrepriseSelected&&this.control.value?.id?{id:this.control.value.id}:null,this.clientService.updateClient(this.clientId,n).subscribe({next:o=>{this.successMessage="Client modifi\xe9 avec succ\xe8s !",this.errorMessage="",setTimeout(()=>this.router.navigate(["/clients"]),2e3)},error:o=>{console.error("Erreur:",o),this.errorMessage=o.error?.message||"Erreur lors de la modification du client ",this.successMessage=""}})}markFormGroupTouched(t){Object.values(t.controls).forEach(n=>{n.markAsTouched(),n instanceof s.gE&&this.markFormGroupTouched(n)})}goToClients(){this.router.navigate(["/clients"])}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(r.Ix),e.rXU(s.ok),e.rXU(p.r),e.rXU(d.X),e.rXU(r.nX),e.rXU(l.c))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-detail-edit-client"]],decls:91,vars:23,consts:[["auto","matAutocomplete"],[1,"container_global"],[1,"content_formulaire"],[1,"modal-body"],[1,"container_formulaire",3,"formGroup"],[1,"Title"],[1,"form_left_right"],[1,"formulaire"],[1,"information_cadre"],[1,"info_titre_input"],[1,"champ_grid"],[1,"champ_input"],["type","text","id","nomComplet","formControlName","nomComplet","name","nomComplet","placeholder","Saisis le nom et pr\xe9nom",1,"input_focus"],["for","nomComplet",1,"label"],["class","error",4,"ngIf"],["type","email","id","email","formControlName","email","name","email","placeholder","Saisis l'email",1,"input_focus"],["for","email",1,"label"],["id","adresse","formControlName","adresse","name","adresse","placeholder","Saisissez votre adresse ",1,"input_focus"],["for","adresse",1,"label"],["id","poste","formControlName","poste","name","poste","placeholder","Saisissez votre poste ",1,"input_focus"],["for","poste",1,"label"],[1,"grid_colonne"],[1,"champ_input","div1"],["formControlName","pays",1,"input_focus",3,"change"],["value","","disabled",""],["value","Mali"],["value","S\xe9n\xe9gal"],["value","C\xf4te d'Ivoire"],[1,"champ_input","div2"],["type","tel","id","telephone","formControlName","telephone","name","telephone","placeholder","Saisis le num\xe9ro de t\xe9l\xe9phone",1,"input_focus",3,"input"],["for","telephone",1,"label"],[1,"champ_input","div3"],["id","ville","formControlName","ville","name","ville","placeholder","Saisis la viille",1,"input_focus"],["for","pays",1,"label"],[1,"champ_input_inventaire"],[1,"switch"],["type","checkbox",3,"ngModelChange","ngModel","ngModelOptions"],[1,"slider","round"],["class","information_cadre",4,"ngIf"],[1,"information_cadre","information_cadre_save"],[1,"container_error_message"],["class","error-messageApi2",4,"ngIf"],["class","success-messageApi2",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"info_titre_input","info_titre_input_btn"],[1,"btn_annuler"],[1,"btn_cancel",3,"click"],[1,"btn_ajouter"],[1,"btn_save",3,"click","disabled"],[1,"container_formulaire"],[1,"table-container"],["class","loading-indicator",4,"ngIf"],["class","empty-state",4,"ngIf"],[4,"ngIf"],["class","popup-overlay",4,"ngIf"],[1,"error"],["type","text","placeholder","Selectionner un entreprise","matInput","",1,"input_focus","input_cursor",3,"formControl","matAutocomplete"],["for","categorieId",1,"label"],[3,"optionSelected","displayWith"],[1,"select-option",3,"click"],[2,"display","flex","align-items","center","color","#0672E4"],[1,"ri-community-line"],[2,"margin-left","8px"],[3,"value",4,"ngFor","ngForOf"],[1,"icon_arrow"],[1,"ri-arrow-down-s-line"],[3,"value"],[1,"option-content"],[1,"error-messageApi2"],[1,"success-messageApi2"],[1,"error-message"],[1,"loading-indicator"],[1,"ri-loader-4-line","spin"],[1,"empty-state"],[1,"ri-file-list-2-line"],[1,"text-right"],[4,"ngFor","ngForOf"],["colspan","3",1,"text-bold"],[1,"text-right","text-bold",2,"position","absolute","right","5%"],[1,"status-badge",3,"ngClass"],[1,"popup-overlay"],[1,"popup-content"],[1,"popup-header"],[1,"close-btn",3,"click"],[3,"formGroup"],[1,"popup-body"],["type","text","formControlName","nom","placeholder","Saisis le nom de l'entreprise",1,"input_focus"],[1,"label"],[2,"color","#ff0000","margin-left","5px"],["class","error-text",4,"ngIf"],["type","email","formControlName","email","placeholder","Saisis l'email",1,"input_focus"],["type","text","formControlName","adresse","placeholder","Saisis l'adresse",1,"input_focus"],["type","tel","formControlName","telephone","placeholder","00 00 00 00",1,"input_focus"],["class","error-messageApi",4,"ngIf"],[1,"popup-footer"],["type","button",1,"btn-cancel",3,"click"],["type","submit",1,"btn-submit",3,"click","disabled"],[1,"error-text"],[1,"error-messageApi"]],template:function(n,o){if(1&n&&(e.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"form",4)(4,"div",5)(5,"h3"),e.EFF(6,"Modifier un client"),e.k0s()(),e.j41(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"div",11),e.nrm(13,"input",12),e.j41(14,"label",13),e.EFF(15,"Nom et pr\xe9nom"),e.k0s(),e.DNE(16,T,3,2,"div",14),e.k0s(),e.j41(17,"div",11),e.nrm(18,"input",15),e.j41(19,"label",16),e.EFF(20,"Email"),e.k0s(),e.DNE(21,A,2,1,"div",14),e.k0s()(),e.j41(22,"div",10)(23,"div",11),e.nrm(24,"input",17),e.j41(25,"label",18),e.EFF(26,"Adresse"),e.k0s()(),e.j41(27,"div",11),e.nrm(28,"input",19),e.j41(29,"label",20),e.EFF(30,"Poste"),e.k0s()()(),e.j41(31,"div",21)(32,"div",22)(33,"select",23),e.bIt("change",function(f){return o.onPaysChange(f)}),e.j41(34,"option",24),e.EFF(35,"Pays"),e.k0s(),e.j41(36,"option",25),e.EFF(37,"Mali"),e.k0s(),e.j41(38,"option",26),e.EFF(39,"S\xe9n\xe9gal"),e.k0s(),e.j41(40,"option",27),e.EFF(41,"C\xf4te d'Ivoire"),e.k0s()()(),e.j41(42,"div",28)(43,"input",29),e.bIt("input",function(){return o.formatPhoneNumber()}),e.k0s(),e.j41(44,"label",30),e.EFF(45,"T\xe9l\xe9phone"),e.k0s()(),e.j41(46,"div",31),e.nrm(47,"input",32),e.j41(48,"label",33),e.EFF(49,"Ville"),e.k0s()()()()(),e.j41(50,"div",8)(51,"div",9)(52,"h4"),e.EFF(53,"Entreprise"),e.k0s(),e.j41(54,"div",34)(55,"p"),e.EFF(56,"J'appartient \xe0 une entreprise"),e.k0s(),e.j41(57,"label",35)(58,"input",36),e.mxI("ngModelChange",function(f){return e.DH7(o.isEntrepriseSelected,f)||(o.isEntrepriseSelected=f),f}),e.k0s(),e.nrm(59,"span",37),e.k0s()()()(),e.DNE(60,R,17,6,"div",38),e.j41(61,"div",39)(62,"div",40),e.DNE(63,S,2,1,"div",41)(64,L,2,1,"div",42)(65,U,2,0,"div",43),e.k0s(),e.j41(66,"div",44)(67,"div",45)(68,"button",46),e.bIt("click",function(){return o.goToClients()}),e.EFF(69,"Annuler"),e.k0s()(),e.j41(70,"div",47)(71,"button",48),e.bIt("click",function(){return o.modifierClient()}),e.EFF(72," Modifier "),e.k0s()()()()()()()()(),e.j41(73,"div",2)(74,"div",3)(75,"div",49)(76,"div",5)(77,"h3"),e.EFF(78,"Factures li\xe9es au client"),e.k0s()(),e.j41(79,"div",50),e.DNE(80,B,3,0,"div",51)(81,N,2,1,"div",43)(82,z,4,0,"div",52)(83,W,20,4,"table",53),e.k0s()()()(),e.j41(84,"div",2)(85,"div",3)(86,"form",49)(87,"div",5)(88,"h3"),e.EFF(89,"Autres"),e.k0s()()()()()(),e.DNE(90,Y,37,10,"div",54)),2&n){let h,f;e.R7$(3),e.Y8G("formGroup",o.modifierClientForm),e.R7$(13),e.Y8G("ngIf",(null==(h=o.modifierClientForm.get("nomComplet"))?null:h.touched)&&(null==(h=o.modifierClientForm.get("nomComplet"))?null:h.invalid)),e.R7$(5),e.Y8G("ngIf",(null==(f=o.modifierClientForm.get("email"))?null:f.touched)&&(null==(f=o.modifierClientForm.get("email"))?null:f.invalid)),e.R7$(37),e.R50("ngModel",o.isEntrepriseSelected),e.Y8G("ngModelOptions",e.lJ4(22,m)),e.R7$(2),e.Y8G("ngIf",o.isEntrepriseSelected),e.R7$(3),e.Y8G("ngIf",o.errorMessage),e.R7$(),e.Y8G("ngIf",o.successMessage),e.R7$(),e.Y8G("ngIf",o.entrepriseRequiredError),e.R7$(6),e.xc7("background-color",o.modifierClientForm.valid?"#0672E4":"#0671e434")("color",o.modifierClientForm.valid?"#ffffff":"#00000073")("cursor",o.modifierClientForm.valid?"pointer":"no-drop"),e.Y8G("disabled",o.modifierClientForm.invalid)("disabled",o.modifierClientForm.invalid),e.R7$(9),e.Y8G("ngIf",o.loadingFactures),e.R7$(),e.Y8G("ngIf",!o.loadingFactures&&o.errorFactures),e.R7$(),e.Y8G("ngIf",!o.loadingFactures&&!o.errorFactures&&0===o.facturesClient.length),e.R7$(),e.Y8G("ngIf",!o.loadingFactures&&!o.errorFactures&&o.facturesClient.length>0),e.R7$(7),e.Y8G("ngIf",o.showPopup)}},dependencies:[s.YN,s.qT,s.xH,s.y7,s.me,s.Zm,s.wz,s.BC,s.cb,s.vS,s.cV,E.MD,E.YU,E.Sq,E.bT,E.Jj,E.vh,s.X1,s.l_,s.j4,s.JD,k.jL,k.$3,g.M,k.pN,c.v],styles:['@charset "UTF-8";.container_global[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:1fr;grid-column-gap:0px;grid-row-gap:0px;gap:15px}.container_formulaire[_ngcontent-%COMP%]{display:grid;grid-template-rows:auto 1fr;height:100%}.content_formulaire[_ngcontent-%COMP%]{width:100%;max-height:57vh;overflow-y:auto;white-space:nowrap;border:1px solid #ebebeb;box-shadow:4px 4px 30px #0003;padding:0}.content_formulaire[_ngcontent-%COMP%]::-webkit-scrollbar{width:2px;height:2px}.content_formulaire[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#0003;border-radius:3px}.content_formulaire[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.Title[_ngcontent-%COMP%]{position:sticky;top:0;background:#fff;z-index:10;font-size:14px;padding:6px 0 0 10px;box-shadow:#2123261a 0 10px 10px -10px}.form_left_right[_ngcontent-%COMP%]{overflow-y:auto;padding-right:8px}.champ_input[_ngcontent-%COMP%]{position:relative;margin-bottom:5px}.champ_input_list_stock[_ngcontent-%COMP%]{position:relative;margin-bottom:10px}.champ_input[_ngcontent-%COMP%]   .title_input[_ngcontent-%COMP%]{position:absolute;top:-18px}.champ_input_Categorie[_ngcontent-%COMP%]{margin-bottom:15px!important}.formulaire[_ngcontent-%COMP%]{position:relative}.Title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:14px}.input_focus[_ngcontent-%COMP%]{width:100%;height:40px;outline:none;border-bottom:1px solid rgb(53,50,50);border-top:none;border-left:none;border-right:none;margin:10px 0 0;transition:all .3s;font-size:10px;background:none;color:#000}.champ_input[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{position:absolute;top:22px;left:4px;pointer-events:none;color:#999}.input_focus[_ngcontent-%COMP%]:hover{border-bottom:1px solid #0672E4;border-top:none;border-left:none;border-right:none}.input_focus[_ngcontent-%COMP%]:not(:placeholder-shown) + .label[_ngcontent-%COMP%], .input_focus[_ngcontent-%COMP%]:focus + .label[_ngcontent-%COMP%]{color:#0672e4;top:5px;left:0;transition:all .3s ease-in-out;background:none;font-size:10px;padding:0}.input_focus[_ngcontent-%COMP%]::placeholder{opacity:0}.input_focus[_ngcontent-%COMP%]:focus::placeholder{opacity:1;animation-delay:1s;font-size:12px;transition:all .2s ease-in-out}.input_focus2[_ngcontent-%COMP%]{width:100%;min-width:250px;height:57px;outline:none;border-top:none;border-left:none;border-right:none;margin:10px 0 0;transition:all .3s;font-size:14px;padding-left:10px;background:none;color:#000;border-radius:5px;padding-top:10px;border-bottom:1px solid rgb(53,50,50);resize:none}.input_focus2[_ngcontent-%COMP%]:hover{border-bottom:1px solid #0672E4;border-top:none;border-left:none;border-right:none}.champ_input2[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{position:absolute;top:22px;left:0;pointer-events:none;color:#999}.champ_input[_ngcontent-%COMP%]   .labelCategory[_ngcontent-%COMP%]{color:#423838;left:0;font-size:14px}.input_focus2[_ngcontent-%COMP%]:not(:placeholder-shown) + .label[_ngcontent-%COMP%], .input_focus2[_ngcontent-%COMP%]:focus + .label[_ngcontent-%COMP%]{color:#0672e4;top:0;left:0;transition:all .3s ease-in-out;background:none;font-size:11px;padding:0;background-color:#fff}.input_focus2[_ngcontent-%COMP%]::placeholder{opacity:0}.input_focus2[_ngcontent-%COMP%]:focus::placeholder{opacity:1;animation-delay:1s;font-size:15px;transition:all .2s ease-in-out}.info_titre_input[_ngcontent-%COMP%]{padding:0 12px}.info_titre_input[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px;margin-bottom:10px;letter-spacing:.6px}.champ_input2[_ngcontent-%COMP%]{display:inline-block;width:50%;box-sizing:border-box;vertical-align:top}.champ_grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-template-rows:1fr;grid-column-gap:0px;grid-row-gap:0px;gap:20px}.champ_input_inventaire[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:10px}.information_cadre[_ngcontent-%COMP%]{width:100%;height:auto;background-color:#fff;box-shadow:2px 2px 30px #0000001c;border-radius:5px;margin-top:0;margin-bottom:10px;padding:10px 0}.double_input[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;margin-top:-20px}.container_file[_ngcontent-%COMP%]{width:150px;border-radius:10px;box-shadow:4px 4px 30px #0003;display:flex;flex-direction:column;align-items:center;justify-content:space-between;padding:10px;gap:5px;background-color:#006eff0a;margin-bottom:10px;margin-top:20px}.header_file[_ngcontent-%COMP%]{height:140px;width:140px;border:1px dashed rgba(6,113,228,.6156862745);border-radius:10px;flex-direction:column;overflow:hidden;display:flex;align-items:center;justify-content:center;box-shadow:#959da533 0 8px 24px}.header_file[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:cover;transition:transform .2s}.header_file[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:100px}.header_file[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;color:#000}.footer_file[_ngcontent-%COMP%]{background-color:#006eff13;width:140px;height:35px;padding:5px 8px;border-radius:5px;cursor:pointer;display:flex;align-items:center;color:#000;border:none;margin-top:3px}.footer_file[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0!important;font-size:10px}.footer_file[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px;margin-right:7px}#file[_ngcontent-%COMP%]{display:none}.header_file[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.container_error_message[_ngcontent-%COMP%]{margin-left:20px}.error-message[_ngcontent-%COMP%]{font-size:14px;color:red;font-weight:700}.information_cadre_save[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.info_titre_input_btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:end;gap:8px}.btn_annuler[_ngcontent-%COMP%]   .btn_cancel[_ngcontent-%COMP%]{padding:6px 20px;font-size:10px;letter-spacing:.6px;border:none;border-radius:5px;background-color:red;color:#fff}.btn_annuler[_ngcontent-%COMP%]   .btn_cancel[_ngcontent-%COMP%]:hover{background-color:#d80101;transition:all ease-in .5s}.btn_ajouter[_ngcontent-%COMP%]   .btn_save[_ngcontent-%COMP%]{padding:6px 20px;font-size:10px;letter-spacing:.6px;border:none;border-radius:5px;background-color:#0672e4;color:#fff}.btn_ajouter[_ngcontent-%COMP%]   .btn_save[_ngcontent-%COMP%]:hover{background-color:#0863c5;transition:all .5s}.champ_input_inventaire[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}.champ_input_inventaire[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:30px;height:15px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0 0 0 2px;background-color:#ccc;transition:.4s;border-radius:24px}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:11px;width:11px;left:2px;bottom:2px;background-color:#fff;transition:.4s;border-radius:50%}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#0672e4}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(13px)}.input_cursor[_ngcontent-%COMP%]{cursor:pointer}.icon_arrow[_ngcontent-%COMP%]{position:absolute;right:10px;top:25px}.icon_arrow[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:17px;color:#000}.popup-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.popup-content[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;width:50%}.popup-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.popup-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer}.popup-footer[_ngcontent-%COMP%]{margin-top:20px;text-align:right}.btn-cancel[_ngcontent-%COMP%], .btn-submit[_ngcontent-%COMP%]{margin-left:10px;border:none;border-radius:4px;cursor:pointer}.btn-cancel[_ngcontent-%COMP%]{background-color:red;padding:6px 25px;color:#fff}.btn-cancel[_ngcontent-%COMP%]:hover{background-color:#d80101;transition:all ease-in .5s}.btn-submit[_ngcontent-%COMP%]{background-color:#0672e4;padding:6px 25px;color:#fff;cursor:pointer;cursor:no-drop}.btn-submit[_ngcontent-%COMP%]:hover{background-color:#0863c5;transition:all ease-in .5s}.error-text[_ngcontent-%COMP%]{color:#f44;font-size:.8rem;margin-top:4px}.btn-submit[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.error-messageApi[_ngcontent-%COMP%]{font-size:9px;color:red;font-weight:700;position:relative;top:-20px;left:-20px}.success-messageApi[_ngcontent-%COMP%]{font-size:9px;color:#0672e4;font-weight:700;position:relative;top:-20px;left:-20px}.error-messageApi2[_ngcontent-%COMP%]{font-size:9px;color:red;font-weight:700}.success-messageApi2[_ngcontent-%COMP%]{font-size:9px;color:#0672e4;font-weight:700}.error[_ngcontent-%COMP%]{font-size:9px;color:red;font-weight:700;position:relative}.grid_colonne[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:1fr;grid-column-gap:0px;grid-row-gap:0px;gap:20px}.div1[_ngcontent-%COMP%]{grid-area:1/1/2/2}.div2[_ngcontent-%COMP%]{grid-area:1/2/2/3}.div3[_ngcontent-%COMP%]{grid-area:1/3/2/4}.table-container[_ngcontent-%COMP%]{margin:0;border:1px solid #e0e0e0;overflow:auto;box-shadow:0 2px 10px #0000000d}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:2px;height:2px}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#0003;border-radius:3px}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:10px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;text-align:left;border-bottom:1px solid #eee}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f8f9fa;font-weight:600;color:#495057}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background-color .2s}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#f1f3f5}table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:600;color:#212529}.text-right[_ngcontent-%COMP%]{text-align:right}.text-bold[_ngcontent-%COMP%]{font-weight:600}.status-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 8px;border-radius:12px;font-size:9px;font-weight:500}.status-badge.draft[_ngcontent-%COMP%]{background-color:#e9ecef;color:#495057}.status-badge.sent[_ngcontent-%COMP%]{background-color:#fff3cd;color:#856404}.status-badge.approved[_ngcontent-%COMP%]{background-color:#c5c5e2;color:#00f}.status-badge.valid[_ngcontent-%COMP%]{background-color:#d5e6d5;color:green}.loading-indicator[_ngcontent-%COMP%]{padding:20px;text-align:center;color:#6c757d}.loading-indicator[_ngcontent-%COMP%]   .spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-right:8px}.empty-state[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;color:#6c757d}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:48px;margin-bottom:16px;color:#ced4da}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.error-message[_ngcontent-%COMP%]{padding:20px;text-align:center;color:#dc3545;background-color:#fff8f8;border-radius:8px;margin:10px 0}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}}return i})()}}]);