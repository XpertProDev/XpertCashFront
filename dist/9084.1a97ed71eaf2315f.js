"use strict";(self.webpackChunkskeleton=self.webpackChunkskeleton||[]).push([[9084],{6703:(f,g,s)=>{s.r(g),s.d(g,{VenteComponent:()=>m});var l=s(2288),h=s(9107),d=(s(4941),s(9417)),u=s(177),t=s(4438);function _(i,p){if(1&i){const e=t.RV6();t.j41(0,"div",18)(1,"div",19),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.downloadExcel())}),t.EFF(2,"T\xe9l\xe9charger en Excel"),t.k0s(),t.j41(3,"div",19),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.downloadPDF())}),t.EFF(4,"T\xe9l\xe9charger en PDF"),t.k0s(),t.j41(5,"div",19),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.downloadCSV())}),t.EFF(6,"T\xe9l\xe9charger en CSV"),t.k0s()()}}function P(i,p){if(1&i&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.nrm(5,"td",20),t.j41(6,"td"),t.EFF(7),t.k0s(),t.nrm(8,"td",20),t.j41(9,"td"),t.EFF(10),t.k0s(),t.j41(11,"td"),t.EFF(12),t.k0s(),t.j41(13,"td"),t.EFF(14),t.k0s(),t.j41(15,"td"),t.EFF(16),t.k0s()()),2&i){const e=p.$implicit,n=t.XpG();t.R7$(2),t.JRh(n.tasks.indexOf(e)+1),t.R7$(2),t.JRh(e.DateHeure),t.R7$(),t.Y8G("innerHTML",n.highlightMatch(e.Category),t.npT),t.R7$(2),t.JRh(e.Journalier),t.R7$(),t.Y8G("innerHTML",n.highlightMatch(e.NomDuProduit),t.npT),t.R7$(2),t.JRh(e.Quantite),t.R7$(2),t.JRh(e.QuantitePrix),t.R7$(2),t.JRh(e.PrixUnitaire),t.R7$(2),t.JRh(e.PrixTotal)}}function C(i,p){if(1&i&&(t.j41(0,"div",21)(1,"p",22),t.EFF(2),t.k0s()()),2&i){const e=t.XpG();t.R7$(2),t.SpI('Aucun r\xe9sultat trouv\xe9e pour "',e.searchText,'"')}}let m=(()=>{class i{constructor(){this.searchText="",this.tasks=[{DateHeure:"04-02-2025 \xe0 18:00",Category:"Alimentation",Journalier:"nmbrevente/j",NomDuProduit:"L'eau",Quantite:"300",QuantitePrix:"Facture des ventes",PrixUnitaire:"200",PrixTotal:"60 000"},{DateHeure:"05-02-2025 \xe0 14:00",Category:"Alimentation",Journalier:"nmbrevente/j",NomDuProduit:"L'eau",Quantite:"300",QuantitePrix:"Facture des ventes",PrixUnitaire:"200",PrixTotal:"60 000"},{DateHeure:"06-02-2025 10:00",Category:"\xc9lectronique",Journalier:"Oui",NomDuProduit:"T\xe9l\xe9phone",Quantite:2,QuantitePrix:400,PrixUnitaire:200,PrixTotal:400},{DateHeure:"06-02-2025 12:30",Category:"V\xeatements",Journalier:"Non",NomDuProduit:"T-shirt",Quantite:5,QuantitePrix:100,PrixUnitaire:20,PrixTotal:100},{DateHeure:"07-02-2025 15:00",Category:"\xc9lectronique",Journalier:"Oui",NomDuProduit:"Ordinateur",Quantite:1,QuantitePrix:1e3,PrixUnitaire:1e3,PrixTotal:1e3}],this.showExportDropdown=!1}filteredTasks(){return this.tasks.filter(e=>e.Category.toLowerCase().includes(this.searchText.toLowerCase())||e.NomDuProduit.toLowerCase().includes(this.searchText.toLowerCase()))}highlightMatch(e){if(!this.searchText)return e;const n=new RegExp(`(${this.searchText})`,"gi");return e.replace(n,"<strong>$1</strong>")}toggleExportDropdown(){this.showExportDropdown=!this.showExportDropdown}onClickOutside(e){e.target.closest(".export-container")||(this.showExportDropdown=!1)}downloadExcel(){console.log("T\xe9l\xe9charger en format Excel");const e=l.Wp.json_to_sheet(this.tasks),n=l.Wp.book_new();l.Wp.book_append_sheet(n,e,"Tasks"),l._h(n,"Facture des ventes.xlsx")}downloadPDF(){console.log("T\xe9l\xe9chargement PDF en cours...");const e=new h.jsPDF;e.setFontSize(18),e.text("Liste des t\xe2ches",14,22);const o=this.tasks.map(r=>[r.DateHeure,r.Category,r.Journalier,r.NomDuProduit,r.Quantite,r.QuantitePrix,r.PrixUnitaire,r.PrixTotal]);e.autoTable({head:[["Date & heure","Categorie","Journalier","Nom du produit","Quantite","Quantite prix","Prix unitaire","Prix Total"]],body:o,startY:30}),e.save("Facture des ventes.pdf")}downloadCSV(){const n=this.tasks.map(a=>[a.DateHeure,a.Category,a.Journalier,a.NomDuProduit,a.Quantite,a.QuantitePrix,a.PrixUnitaire,a.PrixTotal]),o=[["Date & heure","Categorie","Journalier","Nom du produit","Quantite","Quantite prix","Prix unitaire","Prix Total"].join(","),...n.map(a=>a.join(","))].join("\n"),r=new Blob([o],{type:"text/csv;charset=utf-8;"}),c=document.createElement("a");c.href=URL.createObjectURL(r),c.download="Facture des ventes.csv",c.click()}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-vente"]],hostBindings:function(n,o){1&n&&t.bIt("click",function(c){return o.onClickOutside(c)},!1,t.EBC)},decls:49,vars:4,consts:[[1,"containerTable"],[1,"tasks-header"],[1,"title"],[1,"actions"],[1,"add-task"],[1,"contentIcon"],[1,"ri-refresh-line"],[1,"bare"],[1,"export-container"],[1,"iconDrop"],[1,"ri-printer-cloud-line",3,"click"],["class","export-dropdown",4,"ngIf"],[1,"inputSearch"],[1,"ri-search-2-line"],["type","text","placeholder","Recherche....",3,"ngModelChange","ngModel"],[1,"icon-sort"],[4,"ngFor","ngForOf"],["style","text-align: center; margin-top: 20px;",4,"ngIf"],[1,"export-dropdown"],[1,"export-option",3,"click"],[3,"innerHTML"],[2,"text-align","center","margin-top","20px"],[2,"color","red"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"h1",2),t.EFF(3,"Ventes"),t.k0s(),t.j41(4,"div",3)(5,"button",4),t.EFF(6,"Ajouter un ???"),t.k0s(),t.j41(7,"div",5),t.nrm(8,"i",6)(9,"div",7),t.j41(10,"div",8)(11,"div",9)(12,"i",10),t.bIt("click",function(){return o.toggleExportDropdown()}),t.k0s()(),t.DNE(13,_,7,0,"div",11),t.k0s()(),t.j41(14,"div",12),t.nrm(15,"i",13),t.j41(16,"input",14),t.mxI("ngModelChange",function(c){return t.DH7(o.searchText,c)||(o.searchText=c),c}),t.k0s()()()(),t.j41(17,"table")(18,"thead")(19,"tr")(20,"th"),t.EFF(21,"Id"),t.k0s(),t.j41(22,"th"),t.EFF(23,"Date & heure "),t.nrm(24,"i",15),t.k0s(),t.j41(25,"th"),t.EFF(26,"Categories "),t.nrm(27,"i",15),t.k0s(),t.j41(28,"th"),t.EFF(29,"Journalier "),t.nrm(30,"i",15),t.k0s(),t.j41(31,"th"),t.EFF(32,"Nom du produit "),t.nrm(33,"i",15),t.k0s(),t.j41(34,"th"),t.EFF(35,"Quantit\xe9 "),t.nrm(36,"i",15),t.k0s(),t.j41(37,"th"),t.EFF(38,"Quantit\xe9 prix "),t.nrm(39,"i",15),t.k0s(),t.j41(40,"th"),t.EFF(41,"Prix unitaire "),t.nrm(42,"i",15),t.k0s(),t.j41(43,"th"),t.EFF(44,"Prix Total "),t.nrm(45,"i",15),t.k0s()()(),t.j41(46,"tbody"),t.DNE(47,P,17,9,"tr",16),t.k0s()(),t.DNE(48,C,3,1,"div",17),t.k0s()),2&n&&(t.R7$(13),t.Y8G("ngIf",o.showExportDropdown),t.R7$(3),t.R50("ngModel",o.searchText),t.R7$(31),t.Y8G("ngForOf",o.filteredTasks()),t.R7$(),t.Y8G("ngIf",0===o.filteredTasks().length))},dependencies:[u.MD,u.Sq,u.bT,d.YN,d.me,d.BC,d.vS],styles:["table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.title[_ngcontent-%COMP%]{font-size:18px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px}th[_ngcontent-%COMP%]{background-color:#f2f2f2}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f9f9f9}tr[_ngcontent-%COMP%]:hover{background-color:#ddd}.containerTable[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:10px}.tasks-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:20px}.actions[_ngcontent-%COMP%]{display:flex;align-items:center}.actions[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#000}.add-task[_ngcontent-%COMP%]{padding:10px 30px;background-color:#0672e4;color:#fff;border-radius:5px;border:none}.contentIcon[_ngcontent-%COMP%]{margin:0 10px;display:flex;align-items:center}.contentIcon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding:0 15px;font-size:20px;cursor:pointer}.contentIcon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:#0672e4;transition:all .5s ease}.bare[_ngcontent-%COMP%]{width:2px;height:30px;background-color:#eee}.inputSearch[_ngcontent-%COMP%]{position:relative;width:250px;height:40px;display:flex;align-items:center}.inputSearch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:100%;padding-left:10px;border-radius:5px}.inputSearch[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:15px;font-size:17px}.export-container[_ngcontent-%COMP%]{position:relative;display:inline-block}.export-dropdown[_ngcontent-%COMP%]{position:absolute;background-color:#f9f9f9;min-width:180px;box-shadow:0 8px 16px #00000063;z-index:1;top:100%;left:0;border-radius:5px}.export-dropdown[_ngcontent-%COMP%]   .export-option[_ngcontent-%COMP%]{padding:12px 16px;cursor:pointer}.export-dropdown[_ngcontent-%COMP%]   .export-option[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.iconDrop[_ngcontent-%COMP%]{display:flex;align-items:center}.iconMontreArrow[_ngcontent-%COMP%]{margin-left:-30px}.iconMontreArrow[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px}"]})}}return i})()}}]);