"use strict";(self.webpackChunkskeleton=self.webpackChunkskeleton||[]).push([[6594],{9803:(B,v,u)=>{u.r(v),u.d(v,{DetailEditFournisseurComponent:()=>P});var O=u(467),F=u(177),g=u(9417),j=u(6967),k=u(2525),y=u(9454),I=u(636),w=u(6850),e=u(4438),T=u(5408),D=u(9192);const S=["fileInput"];function z(a,h){if(1&a&&(e.j41(0,"div",65),e.EFF(1),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI(" ",t.errorMessage," ")}}function A(a,h){if(1&a&&(e.j41(0,"div",66),e.EFF(1),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI(" ",t.successMessage," ")}}function V(a,h){1&a&&(e.j41(0,"div",67)(1,"div",68),e.nrm(2,"div",69),e.j41(3,"p"),e.EFF(4,"Creation en cours..."),e.k0s()()())}function c(a,h){if(1&a){const t=e.RV6();e.j41(0,"div",70)(1,"div",71)(2,"h4",72),e.EFF(3,"Confirmation"),e.k0s(),e.j41(4,"p",73),e.EFF(5,"\xcates-vous s\xfbr de vouloir supprimer ce fournisseur ?"),e.k0s(),e.j41(6,"div",74)(7,"button",75),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteF())}),e.EFF(8,"OUI"),e.k0s(),e.j41(9,"button",76),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.showConfirmationModalF=!1)}),e.EFF(10,"NON"),e.k0s()()()()}}function o(a,h){if(1&a){const t=e.RV6();e.j41(0,"i",77),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleEditing())}),e.k0s()}}function r(a,h){if(1&a){const t=e.RV6();e.j41(0,"i",78),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleEditing())}),e.k0s()}}function s(a,h){1&a&&(e.j41(0,"small"),e.EFF(1,"Champ requis."),e.k0s())}function f(a,h){1&a&&(e.j41(0,"small"),e.EFF(1,"Au moins 2 caract\xe8res."),e.k0s())}function d(a,h){if(1&a&&(e.j41(0,"div",79),e.DNE(1,s,2,0,"small",80)(2,f,2,0,"small",80),e.k0s()),2&a){let t,i;const n=e.XpG();e.R7$(),e.Y8G("ngIf",null==(t=n.fournisseurEditForm.get("nomComplet"))||null==t.errors?null:t.errors.required),e.R7$(),e.Y8G("ngIf",null==(i=n.fournisseurEditForm.get("nomComplet"))||null==i.errors?null:i.errors.minlength)}}function _(a,h){1&a&&(e.j41(0,"div",79)(1,"small"),e.EFF(2,"Ce champ est requis"),e.k0s()())}function M(a,h){1&a&&(e.j41(0,"div",79)(1,"small"),e.EFF(2,"Format invalide"),e.k0s()())}function x(a,h){1&a&&(e.j41(0,"small"),e.EFF(1,"Format invalide."),e.k0s())}function b(a,h){if(1&a&&(e.j41(0,"div",79),e.DNE(1,x,2,0,"small",80),e.k0s()),2&a){let t;const i=e.XpG();e.R7$(),e.Y8G("ngIf",null==(t=i.fournisseurEditForm.get("email"))||null==t.errors?null:t.errors.email)}}function C(a,h){if(1&a){const t=e.RV6();e.j41(0,"div",81),e.nrm(1,"div",82),e.j41(2,"div",83)(3,"div",84)(4,"button",85),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.goToFournisseur())}),e.EFF(5,"Annuler"),e.k0s()(),e.j41(6,"div",86)(7,"button",87),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.modifierFournisseur())}),e.EFF(8," Modifier "),e.k0s()()()()}if(2&a){const t=e.XpG();e.R7$(7),e.xc7("background-color",t.fournisseurEditForm.valid?"#0672E4":"#0671e434")("color",t.fournisseurEditForm.valid?"#ffffff":"#00000073")("cursor",t.fournisseurEditForm.valid?"pointer":"no-drop"),e.Y8G("disabled",t.fournisseurEditForm.invalid)}}let P=(()=>{class a{constructor(t,i,n,l){this.fb=t,this.fournisseurService=i,this.router=n,this.route=l,this.imgUrl=k.c.imgUrl,this.isLoading=!1,this.errorMessage="",this.successMessage="",this.errorMessageApi="",this.isEditing=!1,this.fournisseurPhotoUrl=null,this.newPhotoUrl=null,this.control=new g.MJ,this.selectedFile=null,this.selectedCompressedFile=null,this.indicatif="",this.maxPhoneLength=0,this.paysIndicatifs={Mali:{indicatif:"+223",longueur:8},S\u00e9n\u00e9gal:{indicatif:"+221",longueur:9},"C\xf4te d'Ivoire":{indicatif:"+225",longueur:10}},this.showConfirmationModalF=!1,this.isDeletingF=!1}ngOnInit(){this.getInitForm(),this.loadFournisseur(),this.fournisseurEditForm.disable(),this.control.disable(),this.fournisseurEditForm.get("pays")?.valueChanges.subscribe(t=>{this.formatPhoneNumber()})}startEditing(){this.isEditing=!0,this.fournisseurEditForm.enable()}getInitForm(){this.fournisseurEditForm=this.fb.group({nomComplet:["",[g.k0.required,g.k0.minLength(2)]],email:["",[g.k0.email]],adresse:[""],pays:[""],telephone:[""],description:[""],ville:[""],nomSociete:[""],photo:[null]})}onPaysChange(t){const n=this.paysIndicatifs[t.target.value];n&&(this.indicatif=`${n.indicatif} `,this.maxPhoneLength=this.indicatif.length+n.longueur,this.fournisseurEditForm.get("telephone")?.value.startsWith(this.indicatif)||this.fournisseurEditForm.get("telephone")?.setValue(this.indicatif),this.updatePhoneValidator(n.longueur))}updatePhoneValidator(t){const i=[];if(this.indicatif){const n=new RegExp(`^\\${this.indicatif}\\s*\\d{${t}}$`);i.push(g.k0.pattern(n))}this.fournisseurEditForm.get("telephone")?.setValidators(i),this.fournisseurEditForm.get("telephone")?.updateValueAndValidity()}onFileSelected(t){const i=t.target;if(i.files&&i.files.length>0){const n=i.files[0];if(this.selectedFile=n,!["image/jpeg","image/png","image/jpg"].includes(n.type))return void(this.errorMessage="Seuls les formats JPG, PNG sont accept\xe9s");this.testImageCompression(n);const p=new FileReader;p.onload=m=>{this.newPhotoUrl=m.target?.result},p.readAsDataURL(n)}}testImageCompression(t){var i=this;return(0,O.A)(function*(){if(!t)return console.log("Aucun fichier s\xe9lectionn\xe9."),null;console.log("Taille originale:",t.size/1024,"Ko");const n={maxSizeMB:1,maxWidthOrHeight:1e3,useWebWorker:!0};try{const l=yield(0,j.A)(t,n);if(console.log("Taille apr\xe8s compression:",l.size/1024,"Ko"),!l.type.startsWith("image/"))return console.error("Le fichier compress\xe9 n'est pas un format d'image valide."),i.errorMessage="Erreur de compression : Le fichier n'est pas une image.",null;const p=t.name.split(".").slice(0,-1).join(".")||"image";let m="png";"image/jpeg"===l.type?m="jpg":"image/png"===l.type?m="png":"image/webp"===l.type&&(m="webp");const E=`${p}.${m}`;return new File([l],E,{type:l.type,lastModified:Date.now()})}catch(l){return console.error("Erreur lors de la compression:",l),null}})()}formatPhoneNumber(){let t=this.fournisseurEditForm.get("telephone")?.value;if(!t.startsWith(this.indicatif))return void this.fournisseurEditForm.get("telephone")?.setValue(this.indicatif);const i=t.replace(this.indicatif,"").replace(/\D/g,""),n=this.indicatif+i;this.fournisseurEditForm.get("telephone")?.setValue(n.slice(0,this.maxPhoneLength))}loadFournisseur(){const t=Number(this.route.snapshot.paramMap.get("id"));this.fournisseurService.getFournisseurById(t).subscribe({next:i=>{const n=i.fournisseur;if(this.fournisseur=n,n.pays&&this.paysIndicatifs[n.pays]){const l=this.paysIndicatifs[n.pays];this.indicatif=`${l.indicatif} `,this.maxPhoneLength=this.indicatif.length+l.longueur;let p=n.telephone||"";p&&!p.startsWith(this.indicatif)&&(p=this.indicatif+p.replace(/\D/g,"")),n.telephone=p.slice(0,this.maxPhoneLength)}this.fournisseurEditForm.patchValue({nomComplet:n.nomComplet,email:n.email,adresse:n.adresse,pays:n.pays,telephone:n.telephone,description:n.description,ville:n.ville,nomSociete:n.nomSociete}),this.fournisseurPhotoUrl=n.photo?`${this.imgUrl}${n.photo}`:""},error:i=>console.error("Erreur de chargement",i)})}triggerFileInput(){this.isEditing&&this.fileInput.nativeElement.click()}toggleEditing(){this.isEditing=!this.isEditing,this.isEditing?this.fournisseurEditForm.enable():(this.selectedFile=null,this.newPhotoUrl=null,this.loadFournisseur(),this.fournisseurEditForm.disable())}goToFournisseur(){this.isEditing?this.cancelEditing():this.router.navigate(["/fournisseurs"])}cancelEditing(){this.isEditing=!1,this.fournisseurEditForm.disable(),this.loadFournisseur()}modifierFournisseur(){var t=this;return(0,O.A)(function*(){t.isLoading=!0,t.errorMessage="",t.successMessage="";try{const i=t.fournisseurEditForm.value;yield new Promise(p=>setTimeout(p,3e3));const l={id:t.fournisseur.id,nomComplet:i.nomComplet,email:i.email,adresse:i.adresse,pays:i.pays,telephone:i.telephone,description:i.description,ville:i.ville,nomSociete:i.nomSociete,photo:t.fournisseur.photo,createdAt:t.fournisseur.createdAt};yield t.fournisseurService.updateFournisseur(t.fournisseur.id,l,t.selectedFile||void 0).toPromise(),t.successMessage="Fournisseur mis \xe0 jour avec succ\xe8s!",t.selectedFile=null,t.newPhotoUrl=null,setTimeout(()=>{t.isEditing=!1,t.fournisseurEditForm.disable(),t.loadFournisseur()},500)}catch(i){console.error("Update error:",i),t.errorMessage=i.error?.message||"Erreur lors de la mise \xe0 jour"}finally{t.isLoading=!1}})()}navigateBack(){this.router.navigate(["/fournisseurs"])}deleteFournisseur(){this.fournisseur||this.fournisseursId?this.showConfirmationModalF=!0:console.error("Fournisseur ou ID non disponible.")}confirmDeleteF(){var t=this;return(0,O.A)(function*(){if(t.showConfirmationModalF=!1,t.fournisseur||t.fournisseursId){t.isDeletingF=!0,t.errorMessage="",t.successMessage="";try{const i=t.fournisseur?.id||t.fournisseursId,n=yield t.fournisseurService.deleteFournisseur(i).toPromise();t.successMessage=n?.message||"Fournisseur supprim\xe9 avec succ\xe8s !",setTimeout(()=>{t.router.navigate(["/fournisseurs"])},2e3)}catch(i){let n=i?.message||i?.error||"Erreur lors de la suppression.";const l="Une erreur est survenue : ";n.startsWith(l)&&(n=n.substring(l.length)),t.errorMessage=n}finally{t.isDeletingF=!1,setTimeout(()=>{t.errorMessage="",t.successMessage=""},5e3)}}else t.errorMessage="Fournisseur non disponible pour suppression."})()}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(g.ok),e.rXU(T.n),e.rXU(D.Ix),e.rXU(D.nX))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-detail-edit-fournisseur"]],viewQuery:function(i,n){if(1&i&&e.GBs(S,5),2&i){let l;e.mGM(l=e.lsd())&&(n.fileInput=l.first)}},decls:102,vars:15,consts:[["fileInput",""],[1,"toast-container"],["class","alert alert-danger toast-message-danger",4,"ngIf"],["class","alert alert-success toast-message-success",4,"ngIf"],[1,"container_client"],["title","Retour sur la page fournisseur",1,"retour_icon_text",2,"cursor","pointer","color","#0672E4",3,"click"],[1,"ri-arrow-left-s-line"],[2,"margin-left","8px","font-size","12px"],["class","loading-overlay",4,"ngIf"],[1,"information_cadre",2,"margin-bottom","20px","padding","20px"],[1,"info_personnel"],[1,"information_grid_two"],[1,"profil_section"],[1,"section_title"],[1,"title"],[1,"profile-img-wrapper",3,"click"],["alt","Photo de profil",1,"profile-img",3,"src"],[1,"overlay"],["src","assets/img/appareil.jpg","alt","Modifier",1,"camera-icon"],["type","file","accept","image/*","hidden","",3,"change"],[1,"taille_photo"],[2,"margin","0","font-size","8px","text-align","center"],[1,"delete-boutique-container",2,"margin-top","22px"],[2,"font-size","13px"],[1,"switch2"],["aria-label","Supprimer le fournisseur","title","Supprimer le fournisseur",1,"delete-boutique-btn",3,"click","disabled"],[1,"fas","fa-trash-alt"],["class","confirmation-modal-averB",4,"ngIf"],[1,"info_section"],[1,"title","title_display"],[1,"icon_edit"],["class","ri-edit-box-line","title","Cliquer ici pour modifier",3,"click",4,"ngIf"],["style","color: #ff0000;","class","ri-close-line","title","Fermer l'\xe9dition",3,"click",4,"ngIf"],[1,"container_formulaire",3,"formGroup"],[1,"champ_grid"],[1,"champ_input"],["type","text","id","nomComplet","formControlName","nomComplet","name","nomComplet","placeholder","Saisis le nom et pr\xe9nom",1,"input_focus"],["for","nomComplet",1,"label"],["class","error",4,"ngIf"],["type","text","id","nomSociete","formControlName","nomSociete","name","nomSociete","placeholder","Saisis l'entreprise",1,"input_focus"],["for","nomSociete",1,"label"],["type","text","formControlName","description","id","description","name","description","placeholder","Saisis le description",1,"input_focus2"],["for","description",1,"label"],[1,"champ_grid_true"],["formControlName","pays",1,"input_focus",3,"change"],["value","","disabled","","selected",""],["value","Mali"],["value","S\xe9n\xe9gal"],["value","C\xf4te d'Ivoire"],["for","pays",1,"label"],["type","tel","id","telephone","formControlName","telephone","name","telephone","placeholder","Saisis le num\xe9ro de t\xe9l\xe9phone",1,"input_focus",3,"input"],["for","telephone",1,"label"],["type","email","id","email","formControlName","email","name","email","placeholder","Saisis l'email",1,"input_focus"],["for","email",1,"label"],["id","ville","formControlName","ville","name","ville","placeholder","Saisis la ville",1,"input_focus"],["for","ville",1,"label"],["id","adresse","formControlName","adresse","name","adresse","placeholder","Saisis l'adresse",1,"input_focus"],["for","adresse",1,"label"],["class","information_cadre_save",4,"ngIf"],[1,"information_cadre"],[1,"section_navbar"],[1,"custom-tabs",3,"selectedIndex"],["label","Facture"],[1,"tab-content"],["label","????"],[1,"alert","alert-danger","toast-message-danger"],[1,"alert","alert-success","toast-message-success"],[1,"loading-overlay"],[1,"loading-content"],[1,"spinner"],[1,"confirmation-modal-averB"],[1,"modal-content-averB"],[2,"font-size","16px","margin-bottom","10px"],[2,"margin","0","font-size","12px"],[1,"modal-actions-averB"],[1,"btn-confirm",2,"font-size","12px",3,"click"],[1,"btn-cancel",2,"font-size","12px",3,"click"],["title","Cliquer ici pour modifier",1,"ri-edit-box-line",3,"click"],["title","Fermer l'\xe9dition",1,"ri-close-line",2,"color","#ff0000",3,"click"],[1,"error"],[4,"ngIf"],[1,"information_cadre_save"],[1,"container_error_message"],[1,"info_titre_input","info_titre_input_btn"],[1,"btn_annuler"],[1,"btn_cancel",3,"click"],[1,"btn_ajouter"],[1,"btn_save",3,"click","disabled"]],template:function(i,n){if(1&i){const l=e.RV6();e.j41(0,"div",1),e.DNE(1,z,2,1,"div",2)(2,A,2,1,"div",3),e.k0s(),e.j41(3,"div",4)(4,"p",5),e.bIt("click",function(){return e.eBV(l),e.Njj(n.navigateBack())}),e.nrm(5,"i",6),e.j41(6,"span",7),e.EFF(7,"Fournisseur"),e.k0s()(),e.DNE(8,V,5,0,"div",8),e.j41(9,"div",9)(10,"div",10)(11,"div",11)(12,"div",12)(13,"div",13)(14,"div",14)(15,"h6"),e.EFF(16,"Photo de profil du fournisseur"),e.k0s()()(),e.j41(17,"div",15),e.bIt("click",function(){return e.eBV(l),e.Njj(n.triggerFileInput())}),e.nrm(18,"img",16),e.j41(19,"div",17),e.nrm(20,"img",18),e.k0s()(),e.j41(21,"input",19,0),e.bIt("change",function(m){return e.eBV(l),e.Njj(n.onFileSelected(m))}),e.k0s(),e.j41(23,"div",20)(24,"p",21),e.EFF(25,"Formats JPG, GIF ou PNG autoris\xe9s. "),e.nrm(26,"br"),e.EFF(27," Taille maximale : 800 Ko."),e.k0s()(),e.j41(28,"div",22)(29,"span",23)(30,"span",23),e.EFF(31," Supprimer le fournisseur "),e.k0s()(),e.j41(32,"label",24)(33,"button",25),e.bIt("click",function(){return e.eBV(l),e.Njj(n.deleteFournisseur())}),e.nrm(34,"i",26),e.k0s()()()(),e.DNE(35,c,11,0,"div",27),e.j41(36,"div",28)(37,"div",13)(38,"div",29)(39,"h6"),e.EFF(40,"Informations Personnelles"),e.k0s(),e.j41(41,"div",30),e.DNE(42,o,1,0,"i",31)(43,r,1,0,"i",32),e.k0s()()(),e.j41(44,"form",33)(45,"div",34)(46,"div",35),e.nrm(47,"input",36),e.j41(48,"label",37),e.EFF(49,"Nom et pr\xe9nom"),e.k0s(),e.DNE(50,d,3,2,"div",38),e.k0s(),e.j41(51,"div",35),e.nrm(52,"input",39),e.j41(53,"label",40),e.EFF(54,"L'entreprise"),e.k0s()()(),e.j41(55,"div",35),e.nrm(56,"textarea",41),e.j41(57,"label",42),e.EFF(58,"Description"),e.k0s()(),e.j41(59,"div",43)(60,"div",35)(61,"select",44),e.bIt("change",function(m){return e.eBV(l),e.Njj(n.onPaysChange(m))}),e.j41(62,"option",45),e.EFF(63,"Pays"),e.k0s(),e.j41(64,"option",46),e.EFF(65,"Mali"),e.k0s(),e.j41(66,"option",47),e.EFF(67,"S\xe9n\xe9gal"),e.k0s(),e.j41(68,"option",48),e.EFF(69,"C\xf4te d'Ivoire"),e.k0s()(),e.j41(70,"label",49),e.EFF(71,"Pays"),e.k0s(),e.DNE(72,_,3,0,"div",38),e.k0s(),e.j41(73,"div",35)(74,"input",50),e.bIt("input",function(){return e.eBV(l),e.Njj(n.formatPhoneNumber())}),e.k0s(),e.j41(75,"label",51),e.EFF(76,"T\xe9l\xe9phone"),e.k0s(),e.DNE(77,M,3,0,"div",38),e.k0s(),e.j41(78,"div",35),e.nrm(79,"input",52),e.j41(80,"label",53),e.EFF(81,"Email"),e.k0s(),e.DNE(82,b,2,1,"div",38),e.k0s()(),e.j41(83,"div",34)(84,"div",35),e.nrm(85,"input",54),e.j41(86,"label",55),e.EFF(87,"Ville"),e.k0s()(),e.j41(88,"div",35),e.nrm(89,"input",56),e.j41(90,"label",57),e.EFF(91,"Adresse"),e.k0s()()()(),e.DNE(92,C,9,7,"div",58),e.k0s()()()(),e.j41(93,"div",59)(94,"div",60)(95,"mat-tab-group",61)(96,"mat-tab",62)(97,"div",63),e.EFF(98," Contenu des factures "),e.k0s()(),e.j41(99,"mat-tab",64)(100,"div",63),e.EFF(101," D'autre contenue "),e.k0s()()()()()()}if(2&i){let l,p,m,E;e.R7$(),e.Y8G("ngIf",n.errorMessage),e.R7$(),e.Y8G("ngIf",n.successMessage),e.R7$(6),e.Y8G("ngIf",n.isLoading),e.R7$(10),e.Y8G("src",n.newPhotoUrl||n.fournisseurPhotoUrl||"assets/img/profil.png",e.B4B),e.R7$(15),e.Y8G("disabled",n.isDeletingF),e.R7$(2),e.Y8G("ngIf",n.showConfirmationModalF),e.R7$(7),e.Y8G("ngIf",!n.isEditing),e.R7$(),e.Y8G("ngIf",n.isEditing),e.R7$(),e.Y8G("formGroup",n.fournisseurEditForm),e.R7$(6),e.Y8G("ngIf",(null==(l=n.fournisseurEditForm.get("nomComplet"))?null:l.touched)&&(null==(l=n.fournisseurEditForm.get("nomComplet"))?null:l.invalid)),e.R7$(22),e.Y8G("ngIf",(null==(p=n.fournisseurEditForm.get("pays"))?null:p.invalid)&&(null==(p=n.fournisseurEditForm.get("pays"))?null:p.touched)),e.R7$(5),e.Y8G("ngIf",(null==(m=n.fournisseurEditForm.get("telephone"))?null:m.touched)&&(null==(m=n.fournisseurEditForm.get("telephone"))?null:m.invalid)),e.R7$(5),e.Y8G("ngIf",(null==(E=n.fournisseurEditForm.get("email"))?null:E.touched)&&(null==(E=n.fournisseurEditForm.get("email"))?null:E.invalid)),e.R7$(10),e.Y8G("ngIf",n.isEditing),e.R7$(3),e.Y8G("selectedIndex",0)}},dependencies:[g.YN,g.qT,g.xH,g.y7,g.me,g.wz,g.BC,g.cb,F.MD,F.bT,g.X1,g.j4,g.JD,w.RI,w.mq,w.T8,y.MY,I.RG],styles:['@charset "UTF-8";.container_client[_ngcontent-%COMP%]{width:100%;background-color:#f1f1f1;border-radius:12px;box-shadow:0 10px 30px #0000001a;overflow:hidden}.information_cadre[_ngcontent-%COMP%]{width:100%;height:auto;background-color:#fff;box-shadow:2px 2px 30px #0000001c;border-radius:5px;margin-top:0;margin-bottom:10px;padding:10px 0}.content_client[_ngcontent-%COMP%]{padding:30px}.information_grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 2fr 2fr;gap:20px}.information_grid_two[_ngcontent-%COMP%]{display:grid;grid-template-columns:27% 2fr;gap:20px}.section_title[_ngcontent-%COMP%]{margin-bottom:10px;position:relative;padding-bottom:2px}.section_title[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:#2c3e50;text-transform:uppercase;letter-spacing:1px}.title_display[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.section_title[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:50px;height:3px;background:linear-gradient(to right,#4b6cb7,#182848);border-radius:3px}.section_title2[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:21px;width:50px;height:3px;background:linear-gradient(to right,#4b6cb7,#182848);border-radius:3px}.profil_section[_ngcontent-%COMP%]{padding:25px;background-color:#fff;border:1px solid #e9e9e9;box-shadow:#00000001 0 0 0 1px;border-radius:20px}.profil_section_facture[_ngcontent-%COMP%]{min-height:50vh;padding:0!important}.info_section[_ngcontent-%COMP%]{padding:25px;background-color:#fff;border:1px solid #e9e9e9;box-shadow:#00000001 0 0 0 1px;border-radius:20px}.info_grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:20px}.champ_grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-template-rows:1fr;grid-column-gap:0px;grid-row-gap:0px;gap:20px}.champ_grid_true[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:1fr;grid-column-gap:0px;grid-row-gap:0px;gap:20px}.champ_input[_ngcontent-%COMP%]{position:relative;margin-bottom:5px}.input_focus[_ngcontent-%COMP%]{width:100%;height:40px;outline:none;border-bottom:1px solid rgb(53,50,50);border-top:none;border-left:none;border-right:none;margin:10px 0 0;transition:all .3s;font-size:10px;background:none;color:#000}.champ_input[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{position:absolute;top:22px;left:4px;pointer-events:none;color:#999}.input_focus[_ngcontent-%COMP%]:hover{border-bottom:1px solid #0672E4;border-top:none;border-left:none;border-right:none}.input_focus[_ngcontent-%COMP%]:not(:placeholder-shown) + .label[_ngcontent-%COMP%], .input_focus[_ngcontent-%COMP%]:focus + .label[_ngcontent-%COMP%]{color:#0672e4;top:5px;left:0;transition:all .3s ease-in-out;background:none;font-size:10px;padding:0}.input_focus[_ngcontent-%COMP%]::placeholder{opacity:0}.input_focus[_ngcontent-%COMP%]:focus::placeholder{opacity:1;animation-delay:1s;font-size:12px;transition:all .2s ease-in-out}.profile-img-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block;width:100px;height:100px;border-radius:50%;overflow:hidden;cursor:pointer;transition:transform .2s ease-in-out;display:flex;justify-content:center;margin:20px auto}.profile-img-wrapper[_ngcontent-%COMP%]:hover{transform:scale(1.01)}.profile-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0000004d;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .3s ease-in-out}.profile-img-wrapper[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{opacity:1}.camera-icon[_ngcontent-%COMP%]{width:30px;height:30px;background:#fff;padding:6px;border-radius:50%;box-shadow:0 0 4px #00000026}.icon_edit[_ngcontent-%COMP%]{margin-top:-7px}.icon_edit[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px;cursor:pointer}@media (max-width: 768px){.information_grid[_ngcontent-%COMP%], .information_grid_two[_ngcontent-%COMP%], .info_grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.info_item[_ngcontent-%COMP%]{margin-bottom:20px}.info_label[_ngcontent-%COMP%]{font-size:14px;color:#6c757d;font-weight:500;margin-bottom:5px}.info_value[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#2c3e50}.contact_info[_ngcontent-%COMP%]{margin-top:20px}.contact_item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:15px}.contact_icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:#e9ecef;display:flex;align-items:center;justify-content:center;color:#4b6cb7;font-size:18px}.tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;margin-top:20px}.tag[_ngcontent-%COMP%]{background:#e3f2fd;color:#1976d2;padding:6px 12px;border-radius:20px;font-size:13px;font-weight:500}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:30px;height:15px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0 0 0 2px;background-color:#ccc;transition:.4s;border-radius:24px}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:11px;width:11px;left:2px;bottom:2px;background-color:#fff;transition:.4s;border-radius:50%}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#0672e4}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(13px)}.input_cursor[_ngcontent-%COMP%]{cursor:pointer}.icon_arrow[_ngcontent-%COMP%]{position:absolute;right:10px;top:25px}.icon_arrow[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:17px;color:#000}.popup-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.popup-content[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;width:50%}.popup-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.popup-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer}.popup-footer[_ngcontent-%COMP%]{margin-top:20px;text-align:right}.btn-cancel[_ngcontent-%COMP%], .btn-submit[_ngcontent-%COMP%]{margin-left:10px;border:none;border-radius:4px;cursor:pointer}.btn-cancel[_ngcontent-%COMP%]{background-color:red;padding:6px 25px;color:#fff}.btn-cancel[_ngcontent-%COMP%]:hover{background-color:#d80101;transition:all ease-in .5s}.btn-submit[_ngcontent-%COMP%]{background-color:#0672e4;padding:6px 25px;color:#fff;cursor:pointer;cursor:no-drop}.btn-submit[_ngcontent-%COMP%]:hover{background-color:#0863c5;transition:all ease-in .5s}.error-text[_ngcontent-%COMP%]{color:#f44;font-size:.8rem;margin-top:4px}.btn-submit[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.error-messageApi[_ngcontent-%COMP%]{font-size:9px;color:red;font-weight:700;position:relative;top:-20px;left:-20px}.success-messageApi[_ngcontent-%COMP%]{font-size:9px;color:#0672e4;font-weight:700;position:relative;top:-20px;left:-20px}.error-messageApi2[_ngcontent-%COMP%]{font-size:9px;color:red;font-weight:700}.error[_ngcontent-%COMP%]{font-size:9px;color:red;font-weight:700;position:relative}.champ_input_inventaire[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}.champ_input_inventaire[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.table-container[_ngcontent-%COMP%]{margin:0;overflow:auto}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:2px;height:2px}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#0003;border-radius:3px}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:12px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;border-bottom:1px solid #eee}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#fff;font-weight:600;color:#000;letter-spacing:.6px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background-color .2s}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#f1f3f5}table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:600;color:#212529}.text-right[_ngcontent-%COMP%]{text-align:right}.text-bold[_ngcontent-%COMP%]{font-weight:600}.status-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 8px;border-radius:12px;font-size:9px;font-weight:500}.status-badge.draft[_ngcontent-%COMP%]{background-color:#e9ecef;color:#495057}.status-badge.sent[_ngcontent-%COMP%]{background-color:#fff3cd;color:#856404}.status-badge.approved[_ngcontent-%COMP%]{background-color:#c5c5e2;color:#00f}.status-badge.valid[_ngcontent-%COMP%]{background-color:#d5e6d5;color:green}.loading-indicator[_ngcontent-%COMP%]{padding:20px;text-align:center;color:#6c757d}.loading-indicator[_ngcontent-%COMP%]   .spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-right:8px}.empty-state[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;color:#6c757d}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:48px;margin-bottom:16px;color:#ced4da}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.error-message[_ngcontent-%COMP%]{padding:20px;text-align:center;color:#dc3545;background-color:#fff8f8;border-radius:8px;margin:10px 0}.table-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}.table-wrapper[_ngcontent-%COMP%]{flex:1;overflow-y:auto}.sticky-footer[_ngcontent-%COMP%]{position:sticky;bottom:0;background:#fff;z-index:10;box-shadow:0 -2px 5px #0000001a;border-top:1px solid #eee}.sticky-footer[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{position:sticky;top:0;background:#fff;z-index:10;box-shadow:0 2px 5px #0000001a}.logo_entreprise[_ngcontent-%COMP%]{width:50px}.logo_entreprise[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.para1[_ngcontent-%COMP%]{font-size:6px;margin:0}hr[_ngcontent-%COMP%]{margin:3px}.titre[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:10px}.table[_ngcontent-%COMP%]{width:93%;border-collapse:collapse;margin:4px 0;font-size:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:3px 5px;text-align:center}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{background-color:#f5f5f5;font-weight:600}.table[_ngcontent-%COMP%]   .tfoot[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{font-weight:600;background-color:#f9f9f9}@media (max-width: 768px){table[_ngcontent-%COMP%]{font-size:11px}}@media (max-width: 480px){table[_ngcontent-%COMP%]{font-size:10px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px 3px}}.btn_annuler[_ngcontent-%COMP%]   .btn_cancel[_ngcontent-%COMP%]{padding:6px 20px;font-size:10px;letter-spacing:.6px;border:none;border-radius:5px;background-color:red;color:#fff}.btn_annuler[_ngcontent-%COMP%]   .btn_cancel[_ngcontent-%COMP%]:hover{background-color:#d80101;transition:all ease-in .5s}.btn_ajouter[_ngcontent-%COMP%]   .btn_save[_ngcontent-%COMP%]{padding:6px 20px;font-size:10px;letter-spacing:.6px;border:none;border-radius:5px;background-color:#0672e4;color:#fff}.btn_ajouter[_ngcontent-%COMP%]   .btn_save[_ngcontent-%COMP%]:hover{background-color:#0863c5;transition:all .5s}.info_titre_input_btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:end;gap:8px;margin-top:12px}.grid_colonne[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:1fr;grid-column-gap:0px;grid-row-gap:0px;gap:20px}.div1[_ngcontent-%COMP%]{grid-area:1/1/2/2}.div2[_ngcontent-%COMP%]{grid-area:1/2/2/3}.div3[_ngcontent-%COMP%]{grid-area:1/3/2/4}.selected-row[_ngcontent-%COMP%]{border:2px solid #0672E4;background-color:#f0f8ff}.tab-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.facture-count[_ngcontent-%COMP%]{background-color:#ddd;color:#000;border-radius:50%;font-size:12px;min-width:22px;height:22px;display:flex;justify-content:center;align-items:center;padding:2px}.input_focus2[_ngcontent-%COMP%]{width:100%;min-width:250px;height:57px;outline:none;border-top:none;border-left:none;border-right:none;margin:10px 0 0;transition:all .3s;font-size:10px;background:none;color:#000;border-radius:5px;padding-top:10px;border-bottom:1px solid rgb(53,50,50);resize:none}.input_focus2[_ngcontent-%COMP%]:hover{border-bottom:1px solid #0672E4;border-top:none;border-left:none;border-right:none}.champ_input2[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{position:absolute;top:22px;left:0;pointer-events:none;color:#423838}.input_focus2[_ngcontent-%COMP%]:not(:placeholder-shown) + .label[_ngcontent-%COMP%], .input_focus2[_ngcontent-%COMP%]:focus + .label[_ngcontent-%COMP%]{color:#0672e4;top:0;left:0;transition:all .3s ease-in-out;background:none;font-size:11px;padding:0;background-color:#fff}.input_focus2[_ngcontent-%COMP%]::placeholder{opacity:0}.input_focus2[_ngcontent-%COMP%]:focus::placeholder{opacity:1;animation-delay:1s;font-size:15px;transition:all .2s ease-in-out}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;color:#fff;font-size:18px;z-index:1000}.loading-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px}.spinner[_ngcontent-%COMP%]{border:4px solid rgba(255,255,255,.3);border-top:4px solid white;border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.container_error_message[_ngcontent-%COMP%]{margin-top:10px}.information_cadre_save[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.success-messageApi2[_ngcontent-%COMP%]{font-size:12px;color:#0672e4;font-weight:700}.toast-container[_ngcontent-%COMP%]{position:fixed;top:60px;right:35px;z-index:9999}.toast-message-success[_ngcontent-%COMP%]{background-color:#77eb87;border:1px solid #ACCEBC;color:#000;padding:10px;border-radius:8px;font-size:13px;box-shadow:0 4px 6px #0000001a;opacity:0;animation:_ngcontent-%COMP%_fadeInOut 4s ease-in-out;transform:translateY(-20px)}.toast-message-danger[_ngcontent-%COMP%], .toast-message-warning[_ngcontent-%COMP%]{background-color:#f3d8da;border:1px solid #E7B1B6;color:#000;padding:10px;border-radius:8px;font-size:13px;box-shadow:0 4px 6px #0000001a;opacity:0;animation:_ngcontent-%COMP%_fadeInOut 4s ease-in-out;transform:translateY(-20px)}@keyframes _ngcontent-%COMP%_fadeInOut{0%{opacity:0;transform:translateY(-20px)}20%{opacity:1;transform:translateY(0)}80%{opacity:1}to{opacity:0;transform:translateY(2px)}}.delete-boutique-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;margin-top:22px}.delete-boutique-btn[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#7a7a7ae7;cursor:pointer;font-size:20px;padding:0;transition:color .2s;bottom:10px;position:relative;left:10px}.delete-boutique-btn[_ngcontent-%COMP%]:hover{color:#fa2a2a}.btn-confirm[_ngcontent-%COMP%], .btn-cancel[_ngcontent-%COMP%]{flex:1;padding:8px 0;border:none;border-radius:5px;font-size:13px;cursor:pointer;transition:background .2s ease}.btn-confirm[_ngcontent-%COMP%]{background-color:#0672e4;color:#fff}.btn-confirm[_ngcontent-%COMP%]:hover{background-color:#1b83f2;color:#fff}.btn-cancel[_ngcontent-%COMP%]{background-color:#e0e0e0;color:#333}.btn-cancel[_ngcontent-%COMP%]:hover{background-color:#c8c8c8}.switch2[_ngcontent-%COMP%]{position:relative;display:inline-block;width:30px;height:15px}.confirmation-modal-averB[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1050}.confirmation-modal-averB[_ngcontent-%COMP%]   .modal-content-averB[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 4px 8px #0003;width:300px;color:#000}.modal-actions-averB[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:10px}.btn-confirmB[_ngcontent-%COMP%]{background-color:#0672e4;color:#fff;border:none;padding:4px 10px;border-radius:4px;cursor:pointer}']})}}return a})()},5024:(B,v,u)=>{u.d(v,{CB:()=>z,DQ:()=>S,Q3:()=>e,qS:()=>y,sL:()=>T,xn:()=>D,y4:()=>I,zP:()=>V});var O=u(17),j=(u(4402),u(7673),u(1413)),k=u(4438);class y{}function I(c){return c&&"function"==typeof c.connect&&!(c instanceof O.G)}var e=function(c){return c[c.REPLACED=0]="REPLACED",c[c.INSERTED=1]="INSERTED",c[c.MOVED=2]="MOVED",c[c.REMOVED=3]="REMOVED",c}(e||{});const T=new k.nKC("_ViewRepeater");class D{applyChanges(o,r,s,f,d){o.forEachOperation((_,M,x)=>{let b,C;if(null==_.previousIndex){const P=s(_,M,x);b=r.createEmbeddedView(P.templateRef,P.context,P.index),C=e.INSERTED}else null==x?(r.remove(M),C=e.REMOVED):(b=r.get(M),r.move(b,x),C=e.MOVED);d&&d({context:b?.context,operation:C,record:_})})}detach(){}}class S{viewCacheSize=20;_viewCache=[];applyChanges(o,r,s,f,d){o.forEachOperation((_,M,x)=>{let b,C;null==_.previousIndex?(b=this._insertView(()=>s(_,M,x),x,r,f(_)),C=b?e.INSERTED:e.REPLACED):null==x?(this._detachAndCacheView(M,r),C=e.REMOVED):(b=this._moveView(M,x,r,f(_)),C=e.MOVED),d&&d({context:b?.context,operation:C,record:_})})}detach(){for(const o of this._viewCache)o.destroy();this._viewCache=[]}_insertView(o,r,s,f){const d=this._insertViewFromCache(r,s);if(d)return void(d.context.$implicit=f);const _=o();return s.createEmbeddedView(_.templateRef,_.context,_.index)}_detachAndCacheView(o,r){const s=r.detach(o);this._maybeCacheView(s,r)}_moveView(o,r,s,f){const d=s.get(o);return s.move(d,r),d.context.$implicit=f,d}_maybeCacheView(o,r){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(o);else{const s=r.indexOf(o);-1===s?o.destroy():r.remove(s)}}_insertViewFromCache(o,r){const s=this._viewCache.pop();return s&&r.insert(s,o),s||null}}class z{_multiple;_emitChanges;compareWith;_selection=new Set;_deselectedToEmit=[];_selectedToEmit=[];_selected;get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}changed=new j.B;constructor(o=!1,r,s=!0,f){this._multiple=o,this._emitChanges=s,this.compareWith=f,r&&r.length&&(o?r.forEach(d=>this._markSelected(d)):this._markSelected(r[0]),this._selectedToEmit.length=0)}select(...o){this._verifyValueAssignment(o),o.forEach(s=>this._markSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}deselect(...o){this._verifyValueAssignment(o),o.forEach(s=>this._unmarkSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}setSelection(...o){this._verifyValueAssignment(o);const r=this.selected,s=new Set(o.map(d=>this._getConcreteValue(d)));o.forEach(d=>this._markSelected(d)),r.filter(d=>!s.has(this._getConcreteValue(d,s))).forEach(d=>this._unmarkSelected(d));const f=this._hasQueuedChanges();return this._emitChangeEvent(),f}toggle(o){return this.isSelected(o)?this.deselect(o):this.select(o)}clear(o=!0){this._unmarkAll();const r=this._hasQueuedChanges();return o&&this._emitChangeEvent(),r}isSelected(o){return this._selection.has(this._getConcreteValue(o))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(o){this._multiple&&this.selected&&this._selected.sort(o)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(o){o=this._getConcreteValue(o),this.isSelected(o)||(this._multiple||this._unmarkAll(),this.isSelected(o)||this._selection.add(o),this._emitChanges&&this._selectedToEmit.push(o))}_unmarkSelected(o){o=this._getConcreteValue(o),this.isSelected(o)&&(this._selection.delete(o),this._emitChanges&&this._deselectedToEmit.push(o))}_unmarkAll(){this.isEmpty()||this._selection.forEach(o=>this._unmarkSelected(o))}_verifyValueAssignment(o){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(o,r){if(this.compareWith){r=r??this._selection;for(let s of r)if(this.compareWith(o,s))return s;return o}return o}}let V=(()=>{class c{_listeners=[];notify(r,s){for(let f of this._listeners)f(r,s)}listen(r){return this._listeners.push(r),()=>{this._listeners=this._listeners.filter(s=>r!==s)}}ngOnDestroy(){this._listeners=[]}static \u0275fac=function(s){return new(s||c)};static \u0275prov=k.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})()}}]);