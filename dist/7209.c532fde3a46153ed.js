"use strict";(self.webpackChunkskeleton=self.webpackChunkskeleton||[]).push([[7209],{7209:(h,m,r)=>{r.r(m),r.d(m,{PosCommandeComponent:()=>y});var a=r(177),C=r(9417),l=r(2525),n=r(4438),u=r(9192),g=r(145),f=r(7022),P=r(9293);function _(i,c){if(1&i){const t=n.RV6();n.j41(0,"ul",30),n.bIt("click",function(){const o=n.eBV(t).$implicit,p=n.XpG();return n.Njj(p.setActiveCommande(o.id))}),n.j41(1,"li",31)(2,"div",32)(3,"p",33),n.EFF(4),n.nI1(5,"date"),n.k0s(),n.j41(6,"p",34),n.EFF(7),n.nI1(8,"date"),n.k0s()()(),n.j41(9,"li",31)(10,"div",35)(11,"p"),n.EFF(12),n.k0s()()(),n.j41(13,"li",31)(14,"div",36)(15,"p"),n.EFF(16),n.k0s()()(),n.j41(17,"li",31)(18,"div",37)(19,"p"),n.EFF(20),n.nI1(21,"currency"),n.k0s()()(),n.j41(22,"li",38)(23,"div",39)(24,"p"),n.EFF(25,"En cours"),n.k0s()(),n.j41(26,"div",40),n.bIt("click",function(o){const p=n.eBV(t).$implicit;return n.XpG().removeCommande(p.id),n.Njj(o.stopPropagation())}),n.nrm(27,"i",29),n.k0s()()()}if(2&i){const t=c.$implicit,e=n.XpG();n.AVh("ul_commande_active",e.activeCommandeId===t.id),n.R7$(4),n.JRh(n.i5U(5,7,t.createdAt,"dd/MM/yyyy")),n.R7$(3),n.JRh(n.i5U(8,10,t.createdAt,"HH:mm")),n.R7$(5),n.JRh(t.id),n.R7$(4),n.SpI("Quantit\xe9 ",t.totalItems,""),n.R7$(4),n.JRh(n.ii3(21,13,t.totalAmount,"CFA ","symbol","1.0-0"))}}function O(i,c){1&i&&(n.j41(0,"div",41),n.EFF(1," Chargement des produits en cours... "),n.k0s())}function M(i,c){if(1&i){const t=n.RV6();n.j41(0,"li",42)(1,"div",43)(2,"div",44),n.EFF(3),n.k0s(),n.j41(4,"div",45)(5,"p",46),n.EFF(6),n.j41(7,"span"),n.EFF(8),n.nI1(9,"currency"),n.k0s()()()(),n.j41(10,"div",43)(11,"div",47),n.EFF(12),n.nI1(13,"currency"),n.k0s(),n.j41(14,"div",48),n.bIt("click",function(){const o=n.eBV(t).$implicit,p=n.XpG();return n.Njj(p.removeProductFromCommande(o.product.id))}),n.nrm(15,"i",49),n.k0s()()()}if(2&i){const t=c.$implicit;n.R7$(3),n.SpI(" ",t.quantity," "),n.R7$(3),n.SpI(" ",t.product.nom," "),n.R7$(2),n.SpI("(",n.ii3(9,4,t.product.prixVente,"CFA ","symbol","1.0-0"),")"),n.R7$(4),n.SpI(" ",n.ii3(13,9,t.quantity*t.product.prixVente,"CFA ","symbol","1.0-0")," ")}}function d(i,c){1&i&&(n.j41(0,"div",50)(1,"p"),n.EFF(2,"Aucun produit dans cette commande"),n.k0s()())}let y=(()=>{class i{constructor(t,e,o,p){this.router=t,this.viewState=e,this.commandeState=o,this.categorieService=p,this.apiUrl=l.c.imgUrl,this.isListView=!0,this.showDropdown=!1,this.commandes=[],this.products=[],this.activeCommandeId="",this.activeCommandeCart=new Map,this.activeCommandeTotal=0,this.activeCommandeItems=[]}ngOnInit(){this.viewState.isListView$.subscribe(t=>{this.isListView=t}),this.loadProducts(),this.commandeState.commandeUpdated$.subscribe(()=>{this.loadCommandes(),this.loadActiveCommandeDetails()}),this.commandeState.activeCommandeId$.subscribe(t=>{this.activeCommandeId=t,this.loadActiveCommandeDetails()})}setActiveCommande(t){this.commandeState.setActiveCommande(t),this.loadActiveCommandeDetails()}loadProducts(){this.categorieService.getCategories().subscribe({next:t=>{this.products=[],t.forEach(e=>{e.produits&&(this.products=[...this.products,...e.produits])}),this.loadCommandes(),this.loadActiveCommandeDetails()},error:t=>console.error("Erreur chargement produits",t)})}loadActiveCommandeDetails(){if(!this.activeCommandeId)return;const t=this.commandeState.getCommandeDetails(this.activeCommandeId);t&&(this.activeCommandeCart=t.cart,this.activeCommandeTotal=t.totalAmount||0,this.updateActiveCommandeItems())}updateActiveCommandeItems(){this.activeCommandeItems=[],this.activeCommandeCart&&this.products.length&&this.activeCommandeCart.forEach((t,e)=>{if(t>0){const o=this.products.find(p=>p.id===e);o&&this.activeCommandeItems.push({product:o,quantity:t})}})}loadCommandes(){this.commandes=this.commandeState.getAllCommandesIds().map(t=>{const e=this.commandeState.getCommandeDetails(t);let o=0,p=0;return e?.cart&&(e.cart.forEach((s,x)=>{const b=this.products.find(v=>v.id===x);b&&(o+=s,p+=s*b.prixVente)}),this.commandeState.updateCommandeTotals(t,o,p)),{id:t,totalItems:o,totalAmount:p,createdAt:e?.createdAt||new Date}})}removeCommande(t){this.commandeState.removeCommande(t),this.loadCommandes()}removeProductFromCommande(t){const e=this.commandeState.getCommandeDetails(this.activeCommandeId);if(e){e.cart.delete(t);const o=this.calculateTotalItems(e.cart),p=this.calculateTotalAmount(e.cart);this.commandeState.updateCommandeTotals(this.activeCommandeId,o,p),this.loadCommandes(),this.loadActiveCommandeDetails()}}calculateTotalItems(t){let e=0;return t.forEach(o=>e+=o),e}calculateTotalAmount(t){let e=0;return t.forEach((o,p)=>{const s=this.products.find(x=>x.id===p);s&&(e+=o*s.prixVente)}),e}toggleView(t){this.isListView="grid"===t,this.showDropdown=!0,localStorage.setItem("viewPreference",t)}pagePosVente(){}static{this.\u0275fac=function(e){return new(e||i)(n.rXU(u.Ix),n.rXU(g.C),n.rXU(f.f),n.rXU(P.R))}}static{this.\u0275cmp=n.VBU({type:i,selectors:[["app-pos-commande"]],decls:42,vars:10,consts:[[1,"section_contenu_container"],[1,"section_contenu_left"],[1,"section_commande"],[1,"toolbar"],[1,"icon_search"],[1,"ri-search-line"],[1,"search"],["type","text","placeholder","Rechercher des commandes..."],[1,"btn_search_filtre"],[1,"btn"],[1,"ri-arrow-down-s-fill"],[1,"section_list_commande"],["class","ul_commande",3,"ul_commande_active","click",4,"ngFor","ngForOf"],["class","loading_commande",4,"ngIf"],[1,"section_contenu_right",2,"background-color","#ffffff","height","100vh","box-shadow","rgba(0, 0, 0, 0.04) 0px 3px 5px"],[1,"list_produit_select"],[1,"ul_list_produit_select"],["class","li_list_produit_select",4,"ngFor","ngForOf"],["class","empty-cart-message",4,"ngIf"],[1,"summary_panel"],[1,"double_row"],[1,"double_row","total"],[1,"btn_container"],[1,"btn_action_commande"],[1,"btn_retourn",3,"click"],[1,"ri-arrow-left-s-line"],[1,"btn_content"],[1,"btn-payment"],[1,"btn_delete",3,"click"],[1,"ri-delete-bin-5-line"],[1,"ul_commande",3,"click"],[1,"li_commande"],[1,"commande_date_heure"],[1,"commande_date"],[1,"commande_heure"],[1,"num_onglet_commande"],[1,"quantite_commande"],[1,"price_commande"],[1,"li_commande",2,"display","flex","align-items","center","gap","30px"],[1,"etat_commande"],[1,"icon_delete_commande",3,"click"],[1,"loading_commande"],[1,"li_list_produit_select"],[1,"double"],[1,"nombre_select"],[1,"name_produit_select"],[2,"margin","0"],[1,"price_produit"],[1,"icon_close_select",3,"click"],[1,"ri-close-circle-fill"],[1,"empty-cart-message"]],template:function(e,o){1&e&&(n.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),n.nrm(5,"i",5),n.k0s(),n.j41(6,"div",6),n.nrm(7,"input",7),n.k0s(),n.j41(8,"div",8)(9,"button",9),n.EFF(10,"Actif "),n.nrm(11,"i",10),n.k0s()()(),n.j41(12,"div",11),n.DNE(13,_,28,18,"ul",12)(14,O,2,0,"div",13),n.k0s()()(),n.j41(15,"div",14)(16,"div",15)(17,"ul",16),n.DNE(18,M,16,14,"li",17),n.k0s(),n.DNE(19,d,3,0,"div",18),n.k0s(),n.j41(20,"div",19)(21,"div",20)(22,"span"),n.EFF(23,"Taxes"),n.k0s(),n.j41(24,"span"),n.EFF(25,"00 CFA"),n.k0s()(),n.j41(26,"div",21)(27,"strong"),n.EFF(28,"Total"),n.k0s(),n.j41(29,"strong"),n.EFF(30),n.nI1(31,"currency"),n.k0s()()(),n.j41(32,"div",22)(33,"div",23)(34,"button",24),n.bIt("click",function(){return o.router.navigate(["/pos-accueil"])}),n.nrm(35,"i",25),n.k0s()(),n.j41(36,"div",26)(37,"button",27),n.EFF(38,"Paiement"),n.k0s()(),n.j41(39,"div",23)(40,"button",28),n.bIt("click",function(){return o.removeCommande(o.activeCommandeId)}),n.nrm(41,"i",29),n.k0s()()()()()),2&e&&(n.R7$(13),n.Y8G("ngForOf",o.commandes),n.R7$(),n.Y8G("ngIf",!o.products.length),n.R7$(4),n.Y8G("ngForOf",o.activeCommandeItems),n.R7$(),n.Y8G("ngIf",0===o.activeCommandeItems.length),n.R7$(11),n.JRh(n.ii3(31,5,o.activeCommandeTotal,"CFA ","symbol","1.0-0")))},dependencies:[C.YN,a.MD,a.Sq,a.bT,a.oe,a.vh],styles:['@charset "UTF-8";.payment-popup-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000b;display:flex;justify-content:center;align-items:center;z-index:1000}.payment-popup[_ngcontent-%COMP%]{background-color:#fff;width:85%;height:90vh;border-radius:10px;box-shadow:0 5px 30px #0000004d;overflow:hidden;position:relative}.payment-popup[_ngcontent-%COMP%]   .popup-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;color:#6c757d;cursor:pointer;transition:color .2s}.payment-popup[_ngcontent-%COMP%]   .popup-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#dc3545}.list-client-popup-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000b;display:flex;justify-content:center;align-items:center;z-index:1000}.list-client-popup[_ngcontent-%COMP%]{background-color:#fff;width:90%;height:90vh;border-radius:10px;box-shadow:0 5px 30px #0000004d;overflow:hidden;position:relative}.list-client-popup[_ngcontent-%COMP%]   .popup-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 15px;background-color:#f8f9fa;border-bottom:1px solid #dee2e6}.list-client-popup[_ngcontent-%COMP%]   .popup-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;color:#6c757d;cursor:pointer;transition:color .2s}.list-client-popup[_ngcontent-%COMP%]   .popup-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#dc3545}.detail-popup-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;justify-content:center;align-items:flex-start;padding:2rem 0;z-index:1000}.detail-image[_ngcontent-%COMP%]{height:100px;width:100px}.detail-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;border-radius:4px}.detail-popup[_ngcontent-%COMP%]{background:#fff;width:90%;max-width:900px;border-radius:8px;overflow:hidden;display:flex;flex-direction:column;box-shadow:0 5px 15px #0000004d}.detail-popup[_ngcontent-%COMP%]   .popup-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem 1.5rem;border-bottom:1px solid #e5e5e5}.detail-popup[_ngcontent-%COMP%]   .popup-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px}.detail-popup[_ngcontent-%COMP%]   .popup-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer}.detail-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]{padding:1.5rem}.detail-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]   .shop-name[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:16px;font-weight:500}.detail-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]   .detail-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 2fr;gap:1.5rem;margin-bottom:1.5rem}.detail-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]   .detail-info[_ngcontent-%COMP%]{display:grid;grid-template-columns:250px 250px 1fr;row-gap:.75rem;column-gap:4rem;margin-top:15px;margin-bottom:15px}.detail-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]   .detail-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;line-height:25px}.detail-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]   .detail-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px}.detail-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]   .detail-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:500;color:#555}.detail-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]   .detail-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:600;color:#222}.detail-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]   .detail-description[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:1rem 0;border-top:1px solid #e5e5e5}.detail-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]   .detail-description[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:500;color:#555}.detail-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]   .detail-description[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-style:italic;color:#333}.detail-popup[_ngcontent-%COMP%]   .popup-actions[_ngcontent-%COMP%]{padding:1rem 1.5rem;background:#f8f9fa;text-align:right}.detail-popup[_ngcontent-%COMP%]   .popup-actions[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]{background:#0672e4;border:none;color:#fff;padding:.6rem 1.2rem;border-radius:4px;cursor:pointer;transition:background .2s}.detail-popup[_ngcontent-%COMP%]   .popup-actions[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]:hover{background:#45a049}.btn-payment-pop[_ngcontent-%COMP%]:disabled{background-color:#f4f4f4;cursor:not-allowed;color:#acacac}.btnAddClient[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px}.btnAddClient[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background-color:#0672e4;padding:8px 20px;border-radius:5px;color:#fff;font-size:12px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}tr[_ngcontent-%COMP%]{font-size:13px}td[_ngcontent-%COMP%]{padding:18px 15px;border-bottom:1px solid rgba(221,221,221,.5803921569)}th[_ngcontent-%COMP%]{background-color:#f2f2f2;border-bottom:1px solid rgba(221,221,221,.5803921569);padding:12px 8px}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f9f9f9}tr[_ngcontent-%COMP%]:hover{background-color:#ddd}.imgClient[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;overflow:hidden;display:flex;align-items:center;justify-content:center;background-color:#f5f5f5;box-shadow:0 4px 6px #0000001a;cursor:pointer}.imgClient[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80%;height:80%;border-radius:50%;object-fit:cover;transition:transform .2s}.imgClient[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}.no-client-message[_ngcontent-%COMP%]{text-align:center;padding:20px;color:#888}.inputSearch[_ngcontent-%COMP%]{position:relative;width:250px;height:35px;display:flex;align-items:center}.inputSearch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:100%;padding-left:10px;border-radius:5px;border:1px solid #000;font-size:13px}.inputSearch[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:15px;font-size:17px}.add-client-popup-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000b;display:flex;justify-content:center;align-items:center;z-index:1001}.add-client-popup[_ngcontent-%COMP%]{position:relative;background-color:#fff;width:700px;height:83vh;border-radius:10px;box-shadow:0 5px 30px #0000004d;overflow:hidden}.add-client-popup[_ngcontent-%COMP%]   .popup-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;background-color:#f8f9fa;border-bottom:1px solid #dee2e6}.add-client-popup[_ngcontent-%COMP%]   .popup-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px}.add-client-popup[_ngcontent-%COMP%]   .popup-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;color:#6c757d;cursor:pointer}.add-client-popup[_ngcontent-%COMP%]   .popup-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#dc3545}.add-client-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]{flex:1 1 auto;overflow-y:auto;padding:15px}.add-client-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px;height:4px}.add-client-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#0003;border-radius:3px}.add-client-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.add-client-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]   .add-client-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:10px 15px}.add-client-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]   .add-client-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:500;font-size:13px}.add-client-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]   .add-client-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .add-client-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]   .add-client-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:8px 12px;border:1px solid #ced4da;border-radius:4px;font-size:14px}.add-client-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]   .add-client-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .add-client-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]   .add-client-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#0672e4;box-shadow:0 0 0 .2rem #0672e440}.add-client-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]   .add-client-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:80px;resize:vertical}.add-client-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]   .add-client-form[_ngcontent-%COMP%]   .client-type-selector[_ngcontent-%COMP%]{display:flex}.add-client-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]   .add-client-form[_ngcontent-%COMP%]   .client-type-selector[_ngcontent-%COMP%]   .client-type-btn[_ngcontent-%COMP%]{flex:1;padding:8px;background:#f1f1f1;border:none;border-radius:4px;cursor:pointer;transition:all .2s}.add-client-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]   .add-client-form[_ngcontent-%COMP%]   .client-type-selector[_ngcontent-%COMP%]   .client-type-btn.active[_ngcontent-%COMP%]{background:#0672e4;color:#fff}.add-client-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]   .add-client-form[_ngcontent-%COMP%]   .photo-upload[_ngcontent-%COMP%]   .photo-placeholder[_ngcontent-%COMP%]{height:100px;border:1px dashed #ced4da;border-radius:4px;display:flex;flex-direction:column;justify-content:center;align-items:center;cursor:pointer}.add-client-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]   .add-client-form[_ngcontent-%COMP%]   .photo-upload[_ngcontent-%COMP%]   .photo-placeholder[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;margin-bottom:5px;color:#6c757d}.add-client-popup[_ngcontent-%COMP%]   .popup-body[_ngcontent-%COMP%]   .add-client-form[_ngcontent-%COMP%]   .photo-upload[_ngcontent-%COMP%]   .photo-placeholder[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px;color:#6c757d}.add-client-popup[_ngcontent-%COMP%]   .popup-actions[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%;padding:15px 20px;background-color:#f8f9fa;border-top:1px solid #dee2e6;display:flex;justify-content:flex-end;box-shadow:0 -2px 5px #0000001a}.add-client-popup[_ngcontent-%COMP%]   .popup-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px;padding:8px 16px;border:none;border-radius:4px;font-size:14px;cursor:pointer}.add-client-popup[_ngcontent-%COMP%]   .popup-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{padding:8px 30px;border:none;border-radius:5px;background-color:red;color:#fff}.add-client-popup[_ngcontent-%COMP%]   .popup-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover{background-color:#d70404}.add-client-popup[_ngcontent-%COMP%]   .popup-actions[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]{background-color:#0672e4;color:#fff}.add-client-popup[_ngcontent-%COMP%]   .popup-actions[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]:hover{background-color:#055cb9}.double_input[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-template-rows:1fr;grid-column-gap:0px;grid-row-gap:0px;gap:10px}.grid_colonne[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:1fr;grid-column-gap:0px;grid-row-gap:0px;gap:20px}.champ_input[_ngcontent-%COMP%]{position:relative;margin-bottom:10px}.input_focus[_ngcontent-%COMP%]{width:100%;height:49px;outline:none;border-bottom:1px solid rgb(53,50,50);border-top:none;border-left:none;border-right:none;margin:10px 0 0;transition:all .3s;font-size:14px;background:none;color:#695c5c}.champ_input[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{position:absolute;top:22px;left:4px;pointer-events:none;color:#6b6666}.input_focus[_ngcontent-%COMP%]:hover{border-bottom:1px solid #0672E4;border-top:none;border-left:none;border-right:none}.input_focus[_ngcontent-%COMP%]:not(:placeholder-shown) + .label[_ngcontent-%COMP%], .input_focus[_ngcontent-%COMP%]:focus + .label[_ngcontent-%COMP%]{color:#0672e4;top:5px;left:0;transition:all .3s ease-in-out;background:none;font-size:11px;padding:0}.input_focus[_ngcontent-%COMP%]::placeholder{opacity:0}.input_focus[_ngcontent-%COMP%]:focus::placeholder{opacity:1;animation-delay:1s;font-size:12px;transition:all .2s ease-in-out}.champ_input_inventaire[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}.champ_input_inventaire[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:50px;height:24px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;transition:.4s;border-radius:24px}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:18px;width:18px;left:3px;bottom:3px;background-color:#fff;transition:.4s;border-radius:50%}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#0672e4}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(26px)}.input_cursor[_ngcontent-%COMP%]{cursor:pointer}.client-type-selector[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:20px}.client-type-selector[_ngcontent-%COMP%]   .client-type-btn[_ngcontent-%COMP%]{flex:1;padding:10px;background:#f1f1f1;border:none;border-radius:4px;cursor:pointer;transition:all .2s;text-align:center}.client-type-selector[_ngcontent-%COMP%]   .client-type-btn.active[_ngcontent-%COMP%]{background:#0672e4;color:#fff}.nombreCount[_ngcontent-%COMP%]{border-radius:50%;position:absolute;top:-15px;background-color:#ddd;width:18px;height:18px;display:flex;align-items:center;justify-content:center;right:-9px}.nombreCount[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000;border-radius:50%;font-size:9px}.barre[_ngcontent-%COMP%]{height:25px;width:1px;background-color:#0000003f;margin:8px 10px}.contentIcon[_ngcontent-%COMP%]{position:relative;cursor:pointer;transition:all .3s ease;padding:0 5px;border-radius:4px;display:flex;align-items:center;justify-content:center}.contentIcon.active[_ngcontent-%COMP%]{background-color:#e6f7ff;border:1px solid #1890ff}.contentIcon.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#1890ff}.contentIcon[_ngcontent-%COMP%]:hover:not(.active){background-color:#f5f5f5}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}.section_contenu_container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 380px;flex:1;min-height:0}.section_contenu_left[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:0}.section_favory_produit[_ngcontent-%COMP%]{display:grid;grid-template-columns:220px 1fr;margin-top:12px;flex:1;min-height:0}.section_favory[_ngcontent-%COMP%]{border-right:1px solid #d1d1d1;height:100vh}.section_favory[_ngcontent-%COMP%]   .ul_section_favory[_ngcontent-%COMP%]   .li_section_favory[_ngcontent-%COMP%]{background-color:#cde3fa;padding:5px 10px}.double[_ngcontent-%COMP%]   .icon_favory[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.title_favory[_ngcontent-%COMP%]{margin:0}.titre_categorie[_ngcontent-%COMP%]{padding-left:10px}.titre_categorie[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;margin-bottom:10px;font-weight:600}.ul_li_name_categorie[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:7px 10px;margin-bottom:8px;font-size:15px;cursor:pointer}.ul_li_name_categorie[_ngcontent-%COMP%]:hover{background-color:#cde3fa}.allCate[_ngcontent-%COMP%]{cursor:pointer;padding:10px 0;letter-spacing:.6px;font-weight:500}.section_produit[_ngcontent-%COMP%]{overflow-y:auto;max-height:calc(100vh - 75px);min-height:0}.section_produit[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px;height:2px}.section_produit[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#0672e433;border-radius:5px}.section_produit[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.li_list_produit_select[_ngcontent-%COMP%]{background-color:#f4f4f4;display:flex;align-items:center;justify-content:space-between;padding:8px 10px;margin:6px 8px;border-radius:5px}.nombre_select[_ngcontent-%COMP%], .name_produit_select[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .price_produit[_ngcontent-%COMP%]{font-size:12px}.icon_close_select[_ngcontent-%COMP%]{cursor:pointer}.icon_close_select[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.icon_close_select[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:red}.product-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:1rem;padding:0 10px 10px}.product-card[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:8px;box-shadow:0 2px 5px #0000000d;overflow:hidden;display:flex;flex-direction:column;align-items:center;padding-bottom:10px}.stock-badge[_ngcontent-%COMP%]{position:absolute;top:8px;left:5px;background:#fde047;color:#333;font-size:.8rem;font-weight:700;width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center}.product-card.disabled[_ngcontent-%COMP%], .li_list.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed;pointer-events:none}.stock-badge-list[_ngcontent-%COMP%]{background:#fde047;color:#333;font-size:.8rem;font-weight:700;width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center}.product-img[_ngcontent-%COMP%]{width:100px;height:100px;object-fit:cover;margin-top:10px;box-shadow:#0000001a 0 1px 2px}.favorite-icon[_ngcontent-%COMP%]{position:absolute;top:2px;right:3px;font-size:1.2rem;color:#0672e4;cursor:pointer}.favorite-icon.ri-heart-fill[_ngcontent-%COMP%]{color:#0672e4}.favorite-icon-list[_ngcontent-%COMP%]{font-size:1.2rem;color:#0672e4;cursor:pointer}.favorite-icon-list.ri-heart-fill[_ngcontent-%COMP%]{color:#0672e4}.card-body[_ngcontent-%COMP%]{text-align:center;margin:.5rem 0;flex:1}.product-name[_ngcontent-%COMP%]{font-weight:500;margin:.25rem 0}.product-stock[_ngcontent-%COMP%]{font-size:10px;color:#666;margin:.15rem 0}.product-price[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700;margin:0;font-size:13px}.btn-decrement[_ngcontent-%COMP%]{border:none;background:#f3f4f6;width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;pointer-events:auto!important;z-index:10}.btn-decrement[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem;color:#333}.bottom_price_sub[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;padding:0 10px}.section_contenu_right[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;box-shadow:#0000000a 0 3px 5px;padding-bottom:10px}.list_produit_select[_ngcontent-%COMP%]{flex:1;overflow-y:auto}.summary_panel[_ngcontent-%COMP%]{background:#f1f5f9;padding:4px 10px;margin:0 10px}.summary_panel[_ngcontent-%COMP%]   .double_row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:.25rem 0;border-bottom:1px solid #e2e8f0}.summary_panel[_ngcontent-%COMP%]   .double_row.total[_ngcontent-%COMP%]{font-size:1.1rem;padding-top:.5rem;border-bottom:none}.double_row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px}.double_row[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:14px}.keypad[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:5px;padding:5px 10px}.keypad[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:3.5rem;background:#f1f5f9;border:none;font-size:1rem;cursor:pointer;border-radius:4px}.keypad[_ngcontent-%COMP%]   button.backspace[_ngcontent-%COMP%]{font-size:1.2rem}.btn_content[_ngcontent-%COMP%]{margin:0 10px}.btn-payment[_ngcontent-%COMP%]{width:100%;padding:.75rem;margin-bottom:68px;background:#2978f2;color:#fff;border:none;border-radius:4px;font-size:1rem;cursor:pointer}.name_stock_list[_ngcontent-%COMP%]{line-height:1.5;padding:10px}.product-stock-list[_ngcontent-%COMP%]{font-size:10px;color:#666}.name_stock_list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .moyen_paiement[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .price_du[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .moyen_paiement_restant[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .paiement_btn[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}ul.ul_list[_ngcontent-%COMP%]{margin:0 10px}.li_list[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;background-color:#fff;box-shadow:#64646f10 0 7px 29px;padding:0 10px;border-radius:5px;margin-bottom:10px}.img_product_list[_ngcontent-%COMP%]{width:60px;height:60px;display:flex;justify-content:center;margin:5px 0}.img_product_list[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:5px;cursor:pointer;box-shadow:#0000000d 0 0 0 1px}.section_popup_paiement[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 350px;flex:1;min-height:0;margin:30px 80px}.btn-payment-pop[_ngcontent-%COMP%]{width:100%;padding:.75rem;background:#2978f2;color:#fff;border:none;border-radius:4px;font-size:1rem;cursor:pointer}.methode_paiement[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(90px,1fr));gap:15px;margin:20px 10px}.cadre_paiement[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;height:135px;box-shadow:#0000000d 0 6px 24px,#00000014 0 0 0 1px;padding:10px 0;cursor:pointer}.cadre_paiement[_ngcontent-%COMP%]:hover{border:.5px solid #0672e4}.img_paiement[_ngcontent-%COMP%]{width:50px;height:50px;object-fit:cover;margin:0 auto;display:flex;justify-content:center;align-items:center}.img_paiement[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.title_paiement[_ngcontent-%COMP%]{margin-top:22px}.title_paiement[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-align:center}.montant_paiement[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.double[_ngcontent-%COMP%]{display:flex;align-items:center}.cadre_section_contenu_left_prise[_ngcontent-%COMP%]{width:100%;background:#fff;padding:24px;border-radius:8px;align-items:center}.section_contenu_left_prise[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.montant_paiement[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:baseline;gap:8px}.montant_paiement[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:48px;font-weight:600;margin:0}.montant_paiement[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#666}.moyen_paiement_price[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;background-color:#cde3fa;gap:16px;border-radius:5px;padding:10px}.moyen_paiement[_ngcontent-%COMP%]{background:#e6f3ff;border:1px solid #C1E0FF;border-radius:8px;padding:8px 16px;text-align:center;cursor:pointer}.moyen_paiement.selected[_ngcontent-%COMP%]{background:#d0ebff;border-color:#90cdf4}.moyen_paiement[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px;color:#333}.moyen_prise_du[_ngcontent-%COMP%]   .price_du[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:16px;color:#333}.clear-icon[_ngcontent-%COMP%]{font-size:18px;color:#e53e3e;cursor:pointer}.discount-input[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:12px;border-bottom:1px solid #ccc;padding-bottom:8px}.btn-currency[_ngcontent-%COMP%], .btn-percent[_ngcontent-%COMP%]{background:#f0f0f0;border:none;border-radius:4px;font-size:16px;cursor:pointer}.btn-currency[_ngcontent-%COMP%]{padding:8px 12px;font-size:12px!important}.btn-percent[_ngcontent-%COMP%]{padding:3px 15px;background-color:#cde3fa;border:1px solid #0672e4}.input-discount[_ngcontent-%COMP%]{width:100px;border:none;outline:none;text-align:right;font-size:16px;text-align:center}.discount-unit[_ngcontent-%COMP%]{font-size:18px;color:#333}.discount-label[_ngcontent-%COMP%]{text-align:center;position:relative;top:-18px}.discount-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:10px;color:#666}.paiement_restant[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0 30px}.btn_facture[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.btn_facture[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{cursor:pointer}.paiement_btn[_ngcontent-%COMP%]{background-color:#f4f4f4;padding:12px;border-radius:5px}.paiement_btn[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px}.btn_client[_ngcontent-%COMP%]{cursor:pointer}.btn_client[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}.double_client_facture[_ngcontent-%COMP%]{gap:5px;display:grid;grid-template-columns:repeat(2,1fr);padding:0 10px}.selected[_ngcontent-%COMP%]{background-color:#0672e4!important;color:#fff!important}.selected[_ngcontent-%COMP%]   .name_categorie[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   .nombre[_ngcontent-%COMP%]{color:#fff!important}.selected_mode_pay[_ngcontent-%COMP%]{border:1px solid #2f7dd1}.keypad[_ngcontent-%COMP%]   button.btn_keypad_active[_ngcontent-%COMP%]{border:1px solid #2f7dd1;background-color:#e0efff}.cadre_paiement.selected[_ngcontent-%COMP%]{border:2px solid #4CAF50;background-color:#f0fff4}.price_du[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700;font-size:1.2em}.alert-low-stock[_ngcontent-%COMP%]{color:red!important;font-weight:700}.safe-stock[_ngcontent-%COMP%]{color:green!important;font-weight:700}.barcode-shifted[_ngcontent-%COMP%]{left:11px;position:relative}p[_ngcontent-%COMP%]{margin:0}.btn_container[_ngcontent-%COMP%]{display:grid;grid-template-columns:60px 1fr 60px;margin:10px 10px 0;gap:10px}.btn-payment[_ngcontent-%COMP%]{width:100%;height:80px;color:#fff;border:none;border-radius:4px;font-size:1rem;cursor:pointer}.btn_content[_ngcontent-%COMP%]{margin:0}.btn_delete[_ngcontent-%COMP%], .btn_retourn[_ngcontent-%COMP%]{width:100%;height:80px;border:none;border-radius:4px;font-size:1rem;cursor:pointer}.btn_delete[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.btn_retourn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:25px}.btn_delete[_ngcontent-%COMP%]{background-color:#f2acac;color:#000}.btn_retourn[_ngcontent-%COMP%]{background-color:#f4f4f4;color:#000}.section_list_commande[_ngcontent-%COMP%]{overflow-y:auto;max-height:calc(100vh - 115px);padding-right:5px}.section_list_commande[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.section_list_commande[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#0672e433;border-radius:5px}.section_list_commande[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.ul_commande[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:6px 10px;margin-bottom:10px;margin-top:10px;box-shadow:#0000000d 0 0 0 1px;background-color:#fff}.ul_commande_active[_ngcontent-%COMP%]{background-color:#cde3fa}.commande_date[_ngcontent-%COMP%], .commande_heure[_ngcontent-%COMP%]{font-size:12px}.etat_commande[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background-color:#f4f4f4;padding:3px 20px;border-radius:20px}.icon_delete_commande[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .icon_favory_commande[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}.icon_delete_commande[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:red}.icon_favory_commande[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0672e4}.toolbar[_ngcontent-%COMP%]{display:grid;grid-template-columns:45px 1fr 100px;margin:10px 10px 0}.icon_search[_ngcontent-%COMP%]{height:45px;background-color:#f4f4f4;display:flex;align-items:center;justify-content:center;border-left:1px solid #000;border-top:1px solid #000;border-bottom:1px solid #000;border-top-left-radius:5px;border-bottom-left-radius:5px}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:45px;border:1px solid #000;padding-left:10px}.btn_search_filtre[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{height:45px;width:100%;border-radius:0 5px 5px 0;border:1px solid #000;border-right:1px solid #000;border-top:1px solid #000;border-bottom:1px solid #000;border-left:0px;background-color:#f4f4f4}.btn_search_filtre[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:relative;margin-top:1px}.loading_commande[_ngcontent-%COMP%]{padding:20px;text-align:center;color:#666}']})}}return i})()},9293:(h,m,r)=>{r.d(m,{R:()=>M});var a=r(1626),C=r(4412),l=r(5558),n=r(8810),u=r(8141),g=r(9437),f=r(1985),P=r(2525),_=r(4438),O=r(8026);let M=(()=>{class d{constructor(i,c){this.http=i,this.usersService=c,this.apiUrl=P.c.apiBaseUrl,this.categoriesSubject=new C.t([]),this.categories$=this.categoriesSubject.asObservable()}ajouterCategorie(i){return this.usersService.getValidAccessToken().pipe((0,l.n)(c=>{if(!c)return console.error("\u26a0\ufe0f Token vide ou non d\xe9fini ! V\xe9rifiez que l'utilisateur est bien connect\xe9."),(0,n.$)(()=>new Error("Aucun token valide trouv\xe9"));const t=new a.Lr({Authorization:`Bearer ${c}`});return this.http.post(`${this.apiUrl}/createCategory`,i,{headers:t}).pipe((0,u.M)(e=>{this.categoriesSubject.next([...this.categoriesSubject.value,e])}))}),(0,g.W)(c=>(console.error("Erreur lors de l'ajout de la cat\xe9gorie:",c),(0,n.$)(()=>c))))}getCategories(){return this.usersService.getValidAccessToken().pipe((0,l.n)(i=>{if(!i)return console.error("\u26a0\ufe0f Token vide ou non d\xe9fini ! V\xe9rifiez que l'utilisateur est bien connect\xe9."),new f.c;const c=(new a.Lr).set("Authorization",`Bearer ${i}`);return console.log("\u{1f539} En-t\xeates envoy\xe9s :",c),this.http.get(`${this.apiUrl}/allCategory`,{headers:c}).pipe((0,u.M)(t=>{this.categoriesSubject.next(t)}))}),(0,g.W)(i=>(console.error("Erreur lors de la r\xe9cup\xe9ration des cat\xe9gories:",i),(0,n.$)(()=>i))))}deleteCategorie(i){return this.usersService.getValidAccessToken().pipe((0,l.n)(c=>{if(!c)return console.error("\u26a0\ufe0f Token JWT manquant pour suppression cat\xe9gorie."),(0,n.$)(()=>new Error("Token manquant"));const t=(new a.Lr).set("Authorization",`Bearer ${c}`);return console.log("\u{1f539} Token envoy\xe9 pour DELETE cat\xe9gorie :",t),this.http.delete(`${this.apiUrl}/deleteCategory/${i}`,{headers:t,responseType:"text"})}),(0,g.W)(c=>(console.error("\u274c Erreur API DELETE :",c),(0,n.$)(()=>c))))}static{this.\u0275fac=function(c){return new(c||d)(_.KVO(a.Qq),_.KVO(O.g))}}static{this.\u0275prov=_.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})()}}]);