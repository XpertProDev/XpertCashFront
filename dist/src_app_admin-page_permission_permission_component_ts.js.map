{"version":3,"file":"src_app_admin-page_permission_permission_component_ts.js","mappings":"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","sources":["./src/app/admin-page/permission/permission.component.ts","./src/app/admin-page/permission/permission.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Permission } from '../MODELS/permition.interface';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { Users } from '../MODELS/utilisateur.model';\nimport { ActivatedRoute, Router, RouterLink } from '@angular/router';\nimport { UsersService } from '../SERVICES/users.service';\nimport { UserNewRequest } from '../MODELS/user-new-request.model';\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\nimport { AuthService } from '../SERVICES/auth.service';\nimport { UserRequest } from '../MODELS/user-request';\n\n@Component({\n  selector: 'app-permission',\n  standalone: true,\n  imports: [\n    FormsModule,\n    CommonModule,\n    ReactiveFormsModule,\n    // RouterLink,\n  ],\n  templateUrl: './permission.component.html',\n  styleUrl: './permission.component.scss'\n})\nexport class PermissionComponent implements OnInit {\n\n  user: UserNewRequest | undefined;\n  enabledLien?: boolean;\n\n  errorMessage: string | null = null;\n  successMessage: string | null = null;\n  validationError: string | null = null;\n  originalSelectedPermissions: Set<number> = new Set();\n  isLoading: boolean = false;\n  isEditing: boolean = false;\n\n  showConfirmationModal = false;\n  confirmationTitle = '';\n  confirmationMessage = '';\n  pendingAction: 'suspend' | 'activate' | null = null;\n  private checkboxRef?: HTMLInputElement;\n\n  isAdmin: boolean = false;\n  isTargetManager: boolean = false;\n\n\n\n  constructor(\n      private usersService: UsersService,\n      private route: ActivatedRoute,\n      private router: Router,\n      private authService: AuthService,\n    ) {}\n\n  permissions: Permission[] = [\n    { \n      id: 1,\n      name: 'Gerer produit',\n      imgUrl: 'assets/img/gestion-des-produits.png',\n      selected: false\n    },\n    { \n      id: 2,\n      name: 'Vendre produit',\n      imgUrl: 'assets/img/vendre.png',\n      selected: false\n    },\n    { \n      id: 3,\n      name: 'Approvisonner Stock',\n      imgUrl: 'assets/img/comptabilite.png',\n      selected: false\n    },\n    { \n      id: 4,\n      name: 'Gestion de facture',\n      imgUrl: 'assets/img/approvisionnement.png',\n      selected: false\n    },\n    { \n      id: 5,\n      name: 'Gerer les cliens',\n      imgUrl: 'assets/img/directeur.png',\n\n\n      selected: false\n    },\n    { \n      id: 6,\n      name: 'Gerer les utilisateurs',\n      imgUrl: 'assets/img/directeur.png',\n      selected: false\n    },\n    { \n      id: 7,\n      name: 'Gerer boutiques',\n      imgUrl: 'assets/img/boutique.png',\n      selected: false\n    },\n     { \n      id: 8,\n      name: 'Activer boutiques',\n      imgUrl: 'assets/img/boutique.png',\n      selected: false\n    },\n     { \n      id: 9,\n      name: 'Desactver boutiques',\n      imgUrl: 'assets/img/boutique.png',\n      selected: false\n    },\n    {\n      id: 10,\n      name: 'Gerer fournisseurs',\n      imgUrl: 'assets/img/fournisseur.png',\n      selected: false\n    },\n    {\n      id: 11,\n      name: 'Gerer la comptabilit√©',\n      imgUrl: 'assets/img/comptabilite 2.png',\n      selected: false\n    }\n  ];\n\n  get selectedPermissions() {\n    return this.permissions.filter(p => p.selected);\n  }\n\n ngOnInit() {\n  this.usersService.getUserInfo().subscribe({\n    next: (currentUser: UserRequest) => {\n      this.isAdmin = currentUser.roleType === 'ADMIN'; // ou currentUser.role === 'ADMIN', adapte selon structure\n      this.getUserParId(); // üëà Appelle √ßa ensuite\n    },\n    error: (err) => {\n      console.error(\"Erreur r√©cup√©ration user connect√©\", err);\n      this.getUserParId(); // Appelle quand m√™me si erreur\n    }\n  });\n}\n\n  get selectedCount() {\n    return this.selectedPermissions.length;\n  }\n\n  togglePermission(permission: Permission) {\n    permission.selected = !permission.selected;\n    console.log(`Permission \"${permission.name}\" chang√©e √† :`, permission.selected);\n  }\n  \n\n  // permission.component.ts\n getUserParId() {\n  const userId = this.route.snapshot.params['userId'];\n\n  this.usersService.getUserById(userId).subscribe({\n    next: (user: UserNewRequest) => {\n      this.user = user;\n      this.originalSelectedPermissions.clear();\n      this.permissions.forEach(p => p.selected = false);\n\n      // ‚úÖ V√©rifier si la personne consult√©e est un Manager\n      this.isTargetManager = user.role?.name === 'MANAGER';\n\n      if (user.role?.permissions) {\n        user.role.permissions.forEach(backendPermission => {\n          const frontendId = this.mapBackendToFrontendPermission(backendPermission.type);\n\n          // üö´ Ne PAS afficher GERER_UTILISATEURS sauf si Admin connect√© ET Manager cibl√©\n          if (frontendId === 6 && (!this.isAdmin || !this.isTargetManager)) {\n            return;\n          }\n\n          const permission = this.permissions.find(p => p.id === frontendId);\n          if (permission) {\n            permission.selected = true;\n            this.originalSelectedPermissions.add(permission.id);\n          }\n        });\n      }\n    },\n    error: (err) => console.error('Erreur:', err)\n  });\n}\n\n\n  private mapBackendToFrontendPermission(backendType: string): number {\n    const mapping: { [key: string]: number } = {\n      'GERER_PRODUITS': 1,\n      'VENDRE_PRODUITS': 2,\n      'APPROVISIONNER_STOCK': 3,\n      'GESTION_FACTURATION': 4,\n      'GERER_CLIENTS': 5,\n      'GERER_UTILISATEURS': 6,\n      'GERER_BOUTIQUE': 7,\n      'ACTIVER_BOUTIQUE': 8,\n      'DESACTIVER_BOUTIQUE': 9,\n      'GERER_FOURNISSEURS': 10,\n      'COMPTABILITE': 11,\n    };\n    return mapping[backendType] ?? -1;\n  }\n\n  private mapFrontendToBackendPermission(frontendId: number): string {\n    const mapping: { [key: number]: string } = {\n      1: 'GERER_PRODUITS',\n      2: 'VENDRE_PRODUITS',\n      3: 'APPROVISIONNER_STOCK',\n      4: 'GESTION_FACTURATION',\n      5: 'GERER_CLIENTS',\n      6: 'GERER_UTILISATEURS',\n      7: 'GERER_BOUTIQUE',\n      8:'ACTIVER_BOUTIQUE',\n      9:'DESACTIVER_BOUTIQUE',\n      10: 'GERER_FOURNISSEURS',\n      11: 'COMPTABILITE'\n\n\n    };\n    return mapping[frontendId] ?? '';\n  }\n\n\n  // Ajouter cette m√©thode pour g√©rer l'envoi\n  savePermissions() {\n  const userId = this.route.snapshot.params['userId'];\n  const permissionsMap: { [key: string]: boolean } = {};\n\n  // R√©initialiser les messages\n  this.successMessage = null;\n  this.errorMessage = null;\n  this.validationError = null;\n\n  // V√©rifier les changements\n  const hasChanges = this.permissions.some(permission => {\n    const wasSelected = this.originalSelectedPermissions.has(permission.id);\n    return permission.selected !== wasSelected;\n  });\n\n  if (!hasChanges) {\n    this.validationError = \"Ces permissions sont d√©j√† attribu√©es √† l'utilisateur\";\n    setTimeout(() => {\n      this.validationError = null;\n    }, 3500);\n    return;\n  }\n\n  // Pr√©parer l'objet √† envoyer\n  this.permissions.forEach(permission => {\n    const backendType = this.mapFrontendToBackendPermission(permission.id);\n    if (backendType) {\n      permissionsMap[backendType] = permission.selected;\n    }\n  });\n\n  // Compter les permissions s√©lectionn√©es apr√®s les changements\n  const selectedCount = this.permissions.filter(p => p.selected).length;\n\n  this.usersService.assignPermissionsToUser(userId, permissionsMap).subscribe({\n    next: (updatedUser) => {\n      // Message conditionnel\n      this.successMessage = selectedCount === 0\n        ? \"Toutes les permissions ont √©t√© retir√©es de l'utilisateur.\"\n        : \"Permissions sauvegard√©es avec succ√®s !\";\n\n      console.log('Permissions mises √† jour!', updatedUser);\n      \n      setTimeout(() => {\n        this.successMessage = null;\n      }, 15000);\n\n      this.getUserParId();\n    },\n    error: (err) => {\n      this.errorMessage = 'Une erreur est survenue lors de la sauvegarde';\n      console.error('Erreur:', err);\n      \n      setTimeout(() => {\n        this.errorMessage = null;\n      }, 15000);\n    }\n  });\n}\n\n\n  // V√©rifier si le bouton de sauvegarde doit √™tre d√©sactiv√©\nget isSaveDisabled(): boolean {\n  // Aucune permission modifi√©e ‚Üí d√©sactiver\n  return !this.permissions.some(permission => {\n    const wasSelected = this.originalSelectedPermissions.has(permission.id);\n    return permission.selected !== wasSelected;\n  });\n}\n\n\n  // Suspendre user\n  onSuspendChange(event: Event) {\n    event.preventDefault();\n    this.checkboxRef = event.target as HTMLInputElement;\n    this.pendingAction = this.user?.enabledLien ? 'suspend' : 'activate';\n    \n    this.confirmationTitle = this.pendingAction === 'suspend' \n      ? 'Suspendre l\\'utilisateur' \n      : 'Activer l\\'utilisateur';\n    \n    this.confirmationMessage = this.pendingAction === 'suspend'\n      ? '√ätes-vous s√ªr de vouloir suspendre cet utilisateur ? Il ne pourra plus acc√©der au syst√®me.'\n      : '√ätes-vous s√ªr de vouloir r√©activer cet utilisateur ?';\n    \n    this.showConfirmationModal = true;\n  }\n\n  // Ajoutez ces nouvelles m√©thodes\n  cancelAction() {\n    this.showConfirmationModal = false;\n    if (this.checkboxRef) {\n      this.checkboxRef.checked = !this.checkboxRef.checked;\n    }\n    this.pendingAction = null;\n  }\n\n  handleSuspendAction() {\n    if (!this.pendingAction || !this.checkboxRef) return;\n\n    const userId = this.route.snapshot.params['userId'];\n    const isChecked = this.pendingAction === 'suspend';\n\n   this.usersService.suspendUser(userId, isChecked).subscribe({\n  next: (response: string) => {\n    this.successMessage = response;\n    if (this.user) {\n      this.user.enabledLien = !isChecked;\n    }\n    this.showConfirmationModal = false;\n    setTimeout(() => this.successMessage = null, 5000);\n  },\n  error: (err) => {\n    let errorMsg = \"Erreur lors de l'op√©ration\";\n\n    if (err.error) {\n      try {\n        const parsed = typeof err.error === 'string' ? JSON.parse(err.error) : err.error;\n        errorMsg = parsed.error || parsed.message || JSON.stringify(parsed);\n      } catch {\n        errorMsg = err.error;\n      }\n    } else if (err.message) {\n      errorMsg = err.message;\n    }\n\n    this.errorMessage = errorMsg;\n    console.error(err);\n\n    this.checkboxRef!.checked = !isChecked;\n    this.showConfirmationModal = false;\n    setTimeout(() => this.errorMessage = null, 5000);\n  }\n});\n\n}\n\n\n\n  navigateBack() {\n    this.router.navigate(['/utilisateur']);\n  }\n\n  \n\ndeleteUser(userId: number | undefined) {\n   if (!userId) {\n    console.warn('ID utilisateur invalide');\n    this.errorMessage = \"Impossible de supprimer l'utilisateur : ID invalide\";\n    setTimeout(() => this.errorMessage = null, 5000);\n    return;\n  }\n\n  if (!confirm(\"√ätes-vous s√ªr de vouloir supprimer cet utilisateur ?\")) return;\n\n  this.isLoading = true;\n  this.usersService.deleteUserFromEntreprise(userId).subscribe({\n    next: () => {\n      this.successMessage = \"Utilisateur supprim√© avec succ√®s.\";\n      this.isLoading = false;\n      setTimeout(() => {\n        this.successMessage = null;\n        this.router.navigate(['/utilisateur']);\n      }, 2000);\n    },\n    error: (err) => {\n      this.isLoading = false;\n      let errorMsg = \"Erreur lors de la suppression de l'utilisateur\";\n      \n      if (err.error) {\n        try {\n          const parsed = typeof err.error === 'string' ? JSON.parse(err.error) : err.error;\n          errorMsg = parsed.error || parsed.message || JSON.stringify(parsed);\n        } catch {\n          errorMsg = err.error;\n        }\n      } else if (err.message) {\n        errorMsg = err.message;\n      }\n      \n      this.errorMessage = errorMsg;\n      setTimeout(() => this.errorMessage = null, 5000);\n    }\n  });\n}\n\n}\n","<div class=\"container_global\">\n  <div *ngIf=\"isLoading\" class=\"loading-overlay\">\n    <div class=\"loading-content\">\n      <div class=\"spinner\"></div>\n      <p>Connexion en cours...</p>\n    </div>\n  </div>\n  \n\n  <div class=\"content_formulaire\">\n\n    <div class=\"modal-body\">\n\n      <form class=\"container_formulaire\" >\n\n        <!-- Icon return  -->\n        <p class=\"retour_icon_text\" (click)=\"navigateBack()\" style=\"cursor: pointer; color: #0672E4;\" title=\"Retour sur la page produit\">\n            <i class=\"ri-arrow-left-s-line\"></i> <span style=\"margin-left: 8px; font-size: 12px;\">Utilisateur</span>\n        </p>\n\n        <!-- Titre d'ajout de produits  -->\n        <!-- <div class=\"Title\">\n          <h3>Utilisateur</h3>\n        </div> -->\n\n        <div class=\"form_left_right\">\n\n          <!-- Formular ajouter produit  -->\n          <div class=\"formulaire\">\n            \n            <!-- Les information des produit  -->\n            <div class=\"information_cadre\">\n              <div class=\"info_titre_input\">\n                <div class=\"content_return\" style=\"display: flex; align-items: center; justify-content: space-between;\">\n                  <h4>Information personnel</h4>\n                  <!-- <div class=\"icon_edit\" style=\"cursor: pointer;\">\n                    <i *ngIf=\"!isEditing\" style=\"font-size: 16px;\"\n                        class=\"ri-edit-box-line\" \n                        title=\"Cliquer ici pour modifier\"\n                        (click)=\"toggleEditing()\"></i>\n\n                    <i style=\"color: #ff0000; font-size: 16px;\"\n                        class=\"ri-close-line\" \n                        title=\"Fermer l'√©dition\"\n                        (click)=\"toggleEditing()\"></i>\n                  </div> -->\n                </div>\n\n                <div class=\"champ_grid_triple\">\n                  <!-- Input de nom produits  -->\n                  <div class=\"champ_input\">\n                    <input type=\"text\" class=\"input_focus\" value=\"{{ user?.nomComplet }}\" id=\"nomComplet\" name=\"nomComplet\" \n                    placeholder=\"Saisis le nom\" readonly style=\"cursor: auto;\">\n                    <label for=\"nomComplet\" class=\"label labelColor\">Nom et pr√©nom</label>\n                  </div>\n\n                  <!-- Input de Nom  -->\n                  <div class=\"champ_input\">\n                    <input type=\"text\" class=\"input_focus\" value=\"{{ user?.email }}\" id=\"email\" name=\"email\" \n                    placeholder=\"Saisis l'adresse email\" readonly style=\"cursor: auto;\">\n                    <label for=\"email\" class=\"label labelColor\">Email</label>\n                  </div>\n\n                  <!-- Input de Nom  -->\n                  <div class=\"champ_input\">\n                    <input type=\"text\" class=\"input_focus\" value=\"{{ user?.role?.name }}\" id=\"role\" name=\"role\" readonly style=\"cursor: auto;\">\n                    <label for=\"role\" class=\"label labelColor\">R√¥le</label>\n                  </div>\n                </div>\n\n                <div class=\"champ_grid\">\n                   <!-- Input de nom produits  -->\n                   <div class=\"champ_input\">\n                    <input  type=\"text\" class=\"input_focus\" value=\"{{ user?.pays }}\" id=\"pays\" name=\"pays\" \n                    placeholder=\"Saisis le pays\" readonly style=\"cursor: auto;\">\n                    <label for=\"prixVente\" class=\"label labelColor\">Pays</label>\n                  </div>\n\n                  <!-- Input de prixAchat  -->\n                  <div class=\"champ_input\">\n                    <input type=\"text\" class=\"input_focus\" value=\"{{ user?.phone }}\" required id=\"phone\" name=\"phone\" \n                    placeholder=\"Saisis le num√©ro de t√©l√©phone\" readonly style=\"cursor: auto;\">\n                    <label for=\"phone\" class=\"label labelColor\">Num√©ro de t√©l√©phone</label>\n                  </div>\n                </div>\n\n                <div class=\"champ_grid_triple\">\n                   <!-- Input de nom produits  -->\n                   <div class=\"champ_input\">\n                    <input  type=\"text\" class=\"input_focus\" value=\"{{ user?.personalCode }}\" id=\"codePin\" name=\"codePin\" readonly style=\"cursor: no-drop;\">\n                    <label for=\"codePin\" class=\"label labelColor\">Code PIN</label>\n                  </div>\n\n                  <!-- Input de prixAchat  -->\n                  <div class=\"content_suspendre\">\n                    <div class=\"name_permission\">\n                        {{ user?.enabledLien ? 'Suspendre utilisateur' : 'Activer utilisateur' }}\n                    </div>\n\n                    <label class=\"switch\">\n                        <input type=\"checkbox\" [checked]=\"!user?.enabledLien\" (change)=\"onSuspendChange($event)\"/>\n                        <span class=\"slider round\"></span>\n                    </label>\n                  </div>\n\n                    <div class=\"content_delet\">\n                        <div class=\"delet\" *ngIf=\"user?.id\">\n                            <span>Supprimer</span>\n                            <i class=\"ri-delete-bin-6-line\" (click)=\"deleteUser(user?.id)\"></i>\n                        </div>\n                    </div>\n\n                </div>\n\n              </div>\n            </div>\n\n          </div>\n\n        </div>\n        \n      </form>\n\n    </div>\n</div>\n</div>\n\n\n<!-- <div class=\"container_detail_user\" style=\"margin-top: 20px;\">\n    <div class=\"title_div\">\n        <div class=\"title\">\n            <span class=\"h4\">Information personnel</span>\n        </div>\n    </div>\n\n    <div class=\"content_detail_user\">\n        <div class=\"div1_detail_user\">\n            <div class=\"card_permission_detail_user\">\n                <div class=\"name_permission\">\n                    Nom et pr√©nom : <span class=\"h5 valueUser\"> {{ user?.nomComplet }} </span>\n                </div>\n            </div>\n        </div>\n        <div class=\"div2_detail_user\">\n            <div class=\"card_permission_detail_user\">\n                <div class=\"name_permission\">\n                    Email : <span class=\"h5 valueUser\"> {{ user?.email }} </span>\n                </div>\n            </div>\n        </div>\n        <div class=\"div3_detail_user\">\n            <div class=\"card_permission_detail_user\">\n                <div class=\"name_permission\">\n                    R√¥le : <span class=\"h5 valueUser\" style=\"color: #0672E4; font-weight: bold; font-style: italic;\"> {{ user?.role?.name }} </span>\n                </div>\n            </div>\n        </div>\n        <div class=\"div4_detail_user\">\n            <div class=\"card_permission_detail_user\">\n                <div class=\"name_permission\">\n                    Num√©ro : <span class=\"h5 valueUser\"> {{ user?.phone }} </span>\n                </div>\n            </div>\n        </div>\n        <div class=\"div5_detail_user\">\n            <div class=\"card_permission_detail_user\">\n                <div class=\"name_permission\">\n                    Pays : <span class=\"h5 valueUser\"> {{ user?.pays }} </span>\n                </div>\n            </div>\n        </div>\n        <div class=\"div6_detail_user\">\n            <div class=\"card_permission_detail_user_check\">\n                <input \n                    id=\"inpLock\" \n                    type=\"checkbox\"\n                    [checked]=\"!user?.enabledLien\"\n                    (change)=\"onSuspendChange($event)\">\n                \n                <label class=\"btn-lock\" for=\"inpLock\">\n                    <div class=\"name_permission\">\n                        {{ user?.enabledLien ? 'Suspendre utilisateur' : 'Activer utilisateur' }}\n                    </div>\n                    \n                    <div class=\"suspendre_check suspendre_check_cadre\">\n                        <svg width=\"19\" height=\"30\" viewBox=\"0 0 36 60\">\n                            <path class=\"lockb\" d=\"M27 27C27 34.1797 21.1797 40 14 40C6.8203 40 1 34.1797 1 27C1 19.8203 6.8203 14 14 14C21.1797 14 27 19.8203 27 27ZM15.6298 26.5191C16.4544 25.9845 17 25.056 17 24C17 22.3431 15.6569 21 14 21C12.3431 21 11 22.3431 11 24C11 25.056 11.5456 25.9845 12.3702 26.5191L11 32H17L15.6298 26.5191Z\"></path>\n                            <path class=\"lock\" d=\"M6 21V10C6 5.58172 9.58172 2 14 2V2C18.4183 2 22 5.58172 22 10V21\"></path>\n                            <path class=\"bling\" d=\"M29 20L31 22\"></path>\n                            <path class=\"bling\" d=\"M31.5 15H34.5\"></path>\n                            <path class=\"bling\" d=\"M29 10L31 8\"></path>\n                        </svg>\n                    </div>\n                </label>\n            </div>\n        </div>\n        <div class=\"div7_detail_user\">\n            <div class=\"card_permission_detail_user\">\n                <div class=\"name_permission\">\n                    Code PIN : \n                    <span class=\"h5 valueUser\" style=\"font-weight: bold; font-style: italic; color: red;\">\n                        {{ user?.personalCode }}\n                    </span>\n                </div>\n                \n            </div>\n        </div>\n\n \n    </div>\n\n\n</div> -->\n\n<div class=\"toast-container\">\n    <!-- Ajouter la nouvelle alerte -->\n    <div *ngIf=\"validationError\" class=\"alert alert-warning toast-message-warning\">\n      {{ validationError }}\n    </div>\n    <div *ngIf=\"errorMessage\" class=\"alert alert-danger toast-message-danger\">\n      {{ errorMessage }}\n    </div>\n    <div *ngIf=\"successMessage\" class=\"alert alert-success toast-message-success\">\n      {{ successMessage }}\n    </div>\n</div>\n\n<div class=\"container_permis\">\n    <div class=\"title_div title_div_permission\">\n        <div class=\"title\">\n            <span class=\"h4\">Acc√®s a la permission</span>\n            <!-- <p class=\"h6\"> {{ user?.nomComplet }} </p> -->\n        </div>\n    </div>\n\n    <div class=\"content\">\n        <!-- // Type de permission  -->\n         <div class=\"permissionPage\">\n             <div *ngFor=\"let permission of permissions\" [ngClass]=\"'div' + permission.id\"\n                [style.display]=\"permission.id === 6 && (!isAdmin || !isTargetManager) ? 'none' : ''\">\n                        <div *ngIf=\"permission.id !== 6 || (isAdmin && isTargetManager)\" class=\"card_permission\">\n                    <div class=\"img_name\">\n                        <div class=\"img_permission\">\n                            <img [src]=\"permission.imgUrl\">\n                        </div>\n                        <div class=\"name_permission\">\n                            <span class=\"h5\" >{{permission.name}}</span>\n                        </div>\n                    </div>\n                    <label class=\"cyber-checkbox\">\n                        <input \n                            type=\"checkbox\" \n                            [checked]=\"permission.selected\"\n                            (change)=\"togglePermission(permission)\">\n                        <span class=\"cyber-checkbox__mark\">\n                        <div class=\"cyber-checkbox__box\">\n                            <svg class=\"cyber-checkbox__check\" viewBox=\"0 0 12 10\">\n                            <polyline points=\"1.5 6 4.5 9 10.5 1\"></polyline>\n                            </svg>\n                        </div>\n                        <div class=\"cyber-checkbox__effects\">\n                            <div class=\"cyber-checkbox__spark\"></div>\n                            <div class=\"cyber-checkbox__spark\"></div>\n                            <div class=\"cyber-checkbox__spark\"></div>\n                            <div class=\"cyber-checkbox__spark\"></div>\n                        </div>\n                        <div class=\"cyber-checkbox__particles\">\n                            <div class=\"particle-1\"></div>\n                            <div class=\"particle-2\"></div>\n                            <div class=\"particle-3\"></div>\n                            <div class=\"particle-4\"></div>\n                            <div class=\"particle-5\"></div>\n                            <div class=\"particle-6\"></div>\n                            <div class=\"particle-7\"></div>\n                            <div class=\"particle-8\"></div>\n                        </div>\n                        </span>\n                    </label>\n  \n  \n                </div>\n            </div>\n        </div>\n\n        <div class=\"container_permission\">\n            <div class=\"content_permission\">\n                <!-- Pour les selects de permission -->\n                <div class=\"containerTable\">\n                    <div class=\"title_cadre_permission\">\n                        <span> {{selectedCount}} </span>\n                        <span>Permission(s)</span>\n                    </div>\n                    <!-- Permission selectionner -->\n                    <div class=\"permission_select\">\n                        <!-- Select   -->\n                        <div *ngFor=\"let permission of selectedPermissions\" class=\"selet_dynamic\">\n                            <div class=\"img_permission_select\">\n                                <img [src]=\"permission.imgUrl\">\n                            </div>\n                            <div class=\"name_permission_select\">\n                                <span class=\"h5\">{{permission.name}}</span>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div class=\"btn_confirm\">\n                        <button class=\"btn\" (click)=\"savePermissions()\" [disabled]=\"isSaveDisabled\">Confirmer</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n         \n\n    </div>\n</div>\n\n<!-- Popup de confirmation -->\n<div class=\"confirmation-modal\" *ngIf=\"showConfirmationModal\">\n  <div class=\"modal-content\">\n    <h4>{{ confirmationTitle }}</h4>\n    <p>{{ confirmationMessage }}</p>\n    <div class=\"modal-actions\">\n      <button class=\"btn-cancel\" (click)=\"cancelAction()\">Annuler</button>\n      <button class=\"btn-confirm\" (click)=\"handleSuspendAction()\">Confirmer</button>\n    </div>\n  </div>\n</div>\n\n<!-- \n<div class=\"Container_terminer\">\n    <button class=\"btn_terminer\" routerLink=\"/utilisateur\">\n        OK\n    </button>\n</div> -->\n"],"names":["FormsModule","ReactiveFormsModule","CommonModule","i0","…µ…µelementStart","…µ…µelement","…µ…µtext","…µ…µelementEnd","…µ…µlistener","PermissionComponent_div_50_Template_i_click_3_listener","…µ…µrestoreView","_r1","ctx_r1","…µ…µnextContext","…µ…µresetView","deleteUser","user","id","…µ…µadvance","…µ…µtextInterpolate1","validationError","errorMessage","successMessage","PermissionComponent_div_62_div_1_Template_input_change_8_listener","_r3","permission_r4","$implicit","togglePermission","…µ…µproperty","imgUrl","…µ…µsanitizeUrl","…µ…µtextInterpolate","name","selected","…µ…µtemplate","PermissionComponent_div_62_div_1_Template","…µ…µstyleProp","isAdmin","isTargetManager","permission_r5","PermissionComponent_div_76_Template_button_click_7_listener","_r6","cancelAction","PermissionComponent_div_76_Template_button_click_9_listener","handleSuspendAction","confirmationTitle","confirmationMessage","PermissionComponent","constructor","usersService","route","router","authService","originalSelectedPermissions","Set","isLoading","isEditing","showConfirmationModal","pendingAction","permissions","selectedPermissions","filter","p","ngOnInit","getUserInfo","subscribe","next","currentUser","roleType","getUserParId","error","err","console","selectedCount","length","permission","log","userId","snapshot","params","getUserById","clear","forEach","role","backendPermission","frontendId","mapBackendToFrontendPermission","type","find","add","backendType","mapping","mapFrontendToBackendPermission","savePermissions","permissionsMap","hasChanges","some","wasSelected","has","setTimeout","assignPermissionsToUser","updatedUser","isSaveDisabled","onSuspendChange","event","preventDefault","checkboxRef","target","enabledLien","checked","isChecked","suspendUser","response","errorMsg","parsed","JSON","parse","message","stringify","navigateBack","navigate","warn","confirm","deleteUserFromEntreprise","…µ…µdirectiveInject","i1","UsersService","i2","ActivatedRoute","Router","i3","AuthService","selectors","decls","vars","consts","template","PermissionComponent_Template","rf","ctx","PermissionComponent_div_1_Template","PermissionComponent_Template_p_click_5_listener","PermissionComponent_Template_input_change_47_listener","$event","PermissionComponent_div_50_Template","PermissionComponent_div_52_Template","PermissionComponent_div_53_Template","PermissionComponent_div_54_Template","PermissionComponent_div_62_Template","PermissionComponent_div_72_Template","PermissionComponent_Template_button_click_74_listener","PermissionComponent_div_76_Template","…µ…µpropertyInterpolate","nomComplet","email","pays","phone","personalCode","i4","…µNgNoValidate","NgControlStatusGroup","NgForm","i5","NgClass","NgForOf","NgIf","styles"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}