{"version":3,"file":"src_app_admin-page_clients_detail-edit-entreprise_detail-edit-entreprise_component_ts.js","mappings":";;;;;;;;;;;;;AAAO,IAAKA,qBAOX;AAPD,WAAYA,qBAAqB;EAC/BA,qBAAA,2BAAuB;EACvBA,qBAAA,+BAA2B;EAC3BA,qBAAA,yBAAqB;EACrBA,qBAAA,qBAAiB;EACjBA,qBAAA,qBAAiB;EACjBA,qBAAA,qBAAiB;AACnB,CAAC,EAPWA,qBAAqB,KAArBA,qBAAqB;;;;;;;;;;;;;;;;;;;;;;;ACA8B;AAE4B;AAGhC;;;;AAMrD,MAAOQ,iBAAiB;EAM5BC,YAAoBC,IAAgB,EAAUC,YAA0B;IAApD,KAAAD,IAAI,GAAJA,IAAI;IAAsB,KAAAC,YAAY,GAAZA,YAAY;IALhD,KAAAC,MAAM,GAAGL,qEAAW,CAACM,UAAU;IAGjC,KAAAC,iBAAiB,GAAG,IAAIZ,iDAAe,CAAe,EAAE,CAAC;IAC1D,KAAAa,WAAW,GAAG,IAAI,CAACD,iBAAiB,CAACE,YAAY,EAAE;EACkB;EAE5E;EACF;EACCC,kBAAkBA,CAAA;IACjB,OAAO,IAAI,CAACN,YAAY,CAACO,mBAAmB,EAAE,CAACC,IAAI,CACjDf,+CAAS,CAACgB,KAAK,IAAG;MAChB,MAAMC,OAAO,GAAG,IAAIpB,6DAAW,CAAC;QAC9B,eAAe,EAAE,UAAUmB,KAAK,EAAE;QAClC,cAAc,EAAE;OACjB,CAAC;MACF,OAAO,IAAI,CAACV,IAAI,CAACY,GAAG,CAAqB,GAAG,IAAI,CAACV,MAAM,cAAc,EAAE;QAAES;MAAO,CAAE,CAAC;IACrF,CAAC,CAAC,EACFlB,gDAAU,CAACoB,KAAK,IAAG;MACjB,IAAIC,QAAQ,GAAG,iBAAiB;MAChC,IAAID,KAAK,CAACA,KAAK,YAAYE,UAAU,EAAE;QACrCD,QAAQ,GAAG,WAAWD,KAAK,CAACA,KAAK,CAACG,OAAO,EAAE;MAC7C,CAAC,MAAM,IAAIH,KAAK,CAACI,MAAM,KAAK,GAAG,EAAE;QAC/BH,QAAQ,GAAG,2BAA2B;MACxC;MACA,OAAOlB,gDAAU,CAAC,MAAM,IAAIsB,KAAK,CAACJ,QAAQ,CAAC,CAAC;IAC9C,CAAC,CAAC,CACH;EACH;EAGE;EACDK,aAAaA,CAACC,UAAsB;IACnC,OAAO,IAAI,CAACnB,YAAY,CAACO,mBAAmB,EAAE,CAACC,IAAI,CACjDf,+CAAS,CAACgB,KAAK,IAAG;MAChB,MAAMC,OAAO,GAAG,IAAIpB,6DAAW,CAAC;QAC9B,eAAe,EAAE,UAAUmB,KAAK,EAAE;QAClC,cAAc,EAAE;OACjB,CAAC;MAEF,OAAO,IAAI,CAACV,IAAI,CAACqB,IAAI,CAAa,GAAG,IAAI,CAACnB,MAAM,qBAAqB,EAAEkB,UAAU,EAAE;QAAET;MAAO,CAAE,CAAC;IACjG,CAAC,CAAC,EACFhB,yCAAG,CAAE2B,aAAa,IAAI;MACpB,MAAMC,iBAAiB,GAAG,IAAI,CAACnB,iBAAiB,CAACoB,KAAK;MACtD,IAAI,CAACpB,iBAAiB,CAACqB,IAAI,CAAC,CAAC,GAAGF,iBAAiB,EAAED,aAAa,CAAC,CAAC;IACpE,CAAC,CAAC,EACF7B,gDAAU,CAACoB,KAAK,IAAG;MACjB,IAAIC,QAAQ,GAAG,iBAAiB;MAChC,IAAID,KAAK,CAACA,KAAK,YAAYE,UAAU,EAAE;QACrCD,QAAQ,GAAG,WAAWD,KAAK,CAACA,KAAK,CAACG,OAAO,EAAE;MAC7C,CAAC,MAAM,IAAIH,KAAK,CAACI,MAAM,KAAK,GAAG,EAAE;QAC/BH,QAAQ,GAAGD,KAAK,CAACA,KAAK,IAAI,mBAAmB;MAC/C;MACA,OAAOjB,gDAAU,CAAC,MAAM,IAAIsB,KAAK,CAACJ,QAAQ,CAAC,CAAC;IAC9C,CAAC,CAAC,CACH;EACH;EAGE;EACDY,iBAAiBA,CAAA;IAChB,OAAO,IAAI,CAACzB,YAAY,CAACO,mBAAmB,EAAE,CAACC,IAAI,CACjDf,+CAAS,CAACgB,KAAK,IAAG;MAChB,IAAI,CAACA,KAAK,EAAE;QACViB,OAAO,CAACd,KAAK,CAAC,2EAA2E,CAAC;QAC1F,OAAOjB,gDAAU,CAAC,MAAM,IAAIsB,KAAK,CAAC,gBAAgB,CAAC,CAAC;MACtD;MACA,MAAMP,OAAO,GAAG,IAAIpB,6DAAW,EAAE,CAACqC,GAAG,CAAC,eAAe,EAAE,UAAUlB,KAAK,EAAE,CAAC;MACzEiB,OAAO,CAACE,GAAG,CAAC,qBAAqB,EAAElB,OAAO,CAAC;MAE3C,OAAO,IAAI,CAACX,IAAI,CAACY,GAAG,CAAe,GAAG,IAAI,CAACV,MAAM,cAAc,EAAE;QAAES;MAAO,CAAE,CAAC;IAC/E,CAAC,CAAC,EACFhB,yCAAG,CAACmC,IAAI,IAAG;MACT,IAAI,CAAC1B,iBAAiB,CAACqB,IAAI,CAACK,IAAI,CAAC;IACnC,CAAC,CAAC,EACFrC,gDAAU,CAACoB,KAAK,IAAG;MACjBc,OAAO,CAACd,KAAK,CAAC,iDAAiD,EAAEA,KAAK,CAAC;MACvE,OAAOjB,gDAAU,CAAC,MAAMiB,KAAK,CAAC;IAChC,CAAC,CAAC,CACH;EACH;EAIE;EACDkB,iBAAiBA,CAACC,EAAU;IAC3B,OAAO,IAAI,CAAC/B,YAAY,CAACO,mBAAmB,EAAE,CAACC,IAAI,CACjDf,+CAAS,CAACgB,KAAK,IAAG;MAChB,IAAI,CAACA,KAAK,EAAE;QACViB,OAAO,CAACd,KAAK,CAAC,gBAAgB,CAAC;QAC/B,OAAOjB,gDAAU,CAAC,MAAM,IAAIsB,KAAK,CAAC,gBAAgB,CAAC,CAAC;MACtD;MACA,MAAMP,OAAO,GAAG,IAAIpB,6DAAW,CAAC;QAC9B,eAAe,EAAE,UAAUmB,KAAK,EAAE;QAClC,cAAc,EAAE;OACjB,CAAC;MACF,OAAO,IAAI,CAACV,IAAI,CAACY,GAAG,CAAa,GAAG,IAAI,CAACV,MAAM,gBAAgB8B,EAAE,EAAE,EAAE;QAAErB;MAAO,CAAE,CAAC;IACnF,CAAC,CAAC,EACFlB,gDAAU,CAACoB,KAAK,IAAG;MACjB,IAAIC,QAAQ,GAAG,iBAAiB;MAChC,IAAID,KAAK,CAACA,KAAK,YAAYE,UAAU,EAAE;QACrCD,QAAQ,GAAG,WAAWD,KAAK,CAACA,KAAK,CAACG,OAAO,EAAE;MAC7C,CAAC,MAAM,IAAIH,KAAK,CAACI,MAAM,KAAK,GAAG,EAAE;QAC/BH,QAAQ,GAAG,wBAAwB;MACrC;MACA,OAAOlB,gDAAU,CAAC,MAAM,IAAIsB,KAAK,CAACJ,QAAQ,CAAC,CAAC;IAC9C,CAAC,CAAC,CACH;EACH;EAGEmB,gBAAgBA,CAACD,EAAU,EAAEE,QAAkB;IAC/C,OAAO,IAAI,CAACjC,YAAY,CAACO,mBAAmB,EAAE,CAACC,IAAI,CACjDf,+CAAS,CAACgB,KAAK,IAAG;MAChB,IAAI,CAACA,KAAK,EAAE;QACV,OAAOd,gDAAU,CAAC,MAAM,IAAIsB,KAAK,CAAC,gBAAgB,CAAC,CAAC;MACtD;MAEA,MAAMP,OAAO,GAAG,IAAIpB,6DAAW,CAAC;QAC9B,eAAe,EAAE,UAAUmB,KAAK;OACjC,CAAC;MAEF,OAAO,IAAI,CAACV,IAAI,CAACmC,KAAK,CAAC,GAAG,IAAI,CAACjC,MAAM,qBAAqB8B,EAAE,EAAE,EAAEE,QAAQ,EAAE;QACxEvB,OAAO;QACPyB,YAAY,EAAE,MAAM,CAAC;OACtB,CAAC;IACJ,CAAC,CAAC,EACF3C,gDAAU,CAACoB,KAAK,IAAG;MACjB,IAAIC,QAAQ,GAAG,iBAAiB;MAChC,IAAID,KAAK,CAACA,KAAK,YAAYE,UAAU,EAAE;QACrCD,QAAQ,GAAG,WAAWD,KAAK,CAACA,KAAK,CAACG,OAAO,EAAE;MAC7C,CAAC,MAAM,IAAIH,KAAK,CAACI,MAAM,KAAK,GAAG,EAAE;QAC/BH,QAAQ,GAAGD,KAAK,CAACA,KAAK,IAAI,mBAAmB;MAC/C;MACA,OAAOjB,gDAAU,CAAC,MAAM,IAAIsB,KAAK,CAACJ,QAAQ,CAAC,CAAC;IAC9C,CAAC,CAAC,CACH;EACH;EAGE;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACAuB,iBAAiBA,CAAA;IACjB,OAAO,IAAI,CAACpC,YAAY,CAACO,mBAAmB,EAAE,CAACC,IAAI,CACjDf,+CAAS,CAACgB,KAAK,IAAG;MAChB,IAAI,CAACA,KAAK,EAAE;QACV,OAAOd,gDAAU,CAAC,MAAM,IAAIsB,KAAK,CAAC,oBAAoB,CAAC,CAAC;MAC1D;MAEA,MAAMP,OAAO,GAAG,IAAIpB,6DAAW,CAAC;QAC9B+C,aAAa,EAAE,UAAU5B,KAAK;OAC/B,CAAC;MAEF,OAAO,IAAI,CAACV,IAAI,CAACY,GAAG,CAAa,GAAG,IAAI,CAACV,MAAM,eAAe,EAAE;QAAES;MAAO,CAAE,CAAC,CAACF,IAAI,CAC/Ed,yCAAG,CAACyB,UAAU,IAAG;QACfmB,YAAY,CAACC,OAAO,CAAC,YAAY,EAAEC,IAAI,CAACC,SAAS,CAACtB,UAAU,CAAC,CAAC;MAChE,CAAC,CAAC,CACH;IACH,CAAC,CAAC,EACF3B,gDAAU,CAACoB,KAAK,IAAG;MACjBc,OAAO,CAACd,KAAK,CAAC,sCAAsC,EAAEA,KAAK,CAAC;MAC5D,OAAOjB,gDAAU,CAAC,MAAMiB,KAAK,CAAC;IAChC,CAAC,CAAC,CACH;EACH;EAGE;EACA8B,SAASA,CAACjC,KAAa;IACrB,OAAO+B,IAAI,CAACG,KAAK,CAACC,IAAI,CAACnC,KAAK,CAACoC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAC9C;EAEA;EACAC,cAAcA,CAACC,YAAiB;IAC9B,MAAMC,cAAc,GAAG,IAAIC,IAAI,CAACF,YAAY,CAACG,GAAG,GAAG,IAAI,CAAC;IACxD,OAAOF,cAAc,GAAG,IAAIC,IAAI,EAAE;EACpC;EAEA;EACAE,kBAAkBA,CAAA;IAChB,MAAMC,YAAY,GAAGd,YAAY,CAACe,OAAO,CAAC,cAAc,CAAC;IACzD,OAAO,IAAI,CAACtD,IAAI,CAACqB,IAAI,CAAoB,GAAG,IAAI,CAACnB,MAAM,gBAAgB,EAAE;MAAEmD;IAAY,CAAE,CAAC;EAC5F;;;uCAzMWvD,iBAAiB,EAAAyD,sDAAA,CAAAE,4DAAA,GAAAF,sDAAA,CAAAI,wDAAA;IAAA;EAAA;;;aAAjB7D,iBAAiB;MAAA+D,OAAA,EAAjB/D,iBAAiB,CAAAgE,IAAA;MAAAC,UAAA,EAFhB;IAAM;EAAA;;;;;;;;;;;;;;;;;;;;;;;;ACTuD;AAED;AACyC;AAExD;;;;AAOrD,MAAOE,sBAAsB;EAIjClE,YAAoBC,IAAgB,EAAUC,YAA0B;IAApD,KAAAD,IAAI,GAAJA,IAAI;IAAsB,KAAAC,YAAY,GAAZA,YAAY;IAHhD,KAAAC,MAAM,GAAGL,qEAAW,CAACM,UAAU;EAGmC;EAE5E+D,oBAAoBA,CACpBC,OAAY,EACZC,iBAA0B,EAC1BC,YAAsB,EACtBC,oBAA8B;IAE9B,OAAO,IAAI,CAACrE,YAAY,CAACO,mBAAmB,EAAE,CAACC,IAAI,CACjDf,+CAAS,CAACgB,KAAK,IAAG;MAChB,MAAMC,OAAO,GAAG,IAAIpB,6DAAW,CAAC;QAC9B,eAAe,EAAE,UAAUmB,KAAK;OACjC,CAAC;MAEF,IAAI6D,MAAM,GAAG,IAAIP,4DAAU,EAAE;MAE7B,IAAIM,oBAAoB,EAAE;QACxB,IAAIF,iBAAiB,KAAKI,SAAS,EAAE;UACnCD,MAAM,GAAGA,MAAM,CAAC3C,GAAG,CAAC,mBAAmB,EAAEwC,iBAAiB,CAACK,QAAQ,EAAE,CAAC;QACxE;QACA,IAAIJ,YAAY,KAAKG,SAAS,EAAE;UAC9BD,MAAM,GAAGA,MAAM,CAAC3C,GAAG,CAAC,cAAc,EAAEyC,YAAY,CAACI,QAAQ,EAAE,CAAC;QAC9D;MACF;MAEA,OAAO,IAAI,CAACzE,IAAI,CAACqB,IAAI,CAAC,GAAG,IAAI,CAACnB,MAAM,UAAU,EAAEiE,OAAO,EAAE;QAAExD,OAAO;QAAE4D;MAAM,CAAE,CAAC;IAC/E,CAAC,CAAC,EACF5E,yCAAG,CAAC+E,QAAQ,IAAI/C,OAAO,CAACE,GAAG,CAAC,4BAA4B,EAAE6C,QAAQ,CAAC,CAAC,EACpEjF,gDAAU,CAACoB,KAAK,IAAG;MACjBc,OAAO,CAACd,KAAK,CAAC,mBAAmB,EAAEA,KAAK,CAAC;MACzCc,OAAO,CAACE,GAAG,CAAC,sBAAsB,EAAEhB,KAAK,CAACA,KAAK,CAAC;MAChD,OAAOjB,gDAAU,CAAC,MAAMiB,KAAK,CAAC;IAChC,CAAC,CAAC,CACH;EACH;EAGE;EACD8D,6BAA6BA,CAACC,YAAoB;IACjD,OAAO,IAAI,CAAC3E,YAAY,CAACO,mBAAmB,EAAE,CAACC,IAAI,CACjDf,+CAAS,CAACgB,KAAK,IAAG;MAChB,MAAMC,OAAO,GAAG,IAAIpB,6DAAW,CAAC;QAC9B+C,aAAa,EAAE,UAAU5B,KAAK;OAC/B,CAAC;MACF,OAAO,IAAI,CAACV,IAAI,CAACY,GAAG,CAAQ,GAAG,IAAI,CAACV,MAAM,eAAe,EAAE;QAAES;MAAO,CAAE,CAAC;IACzE,CAAC,CAAC,CACH;EACH;EAGEkE,sBAAsBA,CAAC7C,EAAU;IACjC,OAAO,IAAI,CAAC/B,YAAY,CAACO,mBAAmB,EAAE,CAACC,IAAI,CACjDf,+CAAS,CAACgB,KAAK,IAAG;MAChB,MAAMC,OAAO,GAAG,IAAIpB,6DAAW,CAAC;QAC9B,eAAe,EAAE,UAAUmB,KAAK;OACjC,CAAC;MACF,OAAO,IAAI,CAACV,IAAI,CAACY,GAAG,CAAkB,GAAG,IAAI,CAACV,MAAM,oBAAoB8B,EAAE,EAAE,EAAE;QAAErB;MAAO,CAAE,CAAC;IAC5F,CAAC,CAAC,CACH;EACH;EAGE;EACDmE,qBAAqBA,CACpBC,SAAiB,EACjBX,iBAAqC,EACrCC,YAAiC,EACjCW,aAAuC,EACvCC,eAA0B;IAE1B,OAAO,IAAI,CAAChF,YAAY,CAACO,mBAAmB,EAAE,CAACC,IAAI,CACjDf,+CAAS,CAACgB,KAAK,IAAG;MAChB,MAAMC,OAAO,GAAG,IAAIpB,6DAAW,CAAC;QAC9B,eAAe,EAAE,UAAUmB,KAAK,EAAE;QAClC,cAAc,EAAE;OACjB,CAAC;MAEF,IAAI6D,MAAM,GAAG,IAAIP,4DAAU,EAAE;MAE7B,IAAII,iBAAiB,KAAKI,SAAS,EAAE;QACnCD,MAAM,GAAGA,MAAM,CAAC3C,GAAG,CAAC,mBAAmB,EAAEwC,iBAAiB,CAACK,QAAQ,EAAE,CAAC;MACxE;MAEA,IAAIJ,YAAY,KAAKG,SAAS,EAAE;QAC9BD,MAAM,GAAGA,MAAM,CAAC3C,GAAG,CAAC,cAAc,EAAEyC,YAAY,CAACI,QAAQ,EAAE,CAAC;MAC9D;MAEA,IAAIQ,eAAe,IAAIA,eAAe,CAACC,MAAM,GAAG,CAAC,EAAE;QACjDD,eAAe,CAACE,OAAO,CAACnD,EAAE,IAAG;UAC3BuC,MAAM,GAAGA,MAAM,CAACa,MAAM,CAAC,iBAAiB,EAAEpD,EAAE,CAACyC,QAAQ,EAAE,CAAC;QAC1D,CAAC,CAAC;MACJ;MAEA,IAAIO,aAAa,CAACK,MAAM,KAAK/F,gFAAqB,CAACgG,MAAM,EAAE;QACzDf,MAAM,GAAGA,MAAM,CAAC3C,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC;MAC7C;MAEA,OAAO,IAAI,CAAC5B,IAAI,CAACuF,GAAG,CAClB,GAAG,IAAI,CAACrF,MAAM,kBAAkB6E,SAAS,EAAE,EAC3CC,aAAa,EACb;QAAErE,OAAO;QAAE4D;MAAM,CAAE,CACpB,CAAC9D,IAAI,CACJd,yCAAG,CAAC+E,QAAQ,IAAI/C,OAAO,CAACE,GAAG,CAAC,sBAAsB,EAAE6C,QAAQ,CAAC,CAAC,EAC9DjF,gDAAU,CAACoB,KAAK,IAAG;QACjBc,OAAO,CAACd,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;QAC3C,OAAOjB,gDAAU,CAAC,MAAMiB,KAAK,CAAC;MAChC,CAAC,CAAC,CACH;IACH,CAAC,CAAC,CACH;EACH;EAGE;EACA2E,mBAAmBA,CACjBT,SAAiB,EACjBU,YAMC;IAED,MAAMvD,QAAQ,GAAG,IAAIwD,QAAQ,EAAE;IAC/BxD,QAAQ,CAACkD,MAAM,CAAC,IAAI,EAAEK,YAAY,CAACE,EAAE,CAAC;IACtCzD,QAAQ,CAACkD,MAAM,CAAC,IAAI,EAAEK,YAAY,CAACG,EAAE,CAAC;IACtC1D,QAAQ,CAACkD,MAAM,CAAC,SAAS,EAAEK,YAAY,CAACI,OAAO,CAAC;IAChD3D,QAAQ,CAACkD,MAAM,CAAC,MAAM,EAAEK,YAAY,CAACK,IAAI,CAAC;IAE1C,IAAIL,YAAY,CAACM,WAAW,EAAE;MAC5BN,YAAY,CAACM,WAAW,CAACZ,OAAO,CAAC,CAACa,IAAI,EAAEC,KAAK,KAAI;QAC/C/D,QAAQ,CAACkD,MAAM,CAAC,aAAa,EAAEY,IAAI,EAAEA,IAAI,CAACE,IAAI,CAAC;MACjD,CAAC,CAAC;IACJ;IAEE,OAAO,IAAI,CAACjG,YAAY,CAACO,mBAAmB,EAAE,CAACC,IAAI,CACrDf,+CAAS,CAACgB,KAAK,IAAG;MAChB,MAAMC,OAAO,GAAG,IAAIpB,6DAAW,CAAC;QAC9B,eAAe,EAAE,UAAUmB,KAAK;OACjC,CAAC;MACF,OAAO,IAAI,CAACV,IAAI,CAACqB,IAAI,CACnB,GAAG,IAAI,CAACnB,MAAM,aAAa6E,SAAS,gBAAgB,EACpD7C,QAAQ,EACR;QAAEvB,OAAO;QAAEyB,YAAY,EAAE;MAAM,CAAE,CAClC;IACH,CAAC,CAAC,CACH;EAGD;EAGA;EACF+D,oBAAoBA,CAACpB,SAAiB;IACpC,OAAO,IAAI,CAAC9E,YAAY,CAACO,mBAAmB,EAAE,CAACC,IAAI,CACjDf,+CAAS,CAACgB,KAAK,IAAG;MAChB,MAAMC,OAAO,GAAG,IAAIpB,6DAAW,CAAC;QAC9B,eAAe,EAAE,UAAUmB,KAAK;OACjC,CAAC;MAEF,OAAO,IAAI,CAACV,IAAI,CAACY,GAAG,CAAM,GAAG,IAAI,CAACV,MAAM,YAAY6E,SAAS,aAAa,EAAE;QAAEpE;MAAO,CAAE,CAAC;IAC1F,CAAC,CAAC,EACFlB,gDAAU,CAAC2G,GAAG,IAAG;MACfzE,OAAO,CAACd,KAAK,CAAC,yCAAyC,EAAEuF,GAAG,CAAC;MAC7D,OAAOxG,gDAAU,CAAC,MAAMwG,GAAG,CAAC;IAC9B,CAAC,CAAC,CACH;EACH;EAGA;EACA;EACA;EAEA;EACAC,uBAAuBA,CAACrE,EAAU;IAChC,OAAO,IAAI,CAAC/B,YAAY,CAACO,mBAAmB,EAAE,CAACC,IAAI,CACjDf,+CAAS,CAACgB,KAAK,IAAG;MAChB,MAAMC,OAAO,GAAG,IAAIpB,6DAAW,CAAC;QAC9B,eAAe,EAAE,UAAUmB,KAAK;OACjC,CAAC;MACF,OAAO,IAAI,CAACV,IAAI,CAACY,GAAG,CAAQ,GAAG,IAAI,CAACV,MAAM,aAAa8B,EAAE,QAAQ,EAAE;QAAErB;MAAO,CAAE,CAAC;IACjF,CAAC,CAAC,EACFlB,gDAAU,CAAC2G,GAAG,IAAG;MACfzE,OAAO,CAACd,KAAK,CAAC,yCAAyC,EAAEuF,GAAG,CAAC;MAC7D,OAAOxG,gDAAU,CAAC,MAAMwG,GAAG,CAAC;IAC9B,CAAC,CAAC,CACH;EACH;EAGE;EACFE,WAAWA,CAACvB,SAAiB,EAAEwB,MAAc;IAC3C,OAAO,IAAI,CAACtG,YAAY,CAACO,mBAAmB,EAAE,CAACC,IAAI,CACjDf,+CAAS,CAACgB,KAAK,IAAG;MAChB,MAAMC,OAAO,GAAG,IAAIpB,6DAAW,CAAC;QAC9B,eAAe,EAAE,UAAUmB,KAAK,EAAE;QAClC,QAAQ,EAAE;OACX,CAAC;MAEF,OAAO,IAAI,CAACV,IAAI,CAACY,GAAG,CAClB,GAAG,IAAI,CAACV,MAAM,SAAS6E,SAAS,UAAUwB,MAAM,EAAE,EAClD;QAAE5F;MAAO,CAAE,CACZ;IACH,CAAC,CAAC,EACFlB,gDAAU,CAAC2G,GAAG,IAAG;MACfzE,OAAO,CAACd,KAAK,CAAC,4CAA4C,EAAEuF,GAAG,CAAC;MAChE,OAAOxG,gDAAU,CAAC,MAAMwG,GAAG,CAAC;IAC9B,CAAC,CAAC,CACH;EACH;EAKE;EACFI,UAAUA,CAACzB,SAAiB,EAAEwB,MAAc,EAAEE,cAAsB;IAClE,OAAO,IAAI,CAACxG,YAAY,CAACO,mBAAmB,EAAE,CAACC,IAAI,CACjDf,+CAAS,CAACgB,KAAK,IAAG;MAChB,MAAMC,OAAO,GAAG,IAAIpB,6DAAW,CAAC;QAC9B,eAAe,EAAE,UAAUmB,KAAK,EAAE;QAClC,cAAc,EAAE;OACjB,CAAC;MACF,MAAMgG,GAAG,GAAG,GAAG,IAAI,CAACxG,MAAM,IAAI6E,SAAS,UAAUwB,MAAM,EAAE;MACzD,MAAMT,IAAI,GAAG;QAAEW;MAAc,CAAE;MAC/B,OAAO,IAAI,CAACzG,IAAI,CAACuF,GAAG,CAAMmB,GAAG,EAAEZ,IAAI,EAAE;QAAEnF;MAAO,CAAE,CAAC;IACnD,CAAC,CAAC,EACFhB,yCAAG,CAAC+E,QAAQ,IAAI/C,OAAO,CAACE,GAAG,CAAC,4BAA4B,EAAE6C,QAAQ,CAAC,CAAC,EACpEjF,gDAAU,CAACoB,KAAK,IAAG;MACjBc,OAAO,CAACd,KAAK,CAAC,4CAA4C,EAAEA,KAAK,CAAC;MAClE,OAAOjB,gDAAU,CAAC,MAAMiB,KAAK,CAAC;IAChC,CAAC,CAAC,CACH;EACH;EAGA8F,wBAAwBA,CAAC5B,SAAiB,EAAEwB,MAAc;IACxD,OAAO,IAAI,CAACtG,YAAY,CAACO,mBAAmB,EAAE,CAACC,IAAI,CACjDf,+CAAS,CAACgB,KAAK,IAAG;MAChB,MAAMC,OAAO,GAAG,IAAIpB,6DAAW,CAAC;QAC9B,eAAe,EAAE,UAAUmB,KAAK,EAAE;QAClC,QAAQ,EAAE;OACX,CAAC;MACF,OAAO,IAAI,CAACV,IAAI,CAAC4G,MAAM,CACrB,GAAG,IAAI,CAAC1G,MAAM,IAAI6E,SAAS,UAAUwB,MAAM,YAAY,EACvD;QAAE5F;MAAO,CAAE,CACZ;IACH,CAAC,CAAC,EACFlB,gDAAU,CAACoB,KAAK,IAAG;MACjBc,OAAO,CAACd,KAAK,CAAC,2CAA2C,EAAEA,KAAK,CAAC;MACjE,OAAOjB,gDAAU,CAAC,MAAMiB,KAAK,CAAC;IAChC,CAAC,CAAC,CACH;EACH;EAGCgG,mBAAmBA,CAACC,QAAiB,EAAEC,kBAA2B;IACjE,OAAO,IAAI,CAAC9G,YAAY,CAACO,mBAAmB,EAAE,CAACC,IAAI,CACjDf,+CAAS,CAACgB,KAAK,IAAG;MAChB,IAAI6D,MAAM,GAAG,IAAIP,4DAAU,EAAE;MAE7B,IAAI8C,QAAQ,KAAKtC,SAAS,EAAE;QAC1BD,MAAM,GAAGA,MAAM,CAAC3C,GAAG,CAAC,UAAU,EAAEkF,QAAQ,CAACrC,QAAQ,EAAE,CAAC;MACtD;MACA,IAAIsC,kBAAkB,KAAKvC,SAAS,EAAE;QACpCD,MAAM,GAAGA,MAAM,CAAC3C,GAAG,CAAC,oBAAoB,EAAEmF,kBAAkB,CAACtC,QAAQ,EAAE,CAAC;MAC1E;MAEA,MAAM9D,OAAO,GAAG,IAAIpB,6DAAW,CAAC;QAC9B+C,aAAa,EAAE,UAAU5B,KAAK;OAC/B,CAAC;MAEF,OAAO,IAAI,CAACV,IAAI,CAACY,GAAG,CAAQ,GAAG,IAAI,CAACV,MAAM,kBAAkB,EAAE;QAAES,OAAO;QAAE4D;MAAM,CAAE,CAAC;IACpF,CAAC,CAAC,EACF9E,gDAAU,CAACoB,KAAK,IAAG;MACjBc,OAAO,CAACd,KAAK,CAAC,kCAAkC,EAAEA,KAAK,CAAC;MACxD,OAAOjB,gDAAU,CAAC,MAAMiB,KAAK,CAAC;IAChC,CAAC,CAAC,CACH;EACH;EAGA;EAEAmG,qBAAqBA,CACnBC,IAAgD,EAChDC,SAAkB;EAAE;EACpBC,OAAgB;IAEhB,OAAO,IAAI,CAAClH,YAAY,CAACO,mBAAmB,EAAE,CAACC,IAAI,CACjDf,+CAAS,CAACgB,KAAK,IAAG;MAChB,MAAMC,OAAO,GAAG,IAAIpB,6DAAW,CAAC;QAC9B+C,aAAa,EAAE,UAAU5B,KAAK;OAC/B,CAAC;MAEF,IAAI6D,MAAM,GAAG,IAAIP,4DAAU,EAAE,CAACpC,GAAG,CAAC,MAAM,EAAEqF,IAAI,CAAC;MAE/C,IAAIA,IAAI,KAAK,cAAc,EAAE;QAC3B,IAAI,CAACC,SAAS,IAAI,CAACC,OAAO,EAAE;UAC1B,MAAM,IAAIjG,KAAK,CAAC,wEAAwE,CAAC;QAC3F;QACAqD,MAAM,GAAGA,MAAM,CAAC3C,GAAG,CAAC,WAAW,EAAEsF,SAAS,CAAC,CAACtF,GAAG,CAAC,SAAS,EAAEuF,OAAO,CAAC;MACrE;MAEA,OAAO,IAAI,CAACnH,IAAI,CAACY,GAAG,CAAQ,GAAG,IAAI,CAACV,MAAM,2BAA2B,EAAE;QAAES,OAAO;QAAE4D;MAAM,CAAE,CAAC;IAC7F,CAAC,CAAC,CACH;EACH;EAGC6C,oBAAoBA,CAACrC,SAAiB;IACrC,OAAO,IAAI,CAAC9E,YAAY,CAACO,mBAAmB,EAAE,CAACC,IAAI,CACjDf,+CAAS,CAACgB,KAAK,IAAG;MAChB,MAAMC,OAAO,GAAG,IAAIpB,6DAAW,CAAC;QAC9B,eAAe,EAAE,UAAUmB,KAAK,EAAE;QAClC,QAAQ,EAAE;OACX,CAAC;MACF,OAAO,IAAI,CAACV,IAAI,CAAC4G,MAAM,CACrB,GAAG,IAAI,CAAC1G,MAAM,0BAA0B6E,SAAS,EAAE,EACnD;QAAEpE;MAAO,CAAE,CACZ;IACH,CAAC,CAAC,EACFlB,gDAAU,CAACoB,KAAK,IAAG;MACjBc,OAAO,CAACd,KAAK,CAAC,2CAA2C,EAAEA,KAAK,CAAC;MACjE,OAAOjB,gDAAU,CAAC,MAAMiB,KAAK,CAAC;IAChC,CAAC,CAAC,CACH;EACH;;;uCA5UaoD,sBAAsB,EAAAV,sDAAA,CAAAE,4DAAA,GAAAF,sDAAA,CAAAI,wDAAA;IAAA;EAAA;;;aAAtBM,sBAAsB;MAAAJ,OAAA,EAAtBI,sBAAsB,CAAAH,IAAA;MAAAC,UAAA,EAFrB;IAAM;EAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACV2B;AAEoE;AAKlD;AACV;AACI;;;;;;;;;;;;;;;;;;;ICNzDR,4DAAA,cAA0E;IACxEA,oDAAA,GACF;IAAAA,0DAAA,EAAM;;;;IADJA,uDAAA,EACF;IADEA,gEAAA,MAAA0E,MAAA,CAAAC,YAAA,MACF;;;;;IAGA3E,4DAAA,cAA8E;IAC5EA,oDAAA,GACF;IAAAA,0DAAA,EAAM;;;;IADJA,uDAAA,EACF;IADEA,gEAAA,MAAA0E,MAAA,CAAAE,cAAA,MACF;;;;;IAWE5E,4DADF,cAA+C,cAChB;IAC3BA,uDAAA,cAA2B;IAC3BA,4DAAA,QAAG;IAAAA,oDAAA,2BAAoB;IAE3BA,0DAF2B,EAAI,EACvB,EACF;;;;;;IAmDIA,4DAFJ,cAAqE,cACpC,aACqB;IAAAA,oDAAA,mBAAY;IAAAA,0DAAA,EAAK;IACnEA,4DAAA,YAAuC;IAAAA,oDAAA,sEAAqD;IAAAA,0DAAA,EAAI;IAEhGA,4DADA,cAAiC,iBAC+C;IAA3BA,wDAAA,mBAAA+E,sEAAA;MAAA/E,2DAAA,CAAAiF,GAAA;MAAA,MAAAP,MAAA,GAAA1E,2DAAA;MAAA,OAAAA,yDAAA,CAAS0E,MAAA,CAAAU,cAAA,EAAgB;IAAA,EAAC;IAACpF,oDAAA,UAAG;IAAAA,0DAAA,EAAS;IAC5FA,4DAAA,iBAA6F;IAAzCA,wDAAA,mBAAAqF,sEAAA;MAAArF,2DAAA,CAAAiF,GAAA;MAAA,MAAAP,MAAA,GAAA1E,2DAAA;MAAA,OAAAA,yDAAA,CAAA0E,MAAA,CAAAY,sBAAA,GAAkC,KAAK;IAAA,EAAC;IAACtF,oDAAA,WAAG;IAGpGA,0DAHoG,EAAS,EACnG,EACJ,EACA;;;;;;IAQAA,4DAAA,YAG4B;IAA1BA,wDAAA,mBAAAuF,+DAAA;MAAAvF,2DAAA,CAAAwF,GAAA;MAAA,MAAAd,MAAA,GAAA1E,2DAAA;MAAA,OAAAA,yDAAA,CAAS0E,MAAA,CAAAe,aAAA,EAAe;IAAA,EAAC;IAACzF,0DAAA,EAAI;;;;;;IAEhCA,4DAAA,YAG4B;IAA1BA,wDAAA,mBAAA0F,+DAAA;MAAA1F,2DAAA,CAAA2F,GAAA;MAAA,MAAAjB,MAAA,GAAA1E,2DAAA;MAAA,OAAAA,yDAAA,CAAS0E,MAAA,CAAAe,aAAA,EAAe;IAAA,EAAC;IAACzF,0DAAA,EAAI;;;;;IAc9BA,4DAAA,YAA+D;IAAAA,oDAAA,oBAAa;IAAAA,0DAAA,EAAQ;;;;;IACpFA,4DAAA,YAAgE;IAAAA,oDAAA,kCAAsB;IAAAA,0DAAA,EAAQ;;;;;IAFhGA,4DAAA,cAAoG;IAElGA,wDADA,IAAA6F,qDAAA,oBAA+D,IAAAC,qDAAA,oBACC;IAClE9F,0DAAA,EAAM;;;;;;IAFIA,uDAAA,EAAqD;IAArDA,wDAAA,UAAAgG,OAAA,GAAAtB,MAAA,CAAAuB,cAAA,CAAA5I,GAAA,0BAAA2I,OAAA,CAAAE,MAAA,kBAAAF,OAAA,CAAAE,MAAA,aAAqD;IACrDlG,uDAAA,EAAsD;IAAtDA,wDAAA,UAAAmG,OAAA,GAAAzB,MAAA,CAAAuB,cAAA,CAAA5I,GAAA,0BAAA8I,OAAA,CAAAD,MAAA,kBAAAC,OAAA,CAAAD,MAAA,cAAsD;;;;;IAU9DlG,4DAAA,YAA8D;IAAAA,oDAAA,uBAAgB;IAAAA,0DAAA,EAAQ;;;;;IADxFA,4DAAA,cAAwG;IACtGA,wDAAA,IAAAoG,qDAAA,oBAA8D;IAChEpG,0DAAA,EAAM;;;;;IADIA,uDAAA,EAAoD;IAApDA,wDAAA,UAAAgG,OAAA,GAAAtB,MAAA,CAAAuB,cAAA,CAAA5I,GAAA,4BAAA2I,OAAA,CAAAE,MAAA,kBAAAF,OAAA,CAAAE,MAAA,UAAoD;;;;;IAiC5DlG,4DADF,cAAgH,YACvG;IAAAA,oDAAA,sBAAe;IACxBA,0DADwB,EAAQ,EAC1B;;;;;;IAuBVA,4DAAA,cAAsD;IAEpDA,uDAAA,cAGM;IAIFA,4DAFJ,cAAmD,cACxB,kBAC4B;IAAxBA,wDAAA,mBAAAqG,sEAAA;MAAArG,2DAAA,CAAAsG,GAAA;MAAA,MAAA5B,MAAA,GAAA1E,2DAAA;MAAA,OAAAA,yDAAA,CAAS0E,MAAA,CAAA6B,WAAA,EAAa;IAAA,EAAC;IAACvG,oDAAA,GAAsC;IAC3FA,0DAD2F,EAAS,EAC9F;IAEJA,4DADF,eAAyB,kBAK6C;IAJ3CA,wDAAA,mBAAAwG,sEAAA;MAAAxG,2DAAA,CAAAsG,GAAA;MAAA,MAAA5B,MAAA,GAAA1E,2DAAA;MAAA,OAAAA,yDAAA,CAAS0E,MAAA,CAAA+B,QAAA,EAAU;IAAA,EAAC;IAK3CzG,oDAAA,iBACF;IAGNA,0DAHM,EAAS,EACL,EACF,EACF;;;;IAZmDA,uDAAA,GAAsC;IAAtCA,+DAAA,CAAA0E,MAAA,CAAAiC,SAAA,wBAAsC;IAKnF3G,uDAAA,GAAwE;IAExEA,yDAFA,qBAAA0E,MAAA,CAAAuB,cAAA,CAAAY,KAAA,2BAAwE,UAAAnC,MAAA,CAAAuB,cAAA,CAAAY,KAAA,2BACV,WAAAnC,MAAA,CAAAuB,cAAA,CAAAY,KAAA,yBACD;IAH7D7G,wDAAA,aAAA0E,MAAA,CAAAuB,cAAA,CAAAa,OAAA,CAAmC;;;;;IAqB3C9G,4DADF,eAAuB,WACf;IAAAA,oDAAA,0BAAmB;IAAAA,0DAAA,EAAO;IAChCA,4DAAA,gBAA4B;IAAAA,oDAAA,GAAgB;IAC9CA,0DAD8C,EAAO,EAC/C;;;;IADwBA,uDAAA,GAAgB;IAAhBA,+DAAA,CAAA0E,MAAA,CAAAqC,YAAA,CAAgB;;;;;IAwE9B/G,4DADF,SAAuD,cACtC;IAAAA,oDAAA,GAAsB;IAAAA,0DAAA,EAAK;IAC1CA,4DAAA,cAAe;IAAAA,oDAAA,GAA4B;IAAAA,0DAAA,EAAK;IAChDA,4DAAA,cAAe;IAAAA,oDAAA,GAAuC;;IAAAA,0DAAA,EAAK;IAC3DA,4DAAA,cAAe;IAAAA,oDAAA,GAAoB;IAAAA,0DAAA,EAAK;IACxCA,4DAAA,eAAe;IAAAA,oDAAA,IAAuC;;IACxDA,0DADwD,EAAK,EACxD;;;;IALYA,uDAAA,GAAsB;IAAtBA,+DAAA,CAAAgH,QAAA,CAAAC,UAAA,CAAsB;IACtBjH,uDAAA,GAA4B;IAA5BA,+DAAA,CAAAgH,QAAA,CAAAE,gBAAA,CAA4B;IAC5BlH,uDAAA,GAAuC;IAAvCA,+DAAA,CAAAA,yDAAA,OAAAgH,QAAA,CAAAI,YAAA,EAAuC;IACvCpH,uDAAA,GAAoB;IAApBA,+DAAA,CAAAgH,QAAA,CAAAK,QAAA,CAAoB;IACpBrH,uDAAA,GAAuC;IAAvCA,+DAAA,CAAAA,yDAAA,QAAAgH,QAAA,CAAAM,YAAA,EAAuC;;;;;IAStDtH,4DADF,SAAsC,cACT;IAAAA,oDAAA,gBAAS;IAAAA,0DAAA,EAAK;IACzCA,4DAAA,cAAe;IAAAA,oDAAA,WAAI;IACrBA,0DADqB,EAAK,EACrB;;;;;IAEHA,4DADF,SAA+B,cACF;IAAAA,oDAAA,aAAM;IAAAA,0DAAA,EAAK;IACtCA,4DAAA,cAAe;IAAAA,oDAAA,UAAG;IACpBA,0DADoB,EAAK,EACpB;;;;;IAhFTA,4DAHJ,eAA0E,eAEuB,eAChE;IAC3BA,uDAAA,eAA2G;IAC7GA,0DAAA,EAAM;IAEJA,4DADF,eAA+B,aACZ;IAAAA,oDAAA,GAAmB;IAAAA,0DAAA,EAAI;IACxCA,4DAAA,aAAiB;IAAAA,oDAAA,GAAgC;IAAAA,0DAAA,EAAI;IACrDA,4DAAA,eAAmB;IACjBA,oDAAA,IAEF;IAEJA,0DAFI,EAAM,EACF,EACF;IAEFA,uDAAJ,UAAI,UAAI;IAINA,4DADF,gBAA+D,UACzD;IAAAA,oDAAA,0BACF;IAAAA,4DAAA,iBAAgC;IAC9BA,oDAAA,IACF;IAEJA,0DAFI,EAAO,EACJ,EACD;IAIJA,4DADF,gBAAwB,cACwC;IAC5DA,oDAAA,IACF;;IACFA,0DADE,EAAI,EACA;IAKFA,4DAFJ,gBAAoD,gBACsB,eAC/B;IAAAA,oDAAA,eAAO;IAAAA,0DAAA,EAAK;IACnDA,4DAAA,cAAsC;IACpCA,oDAAA,IACF;IACFA,0DADE,EAAI,EACA;IAEJA,4DADF,gBAA0E,eACjC;IAAAA,oDAAA,gBAAQ;IAAAA,0DAAA,EAAK;IACpDA,4DAAA,cAAsC;IACpCA,oDAAA,IACF;IAEJA,0DAFI,EAAI,EACA,EACF;IAOEA,4DAJR,gBAA6E,kBACtD,aACZ,UACD,eACa;IAAAA,oDAAA,wBAAW;IAAAA,0DAAA,EAAK;IAC/BA,4DAAA,eAAe;IAAAA,oDAAA,mBAAW;IAAAA,0DAAA,EAAK;IAC/BA,4DAAA,eAAe;IAAAA,oDAAA,UAAE;IAAAA,0DAAA,EAAK;IACtBA,4DAAA,eAAe;IAAAA,oDAAA,qBAAQ;IAAAA,0DAAA,EAAK;IAC5BA,4DAAA,eAAe;IAAAA,oDAAA,sBAAc;IAEjCA,0DAFiC,EAAK,EAC/B,EACC;IACRA,4DAAA,aAAO;IACLA,wDAAA,KAAAuH,mDAAA,mBAAuD;IAOzDvH,0DAAA,EAAQ;IAGJA,4DAFJ,kBAAqB,UACf,eACyB;IAAAA,oDAAA,gBAAQ;IAAAA,0DAAA,EAAK;IACxCA,4DAAA,eAAe;IAAAA,oDAAA,IAA2C;;IAC5DA,0DAD4D,EAAK,EAC5D;IAKLA,wDAJA,KAAAwH,mDAAA,iBAAsC,KAAAC,mDAAA,iBAIP;IAK7BzH,4DADF,UAAI,eACyB;IAAAA,oDAAA,mBAAW;IAAAA,0DAAA,EAAK;IAC3CA,4DAAA,eAAe;IAAAA,oDAAA,IAAgD;;IAIvEA,0DAJuE,EAAK,EACjE,EACC,EACF,EACJ;IAGJA,4DADF,gBAAyB,cACwB;IAAAA,oDAAA,iFAAqD;IACtGA,0DADsG,EAAI,EACpG;IAIFA,4DAFJ,gBAA4E,gBAC7C,cACA;IAAAA,oDAAA,IAA0B;IACvDA,0DADuD,EAAI,EACrD;IAEJA,4DADF,gBAA4B,cACC;IAAAA,oDAAA,IAA6B;IAE5DA,0DAF4D,EAAI,EACxD,EACF;IAIJA,4DADF,gBAA8B,gBACR;IAClBA,uDAAA,UAAI;IAEFA,4DADF,cAAkE,cACxD;IAAAA,oDAAA,IAAuB;IACjCA,0DADiC,EAAS,EACtC;IAEFA,4DADF,gBAAiD,UAC3C;IACFA,oDAAA,IAIF;IACFA,0DADE,EAAK,EACD;IAEJA,4DADF,gBAAkE,UAC5D;IAAAA,oDAAA,IAAuD;IAInEA,0DAJmE,EAAK,EAC5D,EACF,EACF,EACF;;;;IAzHKA,uDAAA,GAAqG;IAArGA,wDAAA,QAAA0E,MAAA,CAAAgD,iBAAA,CAAAC,IAAA,GAAAjD,MAAA,CAAAkD,MAAA,GAAAlD,MAAA,CAAAgD,iBAAA,CAAAC,IAAA,qCAAA3H,2DAAA,CAAqG;IAGzFA,uDAAA,GAAmB;IAAnBA,+DAAA,CAAA0E,MAAA,CAAAoD,aAAA,CAAmB;IACnB9H,uDAAA,GAAgC;IAAhCA,gEAAA,cAAA0E,MAAA,CAAAqD,iBAAA,KAAgC;IAE/C/H,uDAAA,GAEF;IAFEA,gEAAA,aAAA0E,MAAA,CAAAuD,eAAA,4BAAAvD,MAAA,CAAAwD,mBAAA,MAEF;IAUElI,uDAAA,GACF;IADEA,gEAAA,MAAA0E,MAAA,CAAAyD,cAAA,CAAAC,aAAA,MACF;IAOApI,uDAAA,GACF;IADEA,gEAAA,MAAA0E,MAAA,CAAA2D,eAAA,QAAArI,yDAAA,SAAA0E,MAAA,CAAAyD,cAAA,CAAAI,YAAA,qBACF;IAQIvI,uDAAA,GACF;IADEA,gEAAA,OAAA0E,MAAA,CAAAyD,cAAA,CAAAK,MAAA,kBAAA9D,MAAA,CAAAyD,cAAA,CAAAK,MAAA,CAAAC,UAAA,MAAA/D,MAAA,CAAAyD,cAAA,CAAAO,gBAAA,kBAAAhE,MAAA,CAAAyD,cAAA,CAAAO,gBAAA,CAAAC,GAAA,OACF;IAKE3I,uDAAA,GACF;IADEA,gEAAA,MAAA0E,MAAA,CAAAyD,cAAA,CAAAS,WAAA,MACF;IAiBwB5I,uDAAA,IAA+B;IAA/BA,wDAAA,YAAA0E,MAAA,CAAAyD,cAAA,CAAAU,aAAA,CAA+B;IAWpC7I,uDAAA,GAA2C;IAA3CA,+DAAA,CAAAA,yDAAA,SAAA0E,MAAA,CAAAyD,cAAA,CAAAW,OAAA,EAA2C;IAEvD9I,uDAAA,GAA+B;IAA/BA,wDAAA,SAAA0E,MAAA,CAAAyD,cAAA,CAAAY,MAAA,KAA+B;IAI/B/I,uDAAA,EAAwB;IAAxBA,wDAAA,SAAA0E,MAAA,CAAAyD,cAAA,CAAAa,GAAA,CAAwB;IAMZhJ,uDAAA,GAAgD;IAAhDA,+DAAA,CAAAA,yDAAA,SAAA0E,MAAA,CAAAyD,cAAA,CAAAc,YAAA,EAAgD;IAYxCjJ,uDAAA,GAA0B;IAA1BA,+DAAA,CAAA0E,MAAA,CAAAwE,oBAAA,CAA0B;IAG1BlJ,uDAAA,GAA6B;IAA7BA,+DAAA,CAAA0E,MAAA,CAAAyE,uBAAA,CAA6B;IAS9CnJ,uDAAA,GAAuB;IAAvBA,+DAAA,CAAA0E,MAAA,CAAA0E,iBAAA,CAAuB;IAI7BpJ,uDAAA,GAIF;IAJEA,gEAAA,YAAA0E,MAAA,CAAA4E,cAAA,aAAA5E,MAAA,CAAA6E,cAAA,YAAA7E,MAAA,CAAA8E,aAAA,eAAA9E,MAAA,CAAA+E,gBAAA,MAIF;IAGIzJ,uDAAA,GAAuD;IAAvDA,gEAAA,eAAA0E,MAAA,CAAAgF,iBAAA,QAAAhF,MAAA,CAAAiF,cAAA,KAAuD;;;;;IAMjE3J,4DAAA,eAA2B;IACzBA,uDAAA,aAAiC;IACjCA,4DAAA,QAAG;IAAAA,oDAAA,uDAAsC;IAC3CA,0DAD2C,EAAI,EACzC;;;;;IAgBJA,4DAAA,eAAuD;IACrDA,uDAAA,aAAqC;IAACA,oDAAA,mCACxC;IAAAA,0DAAA,EAAM;;;;;IAENA,4DAAA,eAAqE;IACnEA,oDAAA,GACF;IAAAA,0DAAA,EAAM;;;;IADJA,uDAAA,EACF;IADEA,gEAAA,MAAA0E,MAAA,CAAAkF,aAAA,MACF;;;;;IAEA5J,4DAAA,eAAuG;IACrGA,uDAAA,aAAmC;IACnCA,4DAAA,QAAG;IAAAA,oDAAA,wDAA4C;IACjDA,0DADiD,EAAI,EAC/C;;;;;;IAaFA,4DAAA,cAE4D;IADxDA,wDAAA,mBAAA6J,2EAAA;MAAA,MAAAC,UAAA,GAAA9J,2DAAA,CAAA+J,GAAA,EAAAC,SAAA;MAAA,MAAAtF,MAAA,GAAA1E,2DAAA;MAAA,OAAAA,yDAAA,CAAS0E,MAAA,CAAAuF,eAAA,CAAAH,UAAA,CAAwB;IAAA,EAAC;IAEpC9J,4DAAA,SAAI;IAAAA,oDAAA,GAA2B;IAAAA,0DAAA,EAAK;IACpCA,4DAAA,SAAI;IAAAA,oDAAA,GAA6C;;IAAAA,0DAAA,EAAK;IAEpDA,4DADF,SAAI,gBAMC;IACDA,oDAAA,GACF;IACFA,0DADE,EAAO,EACJ;IACLA,4DAAA,aAAuB;IAAAA,oDAAA,IAAyC;;IAClEA,0DADkE,EAAK,EAClE;;;;;IAdDA,yDAAA,iBAAA0E,MAAA,CAAAyF,iBAAA,KAAAL,UAAA,CAAArL,EAAA,CAAuD;IACrDuB,uDAAA,GAA2B;IAA3BA,+DAAA,CAAA8J,UAAA,CAAA1B,aAAA,CAA2B;IAC3BpI,uDAAA,GAA6C;IAA7CA,+DAAA,CAAAA,yDAAA,OAAA8J,UAAA,CAAAM,WAAA,gBAA6C;IAEpBpK,uDAAA,GAKzB;IALyBA,wDAAA,YAAAA,6DAAA,KAAAsK,GAAA,EAAAR,UAAA,CAAAhI,MAAA,kBAAAgI,UAAA,CAAAhI,MAAA,eAAAgI,UAAA,CAAAhI,MAAA,iBAAAgI,UAAA,CAAAhI,MAAA,eAKzB;IACA9B,uDAAA,EACF;IADEA,gEAAA,MAAA8J,UAAA,CAAAhI,MAAA,MACF;IAEqB9B,uDAAA,GAAyC;IAAzCA,+DAAA,CAAAA,yDAAA,SAAA8J,UAAA,CAAAb,YAAA,EAAyC;;;;;IAtBhEjJ,4DAHN,YAAmF,YAC1E,aAC6G,SAC5G;IAAAA,oDAAA,kBAAM;IAAAA,0DAAA,EAAK;IACfA,4DAAA,SAAI;IAAAA,oDAAA,WAAI;IAAAA,0DAAA,EAAK;IACbA,4DAAA,SAAI;IAAAA,oDAAA,aAAM;IAAAA,0DAAA,EAAK;IACfA,4DAAA,aAAuB;IAAAA,oDAAA,eAAO;IAElCA,0DAFkC,EAAK,EAChC,EACC;IACRA,4DAAA,aAAO;IACLA,wDAAA,KAAAuK,sDAAA,mBAE4D;IAgBhEvK,0DADE,EAAQ,EACF;;;;IAlBoBA,uDAAA,IAAqB;IAArBA,wDAAA,YAAA0E,MAAA,CAAA8F,kBAAA,CAAqB;;;;;IA0B3CxK,4DAJR,cAAuG,gBACzE,gBACgB,SACpC,aACgC;IAAAA,oDAAA,YAAK;IAAAA,0DAAA,EAAK;IAC5CA,4DAAA,aAAiC;IAC/BA,oDAAA,GACF;;IAIRA,0DAJQ,EAAK,EACF,EACC,EACF,EACJ;;;;IALIA,uDAAA,GACF;IADEA,gEAAA,MAAAA,yDAAA,OAAA0E,MAAA,CAAA+F,gBAAA,SACF;;;;;IAgBdzK,4DADF,eAAuB,WACf;IAAAA,oDAAA,aAAM;IAAAA,0DAAA,EAAO;IACnBA,4DAAA,gBAA4B;IAAAA,oDAAA,GAAc;IAC5CA,0DAD4C,EAAO,EAC7C;;;;IADwBA,uDAAA,GAAc;IAAdA,+DAAA,CAAA0E,MAAA,CAAAgG,UAAA,CAAc;;;;;IAuE1B1K,4DADF,SAA+C,cAC9B;IAAAA,oDAAA,GAAsB;IAAAA,0DAAA,EAAK;IAC1CA,4DAAA,cAAe;IAAAA,oDAAA,GAAyC;;IAAAA,0DAAA,EAAK;IAC7DA,4DAAA,cAAe;IAAAA,oDAAA,GAAoB;IAAAA,0DAAA,EAAK;IACxCA,4DAAA,cAAe;IAAAA,oDAAA,GAAyC;;IAAAA,0DAAA,EAAK;IAC7DA,4DAAA,eAAe;IAAAA,oDAAA,IAAgB;IACjCA,0DADiC,EAAK,EACjC;;;;IALYA,uDAAA,GAAsB;IAAtBA,+DAAA,CAAA2K,SAAA,CAAA1D,UAAA,CAAsB;IACtBjH,uDAAA,GAAyC;IAAzCA,+DAAA,CAAAA,yDAAA,OAAA2K,SAAA,CAAAvD,YAAA,WAAyC;IACzCpH,uDAAA,GAAoB;IAApBA,+DAAA,CAAA2K,SAAA,CAAAtD,QAAA,CAAoB;IACpBrH,uDAAA,GAAyC;IAAzCA,+DAAA,CAAAA,yDAAA,QAAA2K,SAAA,CAAAC,YAAA,WAAyC;IACzC5K,uDAAA,GAAgB;IAAhBA,+DAAA,CAAA2K,SAAA,CAAA5B,MAAA,CAAgB;;;;;IA/DrC/I,4DAHJ,eAAiD,eAEgD,eAChE;IAC3BA,uDAAA,eAAgC;IAClCA,0DAAA,EAAM;IAEJA,4DADF,eAA+B,aACZ;IAAAA,oDAAA,qBAAc;IAAAA,0DAAA,EAAI;IACnCA,4DAAA,aAAiB;IAAAA,oDAAA,yBAAkB;IAAAA,0DAAA,EAAI;IACvCA,4DAAA,eAAmB;IACjBA,oDAAA,mEAEF;IAEJA,0DAFI,EAAM,EACF,EACF;IAEFA,uDAAJ,UAAI,UAAI;IAINA,4DADF,gBAA+D,UACzD;IAAAA,oDAAA,0BACF;IAAAA,4DAAA,iBAAgC;IAC9BA,oDAAA,IACF;IAEJA,0DAFI,EAAO,EACJ,EACD;IAIJA,4DADF,gBAAwB,cACwC;IAC7DA,oDAAA,IACD;;IACFA,0DADE,EAAI,EACA;IAKFA,4DAFJ,gBAAoD,gBACsB,eAC/B;IAAAA,oDAAA,kBAAU;IAAAA,0DAAA,EAAK;IACtDA,4DAAA,cAAsC;IAAAA,oDAAA,IAA8B;IACtEA,0DADsE,EAAI,EACpE;IAEJA,4DADF,gBAA0E,eACjC;IAAAA,oDAAA,gBAAQ;IAAAA,0DAAA,EAAK;IACpDA,4DAAA,cAAsC;IAAAA,oDAAA,IAA6B;IAEvEA,0DAFuE,EAAI,EACnE,EACF;IAOEA,4DAJR,gBAA6E,kBACtD,aACZ,UACD,eACa;IAAAA,oDAAA,wBAAW;IAAAA,0DAAA,EAAK;IAC/BA,4DAAA,eAAe;IAAAA,oDAAA,UAAE;IAAAA,0DAAA,EAAK;IACtBA,4DAAA,eAAe;IAAAA,oDAAA,qBAAQ;IAAAA,0DAAA,EAAK;IAC5BA,4DAAA,eAAe;IAAAA,oDAAA,sBAAc;IAAAA,0DAAA,EAAK;IAClCA,4DAAA,eAAe;IAAAA,oDAAA,eAAO;IAI1BA,0DAJ0B,EAAK,EAGxB,EACC;IACRA,4DAAA,aAAO;IACLA,wDAAA,KAAA6K,oDAAA,oBAA+C;IAOjD7K,0DAAA,EAAQ;IAGJA,4DAFJ,kBAAqB,UACf,eACyB;IAAAA,oDAAA,gBAAQ;IAAAA,0DAAA,EAAK;IACxCA,4DAAA,eAAe;IAAAA,oDAAA,IAAiD;;IAClEA,0DADkE,EAAK,EAClE;IAEHA,4DADF,UAAI,eACyB;IAAAA,oDAAA,iBAAS;IAAAA,0DAAA,EAAK;IACzCA,4DAAA,eAAe;IAAAA,oDAAA,IAAkD;;IACnEA,0DADmE,EAAK,EACnE;IAGHA,4DADF,UAAI,eACyB;IAAAA,oDAAA,mBAAW;IAAAA,0DAAA,EAAK;IAC3CA,4DAAA,eAAe;IAAAA,oDAAA,IAAiF;;IAIxGA,0DAJwG,EAAK,EAClG,EACC,EACF,EACJ;IAGJA,4DADF,gBAAyB,cACwB;IAAAA,oDAAA,iFAAqD;IACtGA,0DADsG,EAAI,EACpG;IAIFA,4DAFJ,gBAA4E,gBAC7C,cACA;IAAAA,oDAAA,kBAAU;IACvCA,0DADuC,EAAI,EACrC;IAEJA,4DADF,gBAA4B,cACC;IAAAA,oDAAA,sBAAc;IAE7CA,0DAF6C,EAAI,EACzC,EACF;IAIJA,4DADF,gBAA8B,gBACR;IAClBA,uDAAA,UAAI;IAEFA,4DADF,cAAkE,cACxD;IAAAA,oDAAA,uBAAe;IACzBA,0DADyB,EAAS,EAC9B;IAEFA,4DADF,gBAAiD,UAC3C;IACFA,oDAAA,8DAIF;IACFA,0DADE,EAAK,EACD;IAEJA,4DADF,gBAAkE,UAC5D;IAAAA,oDAAA,4BAAoB;IAIhCA,0DAJgC,EAAK,EACzB,EACF,EACF,EACF;;;;IAlGEA,uDAAA,IACF;IADEA,gEAAA,MAAA0E,MAAA,CAAAoG,aAAA,CAAA1C,aAAA,MACF;IAODpI,uDAAA,GACD;IADCA,gEAAA,MAAAA,yDAAA,QAAA0E,MAAA,CAAAoG,aAAA,CAAAC,SAAA,2BACD;IAOwC/K,uDAAA,GAA8B;IAA9BA,+DAAA,CAAA0E,MAAA,CAAAoG,aAAA,CAAAE,UAAA,CAA8B;IAI9BhL,uDAAA,GAA6B;IAA7BA,+DAAA,CAAA0E,MAAA,CAAAoG,aAAA,CAAAlC,WAAA,CAA6B;IAmB3C5I,uDAAA,IAAuB;IAAvBA,wDAAA,YAAA0E,MAAA,CAAAoG,aAAA,CAAAG,MAAA,CAAuB;IAW5BjL,uDAAA,GAAiD;IAAjDA,+DAAA,CAAAA,yDAAA,SAAA0E,MAAA,CAAAoG,aAAA,CAAAxD,YAAA,WAAiD;IAIjDtH,uDAAA,GAAkD;IAAlDA,+DAAA,CAAAA,yDAAA,SAAA0E,MAAA,CAAAoG,aAAA,CAAAI,aAAA,WAAkD;IAKlDlL,uDAAA,GAAiF;IAAjFA,+DAAA,CAAAA,yDAAA,SAAA0E,MAAA,CAAAoG,aAAA,CAAAxD,YAAA,GAAA5C,MAAA,CAAAoG,aAAA,CAAAI,aAAA,WAAiF;;;;;;IA+DlGlL,4DAAA,cAAyH;IAA/BA,wDAAA,mBAAAmL,kEAAA;MAAA,MAAAC,SAAA,GAAApL,2DAAA,CAAAqL,IAAA,EAAArB,SAAA;MAAA,MAAAtF,MAAA,GAAA1E,2DAAA;MAAA,OAAAA,yDAAA,CAAS0E,MAAA,CAAA4G,aAAA,CAAAF,SAAA,CAAoB;IAAA,EAAC;IACtHpL,4DAAA,SAAI;IAAAA,oDAAA,GAAyB;IAAAA,0DAAA,EAAK;IAClCA,4DAAA,SAAI;IAAAA,oDAAA,GAAyC;;IAAAA,0DAAA,EAAK;IAEhDA,4DADF,SAAI,gBACyB;IAAAA,oDAAA,GAAwB;IACrDA,0DADqD,EAAO,EACvD;IACLA,4DAAA,aAAuB;IAAAA,oDAAA,IAAyC;;IAClEA,0DADkE,EAAK,EAClE;;;;;IAP4BA,yDAAA,iBAAA0E,MAAA,CAAA6G,eAAA,KAAAH,SAAA,CAAAI,OAAA,CAAwD;IACnFxL,uDAAA,GAAyB;IAAzBA,+DAAA,CAAAoL,SAAA,CAAAhD,aAAA,CAAyB;IACzBpI,uDAAA,GAAyC;IAAzCA,+DAAA,CAAAA,yDAAA,OAAAoL,SAAA,CAAAL,SAAA,gBAAyC;IAEhB/K,uDAAA,GAAwB;IAAxBA,+DAAA,CAAAoL,SAAA,CAAAK,YAAA,CAAwB;IAE9BzL,uDAAA,GAAyC;IAAzCA,+DAAA,CAAAA,yDAAA,QAAAoL,SAAA,CAAA9D,YAAA,WAAyC;;;AD7jBxF,MAAOoE,6BAA6B;EAmDxClP,YACUmP,MAAc,EACdC,KAAqB,EACrBC,EAAe,EACfC,iBAA0C,EAC1CC,cAAsC,EACtCC,kBAAqC,EACrCC,YAA0B;IAN1B,KAAAN,MAAM,GAANA,MAAM;IACN,KAAAC,KAAK,GAALA,KAAK;IACL,KAAAC,EAAE,GAAFA,EAAE;IACF,KAAAC,iBAAiB,GAAjBA,iBAAiB;IACjB,KAAAC,cAAc,GAAdA,cAAc;IACd,KAAAC,kBAAkB,GAAlBA,kBAAkB;IAClB,KAAAC,YAAY,GAAZA,YAAY;IAzDf,KAAArE,MAAM,GAAGtL,qEAAW,CAACsL,MAAM;IAElC,KAAAjD,YAAY,GAAW,EAAE;IACzB,KAAAC,cAAc,GAAW,EAAE;IAG3B,KAAAsH,SAAS,GAAW,EAAE;IACtB,KAAAC,cAAc,GAAW,CAAC;IAC1B,KAAA3B,kBAAkB,GAAU,EAAE;IAC9B,KAAA4B,SAAS,GAAG,KAAK;IACjB,KAAAC,eAAe,GAAG,KAAK;IACvB,KAAAzC,aAAa,GAAG,EAAE;IAClB,KAAAjD,SAAS,GAAG,KAAK;IACjB,KAAA2F,OAAO,GAAG,IAAIvI,uDAAW,EAAE;IAC3B,KAAAoG,iBAAiB,GAAkB,IAAI;IACvC,KAAAhC,cAAc,GAAQ,IAAI;IAC1B,KAAAT,iBAAiB,GAAQ,EAAE;IAC3B,KAAAX,YAAY,GAAW,CAAC;IACxB,KAAA2D,UAAU,GAAW,CAAC;IAEtB;IACA,KAAA5C,aAAa,GAAW,gBAAgB;IACxC,KAAAC,iBAAiB,GAAW,SAAS;IACrC,KAAAE,eAAe,GAAW,sBAAsB;IAChD,KAAAC,mBAAmB,GAAW,kBAAkB;IAChD,KAAAG,eAAe,GAAW,cAAc;IACxC,KAAAkE,cAAc,GAAW,gCAAgC;IACzD,KAAAnD,iBAAiB,GAAW,oBAAoB;IAChD,KAAAE,cAAc,GAAW,MAAM;IAC/B,KAAAC,cAAc,GAAW,MAAM;IAC/B,KAAAC,aAAa,GAAW,KAAK;IAC7B,KAAAC,gBAAgB,GAAW,QAAQ;IACnC,KAAAC,iBAAiB,GAAW,SAAS;IACrC,KAAAC,cAAc,GAAW,MAAM;IAC/B,KAAAR,uBAAuB,GAAW,gBAAgB;IAClD,KAAAD,oBAAoB,GAAW,qBAAqB;IAEpD,KAAAsD,WAAW,GAAkB,IAAI;IACjC,KAAAC,YAAY,GAAgB,IAAI;IAChC,KAAAC,cAAc,GAAkB,IAAI;IAIpC;IACA,KAAAC,cAAc,GAA+D;MAC3E,MAAM,EAAE;QAAET,SAAS,EAAE,MAAM;QAAEU,QAAQ,EAAE;MAAC,CAAE;MAC1C,SAAS,EAAE;QAAEV,SAAS,EAAE,MAAM;QAAEU,QAAQ,EAAE;MAAC,CAAE;MAC7C,gBAAgB,EAAE;QAAEV,SAAS,EAAE,MAAM;QAAEU,QAAQ,EAAE;MAAE;KACpD;IA6PH,KAAAlE,gBAAgB,GAA4B,IAAI;IAEhD,KAAApD,sBAAsB,GAAG,KAAK;IAC9B,KAAAuH,WAAW,GAAG,KAAK;IAgDnB;IACA;IACE,KAAAC,OAAO,GAAG,KAAK;IAEf,KAAAC,MAAM,GAAU,EAAE;IACjB,KAAAxB,eAAe,GAAkB,IAAI;IACtC,KAAAT,aAAa,GAAQ,IAAI;EA3StB;EAEHkC,QAAQA,CAAA;IACN,IAAI,CAACC,cAAc,EAAE;IACrB,IAAI,CAACrB,KAAK,CAAC5K,MAAM,CAACkM,SAAS,CAAClM,MAAM,IAAG;MACnC,IAAI,CAACK,YAAY,GAAG,CAACL,MAAM,CAAC,IAAI,CAAC;MACjC,IAAI,CAACmM,kBAAkB,EAAE;MACzB,IAAI,CAACC,sBAAsB,EAAE;MAE7B,IAAI,CAAC5J,kBAAkB,GAAG,IAAI,CAACnC,YAAY;MAC7C,IAAI,CAACkC,QAAQ,GAAGtC,SAAS;MACzB,IAAI,CAACoM,SAAS,EAAE;IAChB,CAAC,CAAC;IACF,IAAI,CAACC,qBAAqB,EAAE;IAC5B,IAAI,CAACrH,cAAc,CAACsH,OAAO,EAAE;IAC7B,IAAI,CAACjB,OAAO,CAACiB,OAAO,EAAE;EACxB;EAEAD,qBAAqBA,CAAA;IACnB,IAAI,CAACtB,kBAAkB,CAAClN,iBAAiB,EAAE,CAACoO,SAAS,CAAC;MACpDhP,IAAI,EAAGL,UAAU,IAAI;QACnB,IAAI,CAAC6J,iBAAiB,GAAG7J,UAAU;MACrC,CAAC;MACDP,KAAK,EAAGuF,GAAG,IAAI;QACbzE,OAAO,CAACd,KAAK,CAAC,8CAA8C,EAAEuF,GAAG,CAAC;MACpE;KACD,CAAC;EACJ;EAEAuK,sBAAsBA,CAAA;IACpB,IAAI,CAACf,eAAe,GAAG,IAAI;IAC3B,IAAI,CAACN,cAAc,CAACzI,mBAAmB,CAACrC,SAAS,EAAE,IAAI,CAACI,YAAY,CAAC,CAAC6L,SAAS,CAAC;MAC9EhP,IAAI,EAAGsP,QAAQ,IAAI;QACjB,IAAI,CAAChD,kBAAkB,GAAGgD,QAAQ;QAClC,IAAI,CAACzG,YAAY,GAAGyG,QAAQ,CAAC7L,MAAM;QACnC,IAAI,CAAC0K,eAAe,GAAG,KAAK;QAE5B;QACA,IAAI,IAAI,CAAC7B,kBAAkB,CAAC7I,MAAM,GAAG,CAAC,EAAE;UACtC,IAAI,CAACsI,eAAe,CAAC,IAAI,CAACO,kBAAkB,CAAC,CAAC,CAAC,CAAC;QAClD;MACF,CAAC;MACDlN,KAAK,EAAGuF,GAAG,IAAI;QACb,IAAI,CAAC+G,aAAa,GAAG,wCAAwC;QAC7D,IAAI,CAACyC,eAAe,GAAG,KAAK;QAC5BjO,OAAO,CAACd,KAAK,CAACuF,GAAG,CAAC;MACpB;KACD,CAAC;EACJ;EAEAoH,eAAeA,CAACrJ,OAAY;IAC1B,IAAI,CAACuJ,iBAAiB,GAAGvJ,OAAO,CAACnC,EAAE;IACnC,IAAI,CAACgP,kBAAkB,CAAC7M,OAAO,CAACnC,EAAE,CAAC;EACrC;EAEAgP,kBAAkBA,CAACjM,SAAiB;IAClC,IAAI,CAACuK,cAAc,CAACzK,sBAAsB,CAACE,SAAS,CAAC,CAAC0L,SAAS,CAAC;MAC9DhP,IAAI,EAAGwP,OAAY,IAAI;QACrB,IAAI,CAACvF,cAAc,GAAGuF,OAAO;MAC/B,CAAC;MACDpQ,KAAK,EAAGuF,GAAG,IAAI;QACbzE,OAAO,CAACd,KAAK,CAAC,mCAAmC,EAAEuF,GAAG,CAAC;MACzD;KACD,CAAC;EACJ;EAEA4H,gBAAgBA,CAAA;IACd,MAAMkD,KAAK,GAAG,IAAI,CAACnD,kBAAkB,CAACoD,MAAM,CAAC,CAACC,GAAW,EAAEjN,OAAY,KACrEiN,GAAG,GAAGjN,OAAO,CAACqI,YAAY,EAAE,CAAC,CAC9B;IACD,OAAO6E,IAAI,CAACC,KAAK,CAACJ,KAAK,CAAC;EAC1B;EAEAK,YAAYA,CAACC,KAAU;IACrB,MAAMC,eAAe,GAAGD,KAAK,CAACE,MAAM,CAAClQ,KAAK;IAC1C,MAAMmQ,QAAQ,GAAG,IAAI,CAACzB,cAAc,CAACuB,eAAe,CAAC;IAErD,IAAIE,QAAQ,EAAE;MACZ,IAAI,CAAClC,SAAS,GAAG,GAAGkC,QAAQ,CAAClC,SAAS,GAAG;MACzC,IAAI,CAACC,cAAc,GAAG,IAAI,CAACD,SAAS,CAACvK,MAAM,GAAGyM,QAAQ,CAACxB,QAAQ;MAE/D,IAAI,CAAC,IAAI,CAAC3G,cAAc,CAAC5I,GAAG,CAAC,WAAW,CAAC,EAAEY,KAAK,CAACoQ,UAAU,CAAC,IAAI,CAACnC,SAAS,CAAC,EAAE;QAC3E,IAAI,CAACjG,cAAc,CAAC5I,GAAG,CAAC,WAAW,CAAC,EAAEiR,QAAQ,CAAC,IAAI,CAACpC,SAAS,CAAC;MAChE;MAEA,IAAI,CAACqC,oBAAoB,CAACH,QAAQ,CAACxB,QAAQ,CAAC;IAC9C;EACF;EAEA2B,oBAAoBA,CAAC3B,QAAgB;IACnC,MAAM4B,UAAU,GAAG,EAAE;IAErB,IAAI,IAAI,CAACtC,SAAS,EAAE;MAClB,MAAMuC,KAAK,GAAG,IAAIC,MAAM,CAAC,MAAM,IAAI,CAACxC,SAAS,WAAWU,QAAQ,IAAI,CAAC;MACrE4B,UAAU,CAACG,IAAI,CAACzK,sDAAU,CAAC0K,OAAO,CAACH,KAAK,CAAC,CAAC;IAC5C;IAEA,IAAI,CAACxI,cAAc,CAAC5I,GAAG,CAAC,WAAW,CAAC,EAAEwR,aAAa,CAACL,UAAU,CAAC;IAC/D,IAAI,CAACvI,cAAc,CAAC5I,GAAG,CAAC,WAAW,CAAC,EAAEyR,sBAAsB,EAAE;EAChE;EAEAC,iBAAiBA,CAAA;IACf,IAAIC,MAAM,GAAG,IAAI,CAAC/I,cAAc,CAAC5I,GAAG,CAAC,WAAW,CAAC,EAAEY,KAAK;IAExD,IAAI,CAAC+Q,MAAM,CAACX,UAAU,CAAC,IAAI,CAACnC,SAAS,CAAC,EAAE;MACtC,IAAI,CAACjG,cAAc,CAAC5I,GAAG,CAAC,WAAW,CAAC,EAAEiR,QAAQ,CAAC,IAAI,CAACpC,SAAS,CAAC;MAC9D;IACF;IAEA,MAAM+C,QAAQ,GAAGD,MAAM,CAACE,OAAO,CAAC,IAAI,CAAChD,SAAS,EAAE,EAAE,CAAC,CAACgD,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;IACtE,MAAMC,aAAa,GAAG,IAAI,CAACjD,SAAS,GAAG+C,QAAQ;IAE/C,IAAI,CAAChJ,cAAc,CAAC5I,GAAG,CAAC,WAAW,CAAC,EAAEiR,QAAQ,CAC5Ca,aAAa,CAACC,KAAK,CAAC,CAAC,EAAE,IAAI,CAACjD,cAAc,CAAC,CAC5C;EACH;EAEAc,cAAcA,CAAA;IACZ,IAAI,CAAChH,cAAc,GAAG,IAAI,CAAC4F,EAAE,CAACwD,KAAK,CAAC;MAClC1G,GAAG,EAAE,CAAC,EAAE,EAAE,CAACzE,sDAAU,CAACoL,QAAQ,EAAEpL,sDAAU,CAACqL,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;MACzDC,KAAK,EAAE,CAAC,EAAE,EAAE,CAACtL,sDAAU,CAACsL,KAAK,CAAC,CAAC;MAC/BC,SAAS,EAAE,CAAC,EAAE,CAAC;MACfC,IAAI,EAAE,CAAC,EAAE,CAAC;MACVC,OAAO,EAAE,CAAC,EAAE,CAAC;MACbC,KAAK,EAAE,CAAC,EAAE,CAAC;MACXC,OAAO,EAAE,CAAC,EAAE;KACb,CAAC;EACJ;EAEA1C,kBAAkBA,CAAA;IAChB,IAAI,CAACrB,iBAAiB,CAACtN,iBAAiB,CAAC,IAAI,CAAC6C,YAAY,CAAC,CAAC6L,SAAS,CAAC;MACpEhP,IAAI,EAAGK,IAAI,IAAI;QACb,IAAI,CAACuR,cAAc,GAAGvR,IAAI;QAE1B;QACA,IAAI,CAACuJ,aAAa,GAAGvJ,IAAI,CAACoK,GAAG;QAC7B,IAAI,CAACZ,iBAAiB,GAAGxJ,IAAI,CAACsR,OAAO,IAAI,EAAE;QAC3C,IAAI,CAAC5H,eAAe,GAAG1J,IAAI,CAACiR,KAAK,IAAI,EAAE;QACvC,IAAI,CAACtH,mBAAmB,GAAG3J,IAAI,CAACkR,SAAS,IAAI,EAAE;QAC/C,IAAI,CAACpH,eAAe,GAAG9J,IAAI,CAACqR,KAAK,IAAI,EAAE;QACvC,IAAI,CAAClG,iBAAiB,GAAGnL,IAAI,CAACoR,OAAO,IAAI,EAAE;QAC3C,IAAI,CAAChG,cAAc,GAAGpL,IAAI,CAACmR,IAAI,IAAI,EAAE;QAErC,IAAIK,UAAU,GAAGxR,IAAI,CAACkR,SAAS;QAC/B,IAAIlR,IAAI,CAACkR,SAAS,IAAIlR,IAAI,CAACkR,SAAS,CAACO,QAAQ,CAAC,GAAG,CAAC,EAAE;UAClDD,UAAU,GAAGxR,IAAI,CAACkR,SAAS,CAACP,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;QAChD;QAEA,IAAI,CAACjJ,cAAc,CAACgK,UAAU,CAAC;UAC7BtH,GAAG,EAAEpK,IAAI,CAACoK,GAAG;UACb6G,KAAK,EAAEjR,IAAI,CAACiR,KAAK;UACjBC,SAAS,EAAEM,UAAU;UACrBL,IAAI,EAAEnR,IAAI,CAACmR,IAAI;UACfC,OAAO,EAAEpR,IAAI,CAACoR,OAAO;UACrBC,KAAK,EAAErR,IAAI,CAACqR,KAAK;UACjBC,OAAO,EAAEtR,IAAI,CAACsR;SACf,CAAC;QAEF,IAAItR,IAAI,CAACmR,IAAI,IAAI,IAAI,CAAC/C,cAAc,CAACpO,IAAI,CAACmR,IAAI,CAAC,EAAE;UAC/C,IAAI,CAACxD,SAAS,GAAG,IAAI,CAACS,cAAc,CAACpO,IAAI,CAACmR,IAAI,CAAC,CAACxD,SAAS;UACzD,IAAI,CAACC,cAAc,GAAG,IAAI,CAACD,SAAS,CAACvK,MAAM,GAAG,IAAI,CAACgL,cAAc,CAACpO,IAAI,CAACmR,IAAI,CAAC,CAAC9C,QAAQ;UACrF,IAAI,CAAC2B,oBAAoB,CAAC,IAAI,CAAC5B,cAAc,CAACpO,IAAI,CAACmR,IAAI,CAAC,CAAC9C,QAAQ,CAAC;QACpE;MACF,CAAC;MACDtP,KAAK,EAAGuF,GAAG,IAAI;QACb,IAAI,CAAC8B,YAAY,GAAG9B,GAAG,CAACpF,OAAO,IAAI,2BAA2B;MAChE;KACD,CAAC;EACJ;EAEAgI,aAAaA,CAAA;IACX,IAAI,CAACkB,SAAS,GAAG,CAAC,IAAI,CAACA,SAAS;IAEhC,IAAI,IAAI,CAACA,SAAS,EAAE;MAClB,IAAI,CAACV,cAAc,CAACiK,MAAM,EAAE;IAC9B,CAAC,MAAM;MACL,IAAI,CAACjK,cAAc,CAACsH,OAAO,EAAE;MAC7B,IAAI,CAACJ,kBAAkB,EAAE;IAC3B;EACF;EAEA5G,WAAWA,CAAA;IACT,IAAI,IAAI,CAACI,SAAS,EAAE;MAClB,IAAI,CAAClB,aAAa,EAAE;IACtB,CAAC,MAAM;MACL,IAAI,CAACkG,MAAM,CAACwE,QAAQ,CAAC,CAAC,UAAU,CAAC,CAAC;IACpC;EACF;EAEA;EACAC,gBAAgBA,CAAA;IACd,IAAI,CAAC,IAAI,CAACzJ,SAAS,EAAE;IACrB,IAAI,CAAC0J,SAAS,CAACC,aAAa,CAACC,KAAK,EAAE;EACtC;EAEA9J,QAAQA,CAAA;IACJ,IAAI,IAAI,CAACR,cAAc,CAACa,OAAO,EAAE;IAEjC;IACA,IAAI,CAACnC,YAAY,GAAG,EAAE;IACtB,IAAI,CAACC,cAAc,GAAG,EAAE;IAExB;IACA,IAAI,CAACwH,SAAS,GAAG,IAAI;IAErB;IACAoE,UAAU,CAAC,MAAK;MACZ,MAAMC,WAAW,GAAqB;QAClC,GAAG,IAAI,CAACX,cAAc;QACtB,GAAG,IAAI,CAAC7J,cAAc,CAAChI;OAC1B;MAED,IAAI,CAAC6N,iBAAiB,CAAC4E,sBAAsB,CAAC,IAAI,CAACrP,YAAY,EAAEoP,WAAW,CAAC,CAACvD,SAAS,CAAC;QACpFhP,IAAI,EAAEA,CAAA,KAAK;UACP;UACA,IAAI,CAAC0G,cAAc,GAAG,kCAAkC;UACxD,IAAI,CAACD,YAAY,GAAG,EAAE;UACtB,IAAI,CAACyH,SAAS,GAAG,KAAK;UAEtB;UACAoE,UAAU,CAAC,MAAK;YACZ;YACA,IAAI,CAAC7J,SAAS,GAAG,KAAK;YACtB,IAAI,CAACV,cAAc,CAACsH,OAAO,EAAE;YAE7B;YACA,IAAI,CAACJ,kBAAkB,EAAE;UAC7B,CAAC,EAAE,IAAI,CAAC;QACZ,CAAC;QACD7P,KAAK,EAAGuF,GAAG,IAAI;UACX,IAAI,CAAC8B,YAAY,GAAG9B,GAAG,CAACpF,OAAO,IAAI,gCAAgC;UACnE,IAAI,CAACmH,cAAc,GAAG,EAAE;UACxB,IAAI,CAACwH,SAAS,GAAG,KAAK;QAC1B;OACH,CAAC;IACN,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC;EACd;EAEAuE,YAAYA,CAAA;IACV,IAAI,CAAChF,MAAM,CAACwE,QAAQ,CAAC,CAAC,UAAU,CAAC,CAAC;EACpC;EAOFS,gBAAgBA,CAAA;IACd,IAAI,CAAC,IAAI,CAAClI,gBAAgB,IAAI,CAAC,IAAI,CAACrH,YAAY,EAAE;MAChDjD,OAAO,CAACd,KAAK,CAAC,0CAA0C,CAAC;MACzD;IACF;IAEA,IAAI,CAACgI,sBAAsB,GAAG,IAAI;EACpC;EAEMF,cAAcA,CAAA;IAAA,IAAAyL,KAAA;IAAA,OAAAC,0IAAA;MAClBD,KAAI,CAACvL,sBAAsB,GAAG,KAAK;MAEnC,IAAI,CAACuL,KAAI,CAACnI,gBAAgB,IAAI,CAACmI,KAAI,CAACxP,YAAY,EAAE;QAChDwP,KAAI,CAAClM,YAAY,GAAG,6CAA6C;QACjE;MACF;MAEAkM,KAAI,CAAChE,WAAW,GAAG,IAAI;MACvBgE,KAAI,CAAClM,YAAY,GAAG,EAAE;MACtBkM,KAAI,CAACjM,cAAc,GAAG,EAAE;MAExB,IAAI;QACF,MAAMmM,UAAU,GAAGF,KAAI,CAACnI,gBAAgB,EAAEjK,EAAE,IAAIoS,KAAI,CAACxP,YAAY;QACjE;QACA,MAAM5D,OAAO,SAASoT,KAAI,CAAC/E,iBAAiB,CAAC8E,gBAAgB,CAACG,UAAU,CAAC,CAACC,SAAS,EAAE;QACrFH,KAAI,CAACjM,cAAc,GAAGnH,OAAO,IAAI,oCAAoC;QAErE+S,UAAU,CAAC,MAAK;UACdK,KAAI,CAAClF,MAAM,CAACwE,QAAQ,CAAC,CAAC,UAAU,CAAC,CAAC;QACpC,CAAC,EAAE,IAAI,CAAC;MACV,CAAC,CAAC,OAAOtN,GAAQ,EAAE;QACjB,IAAIpF,OAAO,GAAGoF,GAAG,EAAEvF,KAAK,EAAEA,KAAK,IAAI,gCAAgC;QACnE,MAAM2T,MAAM,GAAG,4BAA4B;QAC3C,IAAIxT,OAAO,CAAC4Q,UAAU,CAAC4C,MAAM,CAAC,EAAE;UAC9BxT,OAAO,GAAGA,OAAO,CAACyT,SAAS,CAACD,MAAM,CAACtP,MAAM,CAAC;QAC5C;QACAkP,KAAI,CAAClM,YAAY,GAAGlH,OAAO;MAC7B,CAAC,SAAS;QACRoT,KAAI,CAAChE,WAAW,GAAG,KAAK;QACxB2D,UAAU,CAAC,MAAK;UACdK,KAAI,CAAClM,YAAY,GAAG,EAAE;UACtBkM,KAAI,CAACjM,cAAc,GAAG,EAAE;QAC1B,CAAC,EAAE,IAAI,CAAC;MACV;IAAC;EACH;EAWA0G,aAAaA,CAAC6F,KAAU;IACtB,IAAI,CAACrG,aAAa,GAAGqG,KAAK;IAC1B,IAAI,CAAC5F,eAAe,GAAG4F,KAAK,CAAC3F,OAAO;IACpCpN,OAAO,CAACE,GAAG,CAAC,oBAAoB,EAAE,IAAI,CAACwM,aAAa,CAAC;EACvD;EAGCuC,SAASA,CAAA;IACR,IAAI,CAACP,OAAO,GAAG,IAAI;IACnB,IAAI,CAACnI,YAAY,GAAG,EAAE;IAEtB,IAAI,CAAC,IAAI,CAACpB,QAAQ,IAAI,CAAC,IAAI,CAACC,kBAAkB,EAAE;MAC9CpF,OAAO,CAACgT,IAAI,CAAC,6EAA6E,CAAC;MAC3F,IAAI,CAACtE,OAAO,GAAG,KAAK;MACpB;IACF;IAEA,IAAI,CAACb,YAAY,CAACoF,gBAAgB,CAAC,IAAI,CAAC9N,QAAQ,EAAE,IAAI,CAACC,kBAAkB,CAAC,CACvE0J,SAAS,CAAC;MACThP,IAAI,EAAGoT,GAAU,IAAI;QACnBlT,OAAO,CAACE,GAAG,CAAC,kBAAkB,EAAEgT,GAAG,CAAC;QACpC,IAAI,CAACvE,MAAM,GAAGuE,GAAG;QACjB,IAAI,CAAC5G,UAAU,GAAG,IAAI,CAACqC,MAAM,CAACpL,MAAM;QAEpC;QACA,IAAI,IAAI,CAACoL,MAAM,CAACpL,MAAM,GAAG,CAAC,EAAE;UAC1B,IAAI,CAAC4J,eAAe,GAAG,IAAI,CAACwB,MAAM,CAAC,CAAC,CAAC,CAACvB,OAAO;UAC7C,IAAI,CAACV,aAAa,GAAG,IAAI,CAACiC,MAAM,CAAC,CAAC,CAAC;UACnC3O,OAAO,CAACE,GAAG,CAAC,6CAA6C,EAAE,IAAI,CAACiN,eAAe,CAAC;QAClF;QAEA,IAAI,CAACuB,OAAO,GAAG,KAAK;MACtB,CAAC;MACDxP,KAAK,EAAGuF,GAAG,IAAI;QACbzE,OAAO,CAACd,KAAK,CAAC,8BAA8B,EAAEuF,GAAG,CAAC;QAClD,IAAI,CAAC8B,YAAY,GAAG,qCAAqC;QACzD,IAAI,CAACmI,OAAO,GAAG,KAAK;MACtB;KACD,CAAC;EACN;EAIAyE,sBAAsBA,CAAC7I,gBAAqB;IAC1C,IAAI,CAAClF,kBAAkB,GAAGkF,gBAAgB,CAACjK,EAAE;IAC7C,IAAI,CAAC8E,QAAQ,GAAGtC,SAAS,CAAC,CAAE;IAC5B,IAAI,CAACoM,SAAS,EAAE;EAClB;EAEAmE,YAAYA,CAAChJ,MAAW;IACtB,IAAI,CAACjF,QAAQ,GAAGiF,MAAM,CAAC/J,EAAE;IACzB,IAAI,CAAC+E,kBAAkB,GAAGvC,SAAS,CAAC,CAAE;IACtC,IAAI,CAACoM,SAAS,EAAE;EAClB;EAIE,IAAIoE,YAAYA,CAAA;IAChB,OAAO,IAAI,CAAC1E,MAAM,EAAEa,MAAM,CAAC,UAAS8D,GAAG,EAAEP,KAAK;MAC5C,OAAOO,GAAG,IAAIP,KAAK,CAAC7J,YAAY,IAAI,CAAC,CAAC;IACxC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC;EACZ;;;uCAvaaoE,6BAA6B,EAAA1L,+DAAA,CAAAE,mDAAA,GAAAF,+DAAA,CAAAE,2DAAA,GAAAF,+DAAA,CAAAI,uDAAA,GAAAJ,+DAAA,CAAA+R,yFAAA,GAAA/R,+DAAA,CAAAiS,qFAAA,GAAAjS,+DAAA,CAAAkS,2EAAA,GAAAlS,+DAAA,CAAAmS,8EAAA;IAAA;EAAA;;;YAA7BzG,6BAA6B;MAAA2G,SAAA;MAAAC,SAAA,WAAAC,oCAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;;;;;;;;;;;;;;UCzB1CxS,4DAAA,aAA6B;UAO3BA,wDALA,IAAA0S,4CAAA,iBAA0E,IAAAC,4CAAA,iBAKI;UAGhF3S,0DAAA,EAAM;UAGNA,4DAAA,WAAgK;UAApIA,wDAAA,mBAAA4S,0DAAA;YAAA5S,2DAAA,CAAA6S,GAAA;YAAA,OAAA7S,yDAAA,CAASyS,GAAA,CAAA9B,YAAA,EAAc;UAAA,EAAC;UAChD3Q,uDAAA,WAAoC;UAACA,4DAAA,cAAiD;UAAAA,oDAAA,yBAAkB;UAC5GA,0DAD4G,EAAO,EAC/G;UAEJA,4DAAA,aAA8B;UAE5BA,wDAAA,IAAA8S,4CAAA,iBAA+C;UAarC9S,4DANV,aAA2E,eACvC,eAEJ,eACC,eACN,UACb;UAAAA,oDAAA,YAAI;UAEZA,0DAFY,EAAK,EACT,EACF;UAMFA,4DAAA,eAA8D;UAA7BA,wDAAA,mBAAA+S,6DAAA;YAAA/S,2DAAA,CAAA6S,GAAA;YAAA,OAAA7S,yDAAA,CAASyS,GAAA,CAAArC,gBAAA,EAAkB;UAAA,EAAC;UACvDpQ,uDAAA,eAE0B;UAE1BA,4DAAA,eAAqB;UACnBA,uDAAA,eAAwE;UAEhFA,0DADM,EAAM,EACN;UAKYA,4DAFV,eAAyE,gBACnC,gBACG;UAC7BA,oDAAA,8BACA;UAEJA,0DAFI,EAAO,EAEJ;UAGHA,4DADJ,iBAAuB,kBAMO;UAH9BA,wDAAA,mBAAAgT,gEAAA;YAAAhT,2DAAA,CAAA6S,GAAA;YAAA,OAAA7S,yDAAA,CAASyS,GAAA,CAAA7B,gBAAA,EAAkB;UAAA,EAAC;UAI5B5Q,uDAAA,aAAgC;UAItDA,0DAHkB,EAAS,EACG,EACV,EACd;UAGJA,wDAAA,KAAAiT,6CAAA,mBAAqE;UAejEjT,4DAHN,eAA0B,eACG,eACQ,UAC3B;UAAAA,oDAAA,+BAAuB;UAAAA,0DAAA,EAAK;UAChCA,4DAAA,eAAuB;UAMrBA,wDALA,KAAAkT,2CAAA,gBAG4B,KAAAC,2CAAA,gBAKA;UAGlCnT,0DAFI,EAAM,EACF,EACF;UAKFA,4DAHJ,gBAAgE,eACjC,eAEF;UACvBA,uDAAA,iBAEmD;UACnDA,4DAAA,iBAA+B;UAAAA,oDAAA,sBAAc;UAAAA,0DAAA,EAAQ;UACrDA,wDAAA,KAAAoT,6CAAA,kBAAoG;UAItGpT,0DAAA,EAAM;UAENA,4DAAA,eAAyB;UACvBA,uDAAA,iBAEoC;UACpCA,4DAAA,iBAAiC;UAAAA,oDAAA,aAAK;UAAAA,0DAAA,EAAQ;UAC9CA,wDAAA,KAAAqT,6CAAA,kBAAwG;UAG1GrT,0DAAA,EAAM;UAGNA,4DAAA,eAAyB;UACvBA,uDAAA,iBAEuC;UACvCA,4DAAA,iBAAmC;UAAAA,oDAAA,eAAO;UAE9CA,0DAF8C,EAAQ,EAC9C,EACF;UAKFA,4DAHJ,eAAwB,eAEQ,kBACuD;UAAhCA,wDAAA,oBAAAsT,iEAAAC,MAAA;YAAAvT,2DAAA,CAAA6S,GAAA;YAAA,OAAA7S,yDAAA,CAAUyS,GAAA,CAAAzE,YAAA,CAAAuF,MAAA,CAAoB;UAAA,EAAC;UAChFvT,4DAAA,kBAA0B;UAAAA,oDAAA,YAAI;UAAAA,0DAAA,EAAS;UACvCA,4DAAA,kBAAqB;UAAAA,oDAAA,YAAI;UAAAA,0DAAA,EAAS;UAClCA,4DAAA,kBAAwB;UAAAA,oDAAA,yBAAO;UAAAA,0DAAA,EAAS;UACxCA,4DAAA,kBAA8B;UAAAA,oDAAA,0BAAa;UAC7CA,0DAD6C,EAAS,EAC7C;UACTA,4DAAA,iBAAgC;UAAAA,oDAAA,YAAI;UACtCA,0DADsC,EAAQ,EACxC;UAIJA,4DADF,eAA8B,iBAIS;UAA9BA,wDAAA,mBAAAwT,+DAAA;YAAAxT,2DAAA,CAAA6S,GAAA;YAAA,OAAA7S,yDAAA,CAASyS,GAAA,CAAA1D,iBAAA,EAAmB;UAAA,EAAC;UAHpC/O,0DAAA,EAGqC;UACrCA,4DAAA,iBAAqC;UAAAA,oDAAA,2BAAS;UAAAA,0DAAA,EAAQ;UACtDA,wDAAA,KAAAyT,6CAAA,kBAAgH;UAIpHzT,0DADE,EAAM,EACF;UAIJA,4DAFF,eAAwB,eAEG;UACvBA,uDAAA,iBAEsC;UACtCA,4DAAA,iBAAmC;UAAAA,oDAAA,eAAO;UAC5CA,0DAD4C,EAAQ,EAC9C;UAGNA,4DAAA,eAAyB;UACvBA,uDAAA,iBAEqC;UACrCA,4DAAA,iBAAiC;UAAAA,oDAAA,aAAK;UAE1CA,0DAF0C,EAAQ,EAC1C,EACF;UAGNA,wDAAA,KAAA0T,6CAAA,kBAAsD;UAyB9D1T,0DAHM,EAAO,EACH,EACF,EACF;UAMAA,4DAJN,eAA+B,eACD,yBAC6B,eAE5C;UACPA,wDAAA,KAAA2T,qDAAA,0BAA2B;UAUrB3T,4DAJN,eAAyB,eACK,eACQ,eAEmB;UA+HjDA,wDA9HA,KAAA4T,6CAAA,oBAA0E,KAAAC,qDAAA,gCAAA7T,oEAAA,CA8H1C;UAMlCA,0DAAA,EAAM;UAOEA,4DAJR,eAA8C,eAChB,eACgD,eACrD,UACb;UAAAA,oDAAA,2BAAmB;UAE3BA,0DAF2B,EAAK,EACxB,EACF;UAGNA,4DAAA,eAAuI;UAgBrIA,wDAdA,KAAA+T,6CAAA,kBAAuD,MAAAC,8CAAA,kBAIc,MAAAC,8CAAA,kBAIkC,MAAAC,gDAAA,qBAMpB;UA6BrFlU,0DAAA,EAAM;UAGNA,wDAAA,MAAAmU,8CAAA,kBAAuG;UAiBnHnU,0DALU,EAAM,EACF,EACF,EACF,EACF,EACE;UAGTA,4DAAA,gBAAS;UACNA,wDAAA,MAAAoU,sDAAA,0BAA2B;UAWrBpU,4DAJP,gBAAyB,gBACM,gBACQ,gBAEoB;UAClDA,wDAAA,MAAAqU,8CAAA,oBAAiD;UAyHnDrU,0DAAA,EAAM;UAOEA,4DAJR,gBAA+C,gBACjB,gBACgD,gBACrD,WACb;UAAAA,oDAAA,0BAAiB;UAEzBA,0DAFyB,EAAK,EACtB,EACF;UAOEA,4DAJR,gBAAuI,cAC9H,cACE,eAC6G,WAC5G;UAAAA,oDAAA,4BAAc;UAAAA,0DAAA,EAAK;UACvBA,4DAAA,WAAI;UAAAA,oDAAA,aAAI;UAAAA,0DAAA,EAAK;UACbA,4DAAA,WAAI;UAAAA,oDAAA,sBAAa;UAAAA,0DAAA,EAAK;UACtBA,4DAAA,eAAuB;UAAAA,oDAAA,gBAAO;UAElCA,0DAFkC,EAAK,EAChC,EACC;UACRA,4DAAA,cAAO;UACLA,wDAAA,MAAAsU,6CAAA,mBAAyH;UAU/HtU,0DAFI,EAAQ,EACF,EACJ;UAOEA,4DAJR,gBAA2B,kBACG,kBACgB,WACpC,eACgC;UAAAA,oDAAA,cAAK;UAAAA,0DAAA,EAAK;UAC5CA,4DAAA,eAAiC;UAC9BA,oDAAA,KACH;;UAc9BA,0DAd8B,EAAK,EACF,EACC,EACF,EACJ,EACF,EACF,EACF,EACF,EACF,EACC,EACG,EACZ,EACF,EACF;;;;;;;UAhnBEA,uDAAA,EAAkB;UAAlBA,wDAAA,SAAAyS,GAAA,CAAA9N,YAAA,CAAkB;UAKlB3E,uDAAA,EAAoB;UAApBA,wDAAA,SAAAyS,GAAA,CAAA7N,cAAA,CAAoB;UAYpB5E,uDAAA,GAAe;UAAfA,wDAAA,SAAAyS,GAAA,CAAArG,SAAA,CAAe;UA4CKpM,uDAAA,IAAwB;UAAxBA,wDAAA,aAAAyS,GAAA,CAAA5F,WAAA,CAAwB;UAUL7M,uDAAA,GAA4B;UAA5BA,wDAAA,SAAAyS,GAAA,CAAAnN,sBAAA,CAA4B;UAiBzDtF,uDAAA,GAAgB;UAAhBA,wDAAA,UAAAyS,GAAA,CAAA9L,SAAA,CAAgB;UAKhB3G,uDAAA,EAAe;UAAfA,wDAAA,SAAAyS,GAAA,CAAA9L,SAAA,CAAe;UAQnB3G,uDAAA,EAA4B;UAA5BA,wDAAA,cAAAyS,GAAA,CAAAxM,cAAA,CAA4B;UAQtBjG,uDAAA,GAA8E;UAA9EA,wDAAA,WAAAuU,OAAA,GAAA9B,GAAA,CAAAxM,cAAA,CAAA5I,GAAA,0BAAAkX,OAAA,CAAAC,OAAA,OAAAD,OAAA,GAAA9B,GAAA,CAAAxM,cAAA,CAAA5I,GAAA,0BAAAkX,OAAA,CAAAzN,OAAA,EAA8E;UAW9E9G,uDAAA,GAAkF;UAAlFA,wDAAA,WAAAyU,QAAA,GAAAhC,GAAA,CAAAxM,cAAA,CAAA5I,GAAA,4BAAAoX,QAAA,CAAAD,OAAA,OAAAC,QAAA,GAAAhC,GAAA,CAAAxM,cAAA,CAAA5I,GAAA,4BAAAoX,QAAA,CAAA3N,OAAA,EAAkF;UAiClF9G,uDAAA,IAA0F;UAA1FA,wDAAA,WAAA0U,QAAA,GAAAjC,GAAA,CAAAxM,cAAA,CAAA5I,GAAA,gCAAAqX,QAAA,CAAAF,OAAA,OAAAE,QAAA,GAAAjC,GAAA,CAAAxM,cAAA,CAAA5I,GAAA,gCAAAqX,QAAA,CAAA5N,OAAA,EAA0F;UAyB/D9G,uDAAA,IAAe;UAAfA,wDAAA,SAAAyS,GAAA,CAAA9L,SAAA,CAAe;UA6BzC3G,uDAAA,GAAmB;UAAnBA,wDAAA,oBAAmB;UAcMA,uDAAA,GAAsB;UAAAA,wDAAtB,SAAAyS,GAAA,CAAAtK,cAAA,CAAsB,aAAAwM,qBAAA,CAAsB;UAkJ9D3U,uDAAA,IAAqB;UAArBA,wDAAA,SAAAyS,GAAA,CAAApG,eAAA,CAAqB;UAIrBrM,uDAAA,EAAuC;UAAvCA,wDAAA,UAAAyS,GAAA,CAAApG,eAAA,IAAAoG,GAAA,CAAA7I,aAAA,CAAuC;UAIvC5J,uDAAA,EAA2E;UAA3EA,wDAAA,UAAAyS,GAAA,CAAApG,eAAA,KAAAoG,GAAA,CAAA7I,aAAA,IAAA6I,GAAA,CAAAjI,kBAAA,CAAA7I,MAAA,OAA2E;UAMzE3B,uDAAA,EAAyE;UAAzEA,wDAAA,UAAAyS,GAAA,CAAApG,eAAA,KAAAoG,GAAA,CAAA7I,aAAA,IAAA6I,GAAA,CAAAjI,kBAAA,CAAA7I,MAAA,KAAyE;UAgCvD3B,uDAAA,EAAyE;UAAzEA,wDAAA,UAAAyS,GAAA,CAAApG,eAAA,KAAAoG,GAAA,CAAA7I,aAAA,IAAA6I,GAAA,CAAAjI,kBAAA,CAAA7I,MAAA,KAAyE;UAiCzE3B,uDAAA,GAAmB;UAAnBA,wDAAA,SAAAyS,GAAA,CAAA3H,aAAA,CAAmB;UAgJjB9K,uDAAA,IAAS;UAATA,wDAAA,YAAAyS,GAAA,CAAA1F,MAAA,CAAS;UAmB1B/M,uDAAA,GACH;UADGA,gEAAA,MAAAA,yDAAA,UAAAyS,GAAA,CAAAhB,YAAA,gBACH;;;qBDplB1BzN,uDAAW,EAAA5D,4DAAA,EAAAA,0DAAA,EAAAA,sEAAA,EAAAA,gEAAA,EAAAA,sEAAA,EAAAA,2DAAA,EAAAA,gEAAA,EACX0D,0DAAY,EAAAqR,qDAAA,EAAAA,qDAAA,EAAAA,kDAAA,EAAAA,yDAAA,EAAAA,sDAAA,EACZlR,+DAAmB,EAAA7D,8DAAA,EAAAA,2DAAA,EACnB+D,sEAAgB,EAChBC,kEAAa,EAAAuR,gEAAA,EAAAA,2DAAA,EAAAA,gEAAA;MAAAI,MAAA;IAAA;EAAA","sources":["./src/app/admin-page/MODELS/FactureProForma.model.ts","./src/app/admin-page/SERVICES/entreprise-service.ts","./src/app/admin-page/SERVICES/factureproforma-service.ts","./src/app/admin-page/clients/detail-edit-entreprise/detail-edit-entreprise.component.ts","./src/app/admin-page/clients/detail-edit-entreprise/detail-edit-entreprise.component.html"],"sourcesContent":["export enum StatutFactureProForma {\n  BROUILLON = 'BROUILLON',\n  APPROBATION = 'APPROBATION',\n  APPROUVE = 'APPROUVE',\n  ENVOYE = 'ENVOYE',\n  VALIDE = 'VALIDE',\n  ANNULE = 'ANNULE'\n}\n\n// Dans ton modèle FactureProForma\nexport interface LigneFactureProforma {\n  id?: number; // Rend l'id optionnel pour les nouvelles lignes\n  produit: {\n    id: number;\n    nom?: string; // Optionnel selon tes besoins\n    prixUnitaire?: number;\n  };\n  ligneDescription?: string;\n  quantite: number;\n  prixUnitaire: number; // Obligatoire\n  montantTotal?: number;\n}\n\nexport interface UpdateFactureProFormaDTO {\n  client?: { id: number } | null;\n  description?: string;\n  lignesFacture?: {\n    id?: number;\n    produit: { id: number };\n    ligneDescription?: string;\n    quantite: number;\n    prixUnitaire: number;\n  }[];\n  // Ajouter d'autres champs optionnels si besoin\n}\n\nexport interface FactureProForma {\n  id: number;\n  numeroFacture: string;\n  siege: string;\n  dateRelance?: string;\n  dateCreation: string;\n  dateApprobation?: string;\n  noteModification?: string;\n  // dateAnnulation?: string;\n  // methodeEnvoi?: 'EMAIL' | 'PHYSIQUE';\n  methodeEnvoi?: 'EMAIL' | 'PHYSIQUE' | 'AUTRE';\n  justification?: string;\n\n  montantTVA?: number;\n  tauxTva?: number;\n\n  utilisateurModificateur?: {\n      nomComplet: string;\n      email: string;\n      photo: string;\n  };\n  utilisateurApprobateur?: {\n      nomComplet: string;\n  };\n  approbateurs?: { \n    id: number;\n    nomComplet: string;\n    email?: string;\n    photo?: string;\n  }[];\n  entreprise?: {\n      siege: string;\n      tauxTva?: number\n\n  };\n  description: string;\n  totalHT: number;\n  remise?: number;\n  tva: boolean;\n  totalFacture: number;\n  statut?: string;\n  client?: {\n    id: number;\n    nomComplet: string;\n    telephone?: string;\n    email?: string;\n    pays?: string\n    ville?: string\n    adresse?: string;\n  };\n  entrepriseClient?: {\n    id: number;\n    nom: string;\n    email?: string;\n    adresse?: string;\n    telephone?: string;\n    ville?: string;\n    siege?: string\n    pays?: string\n  };\n  lignesFacture: LigneFactureProforma[];\n  // Ajout de utilisateurCreateur\n  utilisateurCreateur?: {\n      nomComplet: string;\n      photo: string;\n  };\n  \n}","import { HttpClient, HttpHeaders } from \"@angular/common/http\";\nimport { Injectable } from \"@angular/core\";\nimport { BehaviorSubject, catchError, Observable, switchMap, tap, throwError } from \"rxjs\";\nimport { Entreprise } from \"../MODELS/entreprise-model\";\nimport { EntrepriseClient } from \"../MODELS/entreprise-clients-model\";\nimport { environment } from \"src/environments/environment\";\nimport { UsersService } from \"./users.service\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class EntrepriseService {\n    private apiUrl = environment.apiBaseUrl;\n  \n\n  private entrepriseSubject = new BehaviorSubject<Entreprise[]>([]);\n  public entreprise$ = this.entrepriseSubject.asObservable(); \n  constructor(private http: HttpClient, private usersService: UsersService) { }\n\n  // Dans client.service.ts\n// Dans entreprise.service.ts\n getListEntreprises(): Observable<EntrepriseClient[]> {\n  return this.usersService.getValidAccessToken().pipe(\n    switchMap(token => {\n      const headers = new HttpHeaders({\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      });\n      return this.http.get<EntrepriseClient[]>(`${this.apiUrl}/entreprises`, { headers });\n    }),\n    catchError(error => {\n      let errorMsg = 'Erreur inconnue';\n      if (error.error instanceof ErrorEvent) {\n        errorMsg = `Erreur: ${error.error.message}`;\n      } else if (error.status === 404) {\n        errorMsg = 'Aucune entreprise trouvée';\n      }\n      return throwError(() => new Error(errorMsg));\n    })\n  );\n}\n\n\n  // Ajouter une entreprise\n addEntreprise(entreprise: Entreprise): Observable<Entreprise> {\n  return this.usersService.getValidAccessToken().pipe(\n    switchMap(token => {\n      const headers = new HttpHeaders({\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      });\n\n      return this.http.post<Entreprise>(`${this.apiUrl}/entreprise-clients`, entreprise, { headers });\n    }),\n    tap((newEntreprise) => {\n      const currentEntreprise = this.entrepriseSubject.value;\n      this.entrepriseSubject.next([...currentEntreprise, newEntreprise]);\n    }),\n    catchError(error => {\n      let errorMsg = 'Erreur inconnue';\n      if (error.error instanceof ErrorEvent) {\n        errorMsg = `Erreur: ${error.error.message}`;\n      } else if (error.status === 400) {\n        errorMsg = error.error || 'Données invalides';\n      }\n      return throwError(() => new Error(errorMsg));\n    })\n  );\n}\n\n\n  // List de tout les entreprises\n getListEntreprise(): Observable<Entreprise[]> {\n  return this.usersService.getValidAccessToken().pipe(\n    switchMap(token => {\n      if (!token) {\n        console.error('Token vide ou non défini ! Vérifiez que l\\'utilisateur est bien connecté.');\n        return throwError(() => new Error('Token manquant'));\n      }\n      const headers = new HttpHeaders().set('Authorization', `Bearer ${token}`);\n      console.log(\"En-têtes envoyés : \", headers);\n\n      return this.http.get<Entreprise[]>(`${this.apiUrl}/entreprises`, { headers });\n    }),\n    tap(data => {\n      this.entrepriseSubject.next(data);\n    }),\n    catchError(error => {\n      console.error('Erreur lors de la récupération des entreprises:', error);\n      return throwError(() => error);\n    })\n  );\n}\n\n\n\n  // Recuperer information d'une entreprise de la user connecter\n getEntrepriseById(id: number): Observable<Entreprise> {\n  return this.usersService.getValidAccessToken().pipe(\n    switchMap(token => {\n      if (!token) {\n        console.error('Token manquant');\n        return throwError(() => new Error('Token manquant'));\n      }\n      const headers = new HttpHeaders({\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      });\n      return this.http.get<Entreprise>(`${this.apiUrl}/entreprises/${id}`, { headers });\n    }),\n    catchError(error => {\n      let errorMsg = 'Erreur inconnue';\n      if (error.error instanceof ErrorEvent) {\n        errorMsg = `Erreur: ${error.error.message}`;\n      } else if (error.status === 404) {\n        errorMsg = 'Entreprise non trouvée';\n      }\n      return throwError(() => new Error(errorMsg));\n    })\n  );\n}\n\n\n  updateEntreprise(id: number, formData: FormData): Observable<string> {\n  return this.usersService.getValidAccessToken().pipe(\n    switchMap(token => {\n      if (!token) {\n        return throwError(() => new Error('Token manquant'));\n      }\n\n      const headers = new HttpHeaders({\n        'Authorization': `Bearer ${token}`\n      });\n\n      return this.http.patch(`${this.apiUrl}/updateEntreprise/${id}`, formData, {\n        headers,\n        responseType: 'text' // réponse en texte brut\n      });\n    }),\n    catchError(error => {\n      let errorMsg = 'Erreur inconnue';\n      if (error.error instanceof ErrorEvent) {\n        errorMsg = `Erreur: ${error.error.message}`;\n      } else if (error.status === 400) {\n        errorMsg = error.error || 'Données invalides';\n      }\n      return throwError(() => new Error(errorMsg));\n    })\n  );\n}\n\n\n  // updateEntreprise(id: number, formData: FormData): Observable<any> {\n  //   const token = localStorage.getItem('accessToken') || '';\n  //   const headers = new HttpHeaders({\n  //     'Authorization': `Bearer ${token}`\n  //   });\n\n  //   return this.http.patch(`${this.apiUrl}/updateEntreprise/${id}`, formData, { headers }).pipe(\n  //     catchError(error => {\n  //       let errorMsg = 'Erreur inconnue';\n  //       if (error.error instanceof ErrorEvent) {\n  //         errorMsg = `Erreur: ${error.error.message}`;\n  //       } else if (error.status === 400) {\n  //         errorMsg = error.error || 'Données invalides';\n  //       }\n  //       return throwError(() => new Error(errorMsg));\n  //     })\n  //   );\n  // }\n\n  // Get entreprise d'un user\n  getEntrepriseInfo(): Observable<Entreprise> {\n  return this.usersService.getValidAccessToken().pipe(\n    switchMap(token => {\n      if (!token) {\n        return throwError(() => new Error('Aucun token trouvé'));\n      }\n\n      const headers = new HttpHeaders({\n        Authorization: `Bearer ${token}`\n      });\n\n      return this.http.get<Entreprise>(`${this.apiUrl}/myEntreprise`, { headers }).pipe(\n        tap(entreprise => {\n          localStorage.setItem('entreprise', JSON.stringify(entreprise));\n        })\n      );\n    }),\n    catchError(error => {\n      console.error('Erreur récupération info entreprise:', error);\n      return throwError(() => error);\n    })\n  );\n}\n\n\n  // Simpl dcodage JWT pour vérifier si le token est expiré\n  decodeJwt(token: string): any {\n    return JSON.parse(atob(token.split('.')[1]));\n  }\n  \n  // Vérifier si le token est expiré\n  isTokenExpired(decodedToken: any): boolean {\n    const expirationDate = new Date(decodedToken.exp * 1000);\n    return expirationDate < new Date();\n  }\n    \n  // Rafraîchir le token avec un refresh token (si applicable)\n  getNewTokenFromApi(): Observable<{ token: string }> {\n    const refreshToken = localStorage.getItem('refreshToken');\n    return this.http.post<{ token: string }>(`${this.apiUrl}/refresh-token`, { refreshToken });\n  }\n\n \n}","import { HttpClient, HttpHeaders, HttpParams } from \"@angular/common/http\";\nimport { Injectable } from \"@angular/core\";\nimport { catchError, Observable, switchMap, tap, throwError } from \"rxjs\";\nimport { FactureProForma, StatutFactureProForma, UpdateFactureProFormaDTO } from \"../MODELS/FactureProForma.model\";\nimport { Note } from \"../MODELS/Note.model\";\nimport { environment } from \"src/environments/environment\";\nimport { UsersService } from \"./users.service\";\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FactureProFormaService {\n    private apiUrl = environment.apiBaseUrl;\n  \n\n  constructor(private http: HttpClient, private usersService: UsersService) { }\n\n  creerFactureProforma(\n  facture: any,\n  remisePourcentage?: number,\n  appliquerTVA?: boolean,\n  appliquerAdjustments?: boolean\n): Observable<any> {\n  return this.usersService.getValidAccessToken().pipe(\n    switchMap(token => {\n      const headers = new HttpHeaders({\n        'Authorization': `Bearer ${token}`\n      });\n      \n      let params = new HttpParams();\n\n      if (appliquerAdjustments) {\n        if (remisePourcentage !== undefined) {\n          params = params.set('remisePourcentage', remisePourcentage.toString());\n        }\n        if (appliquerTVA !== undefined) {\n          params = params.set('appliquerTVA', appliquerTVA.toString());\n        }\n      }\n\n      return this.http.post(`${this.apiUrl}/ajouter`, facture, { headers, params });\n    }),\n    tap(response => console.log('Facture créée avec succès:', response)),\n    catchError(error => {\n      console.error('Erreur détaillée:', error);\n      console.log('Corps de la réponse:', error.error);\n      return throwError(() => error);\n    })\n  );\n}\n\n\n  //Get facture proformat\n getAlFactproformaOfEntreprise(entrepriseId: number): Observable<any[]> {\n  return this.usersService.getValidAccessToken().pipe(\n    switchMap(token => {\n      const headers = new HttpHeaders({\n        Authorization: `Bearer ${token}`\n      });\n      return this.http.get<any[]>(`${this.apiUrl}/mes-factures`, { headers });\n    })\n  );\n}\n\n\n  getFactureProformaById(id: number): Observable<FactureProForma> {\n  return this.usersService.getValidAccessToken().pipe(\n    switchMap(token => {\n      const headers = new HttpHeaders({\n        'Authorization': `Bearer ${token}`\n      });\n      return this.http.get<FactureProForma>(`${this.apiUrl}/factureProforma/${id}`, { headers });\n    })\n  );\n}\n\n\n  // Dans FactureProFormaService\n updateFactureProforma(\n  factureId: number,\n  remisePourcentage: number | undefined,\n  appliquerTVA: boolean | undefined,\n  modifications: Partial<FactureProForma>,\n  idsApprobateurs?: number[]\n): Observable<FactureProForma> {\n  return this.usersService.getValidAccessToken().pipe(\n    switchMap(token => {\n      const headers = new HttpHeaders({\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      });\n\n      let params = new HttpParams();\n\n      if (remisePourcentage !== undefined) {\n        params = params.set('remisePourcentage', remisePourcentage.toString());\n      }\n\n      if (appliquerTVA !== undefined) {\n        params = params.set('appliquerTVA', appliquerTVA.toString());\n      }\n\n      if (idsApprobateurs && idsApprobateurs.length > 0) {\n        idsApprobateurs.forEach(id => {\n          params = params.append('idsApprobateurs', id.toString());\n        });\n      }\n\n      if (modifications.statut === StatutFactureProForma.ANNULE) {\n        params = params.set('isAnnulation', 'true');\n      }\n\n      return this.http.put<FactureProForma>(\n        `${this.apiUrl}/updatefacture/${factureId}`,\n        modifications,\n        { headers, params }\n      ).pipe(\n        tap(response => console.log('Facture mise à jour:', response)),\n        catchError(error => {\n          console.error('Erreur mise à jour:', error);\n          return throwError(() => error);\n        })\n      );\n    })\n  );\n}\n\n\n  //Envoyer Facture par mail :\n  envoyerFactureEmail(\n    factureId: number,\n    emailRequest: {\n      to: string;\n      cc: string;\n      subject: string;\n      body: string;\n      attachments?: File[];\n    }\n  ): Observable<string> {\n    const formData = new FormData();\n    formData.append('to', emailRequest.to);\n    formData.append('cc', emailRequest.cc);\n    formData.append('subject', emailRequest.subject);\n    formData.append('body', emailRequest.body);\n\n    if (emailRequest.attachments) {\n      emailRequest.attachments.forEach((file, index) => {\n        formData.append(`attachments`, file, file.name);\n      });\n    }\n\n      return this.usersService.getValidAccessToken().pipe(\n    switchMap(token => {\n      const headers = new HttpHeaders({\n        'Authorization': `Bearer ${token}`\n      });\n      return this.http.post(\n        `${this.apiUrl}/factures/${factureId}/envoyer-email`,\n        formData,\n        { headers, responseType: 'text' }\n      );\n    })\n  );\n\n \n  }\n\n\n  //Get History Facture\ngetHistoriqueFacture(factureId: number): Observable<any> {\n  return this.usersService.getValidAccessToken().pipe(\n    switchMap(token => {\n      const headers = new HttpHeaders({\n        'Authorization': `Bearer ${token}`\n      });\n\n      return this.http.get<any>(`${this.apiUrl}/factpro/${factureId}/historique`, { headers });\n    }),\n    catchError(err => {\n      console.error('Erreur récupération historique facture:', err);\n      return throwError(() => err);\n    })\n  );\n}\n\n\n// getHistoriqueActions(factureId: number): Observable<any> {\n//   return this.http.get(`${this.apiUrl}/factpro/${factureId}/historique`);\n// }\n\n//Endpoint pour recuperer les notes d'une facture proforma\ngetNotesFactureProforma(id: number): Observable<any[]> {\n  return this.usersService.getValidAccessToken().pipe(\n    switchMap(token => {\n      const headers = new HttpHeaders({\n        'Authorization': `Bearer ${token}`\n      });\n      return this.http.get<any[]>(`${this.apiUrl}/factures/${id}/notes`, { headers });\n    }),\n    catchError(err => {\n      console.error('Erreur récupération historique facture:', err);\n      return throwError(() => err);\n    })\n  );\n}\n\n\n  //Note by Id\ngetNoteById(factureId: number, noteId: number): Observable<Note> {\n  return this.usersService.getValidAccessToken().pipe(\n    switchMap(token => {\n      const headers = new HttpHeaders({\n        'Authorization': `Bearer ${token}`,\n        'Accept': 'application/json'\n      });\n\n      return this.http.get<Note>(\n        `${this.apiUrl}/auth/${factureId}/notes/${noteId}`, \n        { headers }\n      );\n    }),\n    catchError(err => {\n      console.error('Erreur lors de la récupération de la note:', err);\n      return throwError(() => err);\n    })\n  );\n}\n\n\n\n\n  //Endpoint pour modifier les notes\nupdateNote(factureId: number, noteId: number, nouveauContenu: string): Observable<any> {\n  return this.usersService.getValidAccessToken().pipe(\n    switchMap(token => {\n      const headers = new HttpHeaders({\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      });\n      const url = `${this.apiUrl}/${factureId}/notes/${noteId}`;\n      const body = { nouveauContenu };\n      return this.http.put<any>(url, body, { headers });\n    }),\n    tap(response => console.log('Note modifiée avec succès:', response)),\n    catchError(error => {\n      console.error('Erreur lors de la modification de la note:', error);\n      return throwError(() => error);\n    })\n  );\n}\n\n\ndeletNoteFactureProforma(factureId: number, noteId: number): Observable<any> {\n  return this.usersService.getValidAccessToken().pipe(\n    switchMap(token => {\n      const headers = new HttpHeaders({\n        'Authorization': `Bearer ${token}`,\n        'Accept': 'application/json'\n      });\n      return this.http.delete<any>(\n        `${this.apiUrl}/${factureId}/notes/${noteId}/supprimer`,\n        { headers }\n      );\n    }),\n    catchError(error => {\n      console.error('Erreur lors de la suppression de la note:', error);\n      return throwError(() => error);\n    })\n  );\n}\n\n\n getFacturesByClient(clientId?: number, entrepriseClientId?: number): Observable<any[]> {\n  return this.usersService.getValidAccessToken().pipe(\n    switchMap(token => {\n      let params = new HttpParams();\n\n      if (clientId !== undefined) {\n        params = params.set('clientId', clientId.toString());\n      }\n      if (entrepriseClientId !== undefined) {\n        params = params.set('entrepriseClientId', entrepriseClientId.toString());\n      }\n\n      const headers = new HttpHeaders({\n        Authorization: `Bearer ${token}`\n      });\n\n      return this.http.get<any[]>(`${this.apiUrl}/factures/client`, { headers, params });\n    }),\n    catchError(error => {\n      console.error('Erreur dans getFacturesByClient:', error);\n      return throwError(() => error);\n    })\n  );\n}\n\n\n//Trier\n\ngetFacturesParPeriode(\n  type: 'jour' | 'mois' | 'annee' | 'personnalise',\n  dateDebut?: string, // format ISO: '2025-07-01'\n  dateFin?: string\n): Observable<any[]> {\n  return this.usersService.getValidAccessToken().pipe(\n    switchMap(token => {\n      const headers = new HttpHeaders({\n        Authorization: `Bearer ${token}`\n      });\n\n      let params = new HttpParams().set('type', type);\n\n      if (type === 'personnalise') {\n        if (!dateDebut || !dateFin) {\n          throw new Error(\"Pour 'personnalise', les dates dateDebut et dateFin sont obligatoires.\");\n        }\n        params = params.set('dateDebut', dateDebut).set('dateFin', dateFin);\n      }\n\n      return this.http.get<any[]>(`${this.apiUrl}/mes-factures/par-periode`, { headers, params });\n    })\n  );\n}\n\n\n deletFactureProforma(factureId: number): Observable<any> {\n  return this.usersService.getValidAccessToken().pipe(\n    switchMap(token => {\n      const headers = new HttpHeaders({\n        'Authorization': `Bearer ${token}`,\n        'Accept': 'application/json'\n      });\n      return this.http.delete<any>(\n        `${this.apiUrl}/deletefactureproforma/${factureId}`,\n        { headers }\n      );\n    }),\n    catchError(error => {\n      console.error('Erreur lors de la suppression de la note:', error);\n      return throwError(() => error);\n    })\n  );\n}\n}\n\n\n\n","import { CommonModule } from '@angular/common';\nimport { Component, ElementRef, ViewChild } from '@angular/core';\nimport { FormBuilder, FormControl, FormGroup, FormsModule, ReactiveFormsModule, Validators } from '@angular/forms';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { EntrepriseClient } from '../../MODELS/entreprise-clients-model';\nimport { EntrepriseClientService } from '../../SERVICES/entreprise-clients-service';\nimport { FactureProFormaService } from '../../SERVICES/factureproforma-service';\nimport { CustomNumberPipe } from '../../MODELS/customNumberPipe';\nimport { MatTabsModule } from '@angular/material/tabs';\nimport { environment } from 'src/environments/environment';\nimport { EntrepriseService } from '../../SERVICES/entreprise-service';\nimport { VenteService } from '../../SERVICES/VenteService/vente-service';\n\n@Component({\n  selector: 'app-detail-edit-entreprise',\n  standalone: true,\n  imports: [\n    FormsModule,\n    CommonModule,\n    ReactiveFormsModule,\n    CustomNumberPipe,\n    MatTabsModule\n  ],\n  templateUrl: './detail-edit-entreprise.component.html',\n  styleUrl: './detail-edit-entreprise.component.scss'\n})\nexport class DetailEditEntrepriseComponent {\n  public imgUrl = environment.imgUrl;\n  entrepriseForm!: FormGroup;\n  errorMessage: string = '';\n  successMessage: string = '';\n  entrepriseId!: number;\n  entrepriseData!: EntrepriseClient;\n  indicatif: string = '';\n  maxPhoneLength: number = 0;\n  facturesEntreprise: any[] = [];\n  isLoading = false;\n  loadingFactures = false;\n  errorFactures = '';\n  isEditing = false;\n  control = new FormControl();\n  selectedFactureId: number | null = null;\n  factureDetails: any = null;\n  entrepriseEmitter: any = {};\n  factureCount: number = 0;\n  achatCount: number = 0\n\n  // Propriétés pour l'aperçu de facture\n  entrepriseNom: string = 'Nom entreprise';\n  entrepriseSecteur: string = 'Secteur';\n  entrepriseEmail: string = 'email@entreprise.com';\n  entrepriseTelephone: string = '+223 00 00 00 00';\n  entrepriseSiege: string = 'Siège social';\n  entrepriseLogo: string = 'assets/img/entreprise-icon.png';\n  entrepriseSiteWeb: string = 'www.entreprise.com';\n  entrepriseNina: string = 'NINA';\n  entrepriseRccm: string = 'RCCM';\n  entrepriseNif: string = 'NIF';\n  entrepriseBanque: string = 'Banque';\n  entrepriseAdresse: string = 'Adresse';\n  entreprisePays: string = 'Pays';\n  entrepriseSignataireNom: string = 'Nom signataire';\n  entrepriseSignataire: string = 'Fonction signataire';\n\n  newPhotoUrl: string | null = null;\n  selectedFile: File | null = null;\n  clientPhotoUrl: string | null = null;\n\n  @ViewChild('fileInput') fileInput!: ElementRef<HTMLInputElement>;\n\n  // Définition des indicatifs par pays\n  paysIndicatifs: { [key: string]: { indicatif: string, longueur: number } } = {\n    'Mali': { indicatif: '+223', longueur: 8 },\n    'Sénégal': { indicatif: '+221', longueur: 9 },\n    'Côte d\\'Ivoire': { indicatif: '+225', longueur: 10 }\n  };\n\n  constructor(\n    private router: Router,\n    private route: ActivatedRoute,\n    private fb: FormBuilder,\n    private entrepriseService: EntrepriseClientService,\n    private factureService: FactureProFormaService,\n    private entrepriseService2: EntrepriseService,\n    private venteService: VenteService\n    \n  ) {}\n\n  ngOnInit() {\n    this.initializeForm();\n    this.route.params.subscribe(params => {\n      this.entrepriseId = +params['id'];\n      this.loadEntrepriseData();\n      this.loadFacturesEntreprise();\n\n      this.entrepriseClientId = this.entrepriseId; \n    this.clientId = undefined;\n    this.getVentes();\n    });\n    this.loadEntrepriseEmitter();\n    this.entrepriseForm.disable();\n    this.control.disable();\n  }\n\n  loadEntrepriseEmitter(): void {\n    this.entrepriseService2.getEntrepriseInfo().subscribe({\n      next: (entreprise) => {\n        this.entrepriseEmitter = entreprise;\n      },\n      error: (err) => {\n        console.error('Erreur chargement infos entreprise émettrice', err);\n      }\n    });\n  }\n\n  loadFacturesEntreprise() {\n    this.loadingFactures = true;\n    this.factureService.getFacturesByClient(undefined, this.entrepriseId).subscribe({\n      next: (factures) => {\n        this.facturesEntreprise = factures;\n        this.factureCount = factures.length;\n        this.loadingFactures = false;\n        \n        // Sélectionner la première facture par défaut\n        if (this.facturesEntreprise.length > 0) {\n          this.onSelectFacture(this.facturesEntreprise[0]);\n        }\n      },\n      error: (err) => {\n        this.errorFactures = 'Erreur lors du chargement des factures';\n        this.loadingFactures = false;\n        console.error(err);\n      }\n    });\n  }\n\n  onSelectFacture(facture: any): void {\n    this.selectedFactureId = facture.id;\n    this.loadFactureDetails(facture.id);\n  }\n\n  loadFactureDetails(factureId: number): void {\n    this.factureService.getFactureProformaById(factureId).subscribe({\n      next: (details: any) => {\n        this.factureDetails = details;\n      },\n      error: (err) => {\n        console.error('Erreur chargement détails facture', err);\n      }\n    });\n  }\n\n  getTotalFactures(): number {\n    const total = this.facturesEntreprise.reduce((sum: number, facture: any) => \n      sum + facture.totalFacture, 0\n    );\n    return Math.round(total);\n  }\n\n  onPaysChange(event: any): void {\n    const paysSelectionne = event.target.value;\n    const paysInfo = this.paysIndicatifs[paysSelectionne];\n  \n    if (paysInfo) {\n      this.indicatif = `${paysInfo.indicatif} `;\n      this.maxPhoneLength = this.indicatif.length + paysInfo.longueur;\n  \n      if (!this.entrepriseForm.get('telephone')?.value.startsWith(this.indicatif)) {\n        this.entrepriseForm.get('telephone')?.setValue(this.indicatif);\n      }\n  \n      this.updatePhoneValidator(paysInfo.longueur);\n    }\n  }\n\n  updatePhoneValidator(longueur: number): void {\n    const validators = [];\n    \n    if (this.indicatif) {\n      const regex = new RegExp(`^\\\\${this.indicatif}\\\\s*\\\\d{${longueur}}$`);\n      validators.push(Validators.pattern(regex));\n    }\n    \n    this.entrepriseForm.get('telephone')?.setValidators(validators);\n    this.entrepriseForm.get('telephone')?.updateValueAndValidity();\n  }\n\n  formatPhoneNumber(): void {\n    let valeur = this.entrepriseForm.get('telephone')?.value;\n    \n    if (!valeur.startsWith(this.indicatif)) {\n      this.entrepriseForm.get('telephone')?.setValue(this.indicatif);\n      return;\n    }\n\n    const chiffres = valeur.replace(this.indicatif, '').replace(/\\D/g, '');\n    const numeroFormate = this.indicatif + chiffres;\n    \n    this.entrepriseForm.get('telephone')?.setValue(\n      numeroFormate.slice(0, this.maxPhoneLength)\n    );\n  }\n\n  initializeForm() {\n    this.entrepriseForm = this.fb.group({\n      nom: ['', [Validators.required, Validators.minLength(2)]],\n      email: ['', [Validators.email]],\n      telephone: [''],\n      pays: [''],\n      adresse: [''],\n      siege: [''],\n      secteur: ['']\n    });\n  }\n\n  loadEntrepriseData() {\n    this.entrepriseService.getEntrepriseById(this.entrepriseId).subscribe({\n      next: (data) => {\n        this.entrepriseData = data;\n        \n        // Mettre à jour les propriétés d'aperçu\n        this.entrepriseNom = data.nom;\n        this.entrepriseSecteur = data.secteur || '';\n        this.entrepriseEmail = data.email || '';\n        this.entrepriseTelephone = data.telephone || '';\n        this.entrepriseSiege = data.siege || '';\n        this.entrepriseAdresse = data.adresse || '';\n        this.entreprisePays = data.pays || '';\n\n        let cleanPhone = data.telephone;\n        if (data.telephone && data.telephone.includes(' ')) {\n          cleanPhone = data.telephone.replace(/\\s/g, '');\n        }\n\n        this.entrepriseForm.patchValue({\n          nom: data.nom,\n          email: data.email,\n          telephone: cleanPhone,\n          pays: data.pays,\n          adresse: data.adresse,\n          siege: data.siege,\n          secteur: data.secteur\n        });\n\n        if (data.pays && this.paysIndicatifs[data.pays]) {\n          this.indicatif = this.paysIndicatifs[data.pays].indicatif;\n          this.maxPhoneLength = this.indicatif.length + this.paysIndicatifs[data.pays].longueur;\n          this.updatePhoneValidator(this.paysIndicatifs[data.pays].longueur);\n        }\n      },\n      error: (err) => {\n        this.errorMessage = err.message || 'Erreur lors du chargement';\n      }\n    });\n  }\n\n  toggleEditing(): void {\n    this.isEditing = !this.isEditing;\n    \n    if (this.isEditing) {\n      this.entrepriseForm.enable();\n    } else {\n      this.entrepriseForm.disable();\n      this.loadEntrepriseData();\n    }\n  }\n\n  goToClients() {\n    if (this.isEditing) {\n      this.toggleEditing();\n    } else {\n      this.router.navigate(['/clients']);\n    }\n  }\n\n  // Méthode pour déclencher l'input file\n  triggerFileInput(): void {\n    if (!this.isEditing) return;\n    this.fileInput.nativeElement.click();\n  }\n\n  onSubmit() {\n      if (this.entrepriseForm.invalid) return;\n      \n      // Réinitialiser les messages\n      this.errorMessage = '';\n      this.successMessage = '';\n      \n      // Activer l'indicateur de chargement\n      this.isLoading = true;\n\n      // Ajouter un délai de 3 secondes avant la modification\n      setTimeout(() => {\n          const updatedData: EntrepriseClient = {\n              ...this.entrepriseData,\n              ...this.entrepriseForm.value\n          };\n\n          this.entrepriseService.updateEntrepriseClient(this.entrepriseId, updatedData).subscribe({\n              next: () => {\n                  // Afficher le message de succès immédiatement\n                  this.successMessage = 'Entreprise modifiée avec succès!';\n                  this.errorMessage = '';\n                  this.isLoading = false;\n                  \n                  // Attendre 2 secondes avant de désactiver le mode édition\n                  setTimeout(() => {\n                      // Désactiver le mode édition après 2 secondes\n                      this.isEditing = false;\n                      this.entrepriseForm.disable();\n                      \n                      // Recharger les données\n                      this.loadEntrepriseData();\n                  }, 2000);\n              },\n              error: (err) => {\n                  this.errorMessage = err.message || 'Erreur lors de la modification';\n                  this.successMessage = '';\n                  this.isLoading = false;\n              }\n          });\n      }, 3000); // Délai initial de 3 secondes\n  }\n\n  navigateBack() {\n    this.router.navigate(['/clients'])\n  }\n\nentrepriseClient: EntrepriseClient | null = null;\n\nshowConfirmationModalE = false;\nisDeletingE = false;\n\ndeleteEntreprise() {\n  if (!this.entrepriseClient && !this.entrepriseId) {\n    console.error(\"Entreprise cliente ou ID non disponible.\");\n    return;\n  }\n\n  this.showConfirmationModalE = true;\n}\n\nasync confirmDeleteE(): Promise<void> {\n  this.showConfirmationModalE = false;\n\n  if (!this.entrepriseClient && !this.entrepriseId) {\n    this.errorMessage = \"Entreprise non disponible pour suppression.\";\n    return;\n  }\n\n  this.isDeletingE = true;\n  this.errorMessage = '';\n  this.successMessage = '';\n\n  try {\n    const idToDelete = this.entrepriseClient?.id || this.entrepriseId;\n    // Un seul appel delete, on récupère le message (string) ici\n    const message = await this.entrepriseService.deleteEntreprise(idToDelete).toPromise();\n    this.successMessage = message || 'Entreprise supprimée avec succès !';\n\n    setTimeout(() => {\n      this.router.navigate(['/clients']);\n    }, 2000); \n  } catch (err: any) {\n    let message = err?.error?.error || 'Erreur lors de la suppression.';\n    const prefix = \"Une erreur est survenue : \";\n    if (message.startsWith(prefix)) {\n      message = message.substring(prefix.length);\n    }\n    this.errorMessage = message;\n  } finally {\n    this.isDeletingE = false;\n    setTimeout(() => {\n      this.errorMessage = '';\n      this.successMessage = '';\n    }, 5000);\n  }\n}\n\n// ici\n//\n  loading = false;\n  entrepriseClientId?: number;\n  ventes: any[] = [];\n   selectedAchatId: number | null = null;\n  selectedAchat: any = null;\n  clientId?: number;\n\nonSelectAchat(vente: any): void {\n  this.selectedAchat = vente;\n  this.selectedAchatId = vente.venteId;\n  console.log('Achat sélectionné:', this.selectedAchat);\n}\n\n\n getVentes(): void {\n  this.loading = true;\n  this.errorMessage = '';\n\n  if (!this.clientId && !this.entrepriseClientId) {\n    console.warn(\"Aucun client ou entreprise sélectionné, impossible de récupérer les ventes.\");\n    this.loading = false;\n    return;\n  }\n\n  this.venteService.getVenteByClient(this.clientId, this.entrepriseClientId)\n    .subscribe({\n      next: (res: any[]) => {\n        console.log(\"données reçues :\", res);\n        this.ventes = res;\n        this.achatCount = this.ventes.length;\n\n        // Sélection automatique du premier achat\n        if (this.ventes.length > 0) {\n          this.selectedAchatId = this.ventes[0].venteId;\n          this.selectedAchat = this.ventes[0];\n          console.log('Premier achat sélectionné automatiquement :', this.selectedAchatId);\n        }\n\n        this.loading = false;\n      },\n      error: (err) => {\n        console.error('Erreur récupération ventes :', err);\n        this.errorMessage = 'Impossible de récupérer les ventes.';\n        this.loading = false;\n      }\n    });\n}\n\n\n\nselectEntrepriseClient(entrepriseClient: any) {\n  this.entrepriseClientId = entrepriseClient.id;\n  this.clientId = undefined;  // NE PAS envoyer clientId\n  this.getVentes();\n}\n\nselectClient(client: any) {\n  this.clientId = client.id;\n  this.entrepriseClientId = undefined;  // NE PAS envoyer entrepriseClientId\n  this.getVentes();\n}\n\n\n\n  get totalMontant(): number {\n  return this.ventes?.reduce(function(acc, vente) {\n    return acc + (vente.montantTotal || 0);\n  }, 0) || 0;\n}\n}","\n<div class=\"toast-container\">\n  <!-- Message d'erreur principal -->\n  <div *ngIf=\"errorMessage\" class=\"alert alert-danger toast-message-danger\">\n    {{ errorMessage }}\n  </div>\n  \n  <!-- Message de succès -->\n  <div *ngIf=\"successMessage\" class=\"alert alert-success toast-message-success\">\n    {{ successMessage }}\n  </div>\n</div>\n\n<!-- Icon return  -->\n<p class=\"retour_icon_text\" (click)=\"navigateBack()\" style=\"cursor: pointer; color: #0672E4; margin-bottom: 15px;\" title=\"Retour sur la page entreprise client\">\n    <i class=\"ri-arrow-left-s-line\"></i> <span style=\"margin-left: 8px; font-size: 12px;\">Entreprise clients</span>\n</p>\n\n<div class=\"container_client\">\n\n  <div *ngIf=\"isLoading\" class=\"loading-overlay\">\n    <div class=\"loading-content\">\n      <div class=\"spinner\"></div>\n      <p>Creation en cours...</p>\n    </div>\n  </div>\n  \n  <div class=\"information_cadre\" style=\"margin-bottom: 20px; padding: 20px;\">\n    <div class=\"information_grid_two\">\n      <!-- Section Logo Entreprise -->\n      <div class=\"profil_section\">\n        <div class=\"section_title\">\n          <div class=\"title\">\n            <h6>Logo</h6>\n          </div>\n        </div>\n\n        <!-- <div class=\"profile-img-wrapper\">\n          <img src=\"assets/img/office_building.png\" alt=\"Logo entreprise\" class=\"profile-img\" />\n        </div> -->\n\n            <div class=\"profile-img-wrapper\" (click)=\"triggerFileInput()\">\n                  <img src=\"assets/img/office_building.png\"\n                      alt=\"Photo de profil\" \n                      class=\"profile-img\" />\n                  \n                  <div class=\"overlay\">\n                    <img src=\"assets/img/appareil.jpg\" alt=\"Modifier\" class=\"camera-icon\" />\n                  </div>\n            </div>\n\n             <!-- Bouton supprimer  -->\n                    <div class=\"delete-entrepriseClient-container\" style=\"margin-top: 22px;\">\n                           <span style=\"font-size: 13px;\">\n                              <span style=\"font-size: 13px;\">\n                                Supprimer Entreprise\n                                </span>\n\n                            </span>\n\n                            <label class=\"switch2\">\n                                <button \n                            class=\"delete-boutique-btn\" \n                            (click)=\"deleteEntreprise()\" \n                            [disabled]=\"isDeletingE\"\n                            aria-label=\"Supprimer la boutique\"\n                            title=\"Supprimer la boutique\">\n                            <i class=\"fas fa-trash-alt\"></i>\n                        </button>\n                            </label>\n                    </div> \n      </div>\n\n       <!-- Modal de confirmation personnalisée -->\n        <div class=\"confirmation-modal-averB\" *ngIf=\"showConfirmationModalE\">\n        <div class=\"modal-content-averB\">\n            <h4 style=\"font-size: 16px; margin-bottom: 10px;\">Confirmation</h4>\n            <p style=\"margin: 0; font-size: 12px;\">Êtes-vous sûr de vouloir supprimer cette entreprise ?</p>\n            <div class=\"modal-actions-averB\">\n            <button class=\"btn-confirm\" style=\"font-size: 12px;\" (click)=\"confirmDeleteE()\">OUI</button>\n            <button class=\"btn-cancel\" style=\"font-size: 12px;\" (click)=\"showConfirmationModalE = false\">NON</button>\n            </div>\n        </div>\n        </div>\n      \n      <!-- Section Informations Entreprise -->\n      <div class=\"info_section\">\n        <div class=\"section_title\">\n          <div class=\"title title_display\">\n            <h6>Informations Entreprise</h6>\n            <div class=\"icon_edit\">\n              <i *ngIf=\"!isEditing\" \n                class=\"ri-edit-box-line\" \n                title=\"Cliquer ici pour modifier\"\n                (click)=\"toggleEditing()\"></i>\n              \n              <i *ngIf=\"isEditing\" style=\"color: #ff0000;\"\n                class=\"ri-close-line\" \n                title=\"Fermer l'édition\"\n                (click)=\"toggleEditing()\"></i>\n            </div>\n          </div>\n        </div>\n        \n        <form [formGroup]=\"entrepriseForm\" class=\"container_formulaire\">\n          <div class=\"champ_grid_true\">\n            <!-- Nom entreprise -->\n            <div class=\"champ_input\">\n              <input type=\"text\" class=\"input_focus\" \n                     id=\"nom\" formControlName=\"nom\"\n                     placeholder=\"Saisis le nom de l'entreprise\">\n              <label for=\"nom\" class=\"label\">Nom entreprise</label>\n              <div *ngIf=\"entrepriseForm.get('nom')?.touched && entrepriseForm.get('nom')?.invalid\" class=\"error\">\n                <small *ngIf=\"entrepriseForm.get('nom')?.errors?.['required']\">Champ requis.</small>\n                <small *ngIf=\"entrepriseForm.get('nom')?.errors?.['minlength']\">Au moins 2 caractères.</small>\n              </div>\n            </div>\n            <!-- Email -->\n            <div class=\"champ_input\">\n              <input type=\"email\" class=\"input_focus\" \n                     id=\"email\" formControlName=\"email\"\n                     placeholder=\"Saisis l'email\">\n              <label for=\"email\" class=\"label\">Email</label>\n              <div *ngIf=\"entrepriseForm.get('email')?.touched && entrepriseForm.get('email')?.invalid\" class=\"error\">\n                <small *ngIf=\"entrepriseForm.get('email')?.errors?.['email']\">Format invalide.</small>\n              </div>\n            </div>\n            \n            <!-- Secteur -->\n            <div class=\"champ_input\">\n              <input class=\"input_focus\"\n                     id=\"secteur\" formControlName=\"secteur\"\n                     placeholder=\"Saisis le secteur\">\n              <label for=\"secteur\" class=\"label\">Secteur</label>\n            </div>\n          </div>\n\n          <div class=\"champ_grid\">\n            <!-- Sélecteur de pays -->\n            <div class=\"champ_input div1\">\n              <select class=\"input_focus\" formControlName=\"pays\" (change)=\"onPaysChange($event)\">\n                <option value=\"\" disabled>Pays</option>\n                <option value=\"Mali\">Mali</option>\n                <option value=\"Sénégal\">Sénégal</option>\n                <option value=\"Côte d'Ivoire\">Côte d'Ivoire</option>\n              </select>\n              <label for=\"pays\" class=\"label\">Pays</label>\n            </div>\n\n            <!-- Téléphone -->\n            <div class=\"champ_input div2\">\n              <input type=\"tel\" class=\"input_focus\"\n                     id=\"telephone\" formControlName=\"telephone\"\n                     placeholder=\"Saisis le numéro de téléphone\"\n                     (input)=\"formatPhoneNumber()\">\n              <label for=\"telephone\" class=\"label\">Téléphone</label>\n              <div *ngIf=\"entrepriseForm.get('telephone')?.touched && entrepriseForm.get('telephone')?.invalid\" class=\"error\">\n                <small>Format invalide</small>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"champ_grid\">\n            <!-- Adresse -->\n            <div class=\"champ_input\">\n              <input class=\"input_focus\"\n                     id=\"adresse\" formControlName=\"adresse\"\n                     placeholder=\"Saisis l'adresse\">\n              <label for=\"adresse\" class=\"label\">Adresse</label>\n            </div>\n            \n            <!-- Ville -->\n            <div class=\"champ_input\">\n              <input class=\"input_focus\"\n                     id=\"siege\" formControlName=\"siege\"\n                     placeholder=\"Saisis la ville\">\n              <label for=\"siege\" class=\"label\">Ville</label>\n            </div>\n          </div>\n\n          <!-- Boutons Ajouter et Sauvegarder -->\n          <div class=\"information_cadre_save\" *ngIf=\"isEditing\">\n            <!-- Message d'erreur global -->\n            <div class=\"container_error_message\">\n              <!-- <div *ngIf=\"errorMessage\" class=\"error-messageApi2\">{{ errorMessage }}</div>\n              <div *ngIf=\"successMessage\" class=\"success-messageApi2\">{{ successMessage }}</div> -->\n            </div>\n\n            <div class=\"info_titre_input info_titre_input_btn\">\n              <div class=\"btn_annuler\">\n                <button class=\"btn_cancel\" (click)=\"goToClients()\">{{ isEditing ? 'Annuler' : 'Retour' }}</button>\n              </div>\n              <div class=\"btn_ajouter\">\n                <button class=\"btn_save\" (click)=\"onSubmit()\"\n                      [disabled]=\"entrepriseForm.invalid\"\n                      [style.backgroundColor]=\"entrepriseForm.valid ? '#0672E4' : '#0671e434'\"\n                      [style.color]=\"entrepriseForm.valid ? '#ffffff' : '#00000073'\"\n                      [style.cursor]=\"entrepriseForm.valid ? 'pointer' : 'no-drop'\">\n                  Modifier\n                </button>\n              </div>\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"information_cadre\">\n    <div class=\"section_navbar\">\n      <mat-tab-group [selectedIndex]=\"0\" class=\"custom-tabs\">\n        <!-- Factures -->\n        <mat-tab>\n          <ng-template mat-tab-label>\n            <div class=\"tab-label\">\n              <span>Factures entreprise</span>\n              <span class=\"facture-count\">{{factureCount}}</span>\n            </div>\n          </ng-template>\n          <div class=\"tab-content\">\n            <div class=\"content_client\">\n              <div class=\"information_grid_two\">\n                <!-- Aperçu Facture -->\n                <div class=\"profil_section profil_section_facture\">\n                  <div class=\"facture_model\" *ngIf=\"factureDetails; else noFactureSelected\">\n                    <!-- En-tête dynamique -->\n                    <div class=\"header_apercu\" style=\"display: flex; align-items: center; gap: 5px; margin: 10px;\">\n                      <div class=\"logo_entreprise\">\n                        <img [src]=\"entrepriseEmitter.logo ? (imgUrl + entrepriseEmitter.logo) : 'assets/img/entreprise-icon.png'\">\n                      </div>\n                      <div class=\"entete_entreprise\">\n                        <p class=\"para1\">{{ entrepriseNom }}</p>\n                        <p class=\"para1\">Secteur: {{ entrepriseSecteur }}</p>\n                        <div class=\"para1\">\n                          Email: {{ entrepriseEmail }} \n                          Téléphone: {{ entrepriseTelephone }}\n                        </div>\n                      </div>\n                    </div>\n\n                    <hr><hr>\n\n                    <!-- Numéro de facture -->\n                    <div class=\"titre\" style=\"text-align: center; font-size: 8px;\">\n                      <h6>Facture proforma: \n                        <span style=\"color: #0000003e;\">\n                          {{ factureDetails.numeroFacture }}\n                        </span>\n                      </h6>\n                    </div>\n\n                    <!-- Date et lieu -->\n                    <div class=\"date_right\">\n                      <p style=\"margin: 0 10px; font-size: 8px; text-align: right;\">\n                        {{ entrepriseSiege }}, {{ factureDetails.dateCreation | date:'dd/MM/yyyy' }}\n                      </p>\n                    </div>\n\n                    <!-- Destinataire -->\n                    <div class=\"name_client\" style=\"margin-left: 10px;\">\n                      <div class=\"doit\" style=\"display: flex; align-items: center; gap: 3px;\">\n                        <h6 style=\"margin: 0; font-size: 8px;\">Doit : </h6>\n                        <p style=\"margin: 0; font-size: 8px;\">\n                          {{ factureDetails.client?.nomComplet || factureDetails.entrepriseClient?.nom }}\n                        </p>\n                      </div>\n                      <div class=\"objets\" style=\"display: flex; align-items: center; gap: 3px;\">\n                        <h6 style=\"margin: 0; font-size: 8px;\">Objet : </h6>\n                        <p style=\"margin: 0; font-size: 8px;\">\n                          {{ factureDetails.description }}\n                        </p>\n                      </div>\n                    </div>\n\n                    <!-- Lignes de produits -->\n                    <div class=\"container_table\" style=\"display: flex; justify-content: center;\">\n                      <table class=\"table\">\n                        <thead>\n                          <tr>\n                            <th class=\"th\">Désignation</th>\n                            <th class=\"th\">Description</th>\n                            <th class=\"th\">PU</th>\n                            <th class=\"th\">Quantité</th>\n                            <th class=\"th\">Montant (FCFA)</th>\n                          </tr>\n                        </thead>\n                        <tbody>\n                          <tr *ngFor=\"let ligne of factureDetails.lignesFacture\">\n                            <td class=\"td\">{{ ligne.nomProduit }}</td>\n                            <td class=\"td\">{{ ligne.ligneDescription }}</td>\n                            <td class=\"td\">{{ ligne.prixUnitaire | customNumber }}</td>\n                            <td class=\"td\">{{ ligne.quantite }}</td>\n                            <td class=\"td\">{{ ligne.montantTotal | customNumber }}</td>\n                          </tr>\n                        </tbody>\n                        <tfoot class=\"tfoot\">\n                          <tr>\n                            <td class=\"td\" colspan=\"4\">Total HT</td>\n                            <td class=\"td\">{{ factureDetails.totalHT | customNumber }}</td>\n                          </tr>\n                          <tr *ngIf=\"factureDetails.remise > 0\">\n                            <td class=\"td\" colspan=\"4\">Remise 0%</td>\n                            <td class=\"td\">0000</td>\n                          </tr>\n                          <tr *ngIf=\"factureDetails.tva\">\n                            <td class=\"td\" colspan=\"4\">TVA 0%</td>\n                            <td class=\"td\">000</td>\n                          </tr>\n                          <tr>\n                            <td class=\"td\" colspan=\"4\">Montant TTC</td>\n                            <td class=\"td\">{{ factureDetails.totalFacture | customNumber }}</td>\n                          </tr>\n                        </tfoot>\n                      </table>\n                    </div>\n\n                    <div class=\"arret_somme\">\n                      <p style=\"margin: 0 0 0 10px; font-size: 6px;\">Arrêté la présente facture à la somme de : Zero .....</p>\n                    </div>\n\n                    <div class=\"signature\" style=\"text-align: right; margin: 20px 10px 16px 0;\">\n                      <div class=\"post_signateure\">\n                        <p style=\"font-size: 8px;\">{{ entrepriseSignataire }}</p>\n                      </div>\n                      <div class=\"nom_signateure\">\n                        <p style=\"font-size: 8px;\">{{ entrepriseSignataireNom }}</p>\n                      </div>\n                    </div>\n\n                    <!-- Pied de page dynamique -->\n                    <div class=\"container_footer\">\n                      <div class=\"footer\">\n                        <hr>\n                        <p style=\"text-align: center; font-size: 8px; margin: 0 0 3px 0;\">\n                          <strong>{{ entrepriseSiteWeb }}</strong>\n                        </p>\n                        <div style=\"font-size: 5px; text-align: center;\">\n                          <em>\n                            NINA: {{ entrepriseNina }}\n                            RCCM: {{ entrepriseRccm }}\n                            NIF: {{ entrepriseNif }}\n                            Banque: {{ entrepriseBanque }}\n                          </em>\n                        </div>\n                        <div style=\"margin-top: 0px; font-size: 5px; text-align: center;\">\n                          <em>Adresse : {{ entrepriseAdresse }} /{{ entreprisePays }}</em>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  <ng-template #noFactureSelected>\n                    <div class=\"empty-preview\">\n                      <i class=\"ri-file-text-line\"></i>\n                      <p>Sélectionnez une facture pour l'aperçu</p>\n                    </div>\n                  </ng-template>\n                </div>\n                \n                <!-- Liste des Factures -->\n                <div class=\"info_section\" style=\"padding: 0;\">\n                  <div class=\"contact_info__\">\n                    <div class=\"section_title section_title2\" style=\"padding: 20px 20px 6px;\">\n                      <div class=\"title\">\n                        <h6>Toutes les factures</h6>\n                      </div>\n                    </div>\n\n                    <!-- Tableau des factures -->\n                    <div class=\"table-container\" style=\"max-height: 41vh; border-radius: 10px; display: flex; flex-direction: column; position: relative;\">\n                      <!-- États de chargement/erreur -->\n                      <div *ngIf=\"loadingFactures\" class=\"loading-indicator\">\n                        <i class=\"ri-loader-4-line spin\"></i> Chargement des factures...\n                      </div>\n                      \n                      <div *ngIf=\"!loadingFactures && errorFactures\" class=\"error-message\">\n                        {{ errorFactures }}\n                      </div>\n                      \n                      <div *ngIf=\"!loadingFactures && !errorFactures && facturesEntreprise.length === 0\" class=\"empty-state\">\n                        <i class=\"ri-file-list-2-line\"></i>\n                        <p>Aucune facture trouvée pour cette entreprise</p>\n                      </div>\n                      \n                      <!-- Tableau réel -->\n                      <table *ngIf=\"!loadingFactures && !errorFactures && facturesEntreprise.length > 0\">\n                        <thead>\n                          <tr style=\"position: sticky; top: 0; background: white; z-index: 10; box-shadow: 0 2px 2px -1px rgba(0,0,0,0.1);\">\n                            <th>Numéro</th>\n                            <th>Date</th>\n                            <th>Statut</th>\n                            <th class=\"text-right\">Montant</th>\n                          </tr>\n                        </thead>\n                        <tbody>\n                          <tr *ngFor=\"let facture of facturesEntreprise\" \n                              (click)=\"onSelectFacture(facture)\"\n                              [class.selected-row]=\"selectedFactureId === facture.id\">\n                            <td>{{ facture.numeroFacture }}</td>\n                            <td>{{ facture.dateFacture | date:'dd/MM/yyyy' }}</td>\n                            <td>\n                              <span class=\"status-badge\" [ngClass]=\"{\n                                'draft': facture.statut === 'BROUILLON',\n                                'sent': facture.statut === 'ENVOYE',\n                                'approved': facture.statut === 'APPROUVE',\n                                'valid': facture.statut === 'VALIDE'\n                              }\">\n                                {{ facture.statut }}\n                              </span>\n                            </td>\n                            <td class=\"text-right\">{{ facture.totalFacture | customNumber }}</td>\n                          </tr>\n                        </tbody>\n                      </table>\n                    </div>\n  \n                    <!-- Footer collé en bas -->\n                    <div class=\"sticky-footer\" *ngIf=\"!loadingFactures && !errorFactures && facturesEntreprise.length > 0\">\n                      <table style=\"width: 100%;\">\n                        <tfoot style=\"background-color: #ffffff;\">\n                          <tr>\n                            <td colspan=\"3\" class=\"text-bold\">Total</td>\n                            <td class=\"text-right text-bold\">\n                              {{ getTotalFactures() | customNumber }}\n                            </td>\n                          </tr>\n                        </tfoot>\n                      </table>\n                    </div>\n                  </div> \n                </div>\n              </div>\n            </div>\n          </div>\n        </mat-tab>\n\n        <!-- Achat -->\n         <mat-tab>\n            <ng-template mat-tab-label>\n            <div class=\"tab-label\">\n              <span>Achats</span>\n              <span class=\"facture-count\">{{achatCount}}</span>\n            </div>\n          </ng-template>\n\n           <div class=\"tab-content\">\n              <div class=\"content_client\">\n                <div class=\"information_grid_two\">\n                  <!-- Section Profil -->\n                  <div class=\"profil_section profil_section_facture\" >\n                    <div class=\"facture_model\" *ngIf=\"selectedAchat\">\n                      <!-- En-tête statique -->\n                      <div class=\"header_apercu\" style=\"display: flex; align-items: center; gap: 5px; margin: 10px;\">\n                        <div class=\"logo_entreprise\">\n                          <img src=\"assets/img/Votre.png\">\n                        </div>\n                        <div class=\"entete_entreprise\">\n                          <p class=\"para1\">Nom Entreprise</p>\n                          <p class=\"para1\">Secteur Entreprise</p>\n                          <div class=\"para1\">\n                            Email: emailentreprise.com \n                            Téléphone: 000000000\n                          </div>\n                        </div>\n                      </div>\n\n                      <hr><hr>\n\n                      <!-- Numéro de facture -->\n                      <div class=\"titre\" style=\"text-align: center; font-size: 8px;\">\n                        <h6>Facture proforma: \n                          <span style=\"color: #0000003e;\">\n                            {{ selectedAchat.numeroFacture }}\n                          </span>\n                        </h6>\n                      </div>\n\n                      <!-- Date et lieu -->\n                      <div class=\"date_right\">\n                        <p style=\"margin: 0 10px; font-size: 8px; text-align: right;\">\n                         {{ selectedAchat.dateVente | date:'dd/MM/yyyy HH:mm' }}\n                        </p>\n                      </div>\n\n                      <!-- Destinataire -->\n                      <div class=\"name_client\" style=\"margin-left: 10px;\">\n                        <div class=\"doit\" style=\"display: flex; align-items: center; gap: 3px;\">\n                          <h6 style=\"margin: 0; font-size: 8px;\">Vendeur : </h6>\n                          <p style=\"margin: 0; font-size: 8px;\">{{ selectedAchat.nomVendeur }}</p>\n                        </div>\n                        <div class=\"objets\" style=\"display: flex; align-items: center; gap: 3px;\">\n                          <h6 style=\"margin: 0; font-size: 8px;\">Objet : </h6>\n                          <p style=\"margin: 0; font-size: 8px;\">{{selectedAchat.description}}</p>\n                        </div>\n                      </div>\n\n                      <!-- Lignes de produits -->\n                      <div class=\"container_table\" style=\"display: flex; justify-content: center;\">\n                        <table class=\"table\">\n                          <thead>\n                            <tr>\n                              <th class=\"th\">Désignation</th>\n                              <th class=\"th\">PU</th>\n                              <th class=\"th\">Quantité</th>\n                              <th class=\"th\">Montant (FCFA)</th>\n                              <th class=\"th\">Remise </th>\n\n\n                            </tr>\n                          </thead>\n                          <tbody>\n                            <tr *ngFor=\"let ligne of selectedAchat.lignes\">\n                              <td class=\"td\">{{ ligne.nomProduit }}</td>\n                              <td class=\"td\">{{ ligne.prixUnitaire | number:'1.0-0' }}</td>\n                              <td class=\"td\">{{ ligne.quantite }}</td>\n                              <td class=\"td\">{{ ligne.montantLigne | number:'1.0-0' }}</td>\n                              <td class=\"td\">{{ligne.remise}}</td>\n                            </tr>\n                          </tbody>\n                          <tfoot class=\"tfoot\">\n                            <tr>\n                              <td class=\"td\" colspan=\"4\">Total HT</td>\n                              <td class=\"td\">{{ selectedAchat.montantTotal | number:'1.0-0' }}</td>\n                            </tr>\n                            <tr>\n                              <td class=\"td\" colspan=\"4\">Remise 0%</td>\n                              <td class=\"td\">{{ selectedAchat.remiseGlobale | number:'1.0-0' }}</td>\n                            </tr>\n                           \n                            <tr>\n                              <td class=\"td\" colspan=\"4\">Montant TTC</td>\n                              <td class=\"td\">{{ (selectedAchat.montantTotal - selectedAchat.remiseGlobale) | number:'1.0-0' }}</td>\n                            </tr>\n                          </tfoot>\n                        </table>\n                      </div>\n\n                      <div class=\"arret_somme\">\n                        <p style=\"margin: 0 0 0 10px; font-size: 6px;\">Arrêté la présente facture à la somme de : Zero .....</p>\n                      </div>\n\n                      <div class=\"signature\" style=\"text-align: right; margin: 20px 10px 16px 0;\">\n                        <div class=\"post_signateure\">\n                          <p style=\"font-size: 8px;\">Signataire</p>\n                        </div>\n                        <div class=\"nom_signateure\">\n                          <p style=\"font-size: 8px;\">Nom Signataire</p>\n                        </div>\n                      </div>\n\n                      <!-- Pied de page statique -->\n                      <div class=\"container_footer\">\n                        <div class=\"footer\">\n                          <hr>\n                          <p style=\"text-align: center; font-size: 8px; margin: 0 0 3px 0;\">\n                            <strong>www.siteweb.com</strong>\n                          </p>\n                          <div style=\"font-size: 5px; text-align: center;\">\n                            <em>\n                              NINA: 000000\n                              RCCM: 000000\n                              NIF: 000000\n                              Banque: Banque\n                            </em>\n                          </div>\n                          <div style=\"margin-top: 0px; font-size: 5px; text-align: center;\">\n                            <em>Adresse : Rue / Pays</em>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  <!-- Section Informations Factures -->\n                  <div class=\"info_section\" style=\"padding: 0;\" >\n                    <div class=\"contact_info__\">\n                      <div class=\"section_title section_title2\" style=\"padding: 20px 20px 6px;\">\n                        <div class=\"title\">\n                          <h6>Toutes les achats</h6>\n                        </div>\n                      </div>\n\n                      <!-- Tableau statique -->\n                      <div class=\"table-container\" style=\"max-height: 41vh; border-radius: 10px; display: flex; flex-direction: column; position: relative;\">\n                        <table>\n                          <thead>\n                            <tr style=\"position: sticky; top: 0; background: white; z-index: 10; box-shadow: 0 2px 2px -1px rgba(0,0,0,0.1);\">\n                              <th>Numéro Facture</th>\n                              <th>Date</th>\n                              <th>Mode Paiement</th>\n                              <th class=\"text-right\">Montant</th>\n                            </tr>\n                          </thead>\n                          <tbody>\n                            <tr *ngFor=\"let vente of ventes\" [class.selected-row]=\"selectedAchatId === vente.venteId\" (click)=\"onSelectAchat(vente)\">\n                              <td>{{ vente.numeroFacture }}</td>\n                              <td>{{ vente.dateVente | date:'dd/MM/yyyy' }}</td>\n                              <td>\n                                <span class=\"status-badge\">{{ vente.modePaiement }}</span>\n                              </td>\n                              <td class=\"text-right\">{{ vente.montantTotal | number:'1.0-0' }}</td>\n                            </tr>\n                          </tbody>\n                        </table>\n                      </div>\n\n                      <!-- Footer statique -->\n                      <div class=\"sticky-footer\">\n                        <table style=\"width: 100%;\">\n                          <tfoot style=\"background-color: #ffffff;\">\n                            <tr>\n                              <td colspan=\"3\" class=\"text-bold\">Total</td>\n                              <td class=\"text-right text-bold\">\n                                 {{ totalMontant | number:'1.0-0' }}\n                              </td>\n                            </tr>\n                          </tfoot>\n                        </table>\n                      </div>\n                    </div> \n                  </div>\n                </div>\n              </div>\n            </div>\n         </mat-tab>\n      </mat-tab-group>\n    </div>\n  </div>\n</div>"],"names":["StatutFactureProForma","HttpHeaders","BehaviorSubject","catchError","switchMap","tap","throwError","environment","EntrepriseService","constructor","http","usersService","apiUrl","apiBaseUrl","entrepriseSubject","entreprise$","asObservable","getListEntreprises","getValidAccessToken","pipe","token","headers","get","error","errorMsg","ErrorEvent","message","status","Error","addEntreprise","entreprise","post","newEntreprise","currentEntreprise","value","next","getListEntreprise","console","set","log","data","getEntrepriseById","id","updateEntreprise","formData","patch","responseType","getEntrepriseInfo","Authorization","localStorage","setItem","JSON","stringify","decodeJwt","parse","atob","split","isTokenExpired","decodedToken","expirationDate","Date","exp","getNewTokenFromApi","refreshToken","getItem","i0","ɵɵinject","i1","HttpClient","i2","UsersService","factory","ɵfac","providedIn","HttpParams","FactureProFormaService","creerFactureProforma","facture","remisePourcentage","appliquerTVA","appliquerAdjustments","params","undefined","toString","response","getAlFactproformaOfEntreprise","entrepriseId","getFactureProformaById","updateFactureProforma","factureId","modifications","idsApprobateurs","length","forEach","append","statut","ANNULE","put","envoyerFactureEmail","emailRequest","FormData","to","cc","subject","body","attachments","file","index","name","getHistoriqueFacture","err","getNotesFactureProforma","getNoteById","noteId","updateNote","nouveauContenu","url","deletNoteFactureProforma","delete","getFacturesByClient","clientId","entrepriseClientId","getFacturesParPeriode","type","dateDebut","dateFin","deletFactureProforma","CommonModule","FormControl","FormsModule","ReactiveFormsModule","Validators","CustomNumberPipe","MatTabsModule","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ctx_r1","errorMessage","successMessage","ɵɵelement","ɵɵlistener","DetailEditEntrepriseComponent_div_27_Template_button_click_7_listener","ɵɵrestoreView","_r3","ɵɵnextContext","ɵɵresetView","confirmDeleteE","DetailEditEntrepriseComponent_div_27_Template_button_click_9_listener","showConfirmationModalE","DetailEditEntrepriseComponent_i_34_Template_i_click_0_listener","_r4","toggleEditing","DetailEditEntrepriseComponent_i_35_Template_i_click_0_listener","_r5","ɵɵtemplate","DetailEditEntrepriseComponent_div_42_small_1_Template","DetailEditEntrepriseComponent_div_42_small_2_Template","ɵɵproperty","tmp_2_0","entrepriseForm","errors","tmp_3_0","DetailEditEntrepriseComponent_div_47_small_1_Template","DetailEditEntrepriseComponent_div_79_Template_button_click_4_listener","_r6","goToClients","DetailEditEntrepriseComponent_div_79_Template_button_click_7_listener","onSubmit","ɵɵtextInterpolate","isEditing","ɵɵstyleProp","valid","invalid","factureCount","ligne_r7","nomProduit","ligneDescription","ɵɵpipeBind1","prixUnitaire","quantite","montantTotal","DetailEditEntrepriseComponent_div_89_tr_48_Template","DetailEditEntrepriseComponent_div_89_tr_56_Template","DetailEditEntrepriseComponent_div_89_tr_57_Template","entrepriseEmitter","logo","imgUrl","ɵɵsanitizeUrl","entrepriseNom","entrepriseSecteur","ɵɵtextInterpolate2","entrepriseEmail","entrepriseTelephone","factureDetails","numeroFacture","entrepriseSiege","ɵɵpipeBind2","dateCreation","client","nomComplet","entrepriseClient","nom","description","lignesFacture","totalHT","remise","tva","totalFacture","entrepriseSignataire","entrepriseSignataireNom","entrepriseSiteWeb","ɵɵtextInterpolate4","entrepriseNina","entrepriseRccm","entrepriseNif","entrepriseBanque","entrepriseAdresse","entreprisePays","errorFactures","DetailEditEntrepriseComponent_table_102_tr_12_Template_tr_click_0_listener","facture_r9","_r8","$implicit","onSelectFacture","ɵɵclassProp","selectedFactureId","dateFacture","ɵɵpureFunction4","_c1","DetailEditEntrepriseComponent_table_102_tr_12_Template","facturesEntreprise","getTotalFactures","achatCount","ligne_r10","montantLigne","DetailEditEntrepriseComponent_div_110_tr_48_Template","selectedAchat","dateVente","nomVendeur","lignes","remiseGlobale","DetailEditEntrepriseComponent_tr_130_Template_tr_click_0_listener","vente_r12","_r11","onSelectAchat","selectedAchatId","venteId","modePaiement","DetailEditEntrepriseComponent","router","route","fb","entrepriseService","factureService","entrepriseService2","venteService","indicatif","maxPhoneLength","isLoading","loadingFactures","control","entrepriseLogo","newPhotoUrl","selectedFile","clientPhotoUrl","paysIndicatifs","longueur","isDeletingE","loading","ventes","ngOnInit","initializeForm","subscribe","loadEntrepriseData","loadFacturesEntreprise","getVentes","loadEntrepriseEmitter","disable","factures","loadFactureDetails","details","total","reduce","sum","Math","round","onPaysChange","event","paysSelectionne","target","paysInfo","startsWith","setValue","updatePhoneValidator","validators","regex","RegExp","push","pattern","setValidators","updateValueAndValidity","formatPhoneNumber","valeur","chiffres","replace","numeroFormate","slice","group","required","minLength","email","telephone","pays","adresse","siege","secteur","entrepriseData","cleanPhone","includes","patchValue","enable","navigate","triggerFileInput","fileInput","nativeElement","click","setTimeout","updatedData","updateEntrepriseClient","navigateBack","deleteEntreprise","_this","_asyncToGenerator","idToDelete","toPromise","prefix","substring","vente","warn","getVenteByClient","res","selectEntrepriseClient","selectClient","totalMontant","acc","ɵɵdirectiveInject","Router","ActivatedRoute","FormBuilder","i3","EntrepriseClientService","i4","i5","i6","VenteService","selectors","viewQuery","DetailEditEntrepriseComponent_Query","rf","ctx","DetailEditEntrepriseComponent_div_1_Template","DetailEditEntrepriseComponent_div_2_Template","DetailEditEntrepriseComponent_Template_p_click_3_listener","_r1","DetailEditEntrepriseComponent_div_8_Template","DetailEditEntrepriseComponent_Template_div_click_16_listener","DetailEditEntrepriseComponent_Template_button_click_25_listener","DetailEditEntrepriseComponent_div_27_Template","DetailEditEntrepriseComponent_i_34_Template","DetailEditEntrepriseComponent_i_35_Template","DetailEditEntrepriseComponent_div_42_Template","DetailEditEntrepriseComponent_div_47_Template","DetailEditEntrepriseComponent_Template_select_change_54_listener","$event","DetailEditEntrepriseComponent_Template_input_input_66_listener","DetailEditEntrepriseComponent_div_69_Template","DetailEditEntrepriseComponent_div_79_Template","DetailEditEntrepriseComponent_ng_template_84_Template","DetailEditEntrepriseComponent_div_89_Template","DetailEditEntrepriseComponent_ng_template_90_Template","ɵɵtemplateRefExtractor","DetailEditEntrepriseComponent_div_99_Template","DetailEditEntrepriseComponent_div_100_Template","DetailEditEntrepriseComponent_div_101_Template","DetailEditEntrepriseComponent_table_102_Template","DetailEditEntrepriseComponent_div_103_Template","DetailEditEntrepriseComponent_ng_template_105_Template","DetailEditEntrepriseComponent_div_110_Template","DetailEditEntrepriseComponent_tr_130_Template","tmp_9_0","touched","tmp_10_0","tmp_11_0","noFactureSelected_r13","ɵNgNoValidate","NgSelectOption","ɵNgSelectMultipleOption","DefaultValueAccessor","SelectControlValueAccessor","NgControlStatus","NgControlStatusGroup","i7","NgClass","NgForOf","NgIf","DecimalPipe","DatePipe","FormGroupDirective","FormControlName","i8","MatTabLabel","MatTab","MatTabGroup","styles"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}