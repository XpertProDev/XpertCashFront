"use strict";(self.webpackChunkskeleton=self.webpackChunkskeleton||[]).push([[807],{807:(E,g,s)=>{s.r(g),s.d(g,{ConnexionPageComponent:()=>k});var r=s(9417),l=s(611),p=s(177),n=s(4438),u=s(8026);let d=(()=>{class e{constructor(){this.TOKEN_KEY="authToken"}saveToken(t){console.log("Token sauvegard\xe9 dans localStorage :",t),localStorage.setItem(this.TOKEN_KEY,t)}getToken(){return localStorage.getItem(this.TOKEN_KEY)}removeToken(){localStorage.removeItem(this.TOKEN_KEY)}isAuthenticated(){return!!this.getToken()}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=n.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var m=s(9192);const f=e=>({error:e});function _(e,a){1&e&&(n.j41(0,"div",33)(1,"div",34),n.nrm(2,"div",35),n.j41(3,"p"),n.EFF(4,"Connexion en cours..."),n.k0s()()())}function h(e,a){1&e&&(n.j41(0,"span"),n.EFF(1,"Email est vide."),n.k0s())}function C(e,a){1&e&&(n.j41(0,"span"),n.EFF(1,"Email n'est pas valide."),n.k0s())}function x(e,a){if(1&e&&(n.j41(0,"div",36),n.DNE(1,h,2,0,"span",37)(2,C,2,0,"span",37),n.k0s()),2&e){const t=n.XpG();n.R7$(),n.Y8G("ngIf",null==t.f.email.errors?null:t.f.email.errors.required),n.R7$(),n.Y8G("ngIf",null==t.f.email.errors?null:t.f.email.errors.email)}}function P(e,a){1&e&&(n.j41(0,"span"),n.EFF(1,"Mot de passe est vide."),n.k0s())}function M(e,a){1&e&&(n.j41(0,"span"),n.EFF(1,"Au moins 8 caract\xe8res."),n.k0s())}function v(e,a){if(1&e&&(n.j41(0,"div",36),n.DNE(1,P,2,0,"span",37)(2,M,2,0,"span",37),n.k0s()),2&e){const t=n.XpG();n.R7$(),n.Y8G("ngIf",null==t.f.password.errors?null:t.f.password.errors.required),n.R7$(),n.Y8G("ngIf",null==t.f.password.errors?null:t.f.password.errors.minlength)}}function O(e,a){if(1&e&&(n.j41(0,"div",36),n.EFF(1),n.k0s()),2&e){const t=n.XpG();n.R7$(),n.SpI(" ",t.errorMessage," ")}}function b(e,a){if(1&e){const t=n.RV6();n.j41(0,"div",38)(1,"div",39)(2,"div",40)(3,"div",41),n.nrm(4,"img",42),n.k0s(),n.j41(5,"h2"),n.EFF(6),n.k0s()(),n.j41(7,"p"),n.EFF(8),n.k0s(),n.j41(9,"button",43),n.bIt("click",function(){n.eBV(t);const i=n.XpG();return n.Njj(i.closePopup())}),n.EFF(10,"OK"),n.k0s()()()}if(2&e){const t=n.XpG();n.R7$(),n.Y8G("ngClass",n.eq3(4,f,"error"===t.popupType)),n.R7$(3),n.Y8G("src",t.popupImage,n.B4B),n.R7$(2),n.JRh(t.popupTitle),n.R7$(2),n.JRh(t.popupMessage)}}let k=(()=>{class e{constructor(t,o,i,c){this.fb=t,this.usersService=o,this.authService=i,this.router=c,this.errorMessage="",this.showPopup=!1,this.popupTitle="",this.popupMessage="",this.popupImage="",this.popupType="success",this.isLoading=!1}ngOnInit(){this.loginForm=this.fb.group({email:["",[r.k0.required,r.k0.email]],password:["",[r.k0.required,r.k0.minLength(8)]]})}goToInscription(){this.router.navigate(["/inscription"])}openPopup(t,o,i){this.popupTitle=t,this.popupMessage=o,this.popupType=i,this.popupImage="success"===i?"assets/img/succcccc.png":"assets/img/error.png",this.showPopup=!0}closePopup(){this.showPopup=!1}submitForm(){if(this.loginForm.invalid)return void(this.errorMessage="Veuillez v\xe9rifier les informations saisies.");this.isLoading=!0;const t=this.loginForm.value;setTimeout(()=>{this.usersService.connexionUser(t).subscribe({next:o=>{this.isLoading=!1,o.token?(console.log("Token g\xe9n\xe9r\xe9 :",o.token),this.authService.saveToken(o.token),this.router.navigate(["/analytics"])):(this.errorMessage=o.error||"Erreur de connexion, veuillez r\xe9essayer.",this.openPopup("Erreur de connexion",this.errorMessage,"error"))},error:o=>{this.isLoading=!1,console.log("Erreur compl\xe8te :",o),console.log("R\xe9ponse API :",o.error);let i="Une erreur est survenue lors de la connexion.";(400===o.status||401===o.status)&&("string"==typeof o.error?i=o.error:o.error?.error&&(i=o.error.error)),this.openPopup("\u274c Oups, une erreur !",i,"error")}})},1e3)}get f(){return this.loginForm.controls}static{this.\u0275fac=function(o){return new(o||e)(n.rXU(r.ok),n.rXU(u.g),n.rXU(d),n.rXU(m.Ix))}}static{this.\u0275cmp=n.VBU({type:e,selectors:[["app-connexion-page"]],decls:58,vars:7,consts:[[1,"container_global"],[1,"container_global_content"],["class","loading-overlay",4,"ngIf"],[1,"content_page"],[1,"title_form"],[1,"formulaire_img"],[1,"info_form_left"],[3,"ngSubmit","formGroup"],[1,"formulaire"],[1,"champ_input"],["type","email","formControlName","email","placeholder","Saisis votre email",1,"input_focus"],[1,"label"],["class","error-message",4,"ngIf"],["type","password","formControlName","password","placeholder","****************",1,"input_focus"],[1,"resetPassword"],[1,"btn_contact"],["type","submit",3,"click","disabled"],[1,"registerPage"],[1,"logout",3,"click"],["class","modal-overlay",4,"ngIf"],[1,"info_form_right"],[1,"image_header"],["src","assets/img/logout_img.png","alt",""],[1,"container_temoignage"],[1,"content_temoignage"],[1,"temoignage_left"],[1,"image_temoignage"],["src","assets/img/temoignage1.png","alt","Image de temoignage"],[1,"temoignage_right"],[1,"title"],[1,"contenue"],[1,"mes_footer"],[1,"copyRight"],[1,"loading-overlay"],[1,"loading-content"],[1,"spinner"],[1,"error-message"],[4,"ngIf"],[1,"modal-overlay"],[1,"modal-content",3,"ngClass"],[1,"popup-header"],[1,"popup-img"],["alt","Icone",1,"popup-icon",3,"src"],[3,"click"]],template:function(o,i){1&o&&(n.nrm(0,"app-header-nav"),n.j41(1,"div",0)(2,"div",1),n.DNE(3,_,5,0,"div",2),n.j41(4,"div",3)(5,"div",4)(6,"h2"),n.EFF(7,"Connexion"),n.k0s()(),n.j41(8,"section",5)(9,"div",6)(10,"form",7),n.bIt("ngSubmit",function(){return i.submitForm()}),n.j41(11,"div",8)(12,"div",9),n.nrm(13,"input",10),n.j41(14,"label",11),n.EFF(15,"Votre email"),n.k0s(),n.DNE(16,x,3,2,"div",12),n.k0s(),n.j41(17,"div",9),n.nrm(18,"input",13),n.j41(19,"label",11),n.EFF(20,"Mot de passe"),n.k0s(),n.DNE(21,v,3,2,"div",12),n.k0s(),n.j41(22,"div",14)(23,"p"),n.EFF(24,"Mot de passe oubli\xe9"),n.k0s()(),n.DNE(25,O,2,1,"div",12),n.j41(26,"div",15)(27,"button",16),n.bIt("click",function(){return i.submitForm()}),n.nrm(28,"span"),n.j41(29,"span"),n.EFF(30,"Se connecter"),n.k0s()()(),n.j41(31,"div",17)(32,"p"),n.EFF(33,"Vous n\u2019avez pas encore de compte ? "),n.j41(34,"a",18),n.bIt("click",function(){return i.goToInscription()}),n.EFF(35,"Inscription"),n.k0s()()()(),n.DNE(36,b,11,6,"div",19),n.k0s()(),n.j41(37,"div",20)(38,"div",21),n.nrm(39,"img",22),n.k0s()()()()()(),n.j41(40,"div",23)(41,"div",24)(42,"div",25)(43,"div",26),n.nrm(44,"img",27),n.k0s()(),n.j41(45,"div",28)(46,"h2",29),n.EFF(47,"Une Exp\xe9rience Exceptionnelle !"),n.k0s(),n.j41(48,"div",30),n.EFF(49," J\u2019ai \xe9t\xe9 impressionn\xe9 par la qualit\xe9 du service et l\u2019attention port\xe9e aux d\xe9tails. D\xe8s le premier contact, j\u2019ai ressenti un r\xe9el professionnalisme et une \xe9coute attentive. "),n.j41(50,"ul")(51,"li"),n.EFF(52," Le processus a \xe9t\xe9 fluide, rapide et parfaitement adapt\xe9 \xe0 mes besoins. "),n.k0s(),n.j41(53,"li"),n.EFF(54," Je recommande vivement \xe0 toute personne cherchant une exp\xe9rience fiable et de grande qualit\xe9. Merci encore pour cette belle prestation ! "),n.k0s()()()()()(),n.j41(55,"footer",31)(56,"p",32),n.EFF(57," \xa9 Copyright Groupe XpertPro "),n.k0s()()),2&o&&(n.R7$(3),n.Y8G("ngIf",i.isLoading),n.R7$(7),n.Y8G("formGroup",i.loginForm),n.R7$(6),n.Y8G("ngIf",i.f.email.touched&&i.f.email.invalid),n.R7$(5),n.Y8G("ngIf",i.f.password.touched&&i.f.password.invalid),n.R7$(4),n.Y8G("ngIf",i.errorMessage),n.R7$(2),n.Y8G("disabled",i.isLoading),n.R7$(9),n.Y8G("ngIf",i.showPopup))},dependencies:[p.MD,p.YU,p.bT,r.X1,r.qT,r.me,r.BC,r.cb,r.j4,r.JD,l.C],styles:[".container_global[_ngcontent-%COMP%]{margin-bottom:20px}.container_global_content[_ngcontent-%COMP%]{background-color:#f7f7f7}nav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;height:80px;background-color:#0672e4;position:sticky;top:0;left:0;z-index:9999999999;border-bottom:1px solid #dcdcdc}#nav[_ngcontent-%COMP%]{position:fixed;width:100%}.menu-bars[_ngcontent-%COMP%], .menu-close[_ngcontent-%COMP%]{color:#141414e0;display:none}.logo[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:20px;margin-left:30px}.logos[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.logo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#e9d421;cursor:pointer;font-size:30px}.nav-list[_ngcontent-%COMP%]{display:flex;position:relative;top:10px;margin-right:20px}.nav-items[_ngcontent-%COMP%]{list-style-type:none;padding:10px 20px}.nav__link[_ngcontent-%COMP%]{text-decoration:none;color:#fff;font-weight:700}.nav__link[_ngcontent-%COMP%]:hover{color:#e9d421;transition:all ease-in-out .5s}.welcome[_ngcontent-%COMP%]{margin-top:90px}.welcome[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:25px;color:#0672e4}.welcome[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;margin-top:20px}.content_page[_ngcontent-%COMP%]{margin-left:40px}.champ_input[_ngcontent-%COMP%]{position:relative;margin-bottom:20px}.inpuemail[_ngcontent-%COMP%]{margin-top:30px}.input_focus[_ngcontent-%COMP%]{width:100%;min-width:400px;height:49px;outline:none;border:none;margin:5px 0;transition:all .3s;font-size:16px;padding-left:10px;background-color:#fff;color:#000;box-shadow:#5a5e610e 0 8px 24px;border-radius:5px}.input_focus[_ngcontent-%COMP%]:hover{border-bottom:1px solid #0672E4;border-top:none;border-left:none;border-right:none}.afficheEntreprise[_ngcontent-%COMP%]{position:relative}.entreprseDomaine[_ngcontent-%COMP%]{position:absolute;bottom:-35px;left:5px;font-size:12px}.entreprseDomaineSite[_ngcontent-%COMP%]{color:#0672e4}.champ_input[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{position:absolute;top:22px;left:10px;pointer-events:none;color:0}.input_focus[_ngcontent-%COMP%]:not(:placeholder-shown) + .label[_ngcontent-%COMP%], .input_focus[_ngcontent-%COMP%]:focus + .label[_ngcontent-%COMP%]{color:#0672e4;top:-6px;left:0;transition:all .3s ease-in-out;background:none;font-size:13px;background-color:#fff;border-top-left-radius:2px;border-top-right-radius:2px;padding:2px}.input_focus[_ngcontent-%COMP%]::placeholder{opacity:0}.input_focus[_ngcontent-%COMP%]:focus::placeholder{opacity:1;animation-delay:1s;font-size:15px;transition:all .2s ease-in-out}.double_input[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:20px}.icon_reseau_contact[_ngcontent-%COMP%]{margin-top:40px}.icon_reseau_contact[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ffffff2c}.btn_contact[_ngcontent-%COMP%]{position:relative;margin-top:25px;background:none;margin-bottom:20px}.btn_contact[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 40px 10px 25px;font-size:15px;cursor:pointer;border-radius:10px;border:none;background-color:#0671e4c5;color:#fff;transition:all .3s;position:relative;width:100%}.registerPage[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;font-size:12px}.registerPage[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]{color:#0672e4;font-weight:500;cursor:pointer}.registerPage[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]{color:#0361c5}.btn_contact[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0672e4;transition:all .5}.champ_input_margin[_ngcontent-%COMP%]{margin-left:30px}.title_form[_ngcontent-%COMP%]{margin-top:100px;margin-bottom:30px;text-align:center;color:#2b2929}.champ_input_login[_ngcontent-%COMP%]{margin-top:5px}.resetPassword[_ngcontent-%COMP%]{text-decoration:underline;position:relative;top:-12px}.resetPassword[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;text-decoration:underline;color:#1e1e1e;cursor:pointer}.resetPassword[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:hover{color:#000;transition:all .5}.formulaire_img[_ngcontent-%COMP%]{margin-top:0;display:flex;align-items:center;justify-content:space-around}.info_form_right[_ngcontent-%COMP%]{margin-right:50px}.error-message[_ngcontent-%COMP%]{font-size:13px;color:red;font-weight:700;margin-top:10px}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0009;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:10px;text-align:center;width:90%;max-width:400px;box-shadow:0 5px 15px #0000004d;animation:_ngcontent-%COMP%_fadeInDown .3s ease;position:relative}.popup-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-bottom:20px}.popup-img[_ngcontent-%COMP%]{width:80px;height:80px;margin-bottom:10px}.popup-icon[_ngcontent-%COMP%]{width:100%;height:100%;margin-bottom:10px}.modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5em;color:#333}.modal-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;color:#555;margin:20px 0}.modal-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#0672e4;color:#fff;border:none;padding:10px 20px;font-size:1em;border-radius:5px;cursor:pointer;transition:background .3s ease}.modal-content.error[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#e53935}.modal-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0863c5}.modal-content.error[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#d32f2f}@keyframes _ngcontent-%COMP%_fadeInDown{0%{opacity:0;transform:translateY(-30px)}to{opacity:1;transform:translateY(0)}}.container_temoignage[_ngcontent-%COMP%]{background-color:#0672e4;height:60vh}.content_temoignage[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,auto);align-items:center}.temoignage_left[_ngcontent-%COMP%]{margin-left:90px}.temoignage_right[_ngcontent-%COMP%]{margin-left:20px;margin-right:50px}.temoignage_right[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#fff;font-size:18px;letter-spacing:.5px}.temoignage_right[_ngcontent-%COMP%]   .contenue[_ngcontent-%COMP%]{color:#f0eeee;letter-spacing:1px;line-height:20px}.temoignage_right[_ngcontent-%COMP%]   .contenue[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-top:10px;width:90%}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;color:#fff;font-size:18px;z-index:1000}.loading-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px}.spinner[_ngcontent-%COMP%]{border:4px solid rgba(255,255,255,.3);border-top:4px solid white;border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.mes_footer[_ngcontent-%COMP%]{height:10vh;background-color:#202020;width:100%;display:flex;justify-content:center;align-items:center}.copyRight[_ngcontent-%COMP%]{color:#fff;font-size:12px}"]})}}return e})()}}]);