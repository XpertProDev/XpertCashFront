"use strict";(self.webpackChunkskeleton=self.webpackChunkskeleton||[]).push([[3279],{2120:(L,D,d)=>{d.d(D,{r:()=>B});var w=d(1626),C=d(4412),S=d(5558),I=d(9437),M=d(8810),y=d(8141),$=d(2525),R=d(4438),O=d(8026);let B=(()=>{class e{constructor(u,m){this.http=u,this.usersService=m,this.apiUrl=$.c.apiBaseUrl,this.entrepriseSubject=new C.t([]),this.entreprise$=this.entrepriseSubject.asObservable()}getListEntreprises(){return this.usersService.getValidAccessToken().pipe((0,S.n)(u=>{const m=new w.Lr({Authorization:`Bearer ${u}`,"Content-Type":"application/json"});return this.http.get(`${this.apiUrl}/entreprises`,{headers:m})}),(0,I.W)(u=>{let m="Erreur inconnue";return u.error instanceof ErrorEvent?m=`Erreur: ${u.error.message}`:404===u.status&&(m="Aucune entreprise trouv\xe9e"),(0,M.$)(()=>new Error(m))}))}addEntreprise(u){return this.usersService.getValidAccessToken().pipe((0,S.n)(m=>{const f=new w.Lr({Authorization:`Bearer ${m}`,"Content-Type":"application/json"});return this.http.post(`${this.apiUrl}/entreprise-clients`,u,{headers:f})}),(0,y.M)(m=>{this.entrepriseSubject.next([...this.entrepriseSubject.value,m])}),(0,I.W)(m=>{let f="Erreur inconnue";return m.error instanceof ErrorEvent?f=`Erreur: ${m.error.message}`:400===m.status&&(f=m.error||"Donn\xe9es invalides"),(0,M.$)(()=>new Error(f))}))}getListEntreprise(){return this.usersService.getValidAccessToken().pipe((0,S.n)(u=>{if(!u)return console.error("Token vide ou non d\xe9fini ! V\xe9rifiez que l'utilisateur est bien connect\xe9."),(0,M.$)(()=>new Error("Token manquant"));const m=(new w.Lr).set("Authorization",`Bearer ${u}`);return console.log("En-t\xeates envoy\xe9s : ",m),this.http.get(`${this.apiUrl}/entreprises`,{headers:m})}),(0,y.M)(u=>{this.entrepriseSubject.next(u)}),(0,I.W)(u=>(console.error("Erreur lors de la r\xe9cup\xe9ration des entreprises:",u),(0,M.$)(()=>u))))}getEntrepriseById(u){return this.usersService.getValidAccessToken().pipe((0,S.n)(m=>{if(!m)return console.error("Token manquant"),(0,M.$)(()=>new Error("Token manquant"));const f=new w.Lr({Authorization:`Bearer ${m}`,"Content-Type":"application/json"});return this.http.get(`${this.apiUrl}/entreprises/${u}`,{headers:f})}),(0,I.W)(m=>{let f="Erreur inconnue";return m.error instanceof ErrorEvent?f=`Erreur: ${m.error.message}`:404===m.status&&(f="Entreprise non trouv\xe9e"),(0,M.$)(()=>new Error(f))}))}updateEntreprise(u,m){return this.usersService.getValidAccessToken().pipe((0,S.n)(f=>{if(!f)return(0,M.$)(()=>new Error("Token manquant"));const h=new w.Lr({Authorization:`Bearer ${f}`});return this.http.patch(`${this.apiUrl}/updateEntreprise/${u}`,m,{headers:h,responseType:"text"})}),(0,I.W)(f=>{let h="Erreur inconnue";return f.error instanceof ErrorEvent?h=`Erreur: ${f.error.message}`:400===f.status&&(h=f.error||"Donn\xe9es invalides"),(0,M.$)(()=>new Error(h))}))}getEntrepriseInfo(){return this.usersService.getValidAccessToken().pipe((0,S.n)(u=>{if(!u)return(0,M.$)(()=>new Error("Aucun token trouv\xe9"));const m=new w.Lr({Authorization:`Bearer ${u}`});return this.http.get(`${this.apiUrl}/myEntreprise`,{headers:m}).pipe((0,y.M)(f=>{localStorage.setItem("entreprise",JSON.stringify(f))}))}),(0,I.W)(u=>(console.error("Erreur r\xe9cup\xe9ration info entreprise:",u),(0,M.$)(()=>u))))}decodeJwt(u){return JSON.parse(atob(u.split(".")[1]))}isTokenExpired(u){return new Date(1e3*u.exp)<new Date}getNewTokenFromApi(){const u=localStorage.getItem("refreshToken");return this.http.post(`${this.apiUrl}/refresh-token`,{refreshToken:u})}static{this.\u0275fac=function(m){return new(m||e)(R.KVO(w.Qq),R.KVO(O.g))}}static{this.\u0275prov=R.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})()},1716:(L,D,d)=>{d.r(D),d.d(D,{AccountSettingsComponent:()=>fe});var w=d(177),C=d(9417),S=d(3),I=d(9454),M=d(636),y=d(6850),$=d(9213),R=d(1626),O=d(2525),B=d(6115),e=d(4438),G=d(2120),u=d(5416),m=d(1860),f=d(8026),h=d(4173),s=d(9192);const c=["fileInput"],p=["signatureInput"];function F(o,_){1&o&&(e.j41(0,"div",121)(1,"div",122),e.nrm(2,"div",123),e.j41(3,"p"),e.EFF(4,"Modification en cours..."),e.k0s()()())}function v(o,_){if(1&o){const t=e.RV6();e.j41(0,"div",124),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.fermerModal())}),e.j41(1,"div",125),e.bIt("click",function(n){return e.eBV(t),e.Njj(n.stopPropagation())}),e.nrm(2,"img",126),e.j41(3,"button",127),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.fermerModal())}),e.EFF(4,"\u2715"),e.k0s()()()}if(2&o){const t=e.XpG();e.R7$(2),e.Y8G("src",t.photo||"assets/img/profil.png",e.B4B)}}function b(o,_){1&o&&(e.j41(0,"small",129),e.EFF(1," Ce champ est obligatoire "),e.k0s())}function T(o,_){if(1&o&&(e.j41(0,"div"),e.DNE(1,b,2,0,"small",128),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==t.currentPassword||null==t.currentPassword.errors?null:t.currentPassword.errors.required)}}function A(o,_){1&o&&(e.j41(0,"div",130),e.nrm(1,"i",131),e.k0s())}function j(o,_){1&o&&(e.j41(0,"div",132),e.nrm(1,"i",133),e.k0s())}function k(o,_){1&o&&(e.j41(0,"small",129),e.EFF(1," Ce champ est obligatoire "),e.k0s())}function N(o,_){1&o&&(e.j41(0,"small",129),e.EFF(1," Minimum 8 caract\xe8res "),e.k0s())}function z(o,_){if(1&o&&(e.j41(0,"div"),e.DNE(1,k,2,0,"small",128)(2,N,2,0,"small",128),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==t.newPassword||null==t.newPassword.errors?null:t.newPassword.errors.required),e.R7$(),e.Y8G("ngIf",null==t.newPassword||null==t.newPassword.errors?null:t.newPassword.errors.minlength)}}function Y(o,_){1&o&&(e.j41(0,"div",130),e.nrm(1,"i",131),e.k0s())}function X(o,_){1&o&&(e.j41(0,"div",132),e.nrm(1,"i",133),e.k0s())}function W(o,_){1&o&&(e.j41(0,"small",129),e.EFF(1," Les mots de passe ne correspondent pas "),e.k0s())}function K(o,_){if(1&o&&(e.j41(0,"div"),e.DNE(1,W,2,0,"small",128),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==t.passwordForm.errors?null:t.passwordForm.errors.mismatch)}}function J(o,_){1&o&&(e.j41(0,"span"),e.EFF(1,"Confirmer"),e.k0s())}function q(o,_){1&o&&(e.j41(0,"span"),e.EFF(1,"Chargement..."),e.k0s())}function Z(o,_){1&o&&(e.j41(0,"small",129),e.EFF(1," Ce champ est obligatoire "),e.k0s())}function Q(o,_){if(1&o&&(e.j41(0,"div"),e.DNE(1,Z,2,0,"small",128),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==t.phoneControl||null==t.phoneControl.errors?null:t.phoneControl.errors.required)}}function H(o,_){1&o&&(e.j41(0,"div",130),e.nrm(1,"i",131),e.k0s())}function ee(o,_){1&o&&(e.j41(0,"div",132),e.nrm(1,"i",133),e.k0s())}function te(o,_){1&o&&(e.j41(0,"span"),e.EFF(1,"Confirmer"),e.k0s())}function ne(o,_){1&o&&(e.j41(0,"span"),e.EFF(1,"Traitement..."),e.k0s())}function oe(o,_){if(1&o&&(e.j41(0,"p")(1,"strong"),e.EFF(2),e.k0s()()),2&o){let t;const r=e.XpG();e.R7$(2),e.JRh(null==(t=r.form.get("siteWeb"))?null:t.value)}}function ie(o,_){if(1&o&&(e.j41(0,"div")(1,"em"),e.EFF(2),e.k0s()()),2&o){const t=e.XpG();e.R7$(2),e.JRh(t.getLegalInfo())}}function re(o,_){if(1&o&&(e.j41(0,"div")(1,"em"),e.EFF(2),e.k0s()()),2&o){const t=e.XpG();e.R7$(2),e.JRh(t.getAddressInfo())}}function se(o,_){1&o&&(e.j41(0,"div",26),e.nrm(1,"input",134),e.j41(2,"label",92),e.EFF(3,"Pr\xe9fixe de votre facture"),e.k0s()())}function ae(o,_){1&o&&(e.j41(0,"div",26),e.nrm(1,"input",135),e.j41(2,"label",92),e.EFF(3,"Suffixe de votre facture"),e.k0s()())}function le(o,_){if(1&o&&(e.j41(0,"div",145),e.EFF(1),e.k0s()),2&o){const t=e.XpG().$implicit;e.R7$(),e.SpI(" Restant : ",t.tempsRestantEssai," ")}}function ce(o,_){if(1&o&&(e.j41(0,"div",146),e.EFF(1),e.nI1(2,"customNumber"),e.k0s()),2&o){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",e.bMT(2,1,t.prix)," CFA ")}}function pe(o,_){if(1&o){const t=e.RV6();e.j41(0,"button",147),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,a=e.XpG();return e.Njj(a.activerModule(n))}),e.EFF(1),e.k0s()}if(2&o){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",t.payant&&t.tempsRestantEssai&&"Termin\xe9"!==t.tempsRestantEssai?"Activer (Essai en cours)":"Activer"," ")}}function ue(o,_){1&o&&(e.j41(0,"div",148),e.EFF(1," Activ\xe9 "),e.k0s())}function de(o,_){if(1&o&&(e.j41(0,"div",136),e.DNE(1,le,2,1,"div",137),e.j41(2,"div",138),e.nrm(3,"img",139),e.k0s(),e.j41(4,"h2",140),e.EFF(5),e.k0s(),e.j41(6,"p",141),e.EFF(7),e.k0s(),e.DNE(8,ce,3,3,"div",142)(9,pe,2,1,"button",143)(10,ue,2,0,"div",144),e.k0s()),2&o){const t=_.$implicit;e.R7$(),e.Y8G("ngIf",t.tempsRestantEssai),e.R7$(2),e.FS9("alt",t.nom),e.Y8G("src","assets/modules/"+t.code.toLowerCase()+".png",e.B4B),e.R7$(2),e.JRh(t.nom),e.R7$(2),e.SpI(" ",t.description||"Module suppl\xe9mentaire pour votre entreprise"," "),e.R7$(),e.Y8G("ngIf",t.payant),e.R7$(),e.Y8G("ngIf",!t.actif||t.actif&&t.tempsRestantEssai&&"Termin\xe9"!==t.tempsRestantEssai),e.R7$(),e.Y8G("ngIf",t.actif&&(!t.tempsRestantEssai||"Termin\xe9"===t.tempsRestantEssai))}}function ge(o,_){if(1&o&&(e.j41(0,"p")(1,"strong",160),e.EFF(2),e.k0s()()),2&o){let t;const r=e.XpG(2);e.R7$(2),e.JRh(null==(t=r.form.get("siteWeb"))?null:t.value)}}function me(o,_){if(1&o&&(e.j41(0,"div")(1,"em",179),e.EFF(2),e.k0s()()),2&o){const t=e.XpG(2);e.R7$(2),e.JRh(t.getLegalInfo())}}function _e(o,_){if(1&o&&(e.j41(0,"div")(1,"em",179),e.EFF(2),e.k0s()()),2&o){const t=e.XpG(2);e.R7$(2),e.JRh(t.getAddressInfo())}}function he(o,_){if(1&o){const t=e.RV6();e.j41(0,"div",149),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closePreview())}),e.j41(1,"div",150),e.bIt("click",function(n){return e.eBV(t),e.Njj(n.stopPropagation())}),e.j41(2,"div",151)(3,"div",152),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closePreview())}),e.nrm(4,"i",153),e.k0s(),e.j41(5,"div",49)(6,"div",50)(7,"div",154)(8,"img",52),e.bIt("error",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.logo="http://localhost:8080/assets/img/logo.jpeg")}),e.k0s()(),e.j41(9,"div",53)(10,"div",155)(11,"p",156),e.EFF(12),e.k0s(),e.j41(13,"p",157),e.EFF(14),e.k0s(),e.j41(15,"div",158),e.EFF(16,"Email : "),e.j41(17,"a",58),e.EFF(18),e.k0s(),e.EFF(19),e.k0s()()()(),e.nrm(20,"hr")(21,"hr"),e.j41(22,"div",59)(23,"h2",159),e.EFF(24,"Facture proforma: "),e.j41(25,"span",60),e.EFF(26),e.k0s()()(),e.j41(27,"div",61)(28,"p",160),e.EFF(29),e.k0s()(),e.j41(30,"div",161)(31,"h4"),e.EFF(32,"Client : "),e.k0s(),e.j41(33,"p"),e.EFF(34,"Nom de client "),e.k0s()(),e.j41(35,"div",162)(36,"h4"),e.EFF(37,"Objet :"),e.k0s(),e.j41(38,"p"),e.EFF(39,"Une petite description de l'objet"),e.k0s()(),e.j41(40,"table",163)(41,"thead")(42,"tr")(43,"th",164),e.EFF(44,"D\xe9signation"),e.k0s(),e.j41(45,"th",165),e.EFF(46,"Description"),e.k0s(),e.j41(47,"th",164),e.EFF(48,"PU"),e.k0s(),e.j41(49,"th",164),e.EFF(50,"Quantit\xe9"),e.k0s(),e.j41(51,"th",164),e.EFF(52,"Montant (FCFA)"),e.k0s()()(),e.j41(53,"tbody")(54,"tr")(55,"td",166),e.EFF(56,"Produit nom"),e.k0s(),e.j41(57,"td",166),e.EFF(58,"Desc..."),e.k0s(),e.j41(59,"td",167),e.EFF(60,"00"),e.k0s(),e.j41(61,"td",167),e.EFF(62,"00"),e.k0s(),e.j41(63,"td",167),e.EFF(64," 0000"),e.k0s()()(),e.j41(65,"tfoot")(66,"tr")(67,"td",168),e.EFF(68,"Total HT"),e.k0s(),e.j41(69,"td",167),e.EFF(70,"0000"),e.k0s()(),e.j41(71,"tr")(72,"td",168),e.EFF(73,"Remise 0 %"),e.k0s(),e.j41(74,"td",167),e.EFF(75," 0000 "),e.k0s()(),e.j41(76,"tr")(77,"td",168),e.EFF(78,"Montant commercial"),e.k0s(),e.j41(79,"td",167),e.EFF(80," 0000 "),e.k0s()(),e.j41(81,"tr")(82,"td",168),e.EFF(83),e.nI1(84,"number"),e.k0s(),e.j41(85,"td",167),e.EFF(86," 0000 "),e.k0s()(),e.j41(87,"tr")(88,"td",168),e.EFF(89,"Montant TTC"),e.k0s(),e.j41(90,"td",167),e.EFF(91," 0000 "),e.k0s()()()(),e.j41(92,"div",67)(93,"p",169)(94,"span",68),e.EFF(95,"Arr\xeat\xe9 la pr\xe9sente facture \xe0 la somme de : "),e.k0s(),e.EFF(96," Zero ....."),e.k0s()(),e.j41(97,"div",170),e.nrm(98,"div"),e.j41(99,"div",171)(100,"h6"),e.EFF(101),e.k0s(),e.j41(102,"h6",172),e.EFF(103),e.k0s(),e.j41(104,"div",173)(105,"div",174)(106,"img",175),e.bIt("error",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.cachetNum="assets/img/tampon.png")}),e.k0s()(),e.j41(107,"div",176)(108,"img",177),e.bIt("error",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.signaturNum="assets/img/sinum.png")}),e.k0s()()()()()(),e.j41(109,"div",78)(110,"div",79)(111,"div",78)(112,"div",178),e.nrm(113,"hr"),e.DNE(114,ge,3,1,"p",29)(115,me,3,1,"div",29)(116,_e,3,1,"div",29),e.k0s()()()()()()()}if(2&o){let t,r,n,a,i,l,g,x,P,V;const E=e.XpG();e.R7$(8),e.Y8G("src",E.logo,e.B4B),e.R7$(4),e.JRh(null==(t=E.form.get("nom"))?null:t.value),e.R7$(2),e.SpI("Secterur: ",null==(r=E.form.get("secteur"))?null:r.value,""),e.R7$(4),e.SpI(" ",null==(n=E.form.get("email"))?null:n.value,""),e.R7$(),e.SpI(" T\xe9l\xe9phone : ",null==(a=E.form.get("telephone"))?null:a.value,""),e.R7$(7),e.Lme("",null==(i=E.form.get("prefixe"))?null:i.value,"-xxx-xx-xxxx ",null==(i=E.form.get("suffixe"))?null:i.value,""),e.R7$(3),e.SpI("",null==(l=E.form.get("siege"))?null:l.value,", le ..."),e.R7$(54),e.SpI("",e.i5U(84,16,100*(null==(g=E.form.get("tauxTva"))?null:g.value),"1.0-0"),"%"),e.R7$(18),e.JRh(null==(x=E.form.get("signataire"))?null:x.value),e.R7$(2),e.JRh(null==(P=E.form.get("signataireNom"))?null:P.value),e.R7$(3),e.Y8G("src",E.cachetNum,e.B4B),e.R7$(2),e.Y8G("src",E.signaturNum,e.B4B),e.R7$(6),e.Y8G("ngIf",null==(V=E.form.get("siteWeb"))?null:V.value),e.R7$(),e.Y8G("ngIf",E.getLegalInfo()),e.R7$(),e.Y8G("ngIf",E.getAddressInfo())}}let fe=(()=>{class o{get currentPassword(){return this.passwordForm.get("currentPassword")}get newPassword(){return this.passwordForm.get("newPassword")}get confirmPassword(){return this.passwordForm.get("confirmPassword")}get nomBoutiqueControl(){return this.nomBoutiqueForm.get("nomBoutique")}get adresseControl(){return this.nomBoutiqueForm.get("adresse")}get nomCompletControl(){return this.nomCompletForm.get("nomComplet")}get phoneControl(){return this.nomCompletForm.get("phone")}get passwordControl(){return this.nomCompletForm.get("password")}toggleCurrentPasswordVisibility(){this.showCurrentPassword=!this.showCurrentPassword}toggleNewPasswordVisibility(){this.showNewPassword=!this.showNewPassword}toggleConfirmPasswordVisibility(){this.showConfirmPassword=!this.showConfirmPassword}togglePasswordForm(){this.isPasswordFormVisible=!this.isPasswordFormVisible}constructor(t,r,n,a,i,l,g,x,P){this.fb=t,this.entrepriseService=r,this.cdRef=n,this.snackBar=a,this.profilService=i,this.usersService=l,this.zone=g,this.moduleService=x,this.router=P,this.logo=null,this.selectedLogoFile=null,this.entrepriseId=null,this.isLoading=!1,this.showPreview=!1,this.successMessage=null,this.password="",this.photoUrl="assets/img/profil.png",this.photo="",this.isModalOpen=!1,this.photoRefreshToken=(new Date).getTime(),this.imageFile=null,this.showCurrentPassword=!1,this.showNewPassword=!1,this.showConfirmPassword=!1,this.errorMessage=null,this.isPasswordFormVisible=!1,this.userName="",this.nomEntreprise="",this.email="",this.phone="",this.roleType="",this.pays="",this.nomBoutique="",this.boutiqueAdresse="",this.flagPays="",this.personalCode="",this.isNomBoutiqueFormVisible=!1,this.isSending=!1,this.isUserFormVisible=!1,this.boutiques=[],this.showPasswordInPersonalForm=!1,this.modules=[],this.errorMsg="",this.apiUrl=O.c.imgUrl,this.fallbackLogo=`${this.apiUrl}/defaultLogo/Votre.png`,this.selectedSignaturNum=null,this.selectedCachetNum=null,this.signaturNum=null,this.cachetNum=null,this.paysFlags={Mali:"\u{1f1f2}\u{1f1f1}",S\u00e9n\u00e9gal:"\u{1f1f8}\u{1f1f3}","C\xf4te d'Ivoire":"\u{1f1e8}\u{1f1ee}"}}ngOnInit(){this.initForm(),this.initForm(),this.getFormInit(),this.getEntrepriseInfo(),this.listenToPrefixSuffixChanges(),this.getConnectedUserId(),this.getUserInfo(),this.loadModules();const t=localStorage.getItem("photo");t&&(this.photo=t)}getConnectedUserId(){this.usersService.getUserInfo().subscribe({next:t=>{if(t&&t.id)this.userId=t.id;else{const r=JSON.parse(localStorage.getItem("user")||"{}");r&&r.id?this.userId=r.id:this.errorMessage="Utilisateur non authentifi\xe9."}},error:t=>{console.error("Erreur lors de la r\xe9cup\xe9ration des infos utilisateur:",t),this.errorMessage="Impossible de r\xe9cup\xe9rer l'utilisateur connect\xe9."}})}getUserInfo(){this.usersService.getUserInfo().subscribe({next:t=>{const r=(new Date).getTime();this.photo=t.photo?`${this.apiUrl}${t.photo}?t=${r}`:"assets/img/profil.png",this.userName=t.nomComplet,this.personalCode=t.personalCode,this.nomEntreprise=t.nomEntreprise,this.email=t.email,this.phone=t.phone,this.photo=t.photo?`${this.apiUrl}${t.photo}`:"assets/img/profil.png",this.roleType=t.roleType,this.pays=t.pays,this.nomBoutique=t.boutiques?.length?t.boutiques[0].nomBoutique:"Aucune boutique",this.flagPays=this.paysFlags[this.pays]||"",this.boutiques=t.boutiques||[],console.log("Liste des boutiques:",this.boutiques),console.log("Infos utilisateur r\xe9cup\xe9r\xe9es :",t),this.nomCompletForm.patchValue({nomComplet:t.nomComplet,phone:t.phone,password:""}),this.cdRef.detectChanges()},error:t=>{console.error("Erreur lors de la r\xe9cup\xe9ration des infos utilisateur :",t)}})}togglePasswordVisibilityInPersonalForm(){this.showPasswordInPersonalForm=!this.showPasswordInPersonalForm}initForm(){this.passwordForm=this.fb.group({currentPassword:["",[C.k0.required]],newPassword:["",[C.k0.required,C.k0.minLength(8)]],confirmPassword:["",[C.k0.required]]},{validators:this.passwordMatchValidator}),this.nomCompletForm=this.fb.group({nomComplet:[""],phone:["",[C.k0.pattern("^\\+?[0-9]{7,15}$")]],password:["",[C.k0.required,C.k0.minLength(6)]]})}passwordMatchValidator(t){const r=t.get("newPassword")?.value,n=t.get("confirmPassword")?.value;return r===n?null:{mismatch:!0}}get tauxTvaAffiche(){const t=this.form.get("tauxTva")?.value;return null!==t?Math.round(100*t):0}onTauxTvaInput(t){const n=parseFloat(t.target.value);isNaN(n)?this.form.get("tauxTva")?.setValue(null):this.form.get("tauxTva")?.setValue(n/100)}getFormInit(){this.form=this.fb.group({nom:["Entreprise"],secteur:["xxxx"],email:["example@gmail.com"],adresse:["xxxx"],pays:["Bamako-Mali"],telephone:["xx xx xx xx"],siteWeb:["www.xpertpro.com"],banque:["xxxx"],siege:["xxxx"],nina:["xxxx"],rccm:["xxxx"],nif:["xxxx"],signataire:["Monsieur X"],signataireNom:["Le Directeur G\xe9n\xe9ral"],prefixe:["xxxx"],suffixe:["xxxx"],tauxTva:[null]})}getEntrepriseInfo(){this.entrepriseService.getEntrepriseInfo().subscribe({next:t=>{this.entrepriseId=void 0!==t.id?t.id:null,this.form.patchValue({nom:t.nom,secteur:t.secteur,email:t.email,adresse:t.adresse,pays:t.pays,telephone:t.telephone,siteWeb:t.siteWeb,banque:t.banque,siege:t.siege,nina:t.nina,rccm:t.rccm,nif:t.nif,signataire:t.signataire,signataireNom:t.signataireNom,logo:t.logo,prefixe:t.prefixe,suffixe:t.suffixe,tauxTva:t.tauxTva}),console.log("Logo path from server:",t),console.log("Logo path from server:",t.logo),this.logo=`${this.apiUrl}${t.logo}`,this.cachetNum=`${this.apiUrl}${t.cachetNum}`,this.signaturNum=`${this.apiUrl}${t.signaturNum}`,this.cdRef.markForCheck()},error:t=>{console.error("Erreur lors de la r\xe9cup\xe9ration des informations de l'entreprise",t)}})}onChangeLogoClick(){this.fileInput.nativeElement.click()}openPreview(){this.showPreview=!0}closePreview(){this.showPreview=!1}onFileSelected(t){const r=t.target.files[0];if(r){this.selectedLogoFile=r;const n=new FileReader;n.onload=a=>{const i=new Image;i.src=a.target.result,i.onload=()=>{const g=document.createElement("canvas"),x=g.getContext("2d");if(i.width>800||i.height>800){const P=Math.min(800/i.width,800/i.height);g.width=i.width*P,g.height=i.height*P,x?.drawImage(i,0,0,g.width,g.height),this.logo=g.toDataURL("image/jpeg",.8)}else this.logo=a.target.result;this.cdRef.markForCheck(),this.fileInput.nativeElement.value=""}},n.readAsDataURL(r)}}onCachetSelected(t){const r=t.target.files[0];if(r){this.selectedCachetNum=r;const n=new FileReader;n.onload=a=>{const i=new Image;i.src=a.target.result,i.onload=()=>{const g=document.createElement("canvas"),x=g.getContext("2d");if(i.width>800||i.height>800){const P=Math.min(800/i.width,800/i.height);g.width=i.width*P,g.height=i.height*P,x?.drawImage(i,0,0,g.width,g.height),this.cachetNum=g.toDataURL("image/jpeg",.8)}else this.cachetNum=a.target.result;this.cdRef.markForCheck(),this.cachetInput.nativeElement.value=""}},n.readAsDataURL(r)}}onSignaturSelected(t){const r=t.target.files[0];if(r){this.selectedSignaturNum=r;const n=new FileReader;n.onload=a=>{const i=new Image;i.src=a.target.result,i.onload=()=>{const g=document.createElement("canvas"),x=g.getContext("2d");if(i.width>800||i.height>800){const P=Math.min(800/i.width,800/i.height);g.width=i.width*P,g.height=i.height*P,x?.drawImage(i,0,0,g.width,g.height),this.signaturNum=g.toDataURL("image/jpeg",.8)}else this.signaturNum=a.target.result;this.cdRef.markForCheck(),this.signatureInput.nativeElement.value=""}},n.readAsDataURL(r)}}onSubmit(){if(!this.entrepriseId)return void console.error("ID de l'entreprise manquant");this.isLoading=!0;const t=new FormData;t.append("entreprise",JSON.stringify(this.form.value)),this.selectedLogoFile&&t.append("logo",this.selectedLogoFile),this.selectedSignaturNum&&t.append("siganture",this.selectedSignaturNum),this.selectedCachetNum&&t.append("cachet",this.selectedCachetNum),setTimeout(()=>{this.entrepriseService.updateEntreprise(this.entrepriseId,t).subscribe({next:n=>{this.isLoading=!1,this.snackBar.open(n,"Fermer",{duration:3e3}),this.getEntrepriseInfo(),this.selectedLogoFile=null,this.selectedSignaturNum=null,this.selectedCachetNum=null},error:n=>{this.isLoading=!1,this.snackBar.open(n.error||"Erreur lors de la mise \xe0 jour","Fermer",{duration:3e3})}})},3e3)}shouldShowPrefixe(){return!this.form.get("suffixe")?.value}shouldShowSuffixe(){return!this.form.get("prefixe")?.value}listenToPrefixSuffixChanges(){this.form.get("prefixe")?.valueChanges.subscribe(()=>{this.cdRef.markForCheck()}),this.form.get("suffixe")?.valueChanges.subscribe(()=>{this.cdRef.markForCheck()})}getLegalInfo(){const t=[];return this.form.get("nina")?.value&&t.push(`NINA : ${this.form.get("nina")?.value}`),this.form.get("rccm")?.value&&t.push(`RCCM : ${this.form.get("rccm")?.value}`),this.form.get("nif")?.value&&t.push(`NIF : ${this.form.get("nif")?.value}`),this.form.get("banque")?.value&&t.push(`Banque : ${this.form.get("banque")?.value}`),t.join(" ; ")}getAddressInfo(){const t=this.form.get("adresse")?.value,r=this.form.get("pays")?.value;return t&&r?`Adresse : ${t} / ${r}`:t?`Adresse : ${t}`:r?`Adresse : ${r}`:""}updatePassword(){if(this.errorMessage=null,this.successMessage=null,this.passwordForm.invalid)return void this.snackBar.open("Veuillez remplir tous les champs correctement","Fermer",{duration:3e3});const{currentPassword:t,newPassword:r,confirmPassword:n}=this.passwordForm.value;r===n?(this.isLoading=!0,this.profilService.updatePassword(this.userId,{password:t,newPassword:r}).subscribe({next:i=>{this.isLoading=!1,this.cdRef.detectChanges();const l=i.includes("succ\xe8s")?i:"Mot de passe modifi\xe9 !";this.snackBar.open(l,"Fermer",{duration:3e3}),this.isPasswordFormVisible=!1,this.passwordForm.reset()},error:i=>{this.isLoading=!1;let l="Erreur inconnue";i instanceof R.yz&&(l=i.error.message||i.error||l),this.snackBar.open(l,"Fermer",{duration:3e3})}})):this.snackBar.open("Les nouveaux mots de passe ne correspondent pas","Fermer",{duration:3e3})}onSubmitUpdateUser(){if(this.errorMessage=null,this.successMessage=null,this.isLoading=!0,this.nomCompletForm.invalid)return this.errorMessage="Veuillez remplir tous les champs correctement",void(this.isLoading=!1);const{nomComplet:t,phone:r,password:n}=this.nomCompletForm.value,a={nomComplet:t,phone:r,password:n},i=new FormData;i.append("user",JSON.stringify(a)),this.imageFile&&i.append("photo",this.imageFile),this.usersService.updateUser(this.userId,i).subscribe({next:l=>{this.isLoading=!1,this.cdRef.detectChanges();const g="string"==typeof l?l:l?.message;this.zone.run(()=>{this.snackBar.open(g,"Fermer",{duration:3e3}),this.nomCompletForm.reset()})},error:l=>{this.isLoading=!1,this.cdRef.detectChanges();let g="Erreur lors de la mise \xe0 jour";l instanceof R.yz&&(g=l.error.message||l.error||g),this.zone.run(()=>{this.snackBar.open(g,"Fermer",{duration:3e3})})}})}changerPhoto(t){t.stopPropagation(),document.getElementById("profilePhotoInput").click()}visualiserPhoto(t){t.target.classList.contains("camera-icon")||(this.isModalOpen=!0)}fermerModal(){this.isModalOpen=!1}onProfilePhotoSelected(t){const r=t.target;if(r.files&&r.files[0]){const n=r.files[0];this.imageFile=n;const a=new FileReader;a.onload=l=>{const g=l.target.result;this.photo=g,localStorage.setItem("photo",g),window.dispatchEvent(new Event("storage-photo-update"))},a.readAsDataURL(n);const i=new FormData;i.append("photo",n),this.usersService.updateUser(this.userId,i).subscribe({next:l=>{this.snackBar.open("Photo mise \xe0 jour avec succ\xe8s","Fermer",{duration:3e3}),this.refreshPhoto()},error:l=>{this.snackBar.open("\xc9chec de la mise \xe0 jour","Fermer",{duration:3e3}),this.refreshPhoto()}})}}refreshPhoto(){const t=(new Date).getTime();this.usersService.getUserInfo().subscribe(r=>{this.photo=r.photo?`${this.apiUrl}${r.photo}?t=${t}`:"assets/img/profil.png",this.cdRef.detectChanges()})}loadModules(){this.moduleService.getModulesEntreprise().subscribe({next:t=>this.modules=t,error:t=>this.errorMsg="Erreur lors du chargement des modules"})}activerModule(t){this.router.navigate(["/pricing",t.code])}changerCachet(t){t.stopPropagation(),document.getElementById("profilePhotoInput").click()}static{this.\u0275fac=function(r){return new(r||o)(e.rXU(C.ok),e.rXU(G.r),e.rXU(e.gRc),e.rXU(u.UG),e.rXU(m.O),e.rXU(f.g),e.rXU(e.SKi),e.rXU(h.A),e.rXU(s.Ix))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-account-settings"]],viewQuery:function(r,n){if(1&r&&(e.GBs(c,5),e.GBs(p,5),e.GBs(p,5)),2&r){let a;e.mGM(a=e.lsd())&&(n.fileInput=a.first),e.mGM(a=e.lsd())&&(n.signatureInput=a.first),e.mGM(a=e.lsd())&&(n.cachetInput=a.first)}},features:[e.Jv_([(0,S.aw)()])],decls:326,vars:48,consts:[["fileInput",""],["signatureInput",""],["cachetInput",""],[1,"account-settings"],["class","loading-overlay",4,"ngIf"],[1,"information_cadre"],[1,"section"],[1,"section_title"],[1,"section_navbar"],[1,"custom-tabs",3,"selectedIndex"],["label","Compte"],[1,"tab-content"],[1,"container_compte_profil"],[1,"champ_grid_double"],[1,"setting_profil","cadre_photo"],[1,"content_setting_profil"],[1,"tilte_profil"],[1,"profile-img-wrapper",3,"click"],["alt","Photo de profil",1,"profile-img",3,"error","src"],[1,"btn_changer_profil"],[1,"btn","camera-icon",3,"click"],["type","file","id","profilePhotoInput","accept","image/*","hidden","",3,"change"],["class","photo-modal",3,"click",4,"ngIf"],[1,"info_capacity_profil"],[1,"setting_profil","cadre_password"],[1,"info_titre_input",3,"formGroup"],[1,"champ_input"],["formControlName","currentPassword","placeholder","Saisis le mot de passe actuel",1,"input_focus",3,"type"],[1,"label","labelColor"],[4,"ngIf"],[1,"eye_container",3,"click"],["class","eye_ferme",4,"ngIf"],["class","eye_ouvre",4,"ngIf"],["formControlName","newPassword","placeholder","Saisis le nouveau mot de passe",1,"input_focus",3,"type"],["formControlName","confirmPassword","placeholder","Confirmer le nouveau mot de passe",1,"input_focus",3,"type"],[1,"btn_save"],["type","submit",1,"btn",3,"click","disabled"],[1,"info_personnel"],[1,"info_titre_input",3,"ngSubmit","formGroup"],["formControlName","nomComplet","placeholder","Saisissez votre nom complet",1,"input_focus"],["type","tel","formControlName","phone","placeholder","Saisissez votre num\xe9ro de t\xe9l\xe9phone",1,"input_focus"],["formControlName","password","placeholder","Saisissez votre mot de passe",1,"input_focus",3,"type"],[1,"btn_double"],["type","submit",1,"btn",3,"disabled"],["label","Notifications"],["label","Factures"],[1,"content_setting_facture"],[1,"contenu_left_facture"],[1,"facture_model"],[1,"content"],[1,"header_apercu"],[1,"logo_entreprise"],["alt","Logo de l'entreprise",3,"error","src"],[1,"entete_entreprise"],[1,"content_entete"],[1,"para1"],[1,"para2"],[1,"para3"],["href","mail"],[1,"titre"],[2,"color","#0000003e"],[1,"date"],[1,"droit"],[1,"object"],[2,"width","70px!important"],[1,"td_left"],["colspan","4"],[1,"contenu_bottom"],[2,"font-weight","600"],[1,"footer_container1"],[1,"ligne_haut"],[1,"acquis"],[1,"signataire_header"],[1,"signature_bloc",2,"position","relative"],[1,"signaturNum"],["alt","Signature",1,"img",3,"error","src"],["alt","Cachet",1,"cachetNum",3,"error","src"],[1,"name_directeur"],[1,"container_footer"],[1,"footer"],["title","Voir l'aper\xe7u de la facture",1,"voir_apercu",3,"click"],[1,"ri-eye-2-line"],[1,"champs_setting_facture"],[1,"content_edit_facture",3,"formGroup"],[1,"titre_champ"],["type","file","accept","image/*","id","uniqueFileInputId",2,"display","none",3,"change"],[1,"champ_grid",2,"margin","10px 0 15px","display","flex","align-items","center"],[2,"margin","0","font-size","12px","display","flex","align-items","center"],["href","javascript:void(0)","title","Changer le logo",2,"padding-left","8px","cursor","pointer","display","inline-flex","align-items","center",3,"click"],["src","assets/img/appareil.png","alt","Changer logo",2,"width","25px","height","25px"],[1,"champ_grid"],["type","text","formControlName","nom","readonly","","placeholder","Saisis le nom entreprise",1,"input_focus",2,"cursor","no-drop","color","#8f8f8f!important"],[1,"label"],["type","text","formControlName","secteur","placeholder","Saisis le secteur",1,"input_focus"],["type","email","formControlName","email","placeholder","Saisis l'email",1,"input_focus"],["type","telephone","formControlName","telephone","placeholder","00 00 00 00",1,"input_focus"],["type","text","formControlName","siege","placeholder","ex: Bamako",1,"input_focus"],["type","text","formControlName","pays","placeholder","Votre pays",1,"input_focus"],["class","champ_input",4,"ngIf"],["type","number",1,"input_focus",3,"input","value"],[1,"titre_champ",2,"margin-top","30px"],["type","text","formControlName","siteWeb","placeholder","Saisis le site web",1,"input_focus"],["type","text","formControlName","banque","placeholder","Saisis le banque",1,"input_focus"],["type","text","formControlName","nina","placeholder","Saisis le nina",1,"input_focus"],["type","text","formControlName","rccm","placeholder","Saisis l'rccm",1,"input_focus"],["type","text","formControlName","nif","placeholder","Saisis le nif",1,"input_focus"],["type","text","formControlName","adresse","placeholder","Saisis l'adresse",1,"input_focus"],["type","text","formControlName","signataireNom","placeholder","Saisis le nom du signataire",1,"input_focus"],["type","text","formControlName","signataire","placeholder","Saisis le post de signataire",1,"input_focus"],[1,"champ_grid",2,"margin","10px 0 15px","display","flex","gap","30px","align-items","center"],[2,"display","flex","align-items","center","font-size","12px","cursor","pointer",3,"click"],[2,"margin","0","padding-right","8px"],["src","assets/img/appareil.png","alt","Upload signature",2,"width","25px","height","25px"],["accept","image/*","type","file",2,"display","none",3,"change"],["src","assets/img/appareil.png","alt","Upload cachet",2,"width","25px","height","25px"],[1,"btn",3,"click"],["label","S\xe9curit\xe9"],["label","App"],[1,"module-grid"],["class","module-card",4,"ngFor","ngForOf"],["class","preview-overlay",3,"click",4,"ngIf"],[1,"loading-overlay"],[1,"loading-content"],[1,"spinner"],[1,"photo-modal",3,"click"],[1,"photo-modal-content",3,"click"],[3,"src"],[1,"fermer-btn",3,"click"],["class","text-danger",4,"ngIf"],[1,"text-danger"],[1,"eye_ferme"],[1,"ri-eye-close-line"],[1,"eye_ouvre"],[1,"ri-eye-line"],["type","text","formControlName","prefixe","placeholder","Saisis le prefixe de votre facture",1,"input_focus"],["type","text","formControlName","suffixe","placeholder","Saisis le suffixe de votre facture",1,"input_focus"],[1,"module-card"],["class","module-essai",4,"ngIf"],[1,"module-icon"],[3,"src","alt"],[1,"module-title"],[1,"module-description"],["class","module-price",4,"ngIf"],["class","module-btn",3,"click",4,"ngIf"],["class","module-actif",4,"ngIf"],[1,"module-essai"],[1,"module-price"],[1,"module-btn",3,"click"],[1,"module-actif"],[1,"preview-overlay",3,"click"],[1,"preview-content",3,"click"],[1,"facture_model_preview"],[1,"preview-close",3,"click"],[1,"ri-close-large-fill"],[1,"logo_entreprise_preview"],[1,"content_entete","content_entete_preview"],[1,"para1","para_preview"],[1,"para2","para_preview"],[1,"para3","para_preview"],[2,"font-size","12px"],[2,"font-size","10px"],[1,"droit","droit_preview"],[1,"object","droit_preview"],[1,"table"],[1,"th"],[1,"th",2,"width","70px!important"],[1,"td_left","td"],[1,"td"],["colspan","4",1,"td"],[2,"font-size","8px"],[1,"cachet_container"],[1,"cachet_preview"],[1,"name_directeur_preview"],[1,"signaturNum_preview",2,"position","relative"],[1,"imgcachet"],["alt","Cachet",1,"cachet-img-preview",3,"error","src"],[1,"imgsigneture"],["alt","Signature",1,"signature-img-preview",2,"position","relative","left","25px",3,"error","src"],[1,"footer",2,"line-height","12px"],[1,"em_footer"]],template:function(r,n){if(1&r){const a=e.RV6();e.j41(0,"div",3),e.DNE(1,F,5,0,"div",4),e.j41(2,"div",5)(3,"div",6)(4,"h6",7),e.EFF(5,"Param\xe8tres du compte"),e.k0s()()(),e.j41(6,"div",5)(7,"div",8)(8,"mat-tab-group",9)(9,"mat-tab",10)(10,"div",11)(11,"div",12)(12,"div",13)(13,"div",14)(14,"div",15)(15,"div",16)(16,"h5"),e.EFF(17,"Changer de profil"),e.k0s(),e.j41(18,"p"),e.EFF(19,"Changez votre photo de profil \xe0 partir d'ici"),e.k0s()(),e.j41(20,"div",17),e.bIt("click",function(l){return e.eBV(a),e.Njj(n.visualiserPhoto(l))}),e.j41(21,"img",18),e.bIt("error",function(){return e.eBV(a),e.Njj(n.photo="assets/img/profil.png")}),e.k0s()(),e.j41(22,"div",19)(23,"button",20),e.bIt("click",function(l){return e.eBV(a),e.Njj(n.changerPhoto(l))}),e.EFF(24," Changer la photo "),e.k0s()(),e.j41(25,"input",21),e.bIt("change",function(l){return e.eBV(a),e.Njj(n.onProfilePhotoSelected(l))}),e.k0s(),e.DNE(26,v,5,1,"div",22),e.j41(27,"div",23)(28,"p"),e.EFF(29,"Formats JPG, GIF ou PNG autoris\xe9s. Taille "),e.nrm(30,"br"),e.EFF(31," maximale : 800 Ko."),e.k0s()()()(),e.j41(32,"div",24)(33,"div",16)(34,"h5"),e.EFF(35,"Changer le mot de passe"),e.k0s(),e.j41(36,"p"),e.EFF(37,"Pour changer votre mot de passe, veuillez "),e.nrm(38,"br"),e.EFF(39," confirmer ici"),e.k0s()(),e.j41(40,"form",25)(41,"div",26),e.nrm(42,"input",27),e.j41(43,"label",28),e.EFF(44,"Mot de passe actuel"),e.k0s(),e.DNE(45,T,2,1,"div",29),e.j41(46,"div",30),e.bIt("click",function(){return e.eBV(a),e.Njj(n.toggleCurrentPasswordVisibility())}),e.DNE(47,A,2,0,"div",31)(48,j,2,0,"div",32),e.k0s()(),e.j41(49,"div",26),e.nrm(50,"input",33),e.j41(51,"label",28),e.EFF(52,"Nouveau mot de passe"),e.k0s(),e.DNE(53,z,3,2,"div",29),e.j41(54,"div",30),e.bIt("click",function(){return e.eBV(a),e.Njj(n.toggleNewPasswordVisibility())}),e.DNE(55,Y,2,0,"div",31)(56,X,2,0,"div",32),e.k0s()(),e.j41(57,"div",26),e.nrm(58,"input",34),e.j41(59,"label",28),e.EFF(60,"Confirmer le nouveau mot de passe"),e.k0s(),e.DNE(61,K,2,1,"div",29),e.k0s(),e.j41(62,"div",35)(63,"button",36),e.bIt("click",function(){return e.eBV(a),e.Njj(n.updatePassword())}),e.DNE(64,J,2,0,"span",29)(65,q,2,0,"span",29),e.k0s()()()()(),e.j41(66,"div",37)(67,"div",16)(68,"h5"),e.EFF(69,"D\xe9tails personnels"),e.k0s(),e.j41(70,"p"),e.EFF(71,"Pour modifier vos informations personnelles, modifiez-les et enregistrez-les ici"),e.k0s()(),e.j41(72,"form",38),e.bIt("ngSubmit",function(){return e.eBV(a),e.Njj(n.onSubmitUpdateUser())}),e.j41(73,"div",26),e.nrm(74,"input",39),e.j41(75,"label",28),e.EFF(76,"Nom & pr\xe9nom"),e.k0s()(),e.j41(77,"div",26),e.nrm(78,"input",40),e.j41(79,"label",28),e.EFF(80,"Votre num\xe9ro"),e.k0s(),e.DNE(81,Q,2,1,"div",29),e.k0s(),e.j41(82,"div",26),e.nrm(83,"input",41),e.j41(84,"label",28),e.EFF(85,"Votre mot de passe"),e.k0s(),e.j41(86,"div",30),e.bIt("click",function(){return e.eBV(a),e.Njj(n.togglePasswordVisibilityInPersonalForm())}),e.DNE(87,H,2,0,"div",31)(88,ee,2,0,"div",32),e.k0s()(),e.j41(89,"div",42)(90,"div",35)(91,"button",43),e.DNE(92,te,2,0,"span",29)(93,ne,2,0,"span",29),e.k0s()()()()()()()(),e.j41(94,"mat-tab",44)(95,"div",11),e.EFF(96," Contenu des notifications "),e.k0s()(),e.j41(97,"mat-tab",45)(98,"div",11)(99,"div",46)(100,"div",47)(101,"div",48)(102,"div",49)(103,"div",50)(104,"div",51)(105,"img",52),e.bIt("error",function(){return e.eBV(a),e.Njj(n.logo="http://localhost:8080/defaultLogo/Votre.png")}),e.k0s()(),e.j41(106,"div",53)(107,"div",54)(108,"p",55),e.EFF(109),e.k0s(),e.j41(110,"p",56),e.EFF(111),e.k0s(),e.j41(112,"div",57),e.EFF(113,"Email : "),e.j41(114,"a",58),e.EFF(115),e.k0s(),e.EFF(116),e.k0s()()()(),e.nrm(117,"hr")(118,"hr"),e.j41(119,"div",59)(120,"h2"),e.EFF(121,"Facture proforma: "),e.j41(122,"span",60),e.EFF(123),e.k0s()()(),e.j41(124,"div",61)(125,"p"),e.EFF(126),e.k0s()(),e.j41(127,"div",62)(128,"h4"),e.EFF(129,"Doit : "),e.k0s(),e.j41(130,"p"),e.EFF(131,"Nom de client "),e.k0s()(),e.j41(132,"div",63)(133,"h4"),e.EFF(134,"Objet :"),e.k0s(),e.j41(135,"p"),e.EFF(136,"Une petite description de l'objet"),e.k0s()(),e.j41(137,"table")(138,"thead")(139,"tr")(140,"th"),e.EFF(141,"D\xe9signation"),e.k0s(),e.j41(142,"th",64),e.EFF(143,"Description"),e.k0s(),e.j41(144,"th"),e.EFF(145,"PU"),e.k0s(),e.j41(146,"th"),e.EFF(147,"Quantit\xe9"),e.k0s(),e.j41(148,"th"),e.EFF(149,"Montant (FCFA)"),e.k0s()()(),e.j41(150,"tbody")(151,"tr")(152,"td",65),e.EFF(153,"Produit nom"),e.k0s(),e.j41(154,"td",65),e.EFF(155,"Desc..."),e.k0s(),e.j41(156,"td"),e.EFF(157,"00"),e.k0s(),e.j41(158,"td"),e.EFF(159,"00"),e.k0s(),e.j41(160,"td"),e.EFF(161," 0000"),e.k0s()()(),e.j41(162,"tfoot")(163,"tr")(164,"td",66),e.EFF(165,"Total HT"),e.k0s(),e.j41(166,"td"),e.EFF(167,"0000"),e.k0s()(),e.j41(168,"tr")(169,"td",66),e.EFF(170,"Remise 0 %"),e.k0s(),e.j41(171,"td"),e.EFF(172," 0000 "),e.k0s()(),e.j41(173,"tr")(174,"td",66),e.EFF(175,"Montant commercial"),e.k0s(),e.j41(176,"td"),e.EFF(177," 0000 "),e.k0s()(),e.j41(178,"tr")(179,"td",66),e.EFF(180),e.k0s(),e.j41(181,"td"),e.EFF(182," 0000 "),e.k0s()(),e.j41(183,"tr")(184,"td",66),e.EFF(185,"Montant TTC"),e.k0s(),e.j41(186,"td"),e.EFF(187," 0000 "),e.k0s()()()(),e.j41(188,"div",67)(189,"p")(190,"span",68),e.EFF(191,"Arr\xeat\xe9 la pr\xe9sente facture \xe0 la somme de : "),e.k0s(),e.EFF(192," Zero ....."),e.k0s()(),e.j41(193,"div",69)(194,"div",70)(195,"div",71)(196,"h6"),e.EFF(197,"Pour acquit"),e.k0s()(),e.j41(198,"div",72)(199,"h6"),e.EFF(200),e.k0s()()(),e.j41(201,"div",73)(202,"div",74)(203,"img",75),e.bIt("error",function(){return e.eBV(a),e.Njj(n.signaturNum="assets/img/sinum.png")}),e.k0s(),e.j41(204,"img",76),e.bIt("error",function(){return e.eBV(a),e.Njj(n.cachetNum="assets/img/tampon.png")}),e.k0s()(),e.j41(205,"h4",77),e.EFF(206),e.k0s()()()(),e.j41(207,"div",78)(208,"div",79),e.nrm(209,"hr"),e.DNE(210,oe,3,1,"p",29)(211,ie,3,1,"div",29)(212,re,3,1,"div",29),e.k0s()()(),e.j41(213,"div",80),e.bIt("click",function(){return e.eBV(a),e.Njj(n.openPreview())}),e.EFF(214," Agrandir "),e.nrm(215,"i",81),e.k0s()(),e.j41(216,"div",82)(217,"div",83)(218,"div",84)(219,"h6"),e.EFF(220,"Haut de page"),e.k0s()(),e.j41(221,"input",85,0),e.bIt("change",function(l){return e.eBV(a),e.Njj(n.onFileSelected(l))}),e.k0s(),e.j41(223,"div",86)(224,"p",87),e.EFF(225," Changer votre logo ici \u{1f449} "),e.j41(226,"a",88),e.bIt("click",function(){e.eBV(a);const l=e.sdS(222);return e.Njj(l.click())}),e.nrm(227,"img",89),e.k0s()()(),e.j41(228,"div",90)(229,"div",26),e.nrm(230,"input",91),e.j41(231,"label",92),e.EFF(232,"Nom entreprise"),e.k0s()(),e.j41(233,"div",26),e.nrm(234,"input",93),e.j41(235,"label",92),e.EFF(236,"Secteur"),e.k0s()(),e.j41(237,"div",26),e.nrm(238,"input",94),e.j41(239,"label",92),e.EFF(240,"Email"),e.k0s()()(),e.j41(241,"div",90)(242,"div",26),e.nrm(243,"input",95),e.j41(244,"label",92),e.EFF(245,"T\xe9l\xe9phone"),e.k0s()(),e.j41(246,"div",26),e.nrm(247,"input",96),e.j41(248,"label",92),e.EFF(249,"Ville"),e.k0s()(),e.j41(250,"div",26),e.nrm(251,"input",97),e.j41(252,"label",92),e.EFF(253,"Pays"),e.k0s()()(),e.j41(254,"div",90),e.DNE(255,se,4,0,"div",98)(256,ae,4,0,"div",98),e.j41(257,"div",26)(258,"input",99),e.bIt("input",function(l){return e.eBV(a),e.Njj(n.onTauxTvaInput(l))}),e.k0s(),e.j41(259,"label",92),e.EFF(260,"TVA (en %)"),e.k0s()()(),e.j41(261,"div",100)(262,"h6"),e.EFF(263,"Bas de page"),e.k0s()(),e.j41(264,"div",90)(265,"div",26),e.nrm(266,"input",101),e.j41(267,"label",92),e.EFF(268,"Site web"),e.k0s()(),e.j41(269,"div",26),e.nrm(270,"input",102),e.j41(271,"label",92),e.EFF(272,"Banque"),e.k0s()(),e.j41(273,"div",26),e.nrm(274,"input",103),e.j41(275,"label",92),e.EFF(276,"NINA"),e.k0s()()(),e.j41(277,"div",90)(278,"div",26),e.nrm(279,"input",104),e.j41(280,"label",92),e.EFF(281,"RCCM"),e.k0s()(),e.j41(282,"div",26),e.nrm(283,"input",105),e.j41(284,"label",92),e.EFF(285,"NIF"),e.k0s()(),e.j41(286,"div",26),e.nrm(287,"input",106),e.j41(288,"label",92),e.EFF(289,"Adresse"),e.k0s()()(),e.j41(290,"div",100)(291,"h6"),e.EFF(292,"Signature"),e.k0s()(),e.j41(293,"div",90)(294,"div",26),e.nrm(295,"input",107),e.j41(296,"label",92),e.EFF(297,"Nom signataire"),e.k0s()(),e.j41(298,"div",26),e.nrm(299,"input",108),e.j41(300,"label",92),e.EFF(301,"Poste"),e.k0s()()(),e.j41(302,"div",109)(303,"div",110),e.bIt("click",function(){e.eBV(a);const l=e.sdS(308);return e.Njj(l.click())}),e.j41(304,"p",111),e.EFF(305,"Upload signature num\xe9rique"),e.k0s(),e.nrm(306,"img",112),e.j41(307,"input",113,1),e.bIt("change",function(l){return e.eBV(a),e.Njj(n.onSignaturSelected(l))}),e.k0s()(),e.j41(309,"div",110),e.bIt("click",function(){e.eBV(a);const l=e.sdS(314);return e.Njj(l.click())}),e.j41(310,"p",111),e.EFF(311,"Upload cachet num\xe9rique"),e.k0s(),e.nrm(312,"img",114),e.j41(313,"input",113,2),e.bIt("change",function(l){return e.eBV(a),e.Njj(n.onCachetSelected(l))}),e.k0s()()(),e.j41(315,"div",26)(316,"button",115),e.bIt("click",function(){return e.eBV(a),e.Njj(n.onSubmit())}),e.EFF(317,"Enregistrer"),e.k0s()()()()()()(),e.j41(318,"mat-tab",116)(319,"div",11),e.EFF(320," Contenu de la s\xe9curit\xe9 "),e.k0s()(),e.j41(321,"mat-tab",117)(322,"div",11)(323,"div",118),e.DNE(324,de,11,8,"div",119),e.k0s()()()()()()(),e.DNE(325,he,117,19,"div",120)}if(2&r){let a,i,l,g,x,P,V,E,U;e.R7$(),e.Y8G("ngIf",n.isLoading),e.R7$(7),e.Y8G("selectedIndex",0),e.R7$(13),e.Y8G("src",n.photo||"assets/img/profil.png",e.B4B),e.R7$(5),e.Y8G("ngIf",n.isModalOpen),e.R7$(14),e.Y8G("formGroup",n.passwordForm),e.R7$(2),e.Y8G("type",n.showCurrentPassword?"text":"password"),e.R7$(3),e.Y8G("ngIf",(null==n.currentPassword?null:n.currentPassword.touched)&&(null==n.currentPassword?null:n.currentPassword.invalid)),e.R7$(2),e.Y8G("ngIf",!n.showCurrentPassword),e.R7$(),e.Y8G("ngIf",n.showCurrentPassword),e.R7$(2),e.Y8G("type",n.showNewPassword?"text":"password"),e.R7$(3),e.Y8G("ngIf",(null==n.newPassword?null:n.newPassword.touched)&&(null==n.newPassword?null:n.newPassword.invalid)),e.R7$(2),e.Y8G("ngIf",!n.showNewPassword),e.R7$(),e.Y8G("ngIf",n.showNewPassword),e.R7$(2),e.Y8G("type",n.showNewPassword?"text":"password"),e.R7$(3),e.Y8G("ngIf",(null==n.confirmPassword?null:n.confirmPassword.touched)&&n.passwordForm.invalid),e.R7$(2),e.Y8G("disabled",n.passwordForm.invalid||n.isLoading),e.R7$(),e.Y8G("ngIf",!n.isLoading),e.R7$(),e.Y8G("ngIf",n.isLoading),e.R7$(7),e.Y8G("formGroup",n.nomCompletForm),e.R7$(9),e.Y8G("ngIf",(null==n.phoneControl?null:n.phoneControl.touched)&&(null==n.phoneControl?null:n.phoneControl.invalid)),e.R7$(2),e.Y8G("type",n.showPasswordInPersonalForm?"text":"password"),e.R7$(4),e.Y8G("ngIf",!n.showPasswordInPersonalForm),e.R7$(),e.Y8G("ngIf",n.showPasswordInPersonalForm),e.R7$(3),e.Y8G("disabled",n.nomCompletForm.invalid),e.R7$(),e.Y8G("ngIf",!n.isLoading),e.R7$(),e.Y8G("ngIf",n.isLoading),e.R7$(12),e.Y8G("src",n.logo,e.B4B),e.R7$(4),e.JRh(null==(a=n.form.get("nom"))?null:a.value),e.R7$(2),e.SpI("Secterur: ",null==(i=n.form.get("secteur"))?null:i.value,""),e.R7$(4),e.SpI(" ",null==(l=n.form.get("email"))?null:l.value,""),e.R7$(),e.SpI(" T\xe9l\xe9phone : ",null==(g=n.form.get("telephone"))?null:g.value,""),e.R7$(7),e.Lme("",null==(x=n.form.get("prefixe"))?null:x.value,"xxx-xx-xxxx -",null==(x=n.form.get("suffixe"))?null:x.value,""),e.R7$(3),e.SpI("",null==(P=n.form.get("siege"))?null:P.value,", le dd/MM.yyyy"),e.R7$(54),e.SpI("",n.tauxTvaAffiche," %"),e.R7$(20),e.JRh(null==(V=n.form.get("signataire"))?null:V.value),e.R7$(3),e.Y8G("src",n.signaturNum,e.B4B),e.R7$(),e.Y8G("src",n.cachetNum,e.B4B),e.R7$(2),e.JRh(null==(E=n.form.get("signataireNom"))?null:E.value),e.R7$(4),e.Y8G("ngIf",null==(U=n.form.get("siteWeb"))?null:U.value),e.R7$(),e.Y8G("ngIf",n.getLegalInfo()),e.R7$(),e.Y8G("ngIf",n.getAddressInfo()),e.R7$(5),e.Y8G("formGroup",n.form),e.R7$(38),e.Y8G("ngIf",n.shouldShowPrefixe()),e.R7$(),e.Y8G("ngIf",n.shouldShowSuffixe()),e.R7$(2),e.Y8G("value",n.tauxTvaAffiche),e.R7$(66),e.Y8G("ngForOf",n.modules),e.R7$(),e.Y8G("ngIf",n.showPreview)}},dependencies:[w.MD,w.Sq,w.bT,w.QX,C.YN,C.qT,C.me,C.BC,C.cb,y.RI,y.mq,y.T8,I.MY,M.RG,C.X1,C.j4,C.JD,$.m_,B.v],styles:['@charset "UTF-8";.section[_ngcontent-%COMP%]{padding:10px}.section_title[_ngcontent-%COMP%]{font-size:16px;margin:0}.information_cadre[_ngcontent-%COMP%]{width:100%;height:auto;background-color:#fff;box-shadow:2px 2px 30px #0000001c;border-radius:5px;padding:10px;margin-bottom:10px}.custom-tabs[_ngcontent-%COMP%]{border-radius:4px;margin:0}.custom-tabs[_ngcontent-%COMP%]   .mat-tab-label-active[_ngcontent-%COMP%]{background-color:#f5f5f5;border:2px solid #0672E4;border-radius:4px 4px 0 0}.custom-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{padding-top:20px}.custom-tabs[_ngcontent-%COMP%]     .mat-ink-bar{background-color:#0672e4}.content_setting_facture[_ngcontent-%COMP%]{display:flex;gap:15px}.facture_model[_ngcontent-%COMP%]{height:60%;background-color:#fff;border:1px solid #b9b9b9;position:relative}.champs_setting_facture[_ngcontent-%COMP%]{width:80%;background-color:#fff;border-radius:10px;border:1px solid rgba(185,185,185,.337254902);box-shadow:2px 2px 30px #0000001c}.header_apercu[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:10px}.logo_entreprise[_ngcontent-%COMP%]{width:50px;height:50px}.logo_entreprise_preview[_ngcontent-%COMP%]{width:100px;height:50px}.entete_entreprise[_ngcontent-%COMP%]{margin-left:3%}.logo_entreprise[_ngcontent-%COMP%]{margin-left:10px}.logo_entreprise[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.logo_entreprise_preview[_ngcontent-%COMP%]{margin-left:10px}.logo_entreprise_preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.content_entete[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:6px;letter-spacing:.5px}.para3[_ngcontent-%COMP%]{font-size:6px}.content_entete[_ngcontent-%COMP%]   .para1[_ngcontent-%COMP%], .content_entete[_ngcontent-%COMP%]   .para2[_ngcontent-%COMP%]{font-weight:600}hr[_ngcontent-%COMP%]{margin:2px 0;color:#0672e4!important;border:0;border-top:1px solid rgba(0,0,0,.1);opacity:1}.titre[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:8px;text-decoration:underline;text-transform:uppercase;letter-spacing:.6px;text-align:center;margin:8px}.date[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:right;margin-right:5%;font-size:6px;margin-bottom:0}.droit[_ngcontent-%COMP%], .object[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;margin-bottom:0;margin-left:5px}.droit[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .object[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:8px;font-weight:700;margin:0}.droit[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .object[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:8px}.droit_preview[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .object_preview[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .droit_preview[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .object_preview[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:10px}table[_ngcontent-%COMP%]{border-collapse:collapse;margin:7px 5px 0;font-size:7px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:0 5px;text-align:center;font-size:6}th[_ngcontent-%COMP%]{background-color:#f5f5f5;font-size:8px!important}td.table_td_1[_ngcontent-%COMP%]{border-right:none}td.table_td[_ngcontent-%COMP%]{border-right:none;border-top:none;border-left:none}.table_td_descripton[_ngcontent-%COMP%]{text-align:center}td.td_left[_ngcontent-%COMP%]{text-align:left!important}.contenu_bottom[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:6px;margin:5px 0 5px 5px}.cachet_container[_ngcontent-%COMP%]{width:100%;margin-top:0;display:flex;justify-content:space-between}.cachet[_ngcontent-%COMP%]{position:relative;top:0;right:5px}.cachet[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{text-align:center;font-size:7px}.name_directeur[_ngcontent-%COMP%]{position:relative;top:8px}.cachetSign[_ngcontent-%COMP%], .cachetSignP[_ngcontent-%COMP%]{display:block;text-align:center;font-size:7px;font-weight:600;color:#000;font-family:brittany;margin-top:40%}.cachet_preview[_ngcontent-%COMP%]{position:relative;top:50px;right:10px}.cachet_preview[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{text-align:center;font-size:10px;top:40px}.name_directeur_preview[_ngcontent-%COMP%]{position:relative;top:40px}a[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{color:#0056b3;transform:scale(1.1);transition:.2s ease}.container_footer[_ngcontent-%COMP%]{display:flex;justify-content:center}.footer[_ngcontent-%COMP%]{text-align:center;position:absolute;width:100%;bottom:2px;line-height:9px}.footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:0}.footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:8px}.footer[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{font-size:6px}.titre_champ[_ngcontent-%COMP%]{margin:5px 10px 5px 0}.titre_champ[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0 0 20px;font-weight:400;font-size:14px}.champ_input[_ngcontent-%COMP%]{position:relative;margin-bottom:15px}.input_focus[_ngcontent-%COMP%]{width:100%;height:45px;outline:none;border-bottom:1px solid rgb(88,85,85);border-top:none;border-left:none;border-right:none;margin:10px 0 0;transition:all .3s;font-size:12px;background:none;color:#695c5c}.champ_input[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{position:absolute;top:22px;left:4px;pointer-events:none;color:#6b6666}.champ_grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:1fr;grid-column-gap:0px;grid-row-gap:0px;gap:15px}.input_focus[_ngcontent-%COMP%]:hover{border-bottom:1px solid #0672E4;border-top:none;border-left:none;border-right:none}.input_focus[_ngcontent-%COMP%]:not(:placeholder-shown) + .label[_ngcontent-%COMP%], .input_focus[_ngcontent-%COMP%]:focus + .label[_ngcontent-%COMP%]{color:#0672e4;top:0;left:0;transition:all .3s ease-in-out;background:none;font-size:11px;padding:0}.input_focus[_ngcontent-%COMP%]::placeholder{opacity:0}.input_focus[_ngcontent-%COMP%]:focus::placeholder{opacity:1;animation-delay:1s;font-size:12px;transition:all .2s ease-in-out}.custum-file-upload[_ngcontent-%COMP%]{height:58px;display:flex;flex-direction:column;align-items:space-between;cursor:pointer;align-items:center;justify-content:center;border:2px dashed #000000;background-color:transparent;padding:1.5rem;border-radius:10px;box-shadow:0 48px 35px -48px #e8e8e8}.custum-file-upload[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.custum-file-upload[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:80px;fill:#e8e8e8}.custum-file-upload[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.custum-file-upload[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:400;color:#0672e4}.custum-file-upload[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.title_panel[_ngcontent-%COMP%]{font-size:13px!important}.content_edit_facture[_ngcontent-%COMP%]{padding:10px 20px;position:relative}.champ_input[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border:none;background-color:#0672e4;color:#fff;font-size:15px;padding:5px 20px;position:absolute;right:0;bottom:0}.cadre_setting[_ngcontent-%COMP%]{margin:15px 0}.titre_autre[_ngcontent-%COMP%]{background-color:#e6e6e6;border-radius:2px;cursor:pointer}.titre_autre[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;padding:10px 5px;margin:0}.eye_container[_ngcontent-%COMP%]{position:absolute;right:7px;top:34px;transform:translateY(-50%)}.eye_ferme[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .eye_ouvre[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;cursor:pointer}.eye_ferme[_ngcontent-%COMP%], .eye_ouvre[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;color:#fff;font-size:18px;z-index:9999999999}.loading-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px}.spinner[_ngcontent-%COMP%]{border:4px solid rgba(255,255,255,.3);border-top:4px solid white;border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.red-icon[_ngcontent-%COMP%]{color:red}.statut_boutique[_ngcontent-%COMP%]{background-color:green;color:#fff;padding:4px 10px;border-radius:20px;font-size:10px}.preview-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#000000b3;display:flex;justify-content:center;align-items:center;z-index:1000}.preview-content[_ngcontent-%COMP%]{border-radius:8px;box-shadow:0 4px 20px #00000040;animation:_ngcontent-%COMP%_scaleIn .3s ease-out;margin-top:5%}.preview-content[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 24px;background-color:#f5f5f5;border-bottom:1px solid #e0e0e0;z-index:10}.preview-content[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-weight:500}.facture_model_preview[_ngcontent-%COMP%]{transform:scale(1.1);background-color:#fff;width:130mm;min-height:170mm;position:relative}.facture_model_preview[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:100%!important;box-shadow:none!important}@keyframes _ngcontent-%COMP%_scaleIn{0%{transform:scale(.9);opacity:0}to{transform:scale(1);opacity:1}}.para_preview[_ngcontent-%COMP%]{font-size:10px!important}.em_footer[_ngcontent-%COMP%]{font-size:10px}.table[_ngcontent-%COMP%]{border-collapse:collapse;margin:10px 0 0 5px;font-size:9px;width:98%}.th[_ngcontent-%COMP%], .td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:7px;text-align:center;font-size:6}.th[_ngcontent-%COMP%]{background-color:#f5f5f5;font-size:8px!important}.content_entete_preview[_ngcontent-%COMP%]{padding:10px 0}.preview-close[_ngcontent-%COMP%]{position:absolute;right:-27px;color:#fff;top:-3px;cursor:pointer}.preview-close[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.preview-close[_ngcontent-%COMP%]:hover{color:red;transition:all .5s}.voir_apercu[_ngcontent-%COMP%]{font-size:12px;cursor:pointer;margin:5px 0}.footer_container1[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:20px 40px}.ligne_haut[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start}.acquis[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%], .signataire_header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:7px;margin:0}.signature_bloc[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}.signaturNum[_ngcontent-%COMP%]{width:100px;height:80px;position:relative}.signaturNum[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{position:absolute;top:-7px;right:14px;width:34%;height:auto;object-fit:contain;z-index:1;opacity:.7}.signaturNum[_ngcontent-%COMP%]   .cachetNum[_ngcontent-%COMP%]{position:absolute;right:30px;width:40%;height:auto;object-fit:contain;z-index:2;opacity:.7;margin-top:-7px}.name_directeur[_ngcontent-%COMP%]{font-size:6px;position:relative;right:0;margin-top:-69px}.signaturNum_preview[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:center;right:49px;top:20px}.imgcachet[_ngcontent-%COMP%]{width:90px;height:90px;position:absolute;top:-42px;right:21px}.imgcachet[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.imgsigneture[_ngcontent-%COMP%]{width:90px;height:45px;position:absolute;top:-50px;right:-2px}.imgsigneture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.champ_grid_double[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-template-rows:1fr;grid-column-gap:0px;grid-row-gap:0px;gap:15px}.img_profil[_ngcontent-%COMP%]{width:100px;height:100px;display:flex;justify-content:center;margin:20px auto}.img_profil[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.setting_profil[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #e9e9e9;box-shadow:#00000001 0 0 0 1px;border-radius:20px}.btn_changer_profil[_ngcontent-%COMP%]{display:flex;justify-content:center}.btn_changer_profil[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background-color:#0672e4;color:#fff;font-size:12px;border-radius:20px;padding:8px 20px;cursor:pointer}.info_capacity_profil[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}.tilte_profil[_ngcontent-%COMP%]{margin:20px 20px 0}.tilte_profil[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:18px;margin-bottom:5px;font-weight:600;letter-spacing:.5px}.tilte_profil[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.4px;margin-bottom:0}.btn_save[_ngcontent-%COMP%]{text-align:right;margin-top:10px}.btn_save[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:5px 28px;background-color:#0672e4;color:#fff;border:none}.info_titre_input[_ngcontent-%COMP%]{margin:0 20px 20px}.btn_save[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#0263cb;transition:all .5}.info_capacity_profil[_ngcontent-%COMP%]{margin-top:10px}.info_capacity_profil[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;margin:22px 0}.toast-container[_ngcontent-%COMP%]{position:fixed;top:60px;right:35px;z-index:9999}.toast-message-success[_ngcontent-%COMP%]{background-color:#d5e6de;border:1px solid #ACCEBC;color:#000;padding:10px;border-radius:8px;font-size:13px;box-shadow:0 4px 6px #0000001a;opacity:0;animation:_ngcontent-%COMP%_fadeInOut 4s ease-in-out;transform:translateY(-20px)}.toast-message-danger[_ngcontent-%COMP%]{background-color:#f3d8da;border:1px solid #E7B1B6;color:#000;padding:10px;border-radius:8px;font-size:13px;box-shadow:0 4px 6px #0000001a;opacity:0;animation:_ngcontent-%COMP%_fadeInOut 4s ease-in-out;transform:translateY(-20px)}@keyframes _ngcontent-%COMP%_fadeInOut{0%{opacity:0;transform:translateY(-20px)}20%{opacity:1;transform:translateY(0)}80%{opacity:1}to{opacity:0;transform:translateY(2px)}}.profile-img-wrapper[_ngcontent-%COMP%]{position:relative;width:120px;height:120px;border-radius:50%;overflow:hidden;margin:22px auto 15px;cursor:pointer}.profile-img-wrapper[_ngcontent-%COMP%]   .profile-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-img-wrapper[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;opacity:0;transition:opacity .3s}.profile-img-wrapper[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{opacity:1}.photo-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000c;display:flex;justify-content:center;align-items:center;z-index:1000}.photo-modal[_ngcontent-%COMP%]   .photo-modal-content[_ngcontent-%COMP%]{position:relative;max-width:90%;max-height:90%}.photo-modal[_ngcontent-%COMP%]   .photo-modal-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:80vh}.photo-modal[_ngcontent-%COMP%]   .photo-modal-content[_ngcontent-%COMP%]   .fermer-btn[_ngcontent-%COMP%]{position:absolute;top:-10px;right:-45px;background:none;border:none;color:#fff;font-size:25px;cursor:pointer}.module-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:20px;padding:20px}.module-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;padding:14px;text-align:center;transition:transform .2s,box-shadow .2s;border:1px solid #eee;position:relative}.module-card[_ngcontent-%COMP%]:hover{transform:translateY(-6px) scale(1.02);box-shadow:0 6px 18px #00000026}.module-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;object-fit:contain;margin-bottom:8px}.module-title[_ngcontent-%COMP%]{font-size:15px;font-weight:700;color:#333;margin-bottom:6px}.module-description[_ngcontent-%COMP%]{font-size:12px;color:#666;margin-bottom:8px;min-height:40px}.module-badge[_ngcontent-%COMP%]{margin-bottom:6px}.badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 10px;border-radius:12px;font-size:11px;font-weight:700;letter-spacing:.5px}.badge-gratuit[_ngcontent-%COMP%]{background-color:#dfffe0;color:#2e7d32}.module-price[_ngcontent-%COMP%]{font-size:15px;font-weight:700;color:#444;margin-bottom:10px}.module-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#007bff,#0056b3);color:#fff;padding:6px 12px;border:none;border-radius:20px;cursor:pointer;font-size:11px;transition:background .3s ease}.module-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#0056b3,#003f8a)}.module-actif[_ngcontent-%COMP%]{color:#198754;font-weight:700;margin-top:8px;font-size:10px}.module-essai[_ngcontent-%COMP%]{position:absolute;top:0;right:0;background-color:#fff3cd;color:#856404;padding:4px 12px;border-radius:12px;font-weight:700;transform:rotate(20deg);transform-origin:left center;box-shadow:0 2px 6px #0000001a;z-index:2;font-size:9px}'],changeDetection:0})}}return o})()},5024:(L,D,d)=>{d.d(D,{CB:()=>u,DQ:()=>G,Q3:()=>O,qS:()=>y,sL:()=>B,xn:()=>e,y4:()=>$,zP:()=>f});var w=d(17),I=(d(4402),d(7673),d(1413)),M=d(4438);class y{}function $(h){return h&&"function"==typeof h.connect&&!(h instanceof w.G)}var O=function(h){return h[h.REPLACED=0]="REPLACED",h[h.INSERTED=1]="INSERTED",h[h.MOVED=2]="MOVED",h[h.REMOVED=3]="REMOVED",h}(O||{});const B=new M.nKC("_ViewRepeater");class e{applyChanges(s,c,p,F,v){s.forEachOperation((b,T,A)=>{let j,k;if(null==b.previousIndex){const N=p(b,T,A);j=c.createEmbeddedView(N.templateRef,N.context,N.index),k=O.INSERTED}else null==A?(c.remove(T),k=O.REMOVED):(j=c.get(T),c.move(j,A),k=O.MOVED);v&&v({context:j?.context,operation:k,record:b})})}detach(){}}class G{viewCacheSize=20;_viewCache=[];applyChanges(s,c,p,F,v){s.forEachOperation((b,T,A)=>{let j,k;null==b.previousIndex?(j=this._insertView(()=>p(b,T,A),A,c,F(b)),k=j?O.INSERTED:O.REPLACED):null==A?(this._detachAndCacheView(T,c),k=O.REMOVED):(j=this._moveView(T,A,c,F(b)),k=O.MOVED),v&&v({context:j?.context,operation:k,record:b})})}detach(){for(const s of this._viewCache)s.destroy();this._viewCache=[]}_insertView(s,c,p,F){const v=this._insertViewFromCache(c,p);if(v)return void(v.context.$implicit=F);const b=s();return p.createEmbeddedView(b.templateRef,b.context,b.index)}_detachAndCacheView(s,c){const p=c.detach(s);this._maybeCacheView(p,c)}_moveView(s,c,p,F){const v=p.get(s);return p.move(v,c),v.context.$implicit=F,v}_maybeCacheView(s,c){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(s);else{const p=c.indexOf(s);-1===p?s.destroy():c.remove(p)}}_insertViewFromCache(s,c){const p=this._viewCache.pop();return p&&c.insert(p,s),p||null}}class u{_multiple;_emitChanges;compareWith;_selection=new Set;_deselectedToEmit=[];_selectedToEmit=[];_selected;get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}changed=new I.B;constructor(s=!1,c,p=!0,F){this._multiple=s,this._emitChanges=p,this.compareWith=F,c&&c.length&&(s?c.forEach(v=>this._markSelected(v)):this._markSelected(c[0]),this._selectedToEmit.length=0)}select(...s){this._verifyValueAssignment(s),s.forEach(p=>this._markSelected(p));const c=this._hasQueuedChanges();return this._emitChangeEvent(),c}deselect(...s){this._verifyValueAssignment(s),s.forEach(p=>this._unmarkSelected(p));const c=this._hasQueuedChanges();return this._emitChangeEvent(),c}setSelection(...s){this._verifyValueAssignment(s);const c=this.selected,p=new Set(s.map(v=>this._getConcreteValue(v)));s.forEach(v=>this._markSelected(v)),c.filter(v=>!p.has(this._getConcreteValue(v,p))).forEach(v=>this._unmarkSelected(v));const F=this._hasQueuedChanges();return this._emitChangeEvent(),F}toggle(s){return this.isSelected(s)?this.deselect(s):this.select(s)}clear(s=!0){this._unmarkAll();const c=this._hasQueuedChanges();return s&&this._emitChangeEvent(),c}isSelected(s){return this._selection.has(this._getConcreteValue(s))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(s){this._multiple&&this.selected&&this._selected.sort(s)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(s){s=this._getConcreteValue(s),this.isSelected(s)||(this._multiple||this._unmarkAll(),this.isSelected(s)||this._selection.add(s),this._emitChanges&&this._selectedToEmit.push(s))}_unmarkSelected(s){s=this._getConcreteValue(s),this.isSelected(s)&&(this._selection.delete(s),this._emitChanges&&this._deselectedToEmit.push(s))}_unmarkAll(){this.isEmpty()||this._selection.forEach(s=>this._unmarkSelected(s))}_verifyValueAssignment(s){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(s,c){if(this.compareWith){c=c??this._selection;for(let p of c)if(this.compareWith(s,p))return p;return s}return s}}let f=(()=>{class h{_listeners=[];notify(c,p){for(let F of this._listeners)F(c,p)}listen(c){return this._listeners.push(c),()=>{this._listeners=this._listeners.filter(p=>c!==p)}}ngOnDestroy(){this._listeners=[]}static \u0275fac=function(p){return new(p||h)};static \u0275prov=M.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})()}}]);