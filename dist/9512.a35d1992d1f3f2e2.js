"use strict";(self.webpackChunkskeleton=self.webpackChunkskeleton||[]).push([[9512],{6822:(I,O,l)=>{l.d(O,{K:()=>u});var u=function(d){return d.BROUILLON="BROUILLON",d.APPROBATION="APPROBATION",d.APPROUVE="APPROUVE",d.ENVOYE="ENVOYE",d.VALIDE="VALIDE",d.ANNULE="ANNULE",d}(u||{})},2409:(I,O,l)=>{l.d(O,{c:()=>T});var u=l(1626),d=l(5558),E=l(8141),h=l(9437),b=l(8810),F=l(6822),P=l(2525),k=l(4438),C=l(8026);let T=(()=>{class g{constructor(a,o){this.http=a,this.usersService=o,this.apiUrl=P.c.apiBaseUrl}creerFactureProforma(a,o,s,m){return this.usersService.getValidAccessToken().pipe((0,d.n)(_=>{const M=new u.Lr({Authorization:`Bearer ${_}`});let f=new u.Nl;return m&&(void 0!==o&&(f=f.set("remisePourcentage",o.toString())),void 0!==s&&(f=f.set("appliquerTVA",s.toString()))),this.http.post(`${this.apiUrl}/ajouter`,a,{headers:M,params:f})}),(0,E.M)(_=>console.log("Facture cr\xe9\xe9e avec succ\xe8s:",_)),(0,h.W)(_=>(console.error("Erreur d\xe9taill\xe9e:",_),console.log("Corps de la r\xe9ponse:",_.error),(0,b.$)(()=>_))))}getAlFactproformaOfEntreprise(a){return this.usersService.getValidAccessToken().pipe((0,d.n)(o=>{const s=new u.Lr({Authorization:`Bearer ${o}`});return this.http.get(`${this.apiUrl}/mes-factures`,{headers:s})}))}getFactureProformaById(a){return this.usersService.getValidAccessToken().pipe((0,d.n)(o=>{const s=new u.Lr({Authorization:`Bearer ${o}`});return this.http.get(`${this.apiUrl}/factureProforma/${a}`,{headers:s})}))}updateFactureProforma(a,o,s,m,_){return this.usersService.getValidAccessToken().pipe((0,d.n)(M=>{const f=new u.Lr({Authorization:`Bearer ${M}`,"Content-Type":"application/json"});let x=new u.Nl;return void 0!==o&&(x=x.set("remisePourcentage",o.toString())),void 0!==s&&(x=x.set("appliquerTVA",s.toString())),_&&_.length>0&&_.forEach(y=>{x=x.append("idsApprobateurs",y.toString())}),m.statut===F.K.ANNULE&&(x=x.set("isAnnulation","true")),this.http.put(`${this.apiUrl}/updatefacture/${a}`,m,{headers:f,params:x}).pipe((0,E.M)(y=>console.log("Facture mise \xe0 jour:",y)),(0,h.W)(y=>(console.error("Erreur mise \xe0 jour:",y),(0,b.$)(()=>y))))}))}envoyerFactureEmail(a,o){const s=new FormData;return s.append("to",o.to),s.append("cc",o.cc),s.append("subject",o.subject),s.append("body",o.body),o.attachments&&o.attachments.forEach((m,_)=>{s.append("attachments",m,m.name)}),this.usersService.getValidAccessToken().pipe((0,d.n)(m=>{const _=new u.Lr({Authorization:`Bearer ${m}`});return this.http.post(`${this.apiUrl}/factures/${a}/envoyer-email`,s,{headers:_,responseType:"text"})}))}getHistoriqueFacture(a){return this.usersService.getValidAccessToken().pipe((0,d.n)(o=>{const s=new u.Lr({Authorization:`Bearer ${o}`});return this.http.get(`${this.apiUrl}/factpro/${a}/historique`,{headers:s})}),(0,h.W)(o=>(console.error("Erreur r\xe9cup\xe9ration historique facture:",o),(0,b.$)(()=>o))))}getNotesFactureProforma(a){return this.usersService.getValidAccessToken().pipe((0,d.n)(o=>{const s=new u.Lr({Authorization:`Bearer ${o}`});return this.http.get(`${this.apiUrl}/factures/${a}/notes`,{headers:s})}),(0,h.W)(o=>(console.error("Erreur r\xe9cup\xe9ration historique facture:",o),(0,b.$)(()=>o))))}getNoteById(a,o){return this.usersService.getValidAccessToken().pipe((0,d.n)(s=>{const m=new u.Lr({Authorization:`Bearer ${s}`,Accept:"application/json"});return this.http.get(`${this.apiUrl}/auth/${a}/notes/${o}`,{headers:m})}),(0,h.W)(s=>(console.error("Erreur lors de la r\xe9cup\xe9ration de la note:",s),(0,b.$)(()=>s))))}updateNote(a,o,s){return this.usersService.getValidAccessToken().pipe((0,d.n)(m=>{const _=new u.Lr({Authorization:`Bearer ${m}`,"Content-Type":"application/json"});return this.http.put(`${this.apiUrl}/${a}/notes/${o}`,{nouveauContenu:s},{headers:_})}),(0,E.M)(m=>console.log("Note modifi\xe9e avec succ\xe8s:",m)),(0,h.W)(m=>(console.error("Erreur lors de la modification de la note:",m),(0,b.$)(()=>m))))}deletNoteFactureProforma(a,o){return this.usersService.getValidAccessToken().pipe((0,d.n)(s=>{const m=new u.Lr({Authorization:`Bearer ${s}`,Accept:"application/json"});return this.http.delete(`${this.apiUrl}/${a}/notes/${o}/supprimer`,{headers:m})}),(0,h.W)(s=>(console.error("Erreur lors de la suppression de la note:",s),(0,b.$)(()=>s))))}getFacturesByClient(a,o){return this.usersService.getValidAccessToken().pipe((0,d.n)(s=>{let m=new u.Nl;void 0!==a&&(m=m.set("clientId",a.toString())),void 0!==o&&(m=m.set("entrepriseClientId",o.toString()));const _=new u.Lr({Authorization:`Bearer ${s}`});return this.http.get(`${this.apiUrl}/factures/client`,{headers:_,params:m})}),(0,h.W)(s=>(console.error("Erreur dans getFacturesByClient:",s),(0,b.$)(()=>s))))}getFacturesParPeriode(a,o,s){return this.usersService.getValidAccessToken().pipe((0,d.n)(m=>{const _=new u.Lr({Authorization:`Bearer ${m}`});let M=(new u.Nl).set("type",a);if("personnalise"===a){if(!o||!s)throw new Error("Pour 'personnalise', les dates dateDebut et dateFin sont obligatoires.");M=M.set("dateDebut",o).set("dateFin",s)}return this.http.get(`${this.apiUrl}/mes-factures/par-periode`,{headers:_,params:M})}))}static{this.\u0275fac=function(o){return new(o||g)(k.KVO(u.Qq),k.KVO(C.g))}}static{this.\u0275prov=k.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})()},6375:(I,O,l)=>{l.d(O,{D:()=>k});var u=l(1626),d=l(5558),E=l(9437),h=l(8810),b=l(2525),F=l(4438),P=l(8026);let k=(()=>{class C{constructor(g,e){this.http=g,this.usersService=e,this.apiUrl=b.c.apiBaseUrl}ajouterProduit(g,e,a,o,s,m,_){const M=`${this.apiUrl}/create?addToStock=${m}`,f=new FormData;return f.append("boutiqueIds",JSON.stringify(g)),f.append("quantites",JSON.stringify(e)),f.append("produit",JSON.stringify(o)),f.append("seuilAlert",JSON.stringify(a)),s&&f.append("image",s,s.name),_&&f.append("datePreemption",_),this.usersService.getValidAccessToken().pipe((0,d.n)(x=>{const y=new u.Lr({Authorization:`Bearer ${x}`});return this.http.post(M,f,{headers:y})}))}modifierProduit(g,e){const a=new FormData,{id:o,...s}=g;return a.append("produit",JSON.stringify(s)),a.append("addToStock",g.enStock?"true":"false"),e&&a.append("image",e,e.name),this.usersService.getValidAccessToken().pipe((0,d.n)(m=>{const _=new u.Lr({Authorization:`Bearer ${m}`});return this.http.patch(`${this.apiUrl}/updateProduit/${g.id}`,a,{headers:_})}))}getProduitById(g){return this.usersService.getValidAccessToken().pipe((0,d.n)(e=>{const a=new u.Lr({Authorization:`Bearer ${e}`});return this.http.get(`${this.apiUrl}/produits/${g}`,{headers:a})}))}getProduitsEntreprise(g){return this.usersService.getValidAccessToken().pipe((0,d.n)(e=>{const a=new u.Lr({Authorization:`Bearer ${e}`});return this.http.get(`${this.apiUrl}/produits/${g}/stock`,{headers:a}).pipe((0,E.W)(o=>(0,h.$)(400===o.status&&"Cette boutique est d\xe9sactiv\xe9e, ses produits ne sont pas accessibles !"===o.error?.error?()=>new Error("BOUTIQUE_DESACTIVEE"):()=>o)))}))}getProduitBoutique(g){return this.usersService.getValidAccessToken().pipe((0,d.n)(e=>{const a=new u.Lr({Authorization:`Bearer ${e}`});return this.http.get(`${this.apiUrl}/produits/${g}/totaux-stock`,{headers:a})}))}getProduitsByEntrepriseId(g){return this.usersService.getValidAccessToken().pipe((0,d.n)(e=>{const a=new u.Lr({Authorization:`Bearer ${e}`});return this.http.get(`${this.apiUrl}/produits/entreprise/${g}`,{headers:a})}))}getProduitsParEntreprise(g){return this.usersService.getValidAccessToken().pipe((0,d.n)(e=>{const a=new u.Lr({Authorization:`Bearer ${e}`});return this.http.get(`${this.apiUrl}/produits/entreprise/${g}`,{headers:a})}))}getFournisseurs(){return this.usersService.getValidAccessToken().pipe((0,d.n)(g=>{const e=new u.Lr({Authorization:`Bearer ${g}`});return this.http.get(`${this.apiUrl}/get-fournisseurs`,{headers:e})}))}importProduitsFromExcel(g,e){return this.usersService.getValidAccessToken().pipe((0,d.n)(a=>{const o=new u.Lr({Authorization:`Bearer ${a}`});return g.append("boutiqueIds",JSON.stringify(e)),this.http.post(`${this.apiUrl}/import-produits-excel`,g,{headers:o})}))}static{this.\u0275fac=function(e){return new(e||C)(F.KVO(u.Qq),F.KVO(P.g))}}static{this.\u0275prov=F.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}}return C})()},9512:(I,O,l)=>{l.r(O),l.d(O,{FactureProformaComponent:()=>fe});var u=l(177),d=l(9417),E=l(6115),h=l(6440),b=l(9631),F=l(8834),P=l(3),k=l(5084),C=l(636),T=l(9213),g=l(2798),e=l(4438),a=l(7987),o=l(7333);const L={provide:new e.nKC("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{const r=(0,e.WQX)(a.hJ);return()=>r.scrollStrategies.reposition()}}),deps:[a.hJ],useFactory:function N(r){return()=>r.scrollStrategies.reposition()}};let $=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=e.$C({type:r});static \u0275inj=e.G2t({providers:[L],imports:[P.pZ,P.yE,a.z_,o.Gj,P.yE]})}return r})();var R=l(9192),B=l(7746),V=l(2409),U=l(6375),X=l(8026),z=l(4173);const G=()=>[6,10,25,100];function Y(r,p){if(1&r){const t=e.RV6();e.j41(0,"div",31)(1,"div",32),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.toggleView("list"))}),e.EFF(2),e.k0s(),e.j41(3,"div",32),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.toggleView("grid"))}),e.EFF(4),e.k0s()()}if(2&r){const t=e.XpG(2);e.R7$(2),e.SpI(" Liste ",t.isListView?"\u2713":""," "),e.R7$(2),e.SpI(" Cadre ",t.isListView?"":"\u2713"," ")}}function H(r,p){if(1&r){const t=e.RV6();e.j41(0,"div",39),e.bIt("click",function(){const n=e.eBV(t).$implicit,c=e.XpG(3);return e.Njj(c.choisirType(n.value))}),e.EFF(1),e.k0s()}if(2&r){const t=p.$implicit,i=e.XpG(3);e.AVh("active",t.value===i.typeSelectionne),e.R7$(),e.SpI(" ",t.label," ")}}function W(r,p){if(1&r){const t=e.RV6();e.j41(0,"div",40)(1,"label"),e.EFF(2,"Date d\xe9but"),e.k0s(),e.j41(3,"input",41),e.mxI("ngModelChange",function(n){e.eBV(t);const c=e.XpG(3);return e.DH7(c.dateDebut,n)||(c.dateDebut=n),e.Njj(n)}),e.k0s(),e.j41(4,"label"),e.EFF(5,"Date fin"),e.k0s(),e.j41(6,"input",41),e.mxI("ngModelChange",function(n){e.eBV(t);const c=e.XpG(3);return e.DH7(c.dateFin,n)||(c.dateFin=n),e.Njj(n)}),e.k0s()()}if(2&r){const t=e.XpG(3);e.R7$(3),e.R50("ngModel",t.dateDebut),e.R7$(3),e.R50("ngModel",t.dateFin)}}function K(r,p){if(1&r){const t=e.RV6();e.j41(0,"div",33)(1,"div",34)(2,"div",35),e.DNE(3,H,2,3,"div",36),e.k0s(),e.DNE(4,W,7,2,"div",37),e.j41(5,"button",38),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.appliquerFiltre())}),e.EFF(6,"\u{1f50d} Appliquer"),e.k0s()()()}if(2&r){const t=e.XpG(2);e.R7$(3),e.Y8G("ngForOf",t.typesPeriode),e.R7$(),e.Y8G("ngIf","personnalise"===t.typeSelectionne)}}function q(r,p){if(1&r){const t=e.RV6();e.j41(0,"div",42)(1,"div",43)(2,"div",44),e.qSk(),e.j41(3,"svg",45),e.nrm(4,"path",46)(5,"path",47),e.k0s()(),e.joV(),e.j41(6,"h1"),e.EFF(7,"Acc\xe8s restreint"),e.k0s(),e.j41(8,"div",48)(9,"p",49),e.EFF(10),e.k0s(),e.j41(11,"p"),e.EFF(12,"Veuillez renouveler votre abonnement pour acc\xe9der \xe0 ce module."),e.k0s()(),e.j41(13,"button",50),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.redirigerAccueil())}),e.EFF(14,"OK"),e.k0s()()()}if(2&r){const t=e.XpG(2);e.R7$(10),e.JRh(t.messageErreur)}}function Q(r,p){if(1&r&&(e.j41(0,"span",51),e.EFF(1),e.k0s()),2&r){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.totalAllFactures," ")}}function J(r,p){if(1&r&&(e.j41(0,"span",51),e.EFF(1),e.k0s()),2&r){const t=e.XpG().$implicit,i=e.XpG(2);e.R7$(),e.SpI(" ",i.factureCounts[t.value]," ")}}function Z(r,p){1&r&&e.nrm(0,"div",55)}function ee(r,p){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"div",52),e.bIt("click",function(){const n=e.eBV(t).$implicit,c=e.XpG(2);return e.Njj(c.selectStatut(n.value))}),e.j41(2,"p",53),e.EFF(3),e.DNE(4,J,2,1,"span",24),e.k0s()(),e.DNE(5,Z,1,0,"div",54),e.bVm()}if(2&r){const t=p.$implicit,i=p.index,n=e.XpG(2);e.R7$(),e.AVh("name_boutique_active",n.selectedStatut===t.value),e.R7$(2),e.SpI(" ",t.label," "),e.R7$(),e.Y8G("ngIf",n.factureCounts[t.value]>0),e.R7$(),e.Y8G("ngIf",i!==n.statuts.length-1)}}function te(r,p){if(1&r&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&r){const t=p.$implicit;e.R7$(),e.Lme(" ",t.nomProduit," (x",t.quantite,") ")}}function ne(r,p){1&r&&(e.j41(0,"div"),e.EFF(1,"..."),e.k0s())}function ie(r,p){if(1&r){const t=e.RV6();e.j41(0,"tr",60),e.bIt("click",function(){const n=e.eBV(t).$implicit,c=e.XpG(3);return e.Njj(c.showDetails(n.id))}),e.j41(1,"td",61),e.EFF(2),e.k0s(),e.j41(3,"td",61),e.EFF(4),e.k0s(),e.j41(5,"td",61),e.EFF(6),e.nI1(7,"date"),e.k0s(),e.j41(8,"td",61),e.DNE(9,te,2,2,"div",25)(10,ne,2,0,"div",26),e.k0s(),e.j41(11,"td",61)(12,"span",62),e.EFF(13),e.k0s()(),e.j41(14,"td",61),e.EFF(15),e.nI1(16,"customNumber"),e.k0s(),e.j41(17,"td",61),e.EFF(18),e.nI1(19,"date"),e.k0s()()}if(2&r){const t=p.$implicit,i=e.XpG(3);e.R7$(2),e.JRh(t.numeroFacture),e.R7$(2),e.JRh(t.client||t.entrepriseClient),e.R7$(2),e.JRh(e.i5U(7,9,t.dateCreation,"dd/MM/yyyy")),e.R7$(3),e.Y8G("ngForOf",null==t.ligneFactureProforma?null:t.ligneFactureProforma.slice(0,2)),e.R7$(),e.Y8G("ngIf",(null==t.ligneFactureProforma?null:t.ligneFactureProforma.length)>2),e.R7$(2),e.Y8G("ngClass",i.getStatutClass(t.statut)),e.R7$(),e.SpI(" ",t.statut," "),e.R7$(2),e.SpI(" ",e.bMT(16,12,t.totalFacture)," CFA "),e.R7$(3),e.SpI(" ",t.dateRelance?e.brH(19,14,t.dateRelance,"dd-MM-yyyy","fr_FR"):"pas de date"," ")}}function re(r,p){if(1&r){const t=e.RV6();e.j41(0,"table")(1,"thead")(2,"tr",56)(3,"th",57),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.sort("numeroFacture"))}),e.EFF(4," N\xb0 Facture "),e.nrm(5,"i"),e.k0s(),e.j41(6,"th",58),e.EFF(7,"Droit"),e.k0s(),e.j41(8,"th",57),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.sort("dateCreation"))}),e.EFF(9," Date "),e.nrm(10,"i"),e.k0s(),e.j41(11,"th",58),e.EFF(12,"Produits"),e.k0s(),e.j41(13,"th",58),e.EFF(14,"Statut"),e.k0s(),e.j41(15,"th",58),e.EFF(16,"Total"),e.k0s(),e.j41(17,"th",58),e.EFF(18,"Date Relance"),e.k0s()()(),e.j41(19,"tbody"),e.DNE(20,ie,20,18,"tr",59),e.k0s()()}if(2&r){const t=e.XpG(2);e.R7$(5),e.HbH("numeroFacture"===t.sortField?"asc"===t.sortDirection?"ri-arrow-up-s-line":"ri-arrow-down-s-line":"ri-arrow-up-down-line"),e.R7$(5),e.HbH("dateCreation"===t.sortField?"asc"===t.sortDirection?"ri-arrow-up-s-line":"ri-arrow-down-s-line":"ri-arrow-up-down-line"),e.R7$(10),e.Y8G("ngForOf",t.paginatedFactures)}}function oe(r,p){if(1&r&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td",80),e.EFF(6),e.nI1(7,"customNumber"),e.k0s()()),2&r){const t=p.$implicit;e.R7$(2),e.SpI(" ",t.nomProduit," "),e.R7$(2),e.SpI(" ",t.quantite," "),e.R7$(2),e.SpI(" ",e.bMT(7,3,t.montantTotal)," ")}}function ae(r,p){1&r&&(e.j41(0,"tr",81)(1,"td"),e.EFF(2,"||"),e.k0s(),e.j41(3,"td"),e.EFF(4,"||"),e.k0s(),e.j41(5,"td",80),e.EFF(6,"||"),e.k0s()())}function se(r,p){if(1&r&&(e.qex(0),e.DNE(1,oe,8,5,"tr",25)(2,ae,7,0,"tr",79),e.bVm()),2&r){const t=e.XpG().$implicit;e.R7$(),e.Y8G("ngForOf",t.ligneFactureProforma.slice(0,1)),e.R7$(),e.Y8G("ngIf",t.ligneFactureProforma.length>1)}}function ce(r,p){1&r&&(e.j41(0,"tr")(1,"td",82),e.EFF(2,"Aucun produit dans cette facture"),e.k0s()())}function le(r,p){if(1&r){const t=e.RV6();e.j41(0,"div",65),e.bIt("click",function(){const n=e.eBV(t).$implicit,c=e.XpG(3);return e.Njj(c.showDetails(n.id))}),e.j41(1,"div",66)(2,"h5"),e.EFF(3,"Facture Pro forma"),e.k0s()(),e.j41(4,"div",67)(5,"div",68)(6,"span"),e.EFF(7),e.k0s()(),e.j41(8,"div",69)(9,"span",70),e.EFF(10," Client(s) : "),e.k0s(),e.j41(11,"span",71),e.EFF(12),e.k0s()(),e.j41(13,"div",69)(14,"span",70),e.EFF(15," Date : "),e.k0s(),e.j41(16,"span",72),e.EFF(17),e.k0s()()(),e.j41(18,"table")(19,"thead")(20,"tr")(21,"th"),e.EFF(22," Produit "),e.k0s(),e.j41(23,"th"),e.EFF(24," Quantit\xe9 "),e.k0s(),e.j41(25,"th"),e.EFF(26," Montant Total "),e.k0s()()(),e.j41(27,"tbody"),e.DNE(28,se,3,2,"ng-container",73)(29,ce,3,0,"ng-template",null,1,e.C5r),e.k0s(),e.nrm(31,"tfoot"),e.k0s(),e.j41(32,"div",74),e.nrm(33,"img",75),e.j41(34,"div",76)(35,"p",77),e.EFF(36," - Etat - "),e.k0s(),e.j41(37,"span"),e.EFF(38),e.k0s()()(),e.j41(39,"div",78)(40,"span",70),e.EFF(41," MONTANT TOTAL TTC : "),e.k0s(),e.j41(42,"span",71),e.EFF(43),e.nI1(44,"customNumber"),e.k0s()()()}if(2&r){const t=p.$implicit,i=e.sdS(30),n=e.XpG(3);e.R7$(7),e.SpI("N ",t.numeroFacture," "),e.R7$(5),e.SpI(" ",t.client||t.entrepriseClient," "),e.R7$(5),e.SpI(" ",t.dateCreation," "),e.R7$(11),e.Y8G("ngIf",null==t.ligneFactureProforma?null:t.ligneFactureProforma.length)("ngIfElse",i),e.R7$(5),e.Y8G("src",n.getImageSrc(t.statut),e.B4B),e.R7$(),e.Y8G("ngClass",n.getStatutClass(t.statut)),e.R7$(4),e.SpI(" ",t.statut," "),e.R7$(5),e.SpI(" ",e.bMT(44,9,t.totalFacture)," CFA ")}}function ue(r,p){if(1&r&&(e.j41(0,"div",63),e.DNE(1,le,45,11,"div",64),e.k0s()),2&r){const t=e.XpG(2);e.R7$(),e.Y8G("ngForOf",t.paginatedFactures)}}function de(r,p){if(1&r){const t=e.RV6();e.j41(0,"mat-paginator",83),e.bIt("page",function(n){e.eBV(t);const c=e.XpG(2);return e.Njj(c.onPageChange(n))}),e.k0s()}if(2&r){const t=e.XpG(2);e.Y8G("length",t.filteredFactures.length)("pageSize",t.pageSize)("pageSizeOptions",e.lJ4(3,G))}}function pe(r,p){1&r&&(e.j41(0,"div",84),e.EFF(1," Aucun facture pro forma trouv\xe9e "),e.k0s())}function me(r,p){if(1&r){const t=e.RV6();e.j41(0,"div",3)(1,"div",4)(2,"h1",5),e.EFF(3,"Facture pro forma"),e.k0s(),e.j41(4,"div",6)(5,"button",7),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.goToAddProduit())}),e.EFF(6,"Ajouter une facture "),e.k0s(),e.j41(7,"div",8),e.nrm(8,"div",9),e.k0s(),e.j41(9,"div",10),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.showDropdown=!n.showDropdown)})("clickOutside",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.showDropdown=!1)}),e.nrm(10,"i"),e.DNE(11,Y,5,2,"div",11),e.k0s(),e.j41(12,"div",8),e.nrm(13,"div",9),e.k0s(),e.j41(14,"div",12),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleDropdown())}),e.nrm(15,"i",13),e.k0s(),e.DNE(16,K,7,2,"div",14),e.j41(17,"div",8),e.nrm(18,"div",9),e.k0s(),e.j41(19,"div",15)(20,"input",16),e.mxI("ngModelChange",function(n){e.eBV(t);const c=e.XpG();return e.DH7(c.searchText,n)||(c.searchText=n),e.Njj(n)}),e.bIt("ngModelChange",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onSearchChange())}),e.k0s(),e.j41(21,"i",17),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return n.searchText="",e.Njj(n.onSearchChange())}),e.k0s()()()(),e.DNE(22,q,15,1,"div",18),e.j41(23,"div",19)(24,"div",20)(25,"div",21)(26,"div",22),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.selectStatut(null))}),e.j41(27,"p",23),e.EFF(28," Toutes les \xe9tats "),e.DNE(29,Q,2,1,"span",24),e.k0s()(),e.nrm(30,"div",9),e.DNE(31,ee,6,5,"ng-container",25),e.k0s()()(),e.DNE(32,re,21,5,"table",26)(33,ue,2,1,"div",27),e.j41(34,"div",28),e.DNE(35,de,1,4,"mat-paginator",29),e.k0s(),e.DNE(36,pe,2,0,"div",30),e.k0s()}if(2&r){const t=e.XpG();e.R7$(10),e.HbH(t.isListView?"ri-list-check":"ri-apps-fill"),e.R7$(),e.Y8G("ngIf",t.showDropdown),e.R7$(5),e.Y8G("ngIf",t.dropdownOuvert),e.R7$(4),e.R50("ngModel",t.searchText),e.R7$(),e.Y8G("ngClass",t.searchText?"ri-close-line red-icon":"ri-search-2-line"),e.R7$(),e.Y8G("ngIf",!t.accesAutorise),e.R7$(4),e.AVh("name_boutique_active",null===t.selectedStatut),e.R7$(3),e.Y8G("ngIf",t.totalAllFactures>0),e.R7$(2),e.Y8G("ngForOf",t.statuts),e.R7$(),e.Y8G("ngIf",t.isListView),e.R7$(),e.Y8G("ngIf",!t.isListView),e.R7$(2),e.Y8G("ngIf",t.filteredFactures.length>t.pageSize),e.R7$(),e.Y8G("ngIf",t.facturesLoaded&&0===t.filteredFactures.length)}}function ge(r,p){if(1&r&&(e.j41(0,"div",86),e.EFF(1),e.k0s()),2&r){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.messageErreur," ")}}function _e(r,p){if(1&r&&e.DNE(0,ge,2,1,"div",85),2&r){const t=e.XpG();e.Y8G("ngIf",t.messageErreur)}}let fe=(()=>{class r{constructor(t,i,n,c,v,A,S){this.router=t,this.clientService=i,this.factureProFormaService=n,this.produitService=c,this.usersService=v,this.moduleService=A,this.route=S,this.pendingAdjustments=[],this.description="",this.typeDestinataire="client",this.selectedClientId=null,this.selectedEntrepriseId=null,this.nomEntreprise="",this.produits=[],this.lignesFacture=[{produitId:0,quantite:1}],this.clients=[],this.totalClients=0,this.noClientsAvailable=!1,this.entreprises=[],this.remiseTVAActive=!1,this.remisePourcentage=0,this.tva=0,this.entrepriseId=0,this.userEntrepriseId=null,this.isLoading=!1,this.facturesproforma=[],this.isListView=!0,this.showDropdown=!1,this.searchTerm="",this.facturesLoaded=!1,this.searchText="",this.factureCounts={},this.totalAllFactures=0,this.pageSize=10,this.currentPage=0,this.facturesFiltrees=[],this.filteredFacturess=[],this.sortField="numeroFacture",this.sortDirection="asc",this.selectedStatut=null,this.statuts=[{value:"BROUILLON",label:"Brouillon"},{value:"APPROUVE",label:"Approuv\xe9"},{value:"ENVOYE",label:"Envoy\xe9"},{value:"VALIDE",label:"Valid\xe9"},{value:"ANNULE",label:"Annul\xe9"}],this.accesAutorise=!1,this.chargementFini=!1,this.messageErreur="",this.tempsRestantEssai=null,this.typeSelectionne="jour",this.dateDebut="",this.dateFin="",this.factures=[],this.dropdownOuvert=!1,this.typesPeriode=[{value:"jour",label:"Par jour"},{value:"mois",label:"Par mois"},{value:"annee",label:"Par ann\xe9e"},{value:"personnalise",label:"Personnalis\xe9"}]}ngOnInit(){const t=localStorage.getItem("factureView");this.isListView="grid"!==t,this.getUserInfo(),this.verifierAcces(),this.route.queryParams.subscribe(i=>{const n=i.etat;n&&this.statuts.some(c=>c.value===n)&&this.selectStatut(n)})}toggleView(t){this.isListView="list"===t,localStorage.setItem("factureView",t)}goToAddProduit(){this.router.navigate(["/addfacture-proforma"])}clearSearch(){this.searchTerm=""}sort(t){this.sortField===t?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortField=t,this.sortDirection="asc"),this.facturesproforma.sort((i,n)=>{const c=i[t]?.toString().toLowerCase()??"",v=n[t]?.toString().toLowerCase()??"";return c.localeCompare(v)*("asc"===this.sortDirection?1:-1)})}get filteredFactures(){let t=[...this.facturesproforma];if(this.selectedStatut&&(t=t.filter(i=>i.statut===this.selectedStatut)),this.searchText.trim()){const i=this.searchText.toLowerCase().trim();t=t.filter(n=>n.numeroFacture?.toLowerCase().includes(i)||n.client?.toLowerCase().includes(i)||n.entrepriseClient?.toLowerCase().includes(i)||n.totalFacture?.toString().includes(this.searchText))}return t}onPageChange(t){this.currentPage=t.pageIndex,this.pageSize=t.pageSize}selectStatut(t){this.selectedStatut=t,this.currentPage=0}get paginatedFactures(){const t=this.currentPage*this.pageSize;return this.filteredFactures.slice(t,t+this.pageSize)}getTotalFacture(t){return t.ligneFactureProforma?.reduce((i,n)=>i+n.montantTotal,0)||0}getUserInfo(){this.usersService.getUserInfo().subscribe({next:t=>{this.nomEntreprise=t.nomEntreprise,this.userEntrepriseId=t.entrepriseId,this.loadFactproformaOfEntreprise(this.userEntrepriseId)},error:t=>{console.error("Erreur lors de la r\xe9cup\xe9ration des infos utilisateur :",t),this.facturesLoaded=!0}})}loadFactproformaOfEntreprise(t){this.isLoading=!0,this.facturesLoaded=!1,this.factureProFormaService.getAlFactproformaOfEntreprise(t).subscribe({next:i=>{this.facturesproforma=i.map(n=>({...n})),this.calculateFactureCounts(),this.isLoading=!1,this.facturesLoaded=!0},error:i=>{console.error("Erreur lors du chargement des facture proforma",i),this.isLoading=!1,this.facturesLoaded=!0}})}showDetails(t){this.router.navigate(["/facture-proforma-details",t])}getImageSrc(t){switch(t){case'BROUILLON"':default:return"assets/etiquette/Etiquette-Sy-XPERTPRO-Gris.png";case"APPROUVE":return"assets/etiquette/Etiquette-Sy-XPERTPRO-bleu-.png";case"ENVOYE":return"assets/etiquette/Etiquette-Sy-XPERTPRO-orange.png";case"VALIDE":return"assets/etiquette/Etiquette-Sy-XPERTPRO-Vert.png";case"ANNULE":return"assets/etiquette/Etiquette-Sy-XPERTPRO-rouge.png"}}getStatutClass(t){switch(t){case"BROUILLON":default:return"etat-gris";case"APPROUVE":return"etat-bleu";case"ENVOYE":return"etat-orange";case"VALIDE":return"etat-vert";case"ANNULE":return"etat-rouge"}}verifierAcces(){this.moduleService.getModulesEntreprise().subscribe({next:t=>{const i=t.find(n=>"GESTION_FACTURATION"===n.code);i?.actif?(this.accesAutorise=!0,this.tempsRestantEssai=i.tempsRestantEssai||null):(this.accesAutorise=!1,this.messageErreur=i?.tempsRestantEssai?"Votre p\xe9riode d'essai est termin\xe9e.":"Ce module est inactif."),this.chargementFini=!0},error:t=>{this.accesAutorise=!1,this.messageErreur="Erreur lors de la v\xe9rification d'acc\xe8s.",this.chargementFini=!0}})}onSearchChange(){this.currentPage=0}redirigerAccueil(){this.router.navigate(["/"])}calculateFactureCounts(){this.factureCounts={},this.totalAllFactures=this.facturesproforma.length,this.facturesproforma.forEach(t=>{const i=t.statut;i&&(this.factureCounts[i]=(this.factureCounts[i]||0)+1)})}get labelTypeSelectionne(){return this.typesPeriode.find(t=>t.value===this.typeSelectionne)?.label||"Filtrer"}toggleDropdown(){this.dropdownOuvert=!this.dropdownOuvert}choisirType(t){this.typeSelectionne=t,this.dateDebut="",this.dateFin=""}appliquerFiltre(){"personnalise"!==this.typeSelectionne||this.dateDebut&&this.dateFin?this.factureProFormaService.getFacturesParPeriode(this.typeSelectionne,this.dateDebut,this.dateFin).subscribe({next:t=>{this.facturesproforma=t,this.currentPage=0,this.dropdownOuvert=!1},error:t=>{console.error("Erreur de chargement des factures:",t)}}):alert("Veuillez s\xe9lectionner une date de d\xe9but et de fin.")}onClickOutside(t){!t.closest(".filter-dropdown-wrapper")&&!t.closest(".filter-toggle-icon")&&(this.dropdownOuvert=!1,this.reinitialiserFiltre())}reinitialiserFiltre(){this.typeSelectionne="annee",this.dateDebut="",this.dateFin="",this.dropdownOuvert=!1,this.factureProFormaService.getFacturesParPeriode("annee").subscribe({next:t=>{this.facturesproforma=t,this.currentPage=0},error:t=>{console.error("Erreur lors du chargement des factures:",t)}})}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(R.Ix),e.rXU(B.X),e.rXU(V.c),e.rXU(U.D),e.rXU(X.g),e.rXU(z.A),e.rXU(R.nX))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-facture-proforma"]],hostBindings:function(i,n){1&i&&e.bIt("click",function(v){return n.onClickOutside(v.target)},!1,e.EBC)},decls:3,vars:1,consts:[["accesRefuse",""],["noLines",""],["class","containerTable",4,"ngIf"],[1,"containerTable"],[1,"tasks-header"],[1,"title"],[1,"actions"],[1,"add-task",3,"click"],[1,"contentIcon"],[1,"bare"],["clickOutside","",1,"contentIcon",3,"click","clickOutside"],["class","view-dropdown",4,"ngIf"],[1,"filter-toggle-icon",3,"click"],[1,"ri-filter-line"],["class","filter-dropdown-wrapper",4,"ngIf"],[1,"inputSearch"],["type","text","placeholder","Recherche...",3,"ngModelChange","ngModel"],[3,"click","ngClass"],["class","access-overlay",4,"ngIf"],[1,"container_list_boutique"],[1,"content_list_boutique"],[1,"name_boutique"],[1,"all_boutique",3,"click"],[1,"all_boutique",2,"display","flex","align-items","center"],["class","facture-count",4,"ngIf"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","parent",4,"ngIf"],[1,"pagination"],[3,"length","pageSize","pageSizeOptions","page",4,"ngIf"],["class","no-client-message",4,"ngIf"],[1,"view-dropdown"],[1,"dropdown-item",3,"click"],[1,"filter-dropdown-wrapper"],[1,"filter-dropdown"],[1,"filter-type"],["class","filter-option",3,"active","click",4,"ngFor","ngForOf"],["class","filter-date",4,"ngIf"],[1,"filter-btn",3,"click"],[1,"filter-option",3,"click"],[1,"filter-date"],["type","date",3,"ngModelChange","ngModel"],[1,"access-overlay"],[1,"access-card"],["aria-hidden","true",1,"icon-container"],["viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg","width","48","height","48"],["d","M18 6L6 18","stroke","white","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M6 6L18 18","stroke","white","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],[1,"description"],[1,"message-principal"],[1,"dashboard-button",3,"click"],[1,"facture-count"],[1,"statut-option",3,"click"],[2,"display","flex","align-items","center"],["class","barre",4,"ngIf"],[1,"barre"],[1,"tr"],[1,"th",3,"click"],[1,"th"],["class","tr",3,"click",4,"ngFor","ngForOf"],[1,"tr",3,"click"],[1,"td"],[3,"ngClass"],[1,"parent"],["class","cadre_cahier",3,"click",4,"ngFor","ngForOf"],[1,"cadre_cahier",3,"click"],[1,"title_facture"],[1,"information_cadre"],[1,"num_facture"],[1,"double_info"],[1,"left_name"],[1,"right_name"],[1,"right_name","date_name",2,"font-size","11px"],[4,"ngIf","ngIfElse"],[1,"image_etiquette"],["alt","Etiquette",3,"src"],[1,"etat",3,"ngClass"],[1,"tilte_etat"],[1,"double_info1"],["class","facture_trois",4,"ngIf"],[1,"tb_total"],[1,"facture_trois"],["colspan","3",1,"text-center"],[3,"page","length","pageSize","pageSizeOptions"],[1,"no-client-message"],["class","alert alert-warning",4,"ngIf"],[1,"alert","alert-warning"]],template:function(i,n){1&i&&e.DNE(0,me,37,15,"div",2)(1,_e,1,1,"ng-template",null,0,e.C5r),2&i&&e.Y8G("ngIf",n.chargementFini)},dependencies:[u.MD,u.YU,u.Sq,u.bT,u.vh,d.YN,d.me,d.BC,d.vS,d.X1,E.v,b.fS,h.Ou,h.iy,C.RG,g.Ve,P.Sy,k.X6,P.WX,F.Hl,T.m_,$],styles:['@charset "UTF-8";.title_return[_ngcontent-%COMP%]{display:flex;align-items:center}.title[_ngcontent-%COMP%]{font-size:18px;margin:0 0 0 10px}tr.tr[_ngcontent-%COMP%]{font-size:18px}th[_ngcontent-%COMP%]{border-bottom:1px solid rgba(221,221,221,.5803921569);padding:8px}th.th[_ngcontent-%COMP%]{border-bottom:1px solid rgba(221,221,221,.5803921569);padding:10px}td[_ngcontent-%COMP%]{padding:15px 8px;border-bottom:1px solid rgba(221,221,221,.5803921569)}th[_ngcontent-%COMP%]{background-color:#f2f2f2}.containerTable[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:10px}.tasks-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:30px}.contentIcon[_ngcontent-%COMP%]{margin:0 10px;display:flex;align-items:center}.contentIcon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;cursor:pointer}.contentIcon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:#0672e4;transition:all .5s ease}.bare[_ngcontent-%COMP%]{width:2px;height:30px;background-color:#eee}.content_sort[_ngcontent-%COMP%]{display:flex;align-items:center}.btn_add_ligne[_ngcontent-%COMP%]{background-color:#e6f2ff;border:1px solid #007bff;padding:5px 10px;cursor:pointer;margin-top:10px;border-radius:5px}.btn_remove[_ngcontent-%COMP%]{background-color:transparent;border:none;cursor:pointer;font-size:20px;color:red}.content_cadre_double[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.imgClient[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;overflow:hidden;display:flex;align-items:center;justify-content:center;background-color:#f5f5f5;box-shadow:0 4px 6px #0000001a;cursor:pointer}.imgClient[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80%;height:80%;object-fit:cover;border-radius:50%;transition:transform .2s}.imgClient[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}.imgClient_grid[_ngcontent-%COMP%]{width:90px;height:90px;border-radius:50%;overflow:hidden;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 6px #0000001a;cursor:pointer;border:none}.imgClient_grid[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90%;height:90%;object-fit:cover;border-radius:50%;transition:transform .2s}.imgClient_grid[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}.title[_ngcontent-%COMP%]{font-size:18px;margin:0}.tasks-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:20px}.add-task[_ngcontent-%COMP%]{padding:10px 30px;background-color:#0672e4;color:#fff;border-radius:5px;border:none}.inputSearch[_ngcontent-%COMP%]{position:relative;width:250px;height:40px;display:flex;align-items:center}.inputSearch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:100%;padding-left:10px;border-radius:5px}.inputSearch[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:15px;font-size:17px}.contentIcon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:17px;cursor:pointer;position:relative}.actions[_ngcontent-%COMP%]{display:flex;align-items:center}.actions[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#000}.titleTableProduit[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:12px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}tr[_ngcontent-%COMP%]{font-size:13px}td[_ngcontent-%COMP%]{padding:18px 8px;border-bottom:1px solid rgba(221,221,221,.5803921569)}th[_ngcontent-%COMP%]{background-color:#f2f2f2;border-bottom:1px solid rgba(221,221,221,.5803921569);padding:12px 8px}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f9f9f9}tr[_ngcontent-%COMP%]:hover{background-color:#ddd}.facture_trois[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:4px 8px}.contentIcon[_ngcontent-%COMP%]{position:relative;cursor:pointer}.view-dropdown[_ngcontent-%COMP%]{position:absolute;top:100%;right:0;background:#fff;border:1px solid #ddd;border-radius:4px;box-shadow:0 2px 5px #0000001a;z-index:100;min-width:150px}.dropdown-item[_ngcontent-%COMP%]{padding:8px 12px;font-size:14px;cursor:pointer}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.container_list_boutique[_ngcontent-%COMP%]{scrollbar-width:auto;overflow:auto;scrollbar-color:#888 #f1f1f1;scrollbar-width:thin}.container_list_boutique[_ngcontent-%COMP%]::-webkit-scrollbar{width:2px;height:3px}.container_list_boutique[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.container_list_boutique[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#00f;border-radius:4px}.container_list_boutique[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:red}.name_boutique[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;cursor:pointer;margin:30px 0 20px}.name_boutique[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:8px 15px}.name_boutique_active[_ngcontent-%COMP%]{background-color:#e9d421;border-radius:5px;color:#000}.barre[_ngcontent-%COMP%]{height:25px;width:1px;background-color:#0000003f;margin:8px 0}.name_boutique[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{cursor:pointer;padding:4px 16px;margin:4px 0;transition:all .3s ease;font-weight:500;border-radius:4px}.name_boutique[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:hover{background-color:#0000000d}.name_boutique[_ngcontent-%COMP%]   p.name_boutique_active[_ngcontent-%COMP%]{background-color:#e9d421;color:#000!important}.etat-gris[_ngcontent-%COMP%]{color:gray}.etat-bleu[_ngcontent-%COMP%]{color:#0671e4}.etat-orange[_ngcontent-%COMP%]{color:#f90}.etat-vert[_ngcontent-%COMP%]{color:green}.etat-rouge[_ngcontent-%COMP%]{color:red}.td[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500;text-transform:uppercase;font-size:.9em}mat-paginator[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px}.no-phone-text[_ngcontent-%COMP%]{color:#c3c3c3;font-style:italic}.info_cadre[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000}.popup-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}.cadreChoix[_ngcontent-%COMP%]{background-color:#0672e4;box-shadow:0 6px 12px #0000001a;padding:10px;border-radius:5px;cursor:pointer;color:#fff}.sizeBox[_ngcontent-%COMP%]{margin:10px 0}.statut[_ngcontent-%COMP%]{font-size:10px;margin-left:auto;font-weight:700;color:#6c757d}.parent[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:20px}.cadre_cahier[_ngcontent-%COMP%]{background:#fff;border-radius:5px;padding:10px;box-shadow:0 4px 6px #0000000d;transition:transform .2s ease;border:1px solid #e0e0e0;height:287px;position:relative;cursor:pointer}.cadre_cahier[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 6px 12px #0000001a}.information_cadre[_ngcontent-%COMP%]{margin-top:-5px}.title_facture[_ngcontent-%COMP%]{text-align:center;margin-top:2px}.num_facture[_ngcontent-%COMP%], .double_info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:10px}.left_name[_ngcontent-%COMP%]{font-weight:500}.title_facture[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.65px}.num_facture[_ngcontent-%COMP%]{margin:20px 0 10px}.num_facture[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#0672e4}.double_info[_ngcontent-%COMP%]{margin-bottom:10px;display:flex;align-items:center;gap:5px}.double_info1[_ngcontent-%COMP%]{align-items:center;gap:5px;font-size:6px;margin-top:2%;color:#6c757d;text-align:end;display:block}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;opacity:.7}th[_ngcontent-%COMP%]{background-color:#f5f5f5}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border-bottom:1px solid rgba(221,221,221,.5803921569);padding:8px;font-size:8px}th.th[_ngcontent-%COMP%], td.td[_ngcontent-%COMP%]{border-bottom:1px solid rgba(221,221,221,.5803921569);padding:20px;font-size:11px}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#fff}tr[_ngcontent-%COMP%]:hover{background-color:#fefefe}tr.tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f9f9f9}tr.tr[_ngcontent-%COMP%]:hover{background-color:#ddd}.tb_total[_ngcontent-%COMP%]{text-align:right}.image_etiquette[_ngcontent-%COMP%]{width:147px;height:108px;overflow:hidden;display:flex;align-items:center;justify-content:center;cursor:pointer;position:absolute;left:-24px;transform:rotate(-19deg);bottom:-23px}.image_etiquette[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90%;height:90%;object-fit:cover;transition:transform .2s}.etat[_ngcontent-%COMP%]{position:absolute;transform:rotate(12deg);top:45px;left:58px}.etat[_ngcontent-%COMP%]{font-size:10px}.etat[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:10px}.etat[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-transform:lowercase!important;font-size:12px;letter-spacing:.5px;font-weight:500}.tilte_etat[_ngcontent-%COMP%]{position:relative;top:3px;color:#ffffff89!important}.etat-gris[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000}.etat-gris[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0000007b!important}.etat-orange[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .etat-orange[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .etat-bleu[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .etat-bleu[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .etat-vert[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .etat-vert[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .etat-rouge[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .etat-rouge[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:right;margin-top:20px}.no-client-message[_ngcontent-%COMP%]{text-align:center;padding:40px;font-size:13px;color:#666;background-color:#f8f9fa;border-radius:8px;margin:20px;box-shadow:0 2px 4px #0000001a}.access-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);display:flex;justify-content:center;align-items:center;z-index:10;pointer-events:all}.access-card[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#fff;border-radius:16px;padding:24px;box-shadow:0 12px 20px #0000001a;max-width:300px;width:90%;display:flex;flex-direction:column;align-items:center;text-align:center;box-sizing:border-box}.icon-container[_ngcontent-%COMP%]{width:40px;height:40px;background-color:#ef4444;border-radius:50%;display:flex;justify-content:center;align-items:center;margin-bottom:16px}.icon-container[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px}.access-card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#1f2937;margin:0 0 10px;font-family:Poppins,sans-serif}.access-card[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{line-height:1.4;margin-bottom:24px;font-family:Poppins,sans-serif;font-size:11px}.access-card[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 6px;font-size:11px;font-family:Poppins,sans-serif}.dashboard-button[_ngcontent-%COMP%]{background-color:#0d6efd;color:#fff;border:none;border-radius:8px;padding:12px;font-size:14px;font-weight:500;cursor:pointer;width:100%;transition:background-color .2s ease-in-out}.dashboard-button[_ngcontent-%COMP%]:hover{background-color:#edcc3a}.facture-count[_ngcontent-%COMP%]{background-color:#ddd;color:#000;border-radius:50%;font-size:10px;min-width:18px;height:18px;display:flex;justify-content:center;align-items:center;padding:2px;margin-left:10px}.draggable-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:flex;align-items:center}.filter-dropdown-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block}.filter-toggle[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 14px;background-color:#f8f9fa;border:1px solid #ddd;border-radius:8px;cursor:pointer;transition:all .2s ease}.filter-toggle[_ngcontent-%COMP%]:hover{background-color:#eef1f4}.filter-label[_ngcontent-%COMP%]{font-weight:500}.filter-arrow[_ngcontent-%COMP%]{font-size:14px;color:#666}.filter-dropdown[_ngcontent-%COMP%]{min-width:260px;background-color:#fff;border:1px solid #ddd;border-radius:10px;box-shadow:0 8px 20px #0000000d;padding:16px;margin-top:8px;position:absolute;z-index:1000}.filter-type[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;margin-bottom:16px}.filter-option[_ngcontent-%COMP%]{padding:8px 10px;border-radius:6px;cursor:pointer;transition:background-color .2s;font-size:14px;color:#333}.filter-option[_ngcontent-%COMP%]:hover{background-color:#f1f3f6}.filter-option.active[_ngcontent-%COMP%]{background-color:#1976d2;color:#fff;font-weight:500}.filter-date[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:13px;margin:8px 0 4px;color:#555}.filter-date[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:6px 10px;font-size:14px;border:1px solid #ccc;border-radius:6px}.filter-btn[_ngcontent-%COMP%]{width:100%;margin-top:16px;padding:10px;font-weight:500;background-color:#1976d2;color:#fff;border:none;border-radius:6px;transition:background-color .2s;cursor:pointer}.filter-btn[_ngcontent-%COMP%]:hover{background-color:#155fa0}.filter-toggle-icon[_ngcontent-%COMP%]{width:40px;height:40px;background-color:#f0f0f0;border:1px solid #ccc;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background-color .2s ease}.filter-toggle-icon[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.filter-toggle-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px;color:#333}']})}}return r})()}}]);