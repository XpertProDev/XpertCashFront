{"version":3,"file":"src_app_admin-page_detail-boutique_detail-boutique_component_ts.js","mappings":"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","sources":["./src/app/admin-page/detail-boutique/detail-boutique.component.ts","./src/app/admin-page/detail-boutique/detail-boutique.component.html","./node_modules/rxjs/dist/esm/internal/lastValueFrom.js"],"sourcesContent":["import { ChangeDetectorRef, Component, ElementRef, HostListener, OnInit, ViewChild } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { BoutiqueService } from '../SERVICES/boutique-service';\nimport { Boutique } from '../MODELS/boutique-model';\nimport { CommonModule } from '@angular/common';\nimport { FormBuilder, FormControl, FormGroup, FormsModule, ReactiveFormsModule, Validators } from '@angular/forms';\nimport { environment } from 'src/environments/environment';\nimport { Produit } from '../MODELS/produit.model';\nimport { Users } from '../MODELS/utilisateur.model';\nimport { lastValueFrom, take } from 'rxjs';\nimport { UsersService } from '../SERVICES/users.service';\nimport { AssignerVendeurRequest } from '../MODELS/AssignerVendeurRequest';\n\n\n\n@Component({\n  selector: 'app-detail-boutique',\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    FormsModule,\n  ],\n  templateUrl: './detail-boutique.component.html',\n  styleUrl: './detail-boutique.component.scss'\n})\nexport class DetailBoutiqueComponent implements OnInit {\n  isModificationFormVisible = false;\n  boutique: Boutique | null = null;\n  isLoading = false;\n  errorMessage: string | null = null;\n  boutiqueForm!: FormGroup;\n  successMessage: string | null = null;\n  errorMessageApi: string | null = null;\n  successMessageTimeout: any;\n  updateTimeout: any;\n  isEditing = false;\n  showTransferModal = false;\n  allBoutiques: Boutique[] = [];\n  filteredBoutiques: Boutique[] = [];\n  searchTerm = '';\n  searchTerm1 = '';\n  showCopyModal = false;\n  copySearchTerm = '';\n  filteredCopyBoutiques: Boutique[] = [];\n  selectedImageUrl: string | null = null;\n  showImageModal = false;\n  selectedProductIds: number[] = [];\n  copyWarningMessage: string | null = null;\n  deleteWarningMessage: string | null = null;\n  showCopyWarningModal = false;\n  showDeleteWarningModal = false;\n  photo: string = '';\n  private apiUrl = environment.imgUrl;\n\n  control = new FormControl();\n\n  isUpdating = false;\n  isUpdating_boutique = false;\n  showConfirmationModal = false;\n  confirmationTitle = '';\n  confirmationMessage = '';\n  pendingStatusChange: boolean | null = null;\n  private checkboxRef?: HTMLInputElement;\n  // productsInBoutique: any[] = [];\n  productsInBoutique: Produit[] = [];\n  isLoadingProducts = false;\n  imgUrl = environment.imgUrl;\n\n  isCopying = false;\n  copySuccessMessage: string | null = null;\n  copyErrorMessage: string | null = null;\n  selectedCopyBoutique: Boutique | null = null;\n\n  showConfirmationModalB = false;\n  isDeletingB = false;\n\n  showDeleteModal = false;\n  deleteMessage = '';\n  isDeleting = false;\n  listeVendeurs: Users[] = [];\n  boutiqueId!: number;\n  imageActuelle = '';\n\n  selectedFilters: any[] = [];\n  showFilterDropdown = false;\n  searchText: string = '';\n  filteredProducts: Produit[] = [];\n\n  showUserList: boolean = false;\n  allUsers: Users[] = [];\n  selectedUserIds: number[] = [];\n\n  currentPage = 0;\n  pageSize = 20;\n  totalPages = 0;\n  isLoadingMore = false;\n  allProductsLoaded = false;\n  totalProductsCount = 0;\n  \n  @ViewChild('tableScrollContainer') tableScrollContainer!: ElementRef;\n  @ViewChild('searchInput') searchInput!: ElementRef<HTMLInputElement>;\n\n  constructor(\n    private route: ActivatedRoute,\n    private boutiqueService: BoutiqueService,\n    private router: Router,\n    private fb: FormBuilder,\n    private cd: ChangeDetectorRef,\n    private usersService: UsersService,\n  ) {\n\n  }\n\n  ngOnInit(): void {\n    this.initForm();\n    this.loadBoutique();\n    this.loadAllBoutiques();\n    this.boutiqueForm.disable();\n    this.loadAllVendeursBoutique();\n\n    // Dans ngOnInit ou là où vous appelez loadProductsInBoutique pour la première fois\n  if (this.boutique) {\n    this.loadProductsInBoutique(this.boutique.id);\n  }\n  }\n\n  private initForm(): void {\n    this.boutiqueForm = this.fb.group({\n      nomBoutique: ['', Validators.required],\n      adresse: [''],\n      email: [''],\n      telephone: ['', [Validators.pattern(/^\\d{8,15}$/)]],\n    });\n  }\n\n  private loadBoutique(): void {\n    const id = this.route.snapshot.paramMap.get('id');\n    \n    if (!id) {\n      this.errorMessage = 'ID de boutique invalide';\n      this.isLoading = false;\n      return;\n    }\n     this.boutiqueId = +id;\n\n    this.boutiqueService.getBoutiqueById(+id).subscribe({\n      next: (boutique) => {\n        this.boutique = boutique;\n        this.boutiqueForm.patchValue({\n          nomBoutique: boutique.nomBoutique,\n          adresse: boutique.adresse,\n          email: boutique.email,\n          telephone: boutique.telephone\n        });\n        this.isLoading = false;\n        \n        this.loadProductsInBoutique(boutique.id);\n        // this.loadAllVendeursBoutique();\n\n        // Mise à jour du formulaire\n        this.boutiqueForm.patchValue({\n          nomBoutique: boutique.nomBoutique,\n          adresse: boutique.adresse,\n          email: boutique.email,\n          telephone: boutique.telephone\n        });\n\n      },\n      error: (err) => {\n        this.errorMessage = 'Échec du chargement des données';\n        this.isLoading = false;\n      }\n    });\n  }\n\n  getStatusText(): string {\n    return this.boutique?.actif ? 'Actif' : 'Inactif';\n  }\n \n  getStatusColor(): string {\n      return this.boutique?.actif ? '#008000' : '#ff0000';\n  }\n\n  // Méthodes pour gérer le popup de copie\n  toggleCopyModal(): void {\n    // Vérifier si des produits sont sélectionnés\n    if (this.selectedProductIds.length === 0) {\n      this.showCopyWarningModal = true;\n      this.copyWarningMessage = \"Veuillez sélectionner au moins un produit à copier.\";\n      \n      // Effacer le message après 3 secondes\n      setTimeout(() => this.copyWarningMessage = null, 3000);\n      return;\n    }\n\n    // Fermer le modal de transfert si ouvert\n    if (this.showTransferModal) {\n      this.showTransferModal = false;\n    }\n    \n    this.showCopyModal = !this.showCopyModal;\n    if (this.showCopyModal) {\n      this.loadAllBoutiques();\n      this.copySearchTerm = '';\n      this.filterCopyBoutiques();\n    }\n  }\n\n  // Sélectionner une boutique pour la copie\n  // selectCopyBoutique(boutique: Boutique): void {\n  //     console.log('Boutique sélectionnée pour la copie :', boutique);\n      \n  //     this.closeCopyModal();\n      \n  //     // Afficher un message de succès\n  //     this.successMessage = `Produits copiés vers ${boutique.nomBoutique} avec succès!`;\n  //     setTimeout(() => this.successMessage = null, 5000);\n  // }\n\n  selectCopyBoutique(boutique: Boutique): void {\n    // if (!boutique.actif) {\n    //     const confirmCopy = confirm('Cette boutique est désactivée. Êtes-vous sûr de vouloir copier les produits vers cette boutique ?');\n    //     if (!confirmCopy) return;\n    // }\n    this.selectedCopyBoutique = boutique;\n    this.confirmCopyProducts();\n  }\n\nasync confirmCopyProducts(): Promise<void> {\n  if (!this.boutique || !this.selectedCopyBoutique) return;\n\n  this.isCopying = true;\n  this.copyErrorMessage = null;\n  this.copySuccessMessage = null;\n\n  try {\n    const detailsCopie = {\n      boutiqueSourceId: this.boutique.id,\n      boutiqueDestinationId: this.selectedCopyBoutique.id,\n      toutCopier: this.selectedProductIds.length === 0,\n      produitIds: this.selectedProductIds.length > 0 ? this.selectedProductIds : undefined\n    };\n\n    const response = await this.boutiqueService.copierProduits(detailsCopie).toPromise();\n    \n    // Gestion de la réponse\n    if (response && response.success !== undefined) {\n      if (response.success) {\n        this.copySuccessMessage = response.message; // Message de succès\n      } else {\n        // Assigner le message d'erreur lorsque success est false\n        this.copyErrorMessage = response.message; // Correction ici\n      }\n    } else if (response && response.message) {\n      // Cas de fallback - supposons que c'est un succès\n      this.copySuccessMessage = response.message;\n    } else {\n      this.copyErrorMessage = 'Réponse inattendue du serveur';\n    }\n\n    this.selectedProductIds = [];\n  } catch (error: any) {\n    console.error('Erreur copie', error);\n    \n    // Gestion spécifique des différents formats d'erreur\n    if (error.error && error.error.message) {\n      this.copyErrorMessage = error.error.message;\n    } else if (error.message) {\n      this.copyErrorMessage = error.message;\n    } else if (typeof error === 'string') {\n      this.copyErrorMessage = error;\n    } else {\n      this.copyErrorMessage = 'Erreur lors de la copie des produits';\n    }\n  } finally {\n    this.isCopying = false;\n    this.closeCopyModal();\n    \n    // Effacer les messages après 8 secondes\n    setTimeout(() => {\n      this.copySuccessMessage = null;\n      this.copyErrorMessage = null;\n    }, 8000);\n  }\n}\n\n  // Filtrer les boutiques pour la copie\n  filterCopyBoutiques(): void {\n      if (!this.copySearchTerm) {\n          this.filteredCopyBoutiques = [...this.allBoutiques];\n          return;\n      }\n      \n      const term = this.copySearchTerm.toLowerCase();\n      this.filteredCopyBoutiques = this.allBoutiques.filter(b => \n          b.nomBoutique.toLowerCase().includes(term)\n      );\n  }\n\n  closeCopyModal(): void {\n      this.showCopyModal = false;\n      this.copySearchTerm = '';\n  }\n\n  toggleEditing(): void {\n    this.isEditing = !this.isEditing;\n    \n    if (this.isEditing) {\n      this.boutiqueForm.enable();\n    } else {\n      this.boutiqueForm.disable();\n      // Réinitialiser le formulaire avec les valeurs originales\n      if (this.boutique) {\n        this.boutiqueForm.patchValue({\n          nomBoutique: this.boutique.nomBoutique,\n          adresse: this.boutique.adresse,\n          email: this.boutique.email,\n          telephone: this.boutique.telephone\n        });\n      }\n    }\n  }\n\n  goToBoutique() {\n    if (this.isEditing) {\n      this.cancelEditing();\n    } else {\n      this.router.navigate(['/boutique']);\n    }\n  }\n\n  cancelEditing(): void {\n    this.isEditing = false;\n    this.boutiqueForm.disable();\n    this.loadBoutique();\n  }\n\n  getLoadingMessage(): string {\n    if (this.isLoading) return 'Chargement en cours...';\n    if (this.isUpdating) return 'Mise à jour du statut...';\n    if (this.isUpdating_boutique) return 'Mise à jour des informations...';\n    return 'Traitement en cours...';\n  }\n\n  // Modifiez la méthode existante\n  toggleBoutiqueStatus(event: Event): void {\n    event.preventDefault();\n    this.checkboxRef = event.target as HTMLInputElement;\n    const newStatus = this.checkboxRef.checked;\n    this.pendingStatusChange = newStatus;\n\n    this.confirmationTitle = newStatus \n      ? 'Activation de la boutique' \n      : 'Désactivation de la boutique';\n\n    this.confirmationMessage = newStatus\n      ? 'Êtes-vous sûr de vouloir activer cette boutique ? Les utilisateurs pourront y accéder.'\n      : 'Êtes-vous sûr de vouloir désactiver cette boutique ? L\\'accès sera bloqué.';\n\n    this.showConfirmationModal = true;\n  }\n\n  // Ajoutez ces nouvelles méthodes\n  cancelAction(): void {\n    this.showConfirmationModal = false;\n    if (this.checkboxRef) {\n      this.checkboxRef.checked = !this.checkboxRef.checked;\n    }\n    this.pendingStatusChange = null;\n  }\n\n  handleStatusChange(): void {\n      if (!this.boutique || this.pendingStatusChange === null) return;\n\n      this.isUpdating = true;\n      this.showConfirmationModal = false;\n\n      // Démarrer un timer pour le délai minimum de 3 secondes\n      const minDelay = 3000;\n      const startTime = Date.now();\n\n      const operation$ = this.pendingStatusChange \n          ? this.boutiqueService.activerBoutique(this.boutique.id)\n          : this.boutiqueService.desactiverBoutique(this.boutique.id);\n\n      operation$.subscribe({\n          next: () => {\n              const elapsed = Date.now() - startTime;\n              const remainingDelay = Math.max(minDelay - elapsed, 0);\n              \n              // Attendre le temps restant pour compléter les 3 secondes\n              setTimeout(() => {\n                  this.loadBoutique();\n                  this.isUpdating = false;\n              }, remainingDelay);\n          },\n          error: (err) => {\n              const elapsed = Date.now() - startTime;\n              const remainingDelay = Math.max(minDelay - elapsed, 0);\n              \n              setTimeout(() => {\n                  console.error(err);\n                  this.isUpdating = false;\n                  if (this.checkboxRef) {\n                      this.checkboxRef.checked = !this.pendingStatusChange;\n                  }\n                  this.showErrorMessage();\n              }, remainingDelay);\n          }\n      });\n  }\n\n  private showSuccessMessage(action: string): void {\n    // Implémenter une notification ou message temporaire\n    alert(`Boutique ${action} avec succès !`);\n  }\n\n  private showErrorMessage(): void {\n    alert('Échec de la mise à jour du statut');\n  }\n\n  async onSubmitBoutique(): Promise<void> {\n    if (this.boutiqueForm.invalid || !this.boutique) return;\n\n    this.isLoading = true;\n    this.errorMessage = null;\n    this.successMessage = null;\n\n    try {\n      // Délai minimum de 2 secondes pour le loading\n      await new Promise(resolve => setTimeout(resolve, 2000));\n\n      // Appel au service\n      const response = await this.boutiqueService.updateBoutique(\n        this.boutique.id, \n        this.boutiqueForm.value\n      ).toPromise();\n\n      // Mettre à jour la boutique locale\n      if (this.boutique) {\n        this.boutique = { \n          ...this.boutique, \n          ...this.boutiqueForm.value \n        };\n      }\n\n      this.successMessage = 'Boutique mise à jour avec succès !';\n      \n      // Désactiver le mode édition après succès\n      this.toggleEditing();\n      \n      // Effacer le message après 5 secondes\n      setTimeout(() => this.successMessage = null, 5000);\n\n    } catch (err: any) {\n      console.error('Update error:', err);\n      this.errorMessage = err.error?.message || 'Erreur lors de la mise à jour';\n    } finally {\n      this.isLoading = false;\n    }\n  }\n\n  toggleModificationForm() {\n    this.isModificationFormVisible = !this.isModificationFormVisible;\n    this.cd.detectChanges(); // Force la mise à jour du DOM\n  }\n\n  navigateBack(){\n    this.router.navigate(['/boutique']);\n  }\n\n  toggleTransferModal(): void {\n    // Fermer le modal de copie si ouvert\n    if (this.showCopyModal) {\n        this.showCopyModal = false;\n    }\n    \n    this.showTransferModal = !this.showTransferModal;\n    if (this.showTransferModal) {\n        this.loadAllBoutiques();\n        this.searchTerm = '';\n        this.filterBoutiques();\n    }\n  }\n\n  toggleCopierModal(): void {\n    this.showTransferModal = !this.showTransferModal;\n    if (this.showTransferModal) {\n        this.loadAllBoutiques();\n    }\n  }\n\n  closeTransferModal(): void {\n    this.showTransferModal = false;\n    this.searchTerm = '';\n  }\n\n  // Ajoute ça dans DetailBoutiqueComponent (private helper)\n  // private normalizeBoutique(b: any): Boutique {\n  //   return {\n  //     id: b.id,\n  //     nomBoutique: b.nomBoutique ?? '',\n  //     telephone: b.telephone ?? '',\n  //     email: b.email ?? '',\n  //     adresse: b.adresse ?? '',\n  //     caisseId: b.caisseId ?? null,\n  //     // propriétés manquantes : on fournit des valeurs par défaut\n  //     actif: typeof b.actif === 'boolean' ? b.actif : false,\n  //     type: b.type ?? 'BOUTIQUE',\n  //     typeBoutique: b.typeBoutique ?? 'BOUTIQUE',\n  //     // si ton interface Boutique contient d'autres champs, les ajouter ici aussi\n  //   } as Boutique;\n  // }\n\n  // Charger toutes les boutiques (sauf la boutique actuelle)\n  // loadAllBoutiques(): void {\n  //   this.usersService.getUserInfo().pipe(take(1)).subscribe({\n  //     next: (user) => {\n  //       const mapAndFilter = (list: any[]) => {\n  //         const arr = (list || []).map(b => this.normalizeBoutique(b));\n  //         // Exclure la boutique courante si nécessaire\n  //         this.allBoutiques = arr.filter(b => b.id !== this.boutique?.id);\n  //         this.filteredCopyBoutiques = [...this.allBoutiques];\n  //         this.filteredBoutiques = [...this.allBoutiques];\n  //       };\n\n  //       if (user && user.roleType === 'VENDEUR') {\n  //         // vendeur : ne charger que ses boutiques (depuis user.boutiques)\n  //         mapAndFilter(user.boutiques || []);\n  //       } else {\n  //         // admin/manager : charger toutes les boutiques de l'entreprise\n  //         this.boutiqueService.getBoutiquesByEntreprise().subscribe({\n  //           next: (boutiques) => mapAndFilter(boutiques),\n  //           error: (err) => {\n  //             console.error('Erreur lors du chargement des boutiques', err);\n  //             this.allBoutiques = [];\n  //             this.filteredCopyBoutiques = [];\n  //             this.filteredBoutiques = [];\n  //           }\n  //         });\n  //       }\n  //     },\n  //     error: (err) => {\n  //       console.error('Erreur récupération user', err);\n  //       // fallback : charger toutes les boutiques\n  //       this.boutiqueService.getBoutiquesByEntreprise().subscribe({\n  //         next: (boutiques) => {\n  //           this.allBoutiques = (boutiques || []).map(b => this.normalizeBoutique(b));\n  //           this.filteredCopyBoutiques = [...this.allBoutiques];\n  //           this.filteredBoutiques = [...this.allBoutiques];\n  //         },\n  //         error: () => {\n  //           this.allBoutiques = [];\n  //           this.filteredCopyBoutiques = [];\n  //           this.filteredBoutiques = [];\n  //         }\n  //       });\n  //     }\n  //   });\n  // }\n\n  loadAllBoutiques(): void {\n    this.boutiqueService.getBoutiquesByEntreprise().subscribe({\n        next: (boutiques) => {\n            this.allBoutiques = boutiques.filter(b => b.id !== this.boutique?.id);\n            \n            // Initialiser les deux listes filtrées\n            this.filteredCopyBoutiques = [...this.allBoutiques];\n            this.filteredBoutiques = [...this.allBoutiques];\n        },\n        error: (err) => {\n            console.error('Erreur lors du chargement des boutiques', err);\n        }\n    });\n  }\n\n  filterBoutiques(): void {\n    if (!this.searchTerm) {\n        this.filteredBoutiques = [...this.allBoutiques];\n        return;\n    }\n    \n    const term = this.searchTerm.toLowerCase();\n    this.filteredBoutiques = this.allBoutiques.filter(b => \n        b.nomBoutique.toLowerCase().includes(term)\n    );\n  }\n\n  // Sélectionner une boutique pour le transfert\n  selectBoutique(boutique: Boutique): void {\n    console.log('Boutique sélectionnée pour le transfert :', boutique);\n    // Ici vous pouvez implémenter la logique de transfert\n    \n    // Fermer le modal après sélection\n    this.closeTransferModal();\n  }\n\n  // loadProductsInBoutique(boutiqueId: number): void {\n  //   this.isLoadingProducts = true;\n  //   this.boutiqueService.getProductsByBoutiqueId(boutiqueId).subscribe({\n  //     next: (produits) => {\n  //       this.productsInBoutique = produits.map(produit => ({\n  //         ...produit,\n  //         photoUrl: produit.photo ? `${this.imgUrl}${produit.photo}` : this.generateInitialImage(produit.nom.charAt(0))\n  //       }));\n  //       this.isLoadingProducts = false;\n  //     },\n  //     error: (err) => {\n  //       console.error('Erreur chargement produits', err);\n  //       this.isLoadingProducts = false;\n  //     }\n  //   });\n  // }\n\n  loadProductsInBoutique(boutiqueId: number, loadMore: boolean = false): void {\n    if (loadMore) {\n      this.isLoadingMore = true;\n    } else {\n      this.isLoadingProducts = true;\n      this.currentPage = 0;\n      this.allProductsLoaded = false;\n    }\n\n    this.boutiqueService.getProduitsBoutiquePaginated(boutiqueId, this.currentPage, this.pageSize)\n      .subscribe({\n        next: (response) => {\n          const newProducts = response.content.map(produit => ({\n            ...produit,\n            photoUrl: produit.photo ? `${this.imgUrl}${produit.photo}` : this.generateInitialImage(produit.nom.charAt(0)),\n            nomCategorie: produit.categorie?.nom || '',\n            nomUnite: produit.uniteDeMesure?.nom || '',\n          }));\n\n          if (loadMore) {\n            this.productsInBoutique = [...this.productsInBoutique, ...newProducts];\n          } else {\n            this.productsInBoutique = newProducts;\n            // Mettre à jour le compteur total avec la valeur de l'API\n            this.totalProductsCount = response.totalElements;\n          }\n\n          this.filteredProducts = [...this.productsInBoutique];\n          this.totalPages = response.totalPages;\n          \n          this.isLoadingProducts = false;\n          this.isLoadingMore = false;\n          this.allProductsLoaded = this.currentPage >= response.totalPages - 1;\n        },\n        error: (err) => {\n          console.error('Erreur chargement produits', err);\n          this.isLoadingProducts = false;\n          this.isLoadingMore = false;\n        }\n      });\n  }\n\n  loadMoreProducts(): void {\n    if (this.isLoadingMore || this.allProductsLoaded || !this.boutique) return;\n    \n    this.isLoadingMore = true;\n    this.currentPage++;\n    \n    this.boutiqueService.getProduitsBoutiquePaginated(this.boutique.id, this.currentPage, this.pageSize)\n      .subscribe({\n        next: (response) => {\n          const newProducts = response.content.map(produit => ({\n            ...produit,\n            photoUrl: produit.photo ? `${this.imgUrl}${produit.photo}` : this.generateInitialImage(produit.nom.charAt(0)),\n            nomCategorie: produit.categorie?.nom || '',\n            nomUnite: produit.uniteDeMesure?.nom || '',\n          }));\n\n          this.productsInBoutique = [...this.productsInBoutique, ...newProducts];\n          this.filteredProducts = [...this.productsInBoutique];\n          this.totalPages = response.totalPages;\n          \n          // Délai de 3 secondes avant de masquer le loading\n          setTimeout(() => {\n            this.isLoadingMore = false;\n          }, 3000);\n          \n          this.allProductsLoaded = this.currentPage >= response.totalPages - 1;\n        },\n        error: (err) => {\n          console.error('Erreur chargement produits supplémentaires', err);\n          // Délai de 3 secondes même en cas d'erreur\n          setTimeout(() => {\n            this.isLoadingMore = false;\n          }, 3000);\n          this.currentPage--; // Revenir à la page précédente en cas d'erreur\n        }\n      });\n  }\n  \n onTableScroll(event: any): void {\n  if (this.allProductsLoaded || this.isLoadingMore || !this.boutique) return;\n\n  const threshold = 100;\n  const container = event.target;\n  const position = container.scrollTop + container.offsetHeight;\n  const height = container.scrollHeight;\n\n  if (position > height - threshold) {\n    this.loadMoreProducts();\n  }\n}\n\n  highlightMatch(text: string): string {\n    if (!this.searchText) return text;\n    const regex = new RegExp(`(${this.searchText})`, 'gi');\n    return text.replace(regex, '<mark>$1</mark>');\n  }\n\n  handleImageError(event: Event, product: Produit): void {\n    const img = event.target as HTMLImageElement;\n    img.src = this.generateInitialImage(product.nom.charAt(0));\n    img.onerror = null; // Empêcher les boucles d'erreur\n  }\n\n  // Méthode pour générer une image avec initiale\n  generateInitialImage(letter: string): string {\n    const svg = `\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"200\" height=\"200\">\n        <rect width=\"100%\" height=\"100%\" fill=\"#0671e4ac\"/>\n        <text x=\"50%\" y=\"50%\" dominant-baseline=\"middle\" text-anchor=\"middle\" font-size=\"100\" fill=\"#fff\">\n          ${letter.toUpperCase()}\n        </text> \n      </svg>\n    `;\n    return 'data:image/svg+xml;base64,' + btoa(svg);\n  }\n\n  // Implémentez les méthodes manquantes\n  toggleSelectAll(event: Event): void {\n    if (!this.boutique?.actif) return;\n    const checkbox = event.target as HTMLInputElement;\n    if (checkbox.checked) {\n      this.selectedProductIds = this.productsInBoutique.map(p => p.id);\n    } else {\n      this.selectedProductIds = [];\n    }\n  }\n\n  isProductSelected(id: number): boolean {\n    return this.selectedProductIds.includes(id);\n  }\n  \n  openImageModal(imageUrl: string | undefined): void {\n  if (!this.boutique?.actif) return;\n  if (imageUrl) {\n    this.selectedImageUrl = imageUrl;\n    this.showImageModal = true;\n  } else {\n    // Gérer le cas où l'URL est undefined\n    console.warn(\"Aucune URL d'image fournie\");\n  }\n}\n\n  closeImageModal(): void {\n    this.showImageModal = false;\n    this.selectedImageUrl = null;\n  }\n\n  // Dans la classe DetailBoutiqueComponent\n  toggleProductSelection(productId: number, event: Event): void {\n    if (!this.boutique?.actif) return;\n    event.stopPropagation();\n    const index = this.selectedProductIds.indexOf(productId);\n    \n    if (index === -1) {\n      this.selectedProductIds.push(productId);\n    } else {\n      this.selectedProductIds.splice(index, 1);\n    }\n  }\n\n\n\n\nloadAllVendeursBoutique(): void {\n  if (!this.boutiqueId) {\n    this.errorMessage = \"Identifiant boutique manquant\";\n    console.log('Erreur : identifiant boutique manquant');\n    return;\n  }\n\n  this.boutiqueService.getVendeursDeBoutique(this.boutiqueId).subscribe({\n    next: (response) => {\n      // Loguer la réponse brute pour vérifier son format\n      console.log('Réponse brute de l\\'API :', response);\n\n      const vendeurs = response; // Si la réponse contient déjà un tableau de vendeurs\n      \n      console.log(`Liste des vendeurs récupérée (${vendeurs.length}) :`, vendeurs);\n\n      const timestamp = new Date().getTime(); \n\n      // Map des vendeurs pour ajouter l'URL complète de la photo et la date d'affectation\n      this.listeVendeurs = vendeurs.map((vendeur: { \n        photo: string, \n        nomComplet: string, \n        email: string, \n        phone: string, \n        pays: string,\n        assignedAt: string // Nouvelle propriété\n      }) => {\n        const fullImageUrl = (vendeur.photo && vendeur.photo !== 'null' && vendeur.photo !== 'undefined')\n          ? `${this.apiUrl}${vendeur.photo}?t=${timestamp}`\n          : 'assets/img/profil.png'; // Photo par défaut si pas d'image\n\n        // Formatage de la date d'affectation si nécessaire (par exemple : \"YYYY-MM-DD HH:mm\")\n        const assignedAtFormatted = new Date(vendeur.assignedAt).toLocaleString();\n\n        return {\n          ...vendeur,\n          photo: fullImageUrl,\n          assignedAt: assignedAtFormatted // Ajout de la date formatée\n        };\n      });\n\n      // Réinitialiser le message d'erreur\n      this.errorMessage = '';\n    },\n    error: (err) => {\n      console.error('Erreur lors du chargement des vendeurs', err);\n      this.listeVendeurs = [];\n      this.errorMessage = \"Erreur lors du chargement des vendeurs.\";\n    }\n  });\n}\n\n\n\n\n\n\nouvrirImage(photoUrl: string): void {\n  this.imageActuelle = photoUrl || 'assets/defaultProfile/profil.png';\n  this.showImageModal = true;\n}\n\nfermerImage(): void {\n  this.showImageModal = false;\n}\n\n  ajouterVendeur(): void {\n    // Rediriger vers une page d'ajout ou ouvrir un modal\n    console.log('Ajouter un vendeur cliqué');\n  }\n\n  clearSearch(): void {}\n\n  deleteSelectedProducts(): void {\n    if (this.selectedProductIds.length === 0) {\n      this.deleteWarningMessage = \"Veuillez sélectionner au moins un produit à supprimer.\";\n      this.showDeleteWarningModal = true;\n      return;\n    }\n\n    this.deleteMessage = `Êtes-vous sûr de vouloir supprimer les ${this.selectedProductIds.length} produit(s) sélectionné(s) ?`;\n    this.showDeleteModal = true;\n  }\n\n  // Confirmation de suppression\nasync confirmDelete(): Promise<void> {\n  this.showDeleteModal = false;\n  this.isDeleting = true;\n\n  const corbeilleIds: number[] = [];\n  const errors: string[] = [];\n\n  for (const id of this.selectedProductIds) {\n    try {\n      const response = await lastValueFrom(this.boutiqueService.mettreEnCorbeille(id));\n      \n      if (response.status === 'success') {\n        corbeilleIds.push(id);\n      } else {\n        errors.push(`Réponse inattendue: ${response.message}`);\n      }\n    } catch (error: any) {\n      errors.push(error.message || 'Erreur inconnue');\n    }\n  }\n\n this.isDeleting = false;\n\n  if (corbeilleIds.length > 0) {\n    this.successMessage = `${corbeilleIds.length} produit(s) mis en corbeille avec succès.`;\n\n    // ✅ Mise à jour locale : on filtre les produits supprimés\n    this.productsInBoutique = this.productsInBoutique.filter(\n      p => !corbeilleIds.includes(p.id)\n    );\n\n    this.filteredProducts = this.filteredProducts.filter(\n      p => !corbeilleIds.includes(p.id)\n    );\n\n    this.selectedProductIds = [];\n  }\n  \n  if (errors.length > 0) {\n    this.errorMessage = `${errors.join(', ')}`;\n  }\n\n  setTimeout(() => {\n    this.successMessage = null;\n    this.errorMessage = null;\n  }, 5000);\n}\n\n  cancelDelete(): void {\n    this.showDeleteModal = false;\n  }\n\n  // Ajouter ces méthodes dans la classe\n  toggleFilterDropdown(): void {\n    this.showFilterDropdown = !this.showFilterDropdown;\n  }\n\n  applyFilters(): void {\n    let filtered = [...this.productsInBoutique]; // Utilisez la source originale\n    const searchLower = this.searchText.toLowerCase().trim();\n\n    if (this.searchText) {\n      if (this.selectedFilters.length > 0) {\n        filtered = filtered.filter(product => {\n          return this.selectedFilters.some(filter => {\n            const key = filter.type as keyof Produit;\n            const value = product[key]?.toString().toLowerCase() || '';\n            return value.includes(searchLower);\n          });\n        });\n      } else {\n        // Recherche dans toutes les propriétés\n        filtered = filtered.filter(product => \n          Object.values(product).some(val => \n            val?.toString().toLowerCase().includes(searchLower)\n        ));\n      }\n    }\n\n    this.filteredProducts = filtered;\n  }\n\n  addFilter(filter: any): void {\n    if (this.isFilterSelected(filter.type)) {\n      this.selectedFilters = [];\n    } else {\n      this.selectedFilters = [filter];\n    }\n    this.showFilterDropdown = false;\n    this.applyFilters();\n    \n    setTimeout(() => {\n      if (this.searchInput?.nativeElement) {\n        this.searchInput.nativeElement.focus();\n      }\n    }, 0);\n  }\n\n  isFilterSelected(filterType: string): boolean {\n    return this.selectedFilters.some(f => f.type === filterType);\n  }\n\n  focusSearchInput(): void {\n    if (this.searchInput?.nativeElement) {\n      this.searchInput.nativeElement.focus();\n    }\n  }\n\n  removeFilter(filter: any): void {\n    this.selectedFilters = this.selectedFilters.filter(f => f !== filter);\n    this.applyFilters();\n  }\n\n  getSearchPlaceholder(): string {\n    if (this.selectedFilters.length > 0) {\n      return `par ${this.selectedFilters[0].label.toLowerCase()}...`;\n    }\n    return \"Rechercher...\";\n  }\n\n  resetFilters(): void {\n    this.selectedFilters = [];\n    this.searchText = '';\n    this.filteredProducts = [...this.productsInBoutique]; // Réinitialisez à la liste complète\n    this.showFilterDropdown = false;\n  }\n\n  deleteBoutique() {\n    if (!this.boutique) {\n      console.error(\"La boutique n'est pas disponible.\");\n      return;\n    }\n\n    this.showConfirmationModalB = true;\n  }\n\n  async confirmDeleteB(): Promise<void> {\n    this.showConfirmationModalB = false\n    if (!this.boutique) return;\n\n    this.showConfirmationModal = false;\n    this.isDeletingB = true;\n\n    this.errorMessage = null;\n    this.successMessage = null;\n\n    try {\n      const response = await lastValueFrom(this.boutiqueService.deleteBoutique(this.boutique.id));\n      this.successMessage = 'Boutique supprimée avec succès.';\n      this.router.navigate(['/boutique']);\n    } catch (err: any) {\n      let message = err?.error?.error || 'Erreur lors de la suppression.';\n      const prefix = \"Une erreur est survenue : \";\n      if (message.startsWith(prefix)) {\n        message = message.substring(prefix.length);\n      }\n      this.errorMessage = message;\n    } finally {\n      this.isDeletingB = false;\n      setTimeout(() => {\n        this.errorMessage = null;\n        this.successMessage = null;\n      }, 5000);\n    }\n  }\n\n  toggleUserList(): void {\n      this.showUserList = !this.showUserList;\n      if (this.showUserList) {\n          this.loadAllUsersOfEntreprise();\n      }\n  }\n\n  loadAllUsersOfEntreprise(): void {\n    this.usersService.getUserInfo().subscribe({\n        next: (userData) => {\n            if (userData && userData.id) {\n                const entrepriseId = userData.id;\n                const token = this.usersService.getToken();\n                const connectedUserId = token ? this.usersService.extractUserIdFromToken(token) : null;\n\n                this.usersService.getAllUsersOfEntreprise(entrepriseId).subscribe({\n                    next: (data) => {\n                        this.allUsers = data.filter(user => user.id !== connectedUserId)\n                            .map(user => ({\n                                ...user,\n                                photoUrl: user.photo ? `${this.apiUrl}${user.photo}` : 'assets/img/profil.png'\n                            }));\n                    },\n                    error: (err) => {\n                        console.error('Erreur lors du chargement des utilisateurs', err);\n                    }\n                });\n            }\n        },\n        error: (err) => {\n            console.error(\"Erreur lors de la récupération des informations utilisateur :\", err);\n        }\n    });\n  }\n\n  // Méthodes pour gérer la sélection des utilisateurs\n  toggleSelectAllUsers(event: Event): void {\n      const checkbox = event.target as HTMLInputElement;\n      if (checkbox.checked) {\n        this.selectedUserIds = this.allUsers\n          .map(u => u.id)\n          .filter((id): id is number => id !== undefined);\n      } else {\n          this.selectedUserIds = [];\n      }\n  }\n\n  isUserSelected(id: number | undefined): boolean {\n    return id !== undefined && this.selectedUserIds.includes(id);\n  }\n\n  toggleUserSelection(id: number): void {\n      if (id === undefined) return;\n      const index = this.selectedUserIds.indexOf(id);\n      if (index === -1) {\n          this.selectedUserIds.push(id);\n      } else {\n          this.selectedUserIds.splice(index, 1);\n      }\n  }\n\n  // Méthode pour associer un utilisateur à la boutique\nassociateUserToBoutique(userId: number): void {\n    if (!this.boutiqueId) {\n      console.error(\"Aucune boutique sélectionnée.\");\n      return;\n    }\n    if (userId === undefined || userId === null) {\n      console.error(\"Aucun utilisateur sélectionné.\");\n      return;\n    }\n\n    // Préparer l'objet de la requête\n    const request: AssignerVendeurRequest = {\n      userId: userId,\n      boutiqueIds: [this.boutiqueId] \n    };\n\n    this.boutiqueService.assignerVendeur(request).subscribe({\n      next: (response) => {\n        // Vérifier la réponse et afficher un message de succès\n        if (response.status === 'success') {\n          this.successMessage = 'Utilisateur associé à la boutique avec succès!';\n        } else {\n          this.successMessage = 'Aucune boutique n\\'a été affectée.';\n        }\n        // Recharger la liste des vendeurs de la boutique si nécessaire\n        // this.loadAllVendeursBoutique();\n\n        // Effacer le message après 3 secondes\n        setTimeout(() => this.successMessage = null, 3000);\n        this.loadAllVendeursBoutique()\n      },\n      error: (err) => {\n        // Gérer les erreurs de l'API\n        this.errorMessage = \"Erreur lors de l'association : \" + (err.error?.message || err.message);\n        setTimeout(() => this.errorMessage = null, 5000);\n      }\n    });\n  }\n\nselectedVendeurs: number[] = [];\ntoggleSelectionCheckbox(event: Event, id: number | undefined): void {\n  if (id === undefined) {\n    console.warn(\"ID vendeur manquant.\");\n    return;\n  }\n\n  const checked = (event.target as HTMLInputElement).checked;\n\n  if (checked) {\n    this.selectedVendeurs.push(id);\n  } else {\n    this.selectedVendeurs = this.selectedVendeurs.filter(v => v !== id);\n  }\n\n  console.log('Vendeurs sélectionnés:', this.selectedVendeurs);\n}\n\n\n\ndeleteSelectedVendeurs(): void {\n  if (this.selectedVendeurs.length === 0) {\n    console.warn(\"Aucun vendeur sélectionné.\");\n    return;\n  }\n\n  this.selectedVendeurs.forEach(userId => {\n    this.dissociateUserFromBoutique(userId);\n  });\n\n  this.selectedVendeurs = []; // Réinitialise après suppression\n}\n\n  // Methode pour retirer vendeur\n  dissociateUserFromBoutique(userId: number): void{\n        if (!this.boutiqueId) {\n      console.error(\"Aucune boutique sélectionnée.\");\n      return;\n    }\n    if (userId === undefined || userId === null) {\n      console.error(\"Aucun utilisateur sélectionné.\");\n      return;\n    }\n\n    // Préparer l'objet de la requête\n    const request: AssignerVendeurRequest = {\n      userId: userId,\n      boutiqueIds: [this.boutiqueId] \n    };\n\n    this.boutiqueService.retirerVendeur(request).subscribe({\n      next: (response) => {\n        // Vérifier la réponse et afficher un message de succès\n        if (response.status === 'success') {\n          this.successMessage = 'Utilisateur retiré de la boutique!';\n        } else {\n          this.successMessage = 'Aucune Utilisateur n\\'a été retiré.';\n        }\n        // Recharger la liste des vendeurs de la boutique si nécessaire\n        // this.loadAllVendeursBoutique();\n\n        // Effacer le message après 3 secondes\n        setTimeout(() => this.successMessage = null, 3000);\n        this.loadAllVendeursBoutique()\n      },\n      error: (err) => {\n        // Gérer les erreurs de l'API\n        this.errorMessage = \"Erreur lors de retrait : \" + (err.error?.message || err.message);\n        setTimeout(() => this.errorMessage = null, 5000);\n      }\n    });\n\n  }\n\nformatDateOnly(dateString?: string): string {\n  if (!dateString) return '';\n\n  // Supposons format : \"28/07/2025 10:48:52\"\n  const parts = dateString.split(' ')[0].split('/'); // [\"28\", \"07\", \"2025\"]\n\n  if (parts.length !== 3) return '';\n\n  const day = parseInt(parts[0], 10);\n  const month = parseInt(parts[1], 10) - 1; // JS month index commence à 0\n  const year = parseInt(parts[2], 10);\n\n  const date = new Date(year, month, day);\n\n  if (isNaN(date.getTime())) return '';\n\n  return date.toLocaleDateString('fr-FR', {\n    day: '2-digit',\n    month: '2-digit',\n    year: 'numeric'\n  });\n}\n\n\n\n}\n","\n<div class=\"toast-container\">\n  <!-- Message d'erreur principal -->\n  <div *ngIf=\"errorMessage\" class=\"alert alert-danger toast-message-danger\">\n    {{ errorMessage }}\n  </div>\n  \n  <!-- Message de succès -->\n  <div *ngIf=\"successMessage\" class=\"alert alert-success toast-message-success\">\n    {{ successMessage }}\n  </div>\n  \n  <!-- Erreur API -->\n  <div *ngIf=\"errorMessageApi\" class=\"alert alert-danger toast-message-danger\">\n    {{ errorMessageApi }}\n  </div>\n\n    <div *ngIf=\"copySuccessMessage\" class=\"alert alert-warning toast-message-success\">\n    {{ copySuccessMessage }}\n    </div>\n\n    <!-- Message d'erreur -->\n    <div *ngIf=\"copyErrorMessage\" class=\"alert alert-danger toast-message-danger\">\n    {{ copyErrorMessage }}\n    </div>\n\n    <!-- Dans le toast-container -->\n    <!-- <div *ngIf=\"copyWarningMessage\" class=\"alert alert-warning toast-message-warning\">\n    {{ copyWarningMessage }}\n    </div> -->\n</div>\n\n<!-- Confirmation Modal -->\n<div class=\"confirmation-modal-aver\" *ngIf=\"showCopyWarningModal\">\n  <div class=\"modal-content-aver\">\n    <h4 style=\"font-size: 16px; margin-bottom: 10px;\">Informations</h4>\n    <p style=\"margin: 0; font-size: 12px;\">Veuillez sélectionner au moins <br>un produit à copier.</p>\n    <div class=\"modal-actions-aver\">\n      <button class=\"btn-confirm\" style=\"font-size: 12px;\" (click)=\"showCopyWarningModal = false\">OK</button>\n    </div>\n  </div>\n</div> \n\n<!-- Confirmation Modal -->\n<div class=\"confirmation-modal-aver\" *ngIf=\"showDeleteWarningModal\">\n  <div class=\"modal-content-aver\">\n    <h4 style=\"font-size: 16px; margin-bottom: 10px;\">Informations</h4>\n    <p style=\"margin: 0; font-size: 12px;\">Veuillez sélectionner au moins <br>un produit à supprimer.</p>\n    <div class=\"modal-actions-aver\">\n      <button class=\"btn-confirm\" style=\"font-size: 12px;\" (click)=\"showDeleteWarningModal = false\">OK</button>\n    </div>\n  </div>\n</div>\n\n\n<!-- Icon return  -->\n<p class=\"retour_icon_text\" (click)=\"navigateBack()\" style=\"cursor: pointer; color: #0672E4;\" title=\"Retour sur la page boutique\">\n    <i class=\"ri-arrow-left-s-line\"></i> <span style=\"margin-left: 8px; font-size: 12px;\">Boutique</span>\n</p>\n\n<!-- <a href=\"https://wa.me/+22372303157?text=Bonjour,%20je%20souhaite%20plus%20d'informations\">Contacter sur WhatsApp</a> -->\n\n<div class=\"container_client\">\n\n  <div *ngIf=\"isLoading\" class=\"loading-overlay\">\n    <div class=\"loading-content\">\n      <div class=\"spinner\"></div>\n      <p>Creation en cours...</p>\n    </div>\n  </div>\n\n  <div class=\"information_cadre\" style=\"margin-bottom: 20px; padding: 20px;\">\n    <div class=\"info_personnel\">\n        <div class=\"information_grid_two\">\n        <!-- Section Action boutique -->\n        <div class=\"profil_section\">\n                <div class=\"section_title\">\n                    <div class=\"title\">\n                        <h6>Action {{ boutique?.typeBoutique === 'ENTREPOT' ? \"l'entrepôt\" : 'de la boutique' }}</h6>\n                    </div>\n                </div>\n\n                <div class=\"container_boutique_action\">\n                    <div class=\"name_permission\">\n                        Status : \n                        <span \n                                class=\"valueBoutique\" \n                                style=\"font-size: 15px;\"\n                                *ngIf=\"boutique; else loading\"\n                                [style.color]=\"boutique.actif ? '#008000' : '#ff0000'\"\n                                >\n                                <!-- Si mise à jour en cours -->\n                                <ng-container *ngIf=\"isUpdating; else statusText\">\n                                    <span class=\"spinner-small\"></span>\n                                    <div class=\"spinner-border text-primary spinner-small\" role=\"status\">\n                                    <span class=\"visually-hidden\">Loading...</span>\n                                    </div>\n                                </ng-container>\n\n                                <!-- Texte d’état -->\n                                <ng-template #statusText>\n                                    {{ boutique.actif ? 'Actif' : 'Inactif' }}\n                                </ng-template>\n                        </span>\n\n                            <!-- Template pendant chargement initial -->\n                            <ng-template #loading>\n                            <span class=\"spinner-border text-secondary spinner-small\" role=\"status\">\n                                <span class=\"visually-hidden\">Chargement...</span>\n                            </span>\n                            </ng-template>\n\n                    </div>\n\n                    <label class=\"switch\">\n                        <input \n                            type=\"checkbox\" \n                            [checked]=\"boutique?.actif\"\n                            (change)=\"toggleBoutiqueStatus($event)\"\n                            [disabled]=\"isUpdating\"\n                        />\n                        <span class=\"slider round\"></span>\n                    </label>\n                </div>\n\n                <!-- Bouton supprimer  -->\n                    <div class=\"delete-boutique-container\" style=\"margin-top: 22px;\">\n                           <span style=\"font-size: 13px;\">\n                              <span style=\"font-size: 13px;\">\n                                Supprimer {{ boutique?.typeBoutique === 'ENTREPOT' ? \"l'entrepôt\" : 'la boutique' }}\n                                </span>\n\n                            </span>\n\n                            <label class=\"switch2\">\n                                <button \n                            class=\"delete-boutique-btn\" \n                            (click)=\"deleteBoutique()\" \n                            [disabled]=\"isDeleting\" \n                            aria-label=\"Supprimer la boutique\"\n                            title=\"Supprimer la boutique\">\n                            <i class=\"fas fa-trash-alt\"></i>\n                        </button>\n                            </label>\n                    </div> \n        </div> \n        \n        <!-- Modal de confirmation personnalisée -->\n        <div class=\"confirmation-modal-averB\" *ngIf=\"showConfirmationModalB\">\n        <div class=\"modal-content-averB\">\n            <h4 style=\"font-size: 16px; margin-bottom: 10px;\">Confirmation</h4>\n            <p style=\"margin: 0; font-size: 12px;\">Êtes-vous sûr de vouloir supprimer {{ boutique?.typeBoutique === 'ENTREPOT' ? \"l'entrepôt\" : 'la boutique' }} ?</p>\n            <div class=\"modal-actions-averB\">\n            <button class=\"btn-confirm\" style=\"font-size: 12px;\" (click)=\"confirmDeleteB()\">OUI</button>\n            <button class=\"btn-cancel\" style=\"font-size: 12px;\" (click)=\"showConfirmationModalB = false\">NON</button>\n            </div>\n        </div>\n        </div>\n\n        <!-- Section Informations Personnelles -->\n        <div class=\"info_section\">\n            <div class=\"section_title\">\n                <div class=\"title title_display\">\n                    <h6>Informations sur {{ boutique?.typeBoutique === 'ENTREPOT' ? \"l'entrepôt\" : 'la boutique' }}</h6>\n                    <div class=\"icon_edit\">\n                    <i *ngIf=\"!isEditing\" \n                        class=\"ri-edit-box-line\" \n                        title=\"Cliquer ici pour modifier\"\n                        (click)=\"toggleEditing()\"></i>\n                    \n                    <i *ngIf=\"isEditing\" style=\"color: #ff0000;\"\n                        class=\"ri-close-line\" \n                        title=\"Fermer l'édition\"\n                        (click)=\"toggleEditing()\"></i>\n                    </div>\n                </div>\n            </div>\n            \n            <form [formGroup]=\"boutiqueForm\" class=\"container_formulaire\">\n                <div class=\"champ_grid\">\n                    <!-- Nom de la boutique -->\n                    <div class=\"champ_input\">\n                        <input \n                            formControlName=\"nomBoutique\" \n                            class=\"input_focus\" \n                            placeholder=\"Saisis le nom de la boutique\"\n                        >\n                        <label class=\"label\">Nouveau nom</label>\n                        <div *ngIf=\"boutiqueForm.get('nomBoutique')?.invalid && boutiqueForm.get('nomBoutique')?.touched\">\n                            <small class=\"text-danger\">Ce champ est obligatoire</small>\n                        </div>\n                    </div>\n\n                    <!-- Adresse de la boutique -->\n                    <div class=\"champ_input\">\n                        <input \n                            formControlName=\"adresse\" \n                            class=\"input_focus\" \n                            placeholder=\"Saisis l'adresse de la boutique\"\n                        >\n                        <label class=\"label\">Nouvelle adresse</label>\n                    </div>\n                </div>\n\n                <div class=\"champ_grid\">\n                    <div class=\"champ_input\">\n                        <input \n                            formControlName=\"email\" \n                            class=\"input_focus\" \n                            placeholder=\"Saisis l'email\"\n                        >\n                        <label class=\"label\">Nouvelle email</label>\n                    </div>\n\n                    <div class=\"champ_input\">\n                        <input \n                            formControlName=\"telephone\" \n                            class=\"input_focus\" \n                            placeholder=\"Saisis telephone\"\n                        >\n                        <label class=\"label\">Nouvelle telephone</label>\n                    </div>\n                </div>\n            </form>\n\n            <!-- Boutons Ajouter et Sauvegarder -->\n            <div class=\" information_cadre_save\" *ngIf=\"isEditing\">\n            <div></div>\n\n            <div class=\"info_titre_input info_titre_input_btn\">\n                <div class=\"btn_annuler\">\n                <button class=\"btn_cancel\" (click)=\"goToBoutique()\">{{ isEditing ? 'Annuler' : 'Retour' }}</button>\n                </div>\n                <!-- <div class=\"btn_ajouter\">\n                <button \n                    type=\"submit\" \n                    class=\"btn\"\n                    [disabled]=\"boutiqueForm.invalid || isUpdating_boutique\">\n                    <span *ngIf=\"!isUpdating_boutique\" (click)=\"boutiqueForm\">Confirmer</span>\n                    <span *ngIf=\"isUpdating_boutique\">En cours...</span>\n                </button>\n                </div> -->\n\n                <div class=\"btn_ajouter\">\n                    <button class=\"btn_save\" (click)=\"onSubmitBoutique()\"\n                            [disabled]=\"boutiqueForm.invalid || isUpdating_boutique\"\n                            [style.backgroundColor]=\"boutiqueForm.valid ? '#0672E4' : '#0671e434'\"\n                            [style.color]=\"boutiqueForm.valid ? '#ffffff' : '#00000073'\"\n                            [style.cursor]=\"boutiqueForm.valid ? 'pointer' : 'no-drop'\">\n                        Confirmer\n                    </button>\n                </div>\n\n            </div>\n            </div>\n        \n        </div>\n        </div>\n\n        <!-- // Pour la copier des produit  -->\n        <div class=\"content_copie_produit\" [class.disabled-content]=\"!boutique?.actif\">\n\n            <div style=\"display: flex; justify-content: space-between;\">\n                <!-- // title  -->\n                <div class=\"section_title\" style=\"display: flex; align-items: center;\">\n                    <div class=\"title\" style=\"display: flex; align-items: center;\">\n                        <h6 style=\"margin-right: 8px;\">Produits de {{ boutique?.typeBoutique === 'ENTREPOT' ? \"l'entrepôt\" : 'la boutique' }}</h6>\n                        <!-- <div class=\"facture-count\" *ngIf=\"productsInBoutique.length > 0\" style=\"position: relative; top: -4px; right: 2px;\">\n                            {{ productsInBoutique.length }}\n                        </div> -->\n                        <div class=\"facture-count\" *ngIf=\"totalProductsCount > 0\" style=\"position: relative; top: -4px; right: 2px;\">\n                            {{ totalProductsCount }}\n                        </div>\n                    </div>\n\n                    <div class=\"barre\" style=\"margin-bottom: 8px;\" *ngIf=\"boutique?.actif\"></div>\n\n                    <!-- Icône de suppression avec gestion du clic -->\n                    <div class=\"icon_content icon_delete\" style=\"margin-bottom: 8px;\" *ngIf=\"boutique?.actif\">\n                        <i class=\"ri-delete-bin-6-line\" (click)=\"deleteSelectedProducts()\"></i>\n                    </div>\n\n                    <div class=\"barre\" style=\"margin-bottom: 8px;\" *ngIf=\"boutique?.actif\"></div>\n\n                    <!-- <div class=\"icon_content\" style=\"margin-bottom: 8px; position: relative;\" *ngIf=\"boutique?.actif\">\n                        <i class=\"ri-folder-transfer-line\" (click)=\"toggleTransferModal()\"></i>\n                        <div *ngIf=\"showTransferModal\" class=\"transfer-modal\">\n                            <div class=\"modal-header\">\n                                <h5>Déplacer vers</h5>\n                                <i class=\"ri-close-line\" (click)=\"closeTransferModal()\"></i>\n                            </div>\n                            <div class=\"modal-body\">\n                                <input \n                                    type=\"text\" \n                                    class=\"search-input\" \n                                    placeholder=\"Rechercher une boutique...\" \n                                    [(ngModel)]=\"searchTerm\"\n                                    (input)=\"filterBoutiques()\"\n                                >\n                                <div class=\"boutique-list\">\n                                    <div \n                                        *ngFor=\"let boutique of filteredBoutiques\" \n                                        class=\"boutique-item\"\n                                        (click)=\"selectBoutique(boutique)\"\n                                    >\n                                        {{ boutique.nomBoutique }}\n                                    </div>\n                                    <div *ngIf=\"filteredBoutiques.length === 0\" class=\"no-results\">\n                                        Aucune boutique trouvée\n                                    </div>\n                                </div>\n                            </div>\n                        </div> \n                    </div>-->\n\n                    <div class=\"icon_content\" style=\"margin-bottom: 8px; position: relative;\" *ngIf=\"boutique?.actif\">\n                        <i class=\"ri-file-copy-2-line\" (click)=\"toggleCopyModal()\" title=\"Copier le produit vers une autre boutique\"></i>\n                        \n                        <!-- Popup de copie -->\n                        <div *ngIf=\"showCopyModal\" class=\"copy-modal\">\n                            <div class=\"modal-header\">\n                                <h5>Copier vers</h5>\n                                <i class=\"ri-close-line\" (click)=\"closeCopyModal()\"></i>\n                            </div>\n                            <div class=\"modal-body\">\n                                <input \n                                    type=\"text\" \n                                    class=\"search-input\" \n                                    placeholder=\"Rechercher une boutique...\" \n                                    [(ngModel)]=\"copySearchTerm\"\n                                    (input)=\"filterCopyBoutiques()\"\n                                >\n                                <div class=\"boutique-list\">\n                                    <div \n                                        *ngFor=\"let boutique of filteredCopyBoutiques\" \n                                        class=\"boutique-item\"\n                                        [class.disabled-boutique]=\"!boutique.actif\"\n                                        (click)=\"selectCopyBoutique(boutique)\"\n                                    >\n                                        {{ boutique.nomBoutique }}\n                                        <i *ngIf=\"!boutique.actif\" style=\"font-size: 13px;\"\n                                        class=\"ri-lock-line boutique-status-icon\"\n                                        title=\"Boutique désactivée\"></i>\n                                    </div>\n                                    <div *ngIf=\"filteredCopyBoutiques.length === 0\" class=\"no-results\">\n                                        Aucune boutique trouvée\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <!-- Remplacez le badge existant par ce code -->\n                    <div style=\"position: relative; top: -4px; left: 10px;\" *ngIf=\"selectedProductIds.length > 0\">\n                        <span class=\"facture-count facture-select\" title=\"Nombre sélectionné\">\n                            {{ selectedProductIds.length }}\n                        </span>\n                    </div>\n\n                </div>\n\n                <!-- Remplacer la barre de recherche existante par ce code -->\n                <div class=\"container_inputSearch\" style=\"display: flex; align-items: center; position: relative;\">\n                <div class=\"inputSearch\" style=\"flex: 1; position: relative; top: -7px;\">\n                    <div class=\"tags-container\" \n                    (click)=\"focusSearchInput()\"\n                    style=\"display: flex; flex-wrap: wrap; align-items: center; padding-left: 35px; min-height: 40px; border: 1.5px solid #000; border-top-left-radius: 5px; min-width: 250px; border-bottom-left-radius: 5px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; background: white; cursor: text;\">   \n                    \n                    <span *ngIf=\"selectedFilters.length > 0\" class=\"tag\" style=\"display: flex; align-items: center; background: #e0e0e0; padding: 2px 8px; border-radius: 20px; margin: 2px 4px 2px 0; font-size: 12px; z-index: 12;\">\n                        {{ selectedFilters[0].label }}\n                        <span class=\"remove-chip\" (click)=\"removeFilter(selectedFilters[0]); $event.stopPropagation()\">✖</span>\n                    </span>\n\n                    <input \n                        #searchInput\n                        type=\"text\" \n                        [(ngModel)]=\"searchText\" \n                        (ngModelChange)=\"applyFilters()\" \n                        [placeholder]=\"getSearchPlaceholder()\"\n                        style=\"border: none; outline: none; flex: 1; padding: 5px 0; min-width: 120px;\"\n                        (click)=\"$event.stopPropagation()\"\n                    />\n\n                    <i class=\"ri-search-2-line\" style=\"position: absolute; left: 10px; top: 50%; transform: translateY(-50%); z-index: 1;\"></i>\n                    </div>\n                </div>\n\n                <div class=\"trier\" title=\"Trier et filtrer\" (click)=\"toggleFilterDropdown(); $event.stopPropagation()\" style=\"cursor: pointer;\">\n                    <i *ngIf=\"!showFilterDropdown\" style=\"font-size: 18px;\" class=\"ri-arrow-down-s-fill\"></i>\n                    <i *ngIf=\"showFilterDropdown\" style=\"font-size: 18px;\" class=\"ri-close-line\"></i>\n                </div>\n\n                <div class=\"filter-dropdown\" *ngIf=\"showFilterDropdown\" (click)=\"$event.stopPropagation()\"\n                    style=\"position: absolute; top: 100%; right: 0; background: white; \n                    border: 1px solid #ccc; border-radius: 5px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); \n                    z-index: 100; width: 100%; margin-top: 5px;\">\n                    <div class=\"filter-section\" style=\"padding: 10px;\">\n                    <div style=\"display: flex; justify-content: space-between; align-items: center;\">\n                        <h4 style=\"margin: 0; font-size: 16px; color: #333;\">Filtres</h4>\n                        <div>\n                            <button (click)=\"resetFilters(); $event.stopPropagation()\" \n                                    style=\"background: none; border: none; color: #0671e4; cursor: pointer; font-size: 13px;\">\n                            Réinitialiser\n                            </button>\n                        </div>\n                    </div>\n                    <ul style=\"list-style: none; padding: 0; margin: 10px 0 0 0;\">\n                        <li (click)=\"addFilter({ type: 'nomCategorie', label: 'Catégorie' })\" \n                            [class.disabled]=\"isFilterSelected('nomCategorie')\"\n                            style=\"padding: 8px 12px; cursor: pointer; border-radius: 4px; margin-bottom: 5px; transition: background 0.3s;\"\n                            [style.background]=\"isFilterSelected('nomCategorie') ? '#f0f0f0' : 'transparent'\">\n                        Catégorie\n                        </li>\n                        <li (click)=\"addFilter({ type: 'nom', label: 'Nom produit' })\" \n                            [class.disabled]=\"isFilterSelected('nom')\"\n                            style=\"padding: 8px 12px; cursor: pointer; border-radius: 4px; transition: background 0.3s;\"\n                            [style.background]=\"isFilterSelected('nom') ? '#f0f0f0' : 'transparent'\">\n                        Nom produit\n                        </li>\n                    </ul>\n                    </div>\n                </div>\n                </div>\n\n            </div>\n\n            <div *ngIf=\"!boutique?.actif\" class=\"alert alert-warning\" style=\"margin-bottom: 0px; text-align: center;\">\n                <i class=\"ri-alert-line\"></i> {{ boutique?.typeBoutique === 'ENTREPOT' ? \"l'entrepôt\" : 'la boutique' }} désactivée - Les produits ne sont pas visible\n            </div>\n\n            <!-- Tableau des produits -->\n            <div #tableScrollContainer class=\"table-scroll-container\" (scroll)=\"onTableScroll($event)\">\n                <table>\n                    <thead>\n                        <tr class=\"titleTableProduit\">\n                        <th>\n                            <label class=\"cyber-checkbox\">\n                            <input \n                                type=\"checkbox\" \n                                (change)=\"boutique?.actif ? toggleSelectAll($event) : null\"\n                                [disabled]=\"!boutique?.actif\">\n                                \n                                <span class=\"cyber-checkbox__mark\">\n                                <div class=\"cyber-checkbox__box\">\n                                    <svg class=\"cyber-checkbox__check\" viewBox=\"0 0 12 10\">\n                                    <polyline points=\"1.5 6 4.5 9 10.5 1\"></polyline>\n                                    </svg>\n                                </div>\n                                <div class=\"cyber-checkbox__effects\">\n                                    <div class=\"cyber-checkbox__spark\"></div>\n                                    <div class=\"cyber-checkbox__spark\"></div>\n                                    <div class=\"cyber-checkbox__spark\"></div>\n                                    <div class=\"cyber-checkbox__spark\"></div>\n                                </div>\n                                <div class=\"cyber-checkbox__particles\">\n                                    <div class=\"particle-1\"></div>\n                                    <div class=\"particle-2\"></div>\n                                    <div class=\"particle-3\"></div>\n                                    <div class=\"particle-4\"></div>\n                                    <div class=\"particle-5\"></div>\n                                    <div class=\"particle-6\"></div>\n                                    <div class=\"particle-7\"></div>\n                                    <div class=\"particle-8\"></div>\n                                </div>\n                                </span>\n                            </label>\n                        </th>\n                        <th>Photo</th>\n                        <th>Nom produit</th>\n                        <th>Description</th>\n                        <th>Catégorie</th>\n                        <th>Prix Vente</th>\n                        <th>En stock</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <!-- Chargement -->\n                        <tr *ngIf=\"isLoadingProducts\">\n                            <td colspan=\"7\" style=\"text-align: center; padding: 20px;\">\n                                <div style=\"text-align: center;\">\n                                    <div class=\"mini-spinner\" role=\"status\">\n                                        <span class=\"visually-hidden\">Loading...</span>\n                                    </div>\n                                    <div class=\"text-loading\">\n                                        <span style=\"margin-left: 10px;\">Chargement des produits...</span>\n                                    </div>\n                                </div>\n                            </td>\n                        </tr>\n\n                        <!-- Produits -->\n                        <tr *ngFor=\"let product of filteredProducts\">\n                            <td>\n                                <label class=\"cyber-checkbox\">\n                                \n                                <input type=\"checkbox\" \n                                        [checked]=\"isProductSelected(product.id)\"\n                                        (change)=\"boutique?.actif ? toggleProductSelection(product.id, $event) : null\"\n                                        [disabled]=\"!boutique?.actif\">\n\n                                    <span class=\"cyber-checkbox__mark\">\n                                    <div class=\"cyber-checkbox__box\">\n                                        <svg class=\"cyber-checkbox__check\" viewBox=\"0 0 12 10\">\n                                        <polyline points=\"1.5 6 4.5 9 10.5 1\"></polyline>\n                                        </svg>\n                                    </div>\n                                    <div class=\"cyber-checkbox__effects\">\n                                        <div class=\"cyber-checkbox__spark\"></div>\n                                        <div class=\"cyber-checkbox__spark\"></div>\n                                        <div class=\"cyber-checkbox__spark\"></div>\n                                        <div class=\"cyber-checkbox__spark\"></div>\n                                    </div>\n                                    <div class=\"cyber-checkbox__particles\">\n                                        <div class=\"particle-1\"></div>\n                                        <div class=\"particle-2\"></div>\n                                        <div class=\"particle-3\"></div>\n                                        <div class=\"particle-4\"></div>\n                                        <div class=\"particle-5\"></div>\n                                        <div class=\"particle-6\"></div>\n                                        <div class=\"particle-7\"></div>\n                                        <div class=\"particle-8\"></div>\n                                    </div>\n                                    </span>\n                                </label>\n                            </td>\n                            <td>\n                                <div class=\"imgProduit\">\n                                    <img [src]=\"product.photoUrl\" \n                                        alt=\"{{product.nom}}\" \n                                        (click)=\"boutique?.actif ? openImageModal(product.photoUrl) : null\"\n                                        [class.disabled-image]=\"!boutique?.actif\">\n                                </div>\n                            </td>\n                            <td [innerHTML]=\"highlightMatch(product.nom || 'Aucun nom')\"></td><!--{{ product.nom }}-->\n                            <td class=\"description-cell\">\n                                {{ product.description ? (product.description | slice:0:30) + (product.description.length > 30 ? '...' : '') : 'Aucune description' }}\n                                <div class=\"description-tooltip\" *ngIf=\"product.description && product.description.length > 30\">\n                                {{ product.description }}\n                                </div>\n                            </td>\n                            <td [innerHTML]=\"highlightMatch(product.nomCategorie || 'sans catégorie')\"></td><!--{{ product.nomCategorie || 'Non catégorisé' }}-->\n                            <td>{{ product.prixVente | number:'1.2-2' }} FCFA</td>\n                            <td [style.color]=\"product.quantite <= product.seuilAlert ? 'red' : 'inherit'\">\n                                {{ product.quantite }}\n                                <i *ngIf=\"product.quantite <= product.seuilAlert\" \n                                class=\"ri-alarm-warning-fill\"\n                                style=\"color: red; margin-left: 5px;\"\n                                title=\"Stock bas!\"></i>\n                            </td>\n                        </tr>\n\n                        <!-- Après la boucle des produits dans le tableau -->\n                        <tr *ngIf=\"isLoadingMore\">\n                            <td colspan=\"7\" style=\"text-align: center; padding: 20px;\">\n                                <div class=\"mini-spinner text-primary\" role=\"status\">\n                                <span class=\"visually-hidden\">Loading...</span>\n                                </div>\n                                <span style=\"margin-left: 10px;\">Chargement de plus de produits...</span>\n                            </td>\n                        </tr>\n\n                        <tr *ngIf=\"allProductsLoaded && productsInBoutique.length > 0 && !isLoadingMore\">\n                            <td colspan=\"7\" style=\"text-align: center; padding: 20px;\">\n                                <p style=\"margin: 0;\">Tous les produits ont été chargés</p>\n                            </td>\n                        </tr>\n\n                        <!-- Aucun produit -->\n                        <tr *ngIf=\"!isLoadingProducts && productsInBoutique.length === 0 && boutique?.actif\">\n                            <td colspan=\"7\" style=\"text-align: center; padding: 20px;\">\n                                <div style=\"display: flex; flex-direction: column; align-items: center;\">\n                                <i class=\"ri-box-line\" style=\"font-size: 48px; color: #6c757d;\"></i>\n                                <p style=\"margin-top: 10px; margin-bottom: 5px;\">Aucun produit dans {{ boutique?.typeBoutique === 'ENTREPOT' ? \"l'entrepôt\" : 'la boutique' }}</p> \n                                </div>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n\n            <!-- Modal pour l'image -->\n            <div class=\"modal\" *ngIf=\"showImageModal\" (click)=\"closeImageModal()\">\n                <div class=\"modal-content\" (click)=\"$event.stopPropagation()\">\n                    <img [src]=\"selectedImageUrl\" alt=\"Produit en gros plan\">\n                </div>\n            </div>\n\n        </div>\n        <!-- // Fin pour la copier des produit  -->\n\n          <!--Liste les Vendeur de la boutique-->\n         <div *ngIf=\"!showUserList\" class=\"content_copie_produit\">\n    \n            <!-- Titre -->\n            <div class=\"header_vente\" style=\"display: flex; align-items: center; justify-content: space-between;\">\n                <div class=\"section_title\" style=\"display: flex; align-items: center;\">\n                    <div class=\"title\">\n                        <h6>Liste des vendeurs</h6>\n                    </div>\n\n                \n\n                    <div class=\"barre\" style=\"margin-bottom: 8px;\"></div>\n\n                    \n\n                    <div class=\"icon_content icon_delete\" style=\"margin-bottom: 8px;\" (click)=\"deleteSelectedVendeurs()\">\n                        <i class=\"ri-delete-bin-6-line\"></i>\n                    </div>\n\n\n                    <div class=\"barre\" style=\"margin-bottom: 8px;\"></div>\n                    \n\n                    <div class=\"icon_content\" style=\"margin-bottom: 8px; position: relative;\">\n                        <i class=\"ri-folder-transfer-line\"></i>\n\n                        <!-- Popup de transfert -->\n                        <div class=\"transfer-modal\" style=\"display: none;\">\n                            <div class=\"modal-header\">\n                                <h5>Déplacer vers un autre groupe</h5>\n                                <i class=\"ri-close-line\"></i>\n                            </div>\n                            <div class=\"modal-body\">\n                                <input type=\"text\" class=\"search-input\" placeholder=\"Rechercher un groupe...\">\n                                <div class=\"boutique-list\">\n                                    <div class=\"boutique-item\">Groupe 1</div>\n                                    <div class=\"boutique-item\">Groupe 2</div>\n                                    <div class=\"boutique-item\">Groupe 3</div>\n                                    <div class=\"no-results\" style=\"display: none;\">Aucun groupe trouvé</div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <button class=\"add-task\" (click)=\"toggleUserList()\" title=\"{{ showUserList ? 'Fermer les utilisateurs' : 'Ajouter un vendeur dans la boutique' }}\">\n                    {{ showUserList ? 'Fermer les utilisateurs' : 'Ajouter un vendeur' }}\n                </button>\n            </div>\n\n            <!-- Tableau des vendeurs -->\n            <div class=\"table-scroll-container\">\n                <table>\n                    <thead>\n                        <tr class=\"titleTableProduit\">\n                            <th>\n                                <label class=\"cyber-checkbox\">\n                                    <input type=\"checkbox\">\n                                    <span class=\"cyber-checkbox__mark\">\n                                        <div class=\"cyber-checkbox__box\">\n                                            <svg class=\"cyber-checkbox__check\" viewBox=\"0 0 12 10\">\n                                                <polyline points=\"1.5 6 4.5 9 10.5 1\"></polyline>\n                                            </svg>\n                                        </div>\n                                    </span>\n                                </label>\n                            </th>\n                            <th>Photo</th>\n                            <th>Nom</th>\n                            <th>Email</th>\n                            <th>Téléphone</th>\n                            <th>Date d'assignation</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n\n                        <!-- Affichage dynamique des vendeurs -->\n                        <tr *ngFor=\"let vendeur of listeVendeurs\">\n                            <td>\n                                <label class=\"cyber-checkbox\">\n                                    <input\n                                        type=\"checkbox\"\n                                        [disabled]=\"!boutique?.actif\"\n                                        [checked]=\"selectedVendeurs.includes(vendeur.id!)\"\n                                        (change)=\"toggleSelectionCheckbox($event, vendeur.id!)\">\n\n                                    <span class=\"cyber-checkbox__mark\">\n                                        <div class=\"cyber-checkbox__box\">\n                                            <svg class=\"cyber-checkbox__check\" viewBox=\"0 0 12 10\">\n                                                <polyline points=\"1.5 6 4.5 9 10.5 1\"></polyline>\n                                            </svg>\n                                        </div>\n                                    </span>\n                                </label>\n                            </td>\n                            <td>\n                                <div class=\"imgProduit\" >\n                                    <img [src]=\"vendeur.photo\" alt=\"{{ vendeur.nomComplet }}\">\n                                    \n                                </div>\n                            </td>\n                            <td>{{ vendeur.nomComplet }}</td>\n                            <td>{{ vendeur.email }}</td>\n                            <td>{{ vendeur.phone }}</td>\n                            <td>\n                                <span>\n                                     {{ formatDateOnly(vendeur!.assignedAt!) }}\n                                </span>\n\n\n                            </td>\n                        </tr>\n\n                        <!-- Aucun vendeur -->\n                        <tr *ngIf=\"listeVendeurs.length === 0\">\n                            <td colspan=\"6\" style=\"text-align: center; padding: 20px;\">\n                                <div style=\"display: flex; flex-direction: column; align-items: center;\">\n                                    <i class=\"ri-user-line\" style=\"font-size: 48px; color: #6c757d;\"></i>\n                                    <p style=\"margin-top: 10px; margin-bottom: 5px;\">Aucun vendeur enregistré</p>\n                                </div>\n                            </td>\n                        </tr>\n\n                    </tbody>\n                </table>\n            </div>\n\n        </div>\n\n        <!-- Liste des utilisateurs (visible quand showUserList est true) -->\n        <div *ngIf=\"showUserList\" class=\"content_copie_produit\">\n    \n            <!-- Titre -->\n            <div class=\"header_vente\" style=\"display: flex; align-items: center; justify-content: space-between;\">\n                <div class=\"section_title\" style=\"display: flex; align-items: center;\">\n                    <div class=\"title\">\n                        <h6>Liste des utilisateurs</h6>\n                    </div>\n\n                    <div class=\"barre\" style=\"margin-bottom: 8px;\"></div>\n\n                    <div style=\"position: relative; top: -4px; left: 0px;\">\n                        <span class=\"facture-count facture-select\" title=\"Nombre sélectionné\">\n                            23\n                        </span>\n                    </div>\n                </div>\n\n                <button class=\"add-task\" (click)=\"toggleUserList()\" title=\"{{ showUserList ? 'Fermer les utilisateurs' : 'Ajouter un vendeur dans la boutique' }}\">\n                    {{ showUserList ? 'Fermer les utilisateurs' : 'Ajouter un vendeur' }}\n                </button>\n            </div>\n\n            <div class=\"table-scroll-container\">\n                <table>\n                    <thead>\n                        <tr class=\"titleTableProduit\">\n                            <th>\n                                <label class=\"cyber-checkbox\">\n                                    <input type=\"checkbox\" (change)=\"toggleSelectAllUsers($event)\">\n                                    <span class=\"cyber-checkbox__mark\">\n                                        <div class=\"cyber-checkbox__box\">\n                                            <svg class=\"cyber-checkbox__check\" viewBox=\"0 0 12 10\">\n                                                <polyline points=\"1.5 6 4.5 9 10.5 1\"></polyline>\n                                            </svg>\n                                        </div>\n                                    </span>\n                                </label>\n                            </th>\n                            <th>Photo</th>\n                            <th>Nom</th>\n                            <th>Email</th>\n                            <th>Téléphone</th>\n                            <th>Statut</th>\n                            <th>Actions</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr *ngFor=\"let user of allUsers\">\n                            <td>\n                                <label class=\"cyber-checkbox\">\n                                    <input type=\"checkbox\" \n                                        [checked]=\"isUserSelected(user.id!)\"\n                                        (change)=\"toggleUserSelection(user.id!)\">\n                                    <span class=\"cyber-checkbox__mark\">\n                                        <div class=\"cyber-checkbox__box\">\n                                            <svg class=\"cyber-checkbox__check\" viewBox=\"0 0 12 10\">\n                                                <polyline points=\"1.5 6 4.5 9 10.5 1\"></polyline>\n                                            </svg>\n                                        </div>\n                                    </span>\n                                </label>\n                            </td>\n                            <td>\n                                <div class=\"imgProduit\">\n                                    <img [src]=\"user.photoUrl\" \n                                        alt=\"{{ user.nomComplet }}\"\n                                        (click)=\"openImageModal(user.photoUrl)\">\n                                </div>\n                            </td>\n                            <td>{{ user.nomComplet }}</td>\n                            <td>{{ user.email }}</td>\n                            <td>{{ user.phone }}</td>\n                            <td>\n                                <span [ngClass]=\"user.enabledLien ? 'badge-success' : 'badge-danger'\">\n                                    {{ user.enabledLien ? 'Actif' : 'Inactif' }}\n                                </span>\n                            </td>\n                            <td>\n                                <button class=\"btn-associate\" \n                                        (click)=\"associateUserToBoutique(user.id!)\"\n                                        title=\"Associer à la boutique\">\n                                    Associer\n                                </button>\n                            </td>\n                        </tr>\n\n                        <!-- Dans le tableau, après la boucle des produits -->\n                        <tr *ngIf=\"isLoadingMore\">\n                            <td colspan=\"7\" style=\"text-align: center; padding: 20px;\">\n                                <div class=\"mini-spinner text-primary\" role=\"status\">\n                                <span class=\"visually-hidden\">Loading...</span>\n                                </div>\n                                <span style=\"margin-left: 10px;\">Chargement de plus de produits...</span>\n                            </td>\n                        </tr>\n\n                        <!-- <tr *ngIf=\"allProductsLoaded && productsInBoutique.length > 0\">\n                            <td colspan=\"7\" style=\"text-align: center; padding: 20px;\">\n                                <p>Tous les produits ont été chargés</p>\n                            </td>\n                        </tr> -->\n                        \n                        <tr *ngIf=\"allUsers.length === 0\">\n                            <td colspan=\"7\" style=\"text-align: center; padding: 20px;\">\n                                <div style=\"display: flex; flex-direction: column; align-items: center;\">\n                                    <i class=\"ri-user-line\" style=\"font-size: 48px; color: #6c757d;\"></i>\n                                    <p style=\"margin-top: 10px; margin-bottom: 5px;\">Aucun utilisateur disponible</p>\n                                </div>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n\n\n\n        <!--Fin de la liste-->\n\n\n    </div>\n  </div>\n\n</div>\n\n<!-- Ajoutez ceci en bas du template -->\n<div class=\"confirmation-modal\" *ngIf=\"showConfirmationModal\">\n  <div class=\"modal-content\">\n    <h4 style=\"font-size: 16px; margin-bottom: 10px;\">{{ confirmationTitle }}</h4>\n    <p style=\"font-size: 12px;\">{{ confirmationMessage }}</p>\n    <div class=\"modal-actions\">\n      <button class=\"btn-cancel\" style=\"font-size: 12px;\" (click)=\"cancelAction()\">Annuler</button>\n      <button class=\"btn-confirm\" style=\"font-size: 12px;\" (click)=\"handleStatusChange()\">Confirmer</button>\n    </div>\n  </div>\n</div>\n\n<div *ngIf=\"isLoading\" class=\"loading-overlay\">\n    <div class=\"loading-content\">\n      <div class=\"spinner\"></div>\n      <p>Connexion en cours...</p>\n    </div>\n</div>\n\n<!-- Modal de confirmation de suppression -->\n<div class=\"confirmation-modal\" *ngIf=\"showDeleteModal\">\n  <div class=\"ds-modal-content ds-elevated ds-modal-content--dialog\" role=\"dialog\" style=\"font-size: var(--ds-font-size-m); line-height: var(--ds-line-height-m);\">\n  <div class=\"ds-modal-content__header-wrapper\">\n    <h4 class=\"ds-modal-content__title\">Confirmation de suppression</h4>\n    <button class=\"ds-icon-button\" tabindex=\"0\" (click)=\"cancelDelete()\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\">\n        <path fill=\"currentColor\" d=\"M4.397 4.554l.073-.084a.75.75 0 0 1 .976-.073l.084.073L12 10.939l6.47-6.47a.75.75 0 1 1 1.06 1.061L13.061 12l6.47 6.47a.75.75 0 0 1 .072.976l-.073.084a.75.75 0 0 1-.976.073l-.084-.073L12 13.061l-6.47 6.47a.75.75 0 0 1-1.06-1.061L10.939 12l-6.47-6.47a.75.75 0 0 1-.072-.976l.073-.084z\"></path>\n      </svg>\n    </button>\n  </div>\n  \n  <div class=\"ds-modal-body\">\n    <p>{{ deleteMessage }}</p>\n  </div>\n  \n  <div class=\"ds-modal-content__footer\">\n    <div class=\"ds-flex\" style=\"justify-content: flex-end; gap: 12px;\">\n      <button class=\"ds-button ds-button--secondary ds-button--filled ds-button--rect ds-button--m\" \n              tabindex=\"0\"\n              (click)=\"cancelDelete()\"\n              [disabled]=\"isDeleting\">\n        Annuler\n      </button>\n      \n      <button class=\"ds-button ds-button--error ds-button--filled ds-button--rect ds-button--m\" \n              tabindex=\"0\"\n              (click)=\"confirmDelete()\"\n              [disabled]=\"isDeleting\">\n        <span *ngIf=\"!isDeleting\">Supprimer</span>\n        <span *ngIf=\"isDeleting\">Traitement...</span>\n      </button>\n    </div>\n  </div>\n</div>\n</div>\n\n<div *ngIf=\"isDeleting\" class=\"loading-overlay\">\n  <div class=\"loading-content\">\n    <div class=\"spinner\"></div>\n    <p>Suppression en cours...</p>\n  </div>\n</div>","import { EmptyError } from './util/EmptyError';\nexport function lastValueFrom(source, config) {\n    const hasConfig = typeof config === 'object';\n    return new Promise((resolve, reject) => {\n        let _hasValue = false;\n        let _value;\n        source.subscribe({\n            next: (value) => {\n                _value = value;\n                _hasValue = true;\n            },\n            error: reject,\n            complete: () => {\n                if (_hasValue) {\n                    resolve(_value);\n                }\n                else if (hasConfig) {\n                    resolve(config.defaultValue);\n                }\n                else {\n                    reject(new EmptyError());\n                }\n            },\n        });\n    });\n}\n"],"names":["CommonModule","FormControl","FormsModule","ReactiveFormsModule","Validators","environment","lastValueFrom","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ctx_r1","errorMessage","successMessage","errorMessageApi","copySuccessMessage","copyErrorMessage","ɵɵelement","ɵɵlistener","DetailBoutiqueComponent_div_6_Template_button_click_9_listener","ɵɵrestoreView","_r3","ɵɵnextContext","ɵɵresetView","showCopyWarningModal","DetailBoutiqueComponent_div_7_Template_button_click_9_listener","_r4","showDeleteWarningModal","ɵɵelementContainerStart","boutique","actif","ɵɵtemplate","DetailBoutiqueComponent_span_25_ng_container_1_Template","DetailBoutiqueComponent_span_25_ng_template_2_Template","ɵɵtemplateRefExtractor","ɵɵstyleProp","ɵɵproperty","isUpdating","statusText_r5","DetailBoutiqueComponent_div_38_Template_button_click_7_listener","_r6","confirmDeleteB","DetailBoutiqueComponent_div_38_Template_button_click_9_listener","showConfirmationModalB","typeBoutique","DetailBoutiqueComponent_i_45_Template_i_click_0_listener","_r7","toggleEditing","DetailBoutiqueComponent_i_46_Template_i_click_0_listener","_r8","DetailBoutiqueComponent_div_67_Template_button_click_4_listener","_r9","goToBoutique","DetailBoutiqueComponent_div_67_Template_button_click_7_listener","onSubmitBoutique","ɵɵtextInterpolate","isEditing","boutiqueForm","valid","invalid","isUpdating_boutique","totalProductsCount","DetailBoutiqueComponent_div_76_Template_i_click_1_listener","_r10","deleteSelectedProducts","DetailBoutiqueComponent_div_78_div_2_div_8_Template_div_click_0_listener","boutique_r14","_r13","$implicit","selectCopyBoutique","DetailBoutiqueComponent_div_78_div_2_div_8_i_2_Template","ɵɵclassProp","nomBoutique","DetailBoutiqueComponent_div_78_div_2_Template_i_click_4_listener","_r12","closeCopyModal","ɵɵtwoWayListener","DetailBoutiqueComponent_div_78_div_2_Template_input_ngModelChange_6_listener","$event","ɵɵtwoWayBindingSet","copySearchTerm","DetailBoutiqueComponent_div_78_div_2_Template_input_input_6_listener","filterCopyBoutiques","DetailBoutiqueComponent_div_78_div_2_div_8_Template","DetailBoutiqueComponent_div_78_div_2_div_9_Template","ɵɵtwoWayProperty","filteredCopyBoutiques","length","DetailBoutiqueComponent_div_78_Template_i_click_1_listener","_r11","toggleCopyModal","DetailBoutiqueComponent_div_78_div_2_Template","showCopyModal","selectedProductIds","DetailBoutiqueComponent_span_83_Template_span_click_2_listener","_r15","removeFilter","selectedFilters","stopPropagation","label","DetailBoutiqueComponent_div_90_Template_div_click_0_listener","_r16","DetailBoutiqueComponent_div_90_Template_button_click_6_listener","resetFilters","DetailBoutiqueComponent_div_90_Template_li_click_9_listener","addFilter","type","DetailBoutiqueComponent_div_90_Template_li_click_11_listener","isFilterSelected","product_r18","description","DetailBoutiqueComponent_tr_132_Template_input_change_3_listener","_r17","toggleProductSelection","id","DetailBoutiqueComponent_tr_132_Template_img_click_24_listener","openImageModal","photoUrl","DetailBoutiqueComponent_tr_132_div_29_Template","DetailBoutiqueComponent_tr_132_i_36_Template","isProductSelected","ɵɵpropertyInterpolate","nom","ɵɵsanitizeUrl","highlightMatch","ɵɵsanitizeHtml","ɵɵpipeBind3","nomCategorie","ɵɵpipeBind2","prixVente","quantite","seuilAlert","DetailBoutiqueComponent_div_136_Template_div_click_0_listener","_r19","closeImageModal","DetailBoutiqueComponent_div_136_Template_div_click_1_listener","selectedImageUrl","DetailBoutiqueComponent_div_137_tr_52_Template_input_change_3_listener","vendeur_r22","_r21","toggleSelectionCheckbox","selectedVendeurs","includes","nomComplet","photo","email","phone","formatDateOnly","assignedAt","DetailBoutiqueComponent_div_137_Template_div_click_7_listener","_r20","deleteSelectedVendeurs","DetailBoutiqueComponent_div_137_Template_button_click_28_listener","toggleUserList","DetailBoutiqueComponent_div_137_tr_52_Template","DetailBoutiqueComponent_div_137_tr_53_Template","showUserList","listeVendeurs","DetailBoutiqueComponent_div_138_tr_36_Template_input_change_3_listener","user_r25","_r24","toggleUserSelection","DetailBoutiqueComponent_div_138_tr_36_Template_img_click_10_listener","DetailBoutiqueComponent_div_138_tr_36_Template_button_click_21_listener","associateUserToBoutique","isUserSelected","enabledLien","DetailBoutiqueComponent_div_138_Template_button_click_10_listener","_r23","DetailBoutiqueComponent_div_138_Template_input_change_18_listener","toggleSelectAllUsers","DetailBoutiqueComponent_div_138_tr_36_Template","DetailBoutiqueComponent_div_138_tr_37_Template","DetailBoutiqueComponent_div_138_tr_38_Template","allUsers","isLoadingMore","DetailBoutiqueComponent_div_139_Template_button_click_7_listener","_r26","cancelAction","DetailBoutiqueComponent_div_139_Template_button_click_9_listener","handleStatusChange","confirmationTitle","confirmationMessage","DetailBoutiqueComponent_div_141_Template_button_click_5_listener","_r27","cancelDelete","DetailBoutiqueComponent_div_141_Template_button_click_13_listener","DetailBoutiqueComponent_div_141_Template_button_click_15_listener","confirmDelete","DetailBoutiqueComponent_div_141_span_16_Template","DetailBoutiqueComponent_div_141_span_17_Template","deleteMessage","isDeleting","DetailBoutiqueComponent","constructor","route","boutiqueService","router","fb","cd","usersService","isModificationFormVisible","isLoading","showTransferModal","allBoutiques","filteredBoutiques","searchTerm","searchTerm1","showImageModal","copyWarningMessage","deleteWarningMessage","apiUrl","imgUrl","control","showConfirmationModal","pendingStatusChange","productsInBoutique","isLoadingProducts","isCopying","selectedCopyBoutique","isDeletingB","showDeleteModal","imageActuelle","showFilterDropdown","searchText","filteredProducts","selectedUserIds","currentPage","pageSize","totalPages","allProductsLoaded","ngOnInit","initForm","loadBoutique","loadAllBoutiques","disable","loadAllVendeursBoutique","loadProductsInBoutique","group","required","adresse","telephone","pattern","snapshot","paramMap","get","boutiqueId","getBoutiqueById","subscribe","next","patchValue","error","err","getStatusText","getStatusColor","setTimeout","confirmCopyProducts","_this","_asyncToGenerator","detailsCopie","boutiqueSourceId","boutiqueDestinationId","toutCopier","produitIds","undefined","response","copierProduits","toPromise","success","message","console","term","toLowerCase","filter","b","enable","cancelEditing","navigate","getLoadingMessage","toggleBoutiqueStatus","event","preventDefault","checkboxRef","target","newStatus","checked","minDelay","startTime","Date","now","operation$","activerBoutique","desactiverBoutique","elapsed","remainingDelay","Math","max","showErrorMessage","showSuccessMessage","action","alert","_this2","Promise","resolve","updateBoutique","value","toggleModificationForm","detectChanges","navigateBack","toggleTransferModal","filterBoutiques","toggleCopierModal","closeTransferModal","getBoutiquesByEntreprise","boutiques","selectBoutique","log","loadMore","getProduitsBoutiquePaginated","newProducts","content","map","produit","generateInitialImage","charAt","categorie","nomUnite","uniteDeMesure","totalElements","loadMoreProducts","onTableScroll","threshold","container","position","scrollTop","offsetHeight","height","scrollHeight","text","regex","RegExp","replace","handleImageError","product","img","src","onerror","letter","svg","toUpperCase","btoa","toggleSelectAll","checkbox","p","imageUrl","warn","productId","index","indexOf","push","splice","getVendeursDeBoutique","vendeurs","timestamp","getTime","vendeur","fullImageUrl","assignedAtFormatted","toLocaleString","ouvrirImage","fermerImage","ajouterVendeur","clearSearch","_this3","corbeilleIds","errors","mettreEnCorbeille","status","join","toggleFilterDropdown","applyFilters","filtered","searchLower","trim","some","key","toString","Object","values","val","searchInput","nativeElement","focus","filterType","f","focusSearchInput","getSearchPlaceholder","deleteBoutique","_this4","prefix","startsWith","substring","loadAllUsersOfEntreprise","getUserInfo","userData","entrepriseId","token","getToken","connectedUserId","extractUserIdFromToken","getAllUsersOfEntreprise","data","user","u","userId","request","boutiqueIds","assignerVendeur","v","forEach","dissociateUserFromBoutique","retirerVendeur","dateString","parts","split","day","parseInt","month","year","date","isNaN","toLocaleDateString","ɵɵdirectiveInject","i1","ActivatedRoute","i2","BoutiqueService","Router","i3","FormBuilder","ChangeDetectorRef","i4","UsersService","selectors","viewQuery","DetailBoutiqueComponent_Query","rf","ctx","DetailBoutiqueComponent_div_1_Template","DetailBoutiqueComponent_div_2_Template","DetailBoutiqueComponent_div_3_Template","DetailBoutiqueComponent_div_4_Template","DetailBoutiqueComponent_div_5_Template","DetailBoutiqueComponent_div_6_Template","DetailBoutiqueComponent_div_7_Template","DetailBoutiqueComponent_Template_p_click_8_listener","_r1","DetailBoutiqueComponent_div_13_Template","DetailBoutiqueComponent_span_25_Template","DetailBoutiqueComponent_ng_template_26_Template","DetailBoutiqueComponent_Template_input_change_29_listener","DetailBoutiqueComponent_Template_button_click_36_listener","DetailBoutiqueComponent_div_38_Template","DetailBoutiqueComponent_i_45_Template","DetailBoutiqueComponent_i_46_Template","DetailBoutiqueComponent_div_53_Template","DetailBoutiqueComponent_div_67_Template","DetailBoutiqueComponent_div_74_Template","DetailBoutiqueComponent_div_75_Template","DetailBoutiqueComponent_div_76_Template","DetailBoutiqueComponent_div_77_Template","DetailBoutiqueComponent_div_78_Template","DetailBoutiqueComponent_div_79_Template","DetailBoutiqueComponent_Template_div_click_82_listener","DetailBoutiqueComponent_span_83_Template","DetailBoutiqueComponent_Template_input_ngModelChange_84_listener","DetailBoutiqueComponent_Template_input_click_84_listener","DetailBoutiqueComponent_Template_div_click_87_listener","DetailBoutiqueComponent_i_88_Template","DetailBoutiqueComponent_i_89_Template","DetailBoutiqueComponent_div_90_Template","DetailBoutiqueComponent_div_91_Template","DetailBoutiqueComponent_Template_div_scroll_92_listener","DetailBoutiqueComponent_Template_input_change_99_listener","DetailBoutiqueComponent_tr_131_Template","DetailBoutiqueComponent_tr_132_Template","DetailBoutiqueComponent_tr_133_Template","DetailBoutiqueComponent_tr_134_Template","DetailBoutiqueComponent_tr_135_Template","DetailBoutiqueComponent_div_136_Template","DetailBoutiqueComponent_div_137_Template","DetailBoutiqueComponent_div_138_Template","DetailBoutiqueComponent_div_139_Template","DetailBoutiqueComponent_div_140_Template","DetailBoutiqueComponent_div_141_Template","DetailBoutiqueComponent_div_142_Template","loading_r28","tmp_23_0","touched","i5","NgClass","NgForOf","NgIf","SlicePipe","DecimalPipe","ɵNgNoValidate","DefaultValueAccessor","NgControlStatus","NgControlStatusGroup","FormGroupDirective","FormControlName","NgModel","styles","EmptyError","source","config","hasConfig","reject","_hasValue","_value","complete","defaultValue"],"sourceRoot":"webpack:///","x_google_ignoreList":[2]}