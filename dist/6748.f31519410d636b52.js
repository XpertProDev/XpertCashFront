"use strict";(self.webpackChunkskeleton=self.webpackChunkskeleton||[]).push([[6748],{6115:(_,g,o)=>{o.d(g,{v:()=>l});var a=o(4438);let l=(()=>{class c{transform(t){return null==t?"":t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}static{this.\u0275fac=function(p){return new(p||c)}}static{this.\u0275pipe=a.EJ8({name:"customNumber",type:c,pure:!0})}}return c})()},6748:(_,g,o)=>{o.r(g),o.d(g,{FactureReelComponent:()=>E});var a=o(177),l=o(9417),c=o(3509),u=o(6115),t=o(4438),p=o(7033),f=o(8026),P=o(9192);const C=()=>[6,10,25,100];function O(n,s){if(1&n&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td",24),t.EFF(6),t.nI1(7,"customNumber"),t.k0s()()),2&n){const e=s.$implicit;t.R7$(2),t.JRh(e.produitNom),t.R7$(2),t.JRh(e.quantite),t.R7$(2),t.JRh(t.bMT(7,3,e.montantTotal))}}function x(n,s){1&n&&(t.j41(0,"tr",25)(1,"td"),t.EFF(2,"||"),t.k0s(),t.j41(3,"td"),t.EFF(4,"||"),t.k0s(),t.j41(5,"td",24),t.EFF(6,"||"),t.k0s()())}function m(n,s){if(1&n&&(t.qex(0),t.DNE(1,O,8,5,"tr",22)(2,x,7,0,"tr",23),t.bVm()),2&n){const e=t.XpG().$implicit;t.R7$(),t.Y8G("ngForOf",e.lignesFacture.slice(0,2)),t.R7$(),t.Y8G("ngIf",e.lignesFacture.length>2)}}function h(n,s){1&n&&(t.j41(0,"tr")(1,"td",26),t.EFF(2,"Aucun produit"),t.k0s()())}function M(n,s){if(1&n){const e=t.RV6();t.j41(0,"div",9),t.bIt("click",function(){const i=t.eBV(e).$implicit,d=t.XpG();return t.Njj(d.showDetails(i.id))}),t.j41(1,"div",10)(2,"h5"),t.EFF(3,"Facture "),t.k0s()(),t.j41(4,"div",11)(5,"div",12)(6,"span"),t.EFF(7),t.k0s()(),t.j41(8,"div",13)(9,"span",14),t.EFF(10,"Client :"),t.k0s(),t.j41(11,"span",15),t.EFF(12),t.k0s()(),t.j41(13,"div",13)(14,"span",14),t.EFF(15,"Date :"),t.k0s(),t.j41(16,"span",16),t.EFF(17),t.nI1(18,"date"),t.k0s()()(),t.j41(19,"table")(20,"thead")(21,"tr")(22,"th"),t.EFF(23,"Produit"),t.k0s(),t.j41(24,"th"),t.EFF(25,"Quantit\xe9"),t.k0s(),t.j41(26,"th"),t.EFF(27,"Total"),t.k0s()()(),t.j41(28,"tbody"),t.DNE(29,m,3,2,"ng-container",17)(30,h,3,0,"ng-template",null,0,t.C5r),t.k0s()(),t.j41(32,"div",18),t.nrm(33,"img",19),t.j41(34,"div",20)(35,"p",21),t.EFF(36,"- \xc9tat -"),t.k0s(),t.j41(37,"span"),t.EFF(38),t.k0s()()()()}if(2&n){const e=s.$implicit,r=t.sdS(31),i=t.XpG();t.R7$(7),t.JRh(e.numeroFacture),t.R7$(5),t.SpI(" ",(null==e.client?null:e.client.nom)||(null==e.entrepriseClient?null:e.entrepriseClient.nom)," "),t.R7$(5),t.SpI(" ",t.i5U(18,8,e.dateCreation,"dd/MM/yyyy")," "),t.R7$(12),t.Y8G("ngIf",null==e.lignesFacture?null:e.lignesFacture.length)("ngIfElse",r),t.R7$(4),t.Y8G("src",i.getImageSrc(e.statutPaiement),t.B4B),t.R7$(),t.Y8G("ngClass",i.getStatutClass(e.statutPaiement)),t.R7$(4),t.JRh(i.getLibelleStatut(e.statutPaiement))}}function b(n,s){1&n&&(t.j41(0,"div",27),t.EFF(1," Aucun facture trouv\xe9 "),t.k0s())}let E=(()=>{class n{constructor(e,r,i){this.factureReelService=e,this.usersService=r,this.router=i,this.factureReel=[],this.userEntrepriseId=null,this.pageSize=6,this.currentPage=0}ngOnInit(){this.getUserInfo()}getUserInfo(){this.usersService.getUserInfo().subscribe({next:e=>{this.userEntrepriseId=e.entrepriseId,this.getAllFactureReelOfEntreprise(this.userEntrepriseId)},error:e=>{console.error("Erreur lors de la r\xe9cup\xe9ration des infos utilisateur :",e)}})}getAllFactureReelOfEntreprise(e){this.factureReelService.getAlFactproreelOfEntreprise(e).subscribe(r=>{this.factureReel=r},r=>{console.error("Erreur lors de la r\xe9cup\xe9ration des factures r\xe9elles:",r)})}onPageChange(e){this.currentPage=e.pageIndex,this.pageSize=e.pageSize}get paginatedFacturesReel(){const e=this.currentPage*this.pageSize;return this.factureReel.slice(e,e+this.pageSize)}getLibelleStatut(e){switch(e){case"EN_ATTENTE":return"En attente";case"PARTIELLEMENT_PAYEE":return"Part. pay\xe9e";case"PAYEE":case"PAYE":return"Pay\xe9e";default:return"Inconnu"}}getImageSrc(e){switch(e){case"EN_ATTENTE":return"assets/etiquette/Etiquette-Sy-XPERTPRO-orange.png";case"PARTIELLEMENT_PAYEE":return"assets/etiquette/Etiquette-Sy-XPERTPRO-bleu-.png";case"PAYEE":return"assets/etiquette/Etiquette-Sy-XPERTPRO-Vert.png";default:return"assets/etiquette/Etiquette-Sy-XPERTPRO-Gris.png"}}getStatutClass(e){switch(e){case"EN_ATTENTE":return"etat-orange";case"PARTIELLEMENT_PAYEE":return"etat-bleu";case"PAYEE":return"etat-vert";default:return"etat-gris"}}showDetails(e){this.router.navigate(["/facture-reel-details",e])}static{this.\u0275fac=function(r){return new(r||n)(t.rXU(p.E),t.rXU(f.g),t.rXU(P.Ix))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-facture-reel"]],decls:9,vars:6,consts:[["noLines",""],[1,"containerTable"],[1,"tasks-header"],[1,"title"],[1,"parent"],["class","cadre_cahier",3,"click",4,"ngFor","ngForOf"],["class","no-client-message",4,"ngIf"],[1,"pagination"],[3,"page","length","pageSize","pageSizeOptions"],[1,"cadre_cahier",3,"click"],[1,"title_facture"],[1,"information_cadre"],[1,"num_facture"],[1,"double_info"],[1,"left_name"],[1,"right_name"],[1,"right_name","date_name"],[4,"ngIf","ngIfElse"],[1,"image_etiquette"],["alt","\xc9tiquette",3,"src"],[1,"etat",3,"ngClass"],[1,"tilte_etat"],[4,"ngFor","ngForOf"],["class","facture_trois",4,"ngIf"],[1,"tb_total"],[1,"facture_trois"],["colspan","3",1,"text-center"],[1,"no-client-message"]],template:function(r,i){1&r&&(t.j41(0,"div",1)(1,"div",2)(2,"h1",3),t.EFF(3,"Factures "),t.k0s()(),t.j41(4,"div",4),t.DNE(5,M,39,11,"div",5),t.k0s(),t.DNE(6,b,2,0,"div",6),t.j41(7,"div",7)(8,"mat-paginator",8),t.bIt("page",function(F){return i.onPageChange(F)}),t.k0s()()()),2&r&&(t.R7$(5),t.Y8G("ngForOf",i.paginatedFacturesReel),t.R7$(),t.Y8G("ngIf",0===i.factureReel.length),t.R7$(2),t.Y8G("length",i.factureReel.length)("pageSize",i.pageSize)("pageSizeOptions",t.lJ4(5,C)))},dependencies:[a.MD,a.YU,a.Sq,a.bT,a.vh,l.YN,l.X1,c.Ou,c.iy,u.v],styles:['@charset "UTF-8";.title_return[_ngcontent-%COMP%]{display:flex;align-items:center}.title[_ngcontent-%COMP%]{font-size:18px;margin:0 0 0 10px}tr.tr[_ngcontent-%COMP%]{font-size:18px}th[_ngcontent-%COMP%]{border-bottom:1px solid rgba(221,221,221,.5803921569);padding:8px}th.th[_ngcontent-%COMP%]{border-bottom:1px solid rgba(221,221,221,.5803921569);padding:10px}td[_ngcontent-%COMP%]{padding:15px 8px;border-bottom:1px solid rgba(221,221,221,.5803921569)}th[_ngcontent-%COMP%]{background-color:#f2f2f2}.containerTable[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:10px}.tasks-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:30px}.contentIcon[_ngcontent-%COMP%]{margin:0 10px;display:flex;align-items:center}.contentIcon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;cursor:pointer}.contentIcon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:#0672e4;transition:all .5s ease}.bare[_ngcontent-%COMP%]{width:2px;height:30px;background-color:#eee}.content_sort[_ngcontent-%COMP%]{display:flex;align-items:center}.btn_add_ligne[_ngcontent-%COMP%]{background-color:#e6f2ff;border:1px solid #007bff;padding:5px 10px;cursor:pointer;margin-top:10px;border-radius:5px}.btn_remove[_ngcontent-%COMP%]{background-color:transparent;border:none;cursor:pointer;font-size:20px;color:red}.content_cadre_double[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.imgClient[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;overflow:hidden;display:flex;align-items:center;justify-content:center;background-color:#f5f5f5;box-shadow:0 4px 6px #0000001a;cursor:pointer}.imgClient[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80%;height:80%;object-fit:cover;border-radius:50%;transition:transform .2s}.imgClient[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}.imgClient_grid[_ngcontent-%COMP%]{width:90px;height:90px;border-radius:50%;overflow:hidden;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 6px #0000001a;cursor:pointer;border:none}.imgClient_grid[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90%;height:90%;object-fit:cover;border-radius:50%;transition:transform .2s}.imgClient_grid[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}.title[_ngcontent-%COMP%]{font-size:18px;margin:0}.tasks-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:20px}.add-task[_ngcontent-%COMP%]{padding:10px 30px;background-color:#0672e4;color:#fff;border-radius:5px;border:none}.inputSearch[_ngcontent-%COMP%]{position:relative;width:250px;height:40px;display:flex;align-items:center}.inputSearch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:100%;padding-left:10px;border-radius:5px}.inputSearch[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:15px;font-size:17px}.contentIcon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:17px;cursor:pointer;position:relative}.actions[_ngcontent-%COMP%]{display:flex;align-items:center}.actions[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#000}.barre[_ngcontent-%COMP%]{height:25px;width:1px;background-color:#0000003f;margin:8px 15px}.titleTableProduit[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:12px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}tr[_ngcontent-%COMP%]{font-size:13px}td[_ngcontent-%COMP%]{padding:18px 8px;border-bottom:1px solid rgba(221,221,221,.5803921569)}th[_ngcontent-%COMP%]{background-color:#f2f2f2;border-bottom:1px solid rgba(221,221,221,.5803921569);padding:12px 8px}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f9f9f9}tr[_ngcontent-%COMP%]:hover{background-color:#ddd}.facture_trois[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:4px 8px}.contentIcon[_ngcontent-%COMP%]{position:relative;cursor:pointer}.view-dropdown[_ngcontent-%COMP%]{position:absolute;top:100%;right:0;background:#fff;border:1px solid #ddd;border-radius:4px;box-shadow:0 2px 5px #0000001a;z-index:100;min-width:150px}.dropdown-item[_ngcontent-%COMP%]{padding:8px 12px;font-size:14px;cursor:pointer}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.no-client-message[_ngcontent-%COMP%]{text-align:center;padding:40px;font-size:13px;color:#666;background-color:#f8f9fa;border-radius:8px;margin:20px;box-shadow:0 2px 4px #0000001a}mat-paginator[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px}.no-phone-text[_ngcontent-%COMP%]{color:#c3c3c3;font-style:italic}.info_cadre[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000}.popup-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}.cadreChoix[_ngcontent-%COMP%]{background-color:#0672e4;box-shadow:0 6px 12px #0000001a;padding:10px;border-radius:5px;cursor:pointer;color:#fff}.sizeBox[_ngcontent-%COMP%]{margin:10px 0}.statut[_ngcontent-%COMP%]{font-size:10px;margin-left:auto;font-weight:700;color:#6c757d}.parent[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:20px}.cadre_cahier[_ngcontent-%COMP%]{background:#fff;border-radius:5px;padding:10px;box-shadow:0 4px 6px #0000000d;transition:transform .2s ease;border:1px solid #e0e0e0;height:287px;position:relative;cursor:pointer}.cadre_cahier[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 6px 12px #0000001a}.information_cadre[_ngcontent-%COMP%]{margin-top:-5px}.title_facture[_ngcontent-%COMP%]{text-align:center;margin-top:2px}.num_facture[_ngcontent-%COMP%], .double_info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:10px}.left_name[_ngcontent-%COMP%]{font-weight:500}.title_facture[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.65px}.num_facture[_ngcontent-%COMP%]{margin:20px 0 10px}.num_facture[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#0672e4}.double_info[_ngcontent-%COMP%]{margin-bottom:10px}.double_info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;opacity:.7}th[_ngcontent-%COMP%]{background-color:#f5f5f5}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border-bottom:1px solid rgba(221,221,221,.5803921569);padding:8px;font-size:8px}th.th[_ngcontent-%COMP%], td.td[_ngcontent-%COMP%]{border-bottom:1px solid rgba(221,221,221,.5803921569);padding:20px;font-size:11px}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#fff}tr[_ngcontent-%COMP%]:hover{background-color:#fefefe}tr.tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f9f9f9}tr.tr[_ngcontent-%COMP%]:hover{background-color:#ddd}.tb_total[_ngcontent-%COMP%]{text-align:right}.image_etiquette[_ngcontent-%COMP%]{width:147px;height:108px;overflow:hidden;display:flex;align-items:center;justify-content:center;cursor:pointer;position:absolute;left:-24px;transform:rotate(-19deg);bottom:-23px}.image_etiquette[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:96%;height:90%;object-fit:cover;transition:transform .2s}.etat[_ngcontent-%COMP%]{position:absolute;transform:rotate(12deg);top:45px;left:58px}.etat[_ngcontent-%COMP%]{font-size:10px}.etat[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:10px}.etat[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-transform:lowercase!important;font-size:12px;letter-spacing:.5px;font-weight:500}.tilte_etat[_ngcontent-%COMP%]{position:relative;top:3px;color:#ffffff89!important}.etat-gris[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000}.etat-gris[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0000007b!important}.etat-orange[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .etat-orange[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .etat-bleu[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .etat-bleu[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .etat-vert[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .etat-vert[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:right;margin-top:20px}']})}}return n})()}}]);