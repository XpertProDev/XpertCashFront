"use strict";(self.webpackChunkskeleton=self.webpackChunkskeleton||[]).push([[9597],{6822:(O,F,o)=>{o.d(F,{K:()=>u});var u=function(s){return s.BROUILLON="BROUILLON",s.APPROBATION="APPROBATION",s.APPROUVE="APPROUVE",s.ENVOYE="ENVOYE",s.VALIDE="VALIDE",s.ANNULE="ANNULE",s}(u||{})},6115:(O,F,o)=>{o.d(F,{v:()=>s});var u=o(4438);let s=(()=>{class v{transform(C){return null==C?"":C.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}static{this.\u0275fac=function(P){return new(P||v)}}static{this.\u0275pipe=u.EJ8({name:"customNumber",type:v,pure:!0})}}return v})()},2120:(O,F,o)=>{o.d(F,{r:()=>j});var u=o(1626),s=o(4412),v=o(9437),b=o(8810),C=o(8141),P=o(1985),M=o(5558),k=o(2525),x=o(4438);let j=(()=>{class g{constructor(a){this.http=a,this.apiUrl=k.c.apiBaseUrl,this.entrepriseSubject=new s.t([]),this.entreprise$=this.entrepriseSubject.asObservable()}getListEntreprises(){const a=localStorage.getItem("authToken")||"",f=new u.Lr({Authorization:`Bearer ${a}`,"Content-Type":"application/json"});return this.http.get(`${this.apiUrl}/entreprises`,{headers:f}).pipe((0,v.W)(d=>{let t="Erreur inconnue";return d.error instanceof ErrorEvent?t=`Erreur: ${d.error.message}`:404===d.status&&(t="Aucune entreprise trouv\xe9e"),(0,b.$)(()=>new Error(t))}))}addEntreprise(a){const f=localStorage.getItem("authToken")||"",d=new u.Lr({Authorization:`Bearer ${f}`,"Content-Type":"application/json"});return this.http.post(`${this.apiUrl}/entreprises`,a,{headers:d}).pipe((0,v.W)(t=>{let p="Erreur inconnue";return t.error instanceof ErrorEvent?p=`Erreur: ${t.error.message}`:400===t.status&&(p=t.error||"Donn\xe9es invalides"),(0,b.$)(()=>new Error(p))}),(0,C.M)(t=>{this.entrepriseSubject.next([...this.entrepriseSubject.value,t])}))}getListEntreprise(a){if(!a)return console.error("Token vide ou non d\xe9fini ! V\xe9rifiez que l'utilisateur est bien connect\xe9."),new P.c;const f=(new u.Lr).set("Authorization",`Bearer ${a}`);return console.log("En-t\xeates envoy\xe9r : ",f),this.http.get(`${this.apiUrl}/entreprises`,{headers:f}).pipe((0,C.M)(d=>{this.entrepriseSubject.next(d)}))}getEntrepriseById(a){const f=localStorage.getItem("authToken")||"",d=new u.Lr({Authorization:`Bearer ${f}`,"Content-Type":"application/json"});return this.http.get(`${this.apiUrl}/entreprises/${a}`,{headers:d}).pipe((0,v.W)(t=>{let p="Erreur inconnue";return t.error instanceof ErrorEvent?p=`Erreur: ${t.error.message}`:404===t.status&&(p="Entreprise non trouv\xe9e"),(0,b.$)(()=>new Error(p))}))}updateEntreprise(a,f){const d=localStorage.getItem("authToken")||"",t=new u.Lr({Authorization:`Bearer ${d}`});return this.http.patch(`${this.apiUrl}/updateEntreprise/${a}`,f,{headers:t,responseType:"text"}).pipe((0,v.W)(p=>{let h="Erreur inconnue";return p.error instanceof ErrorEvent?h=`Erreur: ${p.error.message}`:400===p.status&&(h=p.error||"Donn\xe9es invalides"),(0,b.$)(()=>new Error(h))}))}getEntrepriseInfo(){const a=localStorage.getItem("authToken");if(!a)return console.error("Aucun token trouv\xe9"),(0,b.$)(()=>new Error("Aucun token trouv\xe9"));const f=this.decodeJwt(a);if(this.isTokenExpired(f))return this.getNewTokenFromApi().pipe((0,M.n)(t=>{localStorage.setItem("authToken",t.token);const p=new u.Lr({Authorization:`Bearer ${t.token}`});return this.http.get(`${this.apiUrl}/myEntreprise`,{headers:p}).pipe((0,C.M)(h=>{localStorage.setItem("entreprise",JSON.stringify(h))}))}));{const t=new u.Lr({Authorization:`Bearer ${a}`});return this.http.get(`${this.apiUrl}/myEntreprise`,{headers:t}).pipe((0,C.M)(p=>{localStorage.setItem("entreprise",JSON.stringify(p))}))}}decodeJwt(a){return JSON.parse(atob(a.split(".")[1]))}isTokenExpired(a){return new Date(1e3*a.exp)<new Date}getNewTokenFromApi(){const a=localStorage.getItem("refreshToken");return this.http.post(`${this.apiUrl}/refresh-token`,{refreshToken:a})}static{this.\u0275fac=function(f){return new(f||g)(x.KVO(u.Qq))}}static{this.\u0275prov=x.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})()},2409:(O,F,o)=>{o.d(F,{c:()=>k});var u=o(1626),s=o(8810),v=o(8141),b=o(9437),C=o(6822),P=o(2525),M=o(4438);let k=(()=>{class x{constructor(g){this.http=g,this.apiUrl=P.c.apiBaseUrl}creerFactureProforma(g,c,a,f){const d=localStorage.getItem("authToken");if(!d)return(0,s.$)(()=>new Error("Token manquant"));const t=new u.Lr({Authorization:`Bearer ${d}`});let p=new u.Nl;return f&&(void 0!==c&&(p=p.set("remisePourcentage",c.toString())),void 0!==a&&(p=p.set("appliquerTVA",a.toString()))),this.http.post(`${this.apiUrl}/ajouter`,g,{headers:t,params:p}).pipe((0,v.M)(h=>console.log("Facture cr\xe9\xe9e avec succ\xe8s:",h)),(0,b.W)(h=>(console.error("Erreur d\xe9taill\xe9e:",h),console.log("Corps de la r\xe9ponse:",h.error),(0,s.$)(()=>h))))}getAlFactproformaOfEntreprise(g){const c=localStorage.getItem("authToken");if(!c)return console.error("Aucun token trouv\xe9"),(0,s.$)("Aucun token trouv\xe9");const a=new u.Lr({Authorization:`Bearer ${c}`});return this.http.get(`${this.apiUrl}/mes-factures`,{headers:a})}getFactureProformaById(g){const c=localStorage.getItem("authToken"),a=new u.Lr({Authorization:`Bearer ${c}`});return this.http.get(`${this.apiUrl}/factureProforma/${g}`,{headers:a})}updateFactureProforma(g,c,a,f,d){const t=localStorage.getItem("authToken");if(!t)return(0,s.$)(()=>new Error("Token manquant"));const p=new u.Lr({Authorization:`Bearer ${t}`,"Content-Type":"application/json"});let h=new u.Nl;return void 0!==c&&(h=h.set("remisePourcentage",c.toString())),void 0!==a&&(h=h.set("appliquerTVA",a.toString())),d&&d.length>0&&d.forEach(y=>{h=h.append("idsApprobateurs",y.toString())}),f.statut===C.K.ANNULE&&(h=h.set("isAnnulation","true")),this.http.put(`${this.apiUrl}/updatefacture/${g}`,f,{headers:p,params:h}).pipe((0,v.M)(y=>console.log("Facture mise \xe0 jour:",y)),(0,b.W)(y=>(console.error("Erreur mise \xe0 jour:",y),(0,s.$)(()=>y))))}envoyerFactureEmail(g,c){const a=new FormData;a.append("to",c.to),a.append("cc",c.cc),a.append("subject",c.subject),a.append("body",c.body),c.attachments&&c.attachments.forEach((t,p)=>{a.append("attachments",t,t.name)});const f=localStorage.getItem("authToken"),d=new u.Lr({Authorization:`Bearer ${f}`});return this.http.post(`${this.apiUrl}/factures/${g}/envoyer-email`,a,{headers:d,responseType:"text"})}getHistoriqueFacture(g){const c=localStorage.getItem("authToken"),a=new u.Lr({Authorization:`Bearer ${c}`});return this.http.get(`${this.apiUrl}/factpro/${g}/historique`,{headers:a})}getNotesFactureProforma(g){const c=localStorage.getItem("authToken"),a=new u.Lr({Authorization:`Bearer ${c}`});return this.http.get(`${this.apiUrl}/factures/${g}/notes`,{headers:a})}getNoteById(g,c){const a=localStorage.getItem("authToken"),f=new u.Lr({Authorization:`Bearer ${a}`,Accept:"application/json"});return this.http.get(`${this.apiUrl}/auth/${g}/notes/${c}`,{headers:f})}updateNote(g,c,a){const f=localStorage.getItem("authToken"),d=new u.Lr({Authorization:`Bearer ${f}`,"Content-Type":"application/json"});return this.http.put(`${this.apiUrl}/${g}/notes/${c}`,{nouveauContenu:a},{headers:d}).pipe((0,v.M)(h=>console.log("Note modifi\xe9e avec succ\xe8s:",h)),(0,b.W)(h=>(console.error("Erreur lors de la modification de la note:",h),(0,s.$)(()=>h))))}deletNoteFactureProforma(g,c){const a=localStorage.getItem("authToken"),f=new u.Lr({Authorization:`Bearer ${a}`,Accept:"application/json"});return this.http.delete(`${this.apiUrl}/${g}/notes/${c}/supprimer`,{headers:f})}getFacturesByClient(g,c){const a=localStorage.getItem("authToken"),f=new u.Lr({Authorization:`Bearer ${a}`});let d=new u.Nl;return g&&(d=d.set("clientId",g.toString())),c&&(d=d.set("entrepriseClientId",c.toString())),this.http.get(`${this.apiUrl}/factures/client`,{headers:f,params:d}).pipe((0,b.W)(t=>(console.error("Erreur dans getFacturesByClient:",t),(0,s.$)(()=>t))))}static{this.\u0275fac=function(c){return new(c||x)(M.KVO(u.Qq))}}static{this.\u0275prov=M.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}}return x})()},9597:(O,F,o)=>{o.r(F),o.d(F,{DetailEditClientComponent:()=>Et});var u=o(467),s=o(9417),v=o(7673),b=o(4412),C=o(4572),P=o(9172),M=o(6354),k=o(6967),x=o(177),j=o(850),g=o(6115),c=o(4114),a=o(1811),f=o(9980),d=o(6850),t=o(4438),p=o(777);let R=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=t.$C({type:n});static \u0275inj=t.G2t({imports:[p.M,p.M]})}return n})();var N=o(1281);let G=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=t.$C({type:n});static \u0275inj=t.G2t({imports:[p.M,p.M]})}return n})();var D=o(2525),T=o(9192),B=o(2120),L=o(7746),z=o(2409),U=o(4564);const V=["fileInput"],Y=()=>({standalone:!0}),W=(n,m,e,i)=>({draft:n,sent:m,approved:e,valid:i});function X(n,m){if(1&n&&(t.j41(0,"div",75),t.EFF(1),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.SpI(" ",e.errorMessage," ")}}function J(n,m){if(1&n&&(t.j41(0,"div",76),t.EFF(1),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.SpI(" ",e.successMessage," ")}}function K(n,m){if(1&n&&(t.j41(0,"div",75),t.EFF(1),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.SpI(" ",e.errorMessageApi," ")}}function H(n,m){1&n&&(t.j41(0,"div",77)(1,"div",78),t.nrm(2,"div",79),t.j41(3,"p"),t.EFF(4,"Creation en cours..."),t.k0s()()())}function Q(n,m){if(1&n){const e=t.RV6();t.j41(0,"i",80),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.toggleEditing())}),t.k0s()}}function Z(n,m){if(1&n){const e=t.RV6();t.j41(0,"i",81),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.toggleEditing())}),t.k0s()}}function q(n,m){1&n&&(t.j41(0,"small"),t.EFF(1,"Champ requis."),t.k0s())}function tt(n,m){1&n&&(t.j41(0,"small"),t.EFF(1,"Au moins 2 caract\xe8res."),t.k0s())}function et(n,m){if(1&n&&(t.j41(0,"div",82),t.DNE(1,q,2,0,"small",69)(2,tt,2,0,"small",69),t.k0s()),2&n){let e,i;const r=t.XpG();t.R7$(),t.Y8G("ngIf",null==(e=r.modifierClientForm.get("nomComplet"))||null==e.errors?null:e.errors.required),t.R7$(),t.Y8G("ngIf",null==(i=r.modifierClientForm.get("nomComplet"))||null==i.errors?null:i.errors.minlength)}}function nt(n,m){1&n&&(t.j41(0,"small"),t.EFF(1,"Format invalide."),t.k0s())}function it(n,m){if(1&n&&(t.j41(0,"div",82),t.DNE(1,nt,2,0,"small",69),t.k0s()),2&n){let e;const i=t.XpG();t.R7$(),t.Y8G("ngIf",null==(e=i.modifierClientForm.get("email"))||null==e.errors?null:e.errors.email)}}function rt(n,m){if(1&n){const e=t.RV6();t.j41(0,"div",83)(1,"h6"),t.EFF(2,"Entreprise"),t.k0s(),t.j41(3,"div",84)(4,"p"),t.EFF(5,"J'appartient \xe0 une entreprise"),t.k0s(),t.j41(6,"label",85)(7,"input",86),t.mxI("ngModelChange",function(r){t.eBV(e);const l=t.XpG();return t.DH7(l.isEntrepriseSelected,r)||(l.isEntrepriseSelected=r),t.Njj(r)}),t.k0s(),t.nrm(8,"span",87),t.k0s()()()}if(2&n){const e=t.XpG();t.R7$(7),t.Y8G("disabled",!e.isEditing),t.R50("ngModel",e.isEntrepriseSelected),t.Y8G("ngModelOptions",t.lJ4(3,Y))}}function ot(n,m){if(1&n&&(t.j41(0,"mat-option",99)(1,"div",100),t.EFF(2),t.k0s()()),2&n){const e=m.$implicit;t.Y8G("value",e),t.R7$(2),t.SpI(" ",e.nom," ")}}function at(n,m){if(1&n){const e=t.RV6();t.j41(0,"div",88)(1,"div",28),t.nrm(2,"input",89),t.j41(3,"label",90),t.EFF(4,"Mon entreprise"),t.k0s(),t.j41(5,"mat-autocomplete",91,2),t.bIt("optionSelected",function(r){t.eBV(e);const l=t.XpG();return t.Njj(l.onEntrepriseSelected(r))}),t.j41(7,"mat-option",92),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.openPopup())}),t.j41(8,"div",93),t.nrm(9,"i",94),t.j41(10,"span",95),t.EFF(11,"Cr\xe9er une entreprise"),t.k0s()()(),t.DNE(12,ot,3,2,"mat-option",96),t.nI1(13,"async"),t.k0s(),t.j41(14,"div",97),t.nrm(15,"i",98),t.k0s()()()}if(2&n){const e=t.sdS(6),i=t.XpG();t.R7$(2),t.Y8G("formControl",i.control)("matAutocomplete",e),t.R7$(3),t.Y8G("displayWith",i.displayFnEntreprise),t.R7$(7),t.Y8G("ngForOf",t.bMT(13,4,i.filteredOptions))}}function st(n,m){if(1&n){const e=t.RV6();t.j41(0,"div",101),t.nrm(1,"div"),t.j41(2,"div",102)(3,"div",103)(4,"button",104),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.goToClients())}),t.EFF(5),t.k0s()(),t.j41(6,"div",105)(7,"button",106),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.modifierClient())}),t.EFF(8," Modifier "),t.k0s()()()()}if(2&n){const e=t.XpG();t.R7$(5),t.JRh(e.isEditing?"Annuler":"Retour"),t.R7$(2),t.xc7("background-color",e.modifierClientForm.valid?"#0672E4":"#0671e434")("color",e.modifierClientForm.valid?"#ffffff":"#00000073")("cursor",e.modifierClientForm.valid?"pointer":"no-drop"),t.Y8G("disabled",e.modifierClientForm.invalid)}}function lt(n,m){if(1&n&&(t.j41(0,"div",107)(1,"span"),t.EFF(2,"Factures client"),t.k0s(),t.j41(3,"span",108),t.EFF(4),t.k0s()()),2&n){const e=t.XpG();t.R7$(4),t.JRh(e.factureCount)}}function ct(n,m){if(1&n&&(t.j41(0,"tr")(1,"td",129),t.EFF(2),t.k0s(),t.j41(3,"td",129),t.EFF(4),t.k0s(),t.j41(5,"td",129),t.EFF(6),t.nI1(7,"customNumber"),t.k0s(),t.j41(8,"td",129),t.EFF(9),t.k0s(),t.j41(10,"td",129),t.EFF(11),t.nI1(12,"customNumber"),t.k0s()()),2&n){const e=m.$implicit;t.R7$(2),t.JRh(e.nomProduit),t.R7$(2),t.JRh(e.ligneDescription),t.R7$(2),t.JRh(t.bMT(7,5,e.prixUnitaire)),t.R7$(3),t.JRh(e.quantite),t.R7$(2),t.JRh(t.bMT(12,7,e.montantTotal))}}function dt(n,m){1&n&&(t.j41(0,"tr")(1,"td",128),t.EFF(2,"Remise 0%"),t.k0s(),t.j41(3,"td",129),t.EFF(4,"0000"),t.k0s()())}function pt(n,m){1&n&&(t.j41(0,"tr")(1,"td",128),t.EFF(2,"TVA 0%"),t.k0s(),t.j41(3,"td",129),t.EFF(4,"000"),t.k0s()())}function mt(n,m){if(1&n&&(t.j41(0,"div",109)(1,"div",110)(2,"div",111),t.nrm(3,"img",112),t.k0s(),t.j41(4,"div",113)(5,"p",114),t.EFF(6),t.k0s(),t.j41(7,"p",114),t.EFF(8),t.k0s(),t.j41(9,"div",114),t.EFF(10),t.k0s()()(),t.nrm(11,"hr")(12,"hr"),t.j41(13,"div",115)(14,"h6"),t.EFF(15,"Facture proforma: "),t.j41(16,"span",116),t.EFF(17),t.k0s()()(),t.j41(18,"div",117)(19,"p",118),t.EFF(20),t.nI1(21,"date"),t.k0s()(),t.j41(22,"div",119)(23,"div",120)(24,"h6",121),t.EFF(25,"Doit : "),t.k0s(),t.j41(26,"p",121),t.EFF(27),t.k0s()(),t.j41(28,"div",122)(29,"h6",121),t.EFF(30,"Objet : "),t.k0s(),t.j41(31,"p",121),t.EFF(32),t.k0s()()(),t.j41(33,"div",123)(34,"table",124)(35,"thead")(36,"tr")(37,"th",125),t.EFF(38,"D\xe9signation"),t.k0s(),t.j41(39,"th",125),t.EFF(40,"Description"),t.k0s(),t.j41(41,"th",125),t.EFF(42,"PU"),t.k0s(),t.j41(43,"th",125),t.EFF(44,"Quantit\xe9"),t.k0s(),t.j41(45,"th",125),t.EFF(46,"Montant (FCFA)"),t.k0s()()(),t.j41(47,"tbody"),t.DNE(48,ct,13,9,"tr",126),t.k0s(),t.j41(49,"tfoot",127)(50,"tr")(51,"td",128),t.EFF(52,"Total HT"),t.k0s(),t.j41(53,"td",129),t.EFF(54),t.nI1(55,"customNumber"),t.k0s()(),t.DNE(56,dt,5,0,"tr",69)(57,pt,5,0,"tr",69),t.j41(58,"tr")(59,"td",128),t.EFF(60,"Montant TTC"),t.k0s(),t.j41(61,"td",129),t.EFF(62),t.nI1(63,"customNumber"),t.k0s()()()()(),t.j41(64,"div",130)(65,"p",131),t.EFF(66,"Arr\xeat\xe9 la pr\xe9sente facture \xe0 la somme de : Zero ....."),t.k0s()(),t.j41(67,"div",132)(68,"div",133)(69,"p",134),t.EFF(70),t.k0s()(),t.j41(71,"div",135)(72,"p",134),t.EFF(73),t.k0s()()(),t.j41(74,"div",136)(75,"div",137),t.nrm(76,"hr"),t.j41(77,"p",138)(78,"strong"),t.EFF(79),t.k0s()(),t.j41(80,"div",139)(81,"em"),t.EFF(82),t.k0s()(),t.j41(83,"div",140)(84,"em"),t.EFF(85),t.k0s()()()()()),2&n){const e=t.XpG();t.R7$(3),t.Y8G("src",e.entrepriseLogo,t.B4B),t.R7$(3),t.JRh(e.entrepriseNom),t.R7$(2),t.SpI("Secteur: ",e.entrepriseSecteur,""),t.R7$(2),t.Lme(" Email: ",e.entrepriseEmail," T\xe9l\xe9phone: ",e.entrepriseTelephone," "),t.R7$(7),t.SpI(" ",e.factureDetails.numeroFacture," "),t.R7$(3),t.Lme(" ",e.entrepriseSiege,", ",t.i5U(21,24,e.factureDetails.dateCreation,"dd/MM/yyyy")," "),t.R7$(7),t.SpI(" ",(null==e.factureDetails.client?null:e.factureDetails.client.nomComplet)||(null==e.factureDetails.entrepriseClient?null:e.factureDetails.entrepriseClient.nom)," "),t.R7$(5),t.SpI(" ",e.factureDetails.description," "),t.R7$(16),t.Y8G("ngForOf",e.factureDetails.lignesFacture),t.R7$(6),t.JRh(t.bMT(55,27,e.factureDetails.totalHT)),t.R7$(2),t.Y8G("ngIf",e.factureDetails.remise>0),t.R7$(),t.Y8G("ngIf",e.factureDetails.tva),t.R7$(5),t.JRh(t.bMT(63,29,e.factureDetails.totalFacture)),t.R7$(8),t.JRh(e.entrepriseSignataire),t.R7$(3),t.JRh(e.entrepriseSignataireNom),t.R7$(6),t.JRh(e.entrepriseSiteWeb),t.R7$(3),t.LHq(" NINA: ",e.entrepriseNina," RCCM: ",e.entrepriseRccm," NIF: ",e.entrepriseNif," Banque: ",e.entrepriseBanque," "),t.R7$(3),t.Lme("Adresse : ",e.entrepriseAdresse," /",e.entreprisePays,"")}}function ut(n,m){1&n&&(t.j41(0,"div",141),t.nrm(1,"i",142),t.j41(2,"p"),t.EFF(3,"Cette facture n\u2019est pas li\xe9e \xe0 cet utilisateur."),t.k0s()())}function gt(n,m){1&n&&(t.j41(0,"div",143),t.nrm(1,"i",144),t.EFF(2," Chargement des factures... "),t.k0s())}function ft(n,m){if(1&n&&(t.j41(0,"div",145),t.EFF(1),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.SpI(" ",e.errorFactures," ")}}function ht(n,m){1&n&&(t.j41(0,"div",146),t.nrm(1,"i",147),t.j41(2,"p"),t.EFF(3,"Aucune facture trouv\xe9e pour ce client"),t.k0s()())}function _t(n,m){if(1&n){const e=t.RV6();t.j41(0,"tr",151),t.bIt("click",function(){const r=t.eBV(e).$implicit,l=t.XpG(2);return t.Njj(l.onSelectFacture(r))}),t.j41(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.nI1(5,"date"),t.k0s(),t.j41(6,"td")(7,"span",152),t.EFF(8),t.k0s()(),t.j41(9,"td",149),t.EFF(10),t.nI1(11,"customNumber"),t.k0s()()}if(2&n){const e=m.$implicit,i=t.XpG(2);t.AVh("selected-row",i.selectedFactureId===e.id),t.R7$(2),t.JRh(e.numeroFacture),t.R7$(2),t.JRh(t.i5U(5,7,e.dateFacture,"dd/MM/yyyy")),t.R7$(3),t.Y8G("ngClass",t.ziG(12,W,"BROUILLON"===e.statut,"ENVOYE"===e.statut,"APPROUVE"===e.statut,"VALIDE"===e.statut)),t.R7$(),t.SpI(" ",e.statut," "),t.R7$(2),t.JRh(t.bMT(11,10,e.totalFacture))}}function vt(n,m){if(1&n&&(t.j41(0,"table")(1,"thead")(2,"tr",148)(3,"th"),t.EFF(4,"Num\xe9ro"),t.k0s(),t.j41(5,"th"),t.EFF(6,"Date"),t.k0s(),t.j41(7,"th"),t.EFF(8,"Statut"),t.k0s(),t.j41(9,"th",149),t.EFF(10,"Montant"),t.k0s()()(),t.j41(11,"tbody"),t.DNE(12,_t,12,17,"tr",150),t.k0s()()),2&n){const e=t.XpG();t.R7$(12),t.Y8G("ngForOf",e.facturesClient)}}function Ct(n,m){if(1&n&&(t.j41(0,"div",153)(1,"table",154)(2,"tfoot",155)(3,"tr")(4,"td",156),t.EFF(5,"Total"),t.k0s(),t.j41(6,"td",157),t.EFF(7),t.nI1(8,"customNumber"),t.k0s()()()()()),2&n){const e=t.XpG();t.R7$(7),t.SpI(" ",t.bMT(8,1,e.getTotalFactures())," ")}}function xt(n,m){1&n&&(t.j41(0,"div",180),t.EFF(1," Ce champ est requis "),t.k0s())}function bt(n,m){if(1&n){const e=t.RV6();t.j41(0,"div",158)(1,"div",159)(2,"div",160)(3,"h4"),t.EFF(4,"Ajouter une entreprise"),t.k0s(),t.j41(5,"button",161),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.closePopup())}),t.EFF(6,"\xd7"),t.k0s()(),t.j41(7,"form",162)(8,"div",163)(9,"div",164)(10,"div",28),t.nrm(11,"input",165),t.j41(12,"label",166),t.EFF(13,"Nom entreprise "),t.j41(14,"span",167),t.EFF(15,"*"),t.k0s()(),t.DNE(16,xt,2,0,"div",168),t.k0s(),t.j41(17,"div",28),t.nrm(18,"input",169),t.j41(19,"label",166),t.EFF(20,"Email"),t.k0s()()(),t.j41(21,"div",164)(22,"div",28),t.nrm(23,"input",170),t.j41(24,"label",166),t.EFF(25,"Adresse"),t.k0s()(),t.j41(26,"div",28),t.nrm(27,"input",171),t.j41(28,"label",166),t.EFF(29,"Ville"),t.k0s()()(),t.j41(30,"div",172)(31,"div",36)(32,"select",37),t.bIt("change",function(r){t.eBV(e);const l=t.XpG();return t.Njj(l.onEntreprisePaysChange(r))}),t.j41(33,"option",173),t.EFF(34,"Pays"),t.k0s(),t.j41(35,"option",39),t.EFF(36,"Mali"),t.k0s(),t.j41(37,"option",40),t.EFF(38,"S\xe9n\xe9gal"),t.k0s(),t.j41(39,"option",41),t.EFF(40,"C\xf4te d'Ivoire"),t.k0s()()(),t.j41(41,"div",43)(42,"input",174),t.bIt("focus",function(){let r;t.eBV(e);const l=t.XpG();return t.Njj(l.onEntreprisePaysChange({target:{value:null==(r=l.entrepriseForm.get("pays"))?null:r.value}}))})("input",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.formatEntreprisePhoneNumber())}),t.k0s(),t.j41(43,"label",166),t.EFF(44,"T\xe9l\xe9phone"),t.k0s()(),t.j41(45,"div",45),t.nrm(46,"input",175),t.j41(47,"label",166),t.EFF(48,"Secteur"),t.k0s()()()(),t.nrm(49,"div",176),t.j41(50,"div",177)(51,"button",178),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.closePopup())}),t.EFF(52,"Annuler"),t.k0s(),t.j41(53,"button",179),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.ajouterEntreprise())}),t.EFF(54," Ajouter "),t.k0s()()()()()}if(2&n){let e;const i=t.XpG();t.R7$(7),t.Y8G("formGroup",i.entrepriseForm),t.R7$(9),t.Y8G("ngIf",(null==(e=i.entrepriseForm.get("nom"))?null:e.invalid)&&(null==(e=i.entrepriseForm.get("nom"))?null:e.touched)),t.R7$(37),t.xc7("background-color",i.entrepriseForm.valid?"#0672E4":"#0671e434")("color",i.entrepriseForm.valid?"#ffffff":"#00000073")("cursor",i.entrepriseForm.valid?"pointer":"no-drop"),t.Y8G("disabled",i.entrepriseForm.invalid)}}let Et=(()=>{class n{ngOnInit(){this.getListEntreprise(),this.initEntreprise(),this.getClientForm(),this.getEntrepriseForm(),this.loadEntreprises(),this.getRouteClient(),this.modifierClientForm.disable(),this.control.disable(),this.loadEntrepriseInfo()}constructor(e,i,r,l,_,E){this.router=e,this.fb=i,this.entrepriseService=r,this.clientService=l,this.route=_,this.factureService=E,this.imgUrl=D.c.imgUrl,this.errorMessage="",this.errorMessageApi="",this.successMessage="",this.isEntrepriseSelected=!1,this.showPopup=!1,this.urllink="assets/img/appareil.jpg",this.newPhotoUrl=null,this.selectedFile=null,this.imageFile=null,this.control=new s.MJ,this.filteredOptions=(0,v.of)([]),this.loading=!1,this.optionsEntreprise$=new b.t([]),this.entrepriseRequiredError=!1,this.indicatif="",this.maxPhoneLength=0,this.entrepriseIndicatif="",this.entrepriseMaxPhoneLength=0,this.isLoading=!1,this.facturesClient=[],this.loadingFactures=!1,this.errorFactures="",this.selectedFactureId=null,this.factureDetails=null,this.clientPhotoUrl=null,this.selectedImageFile=null,this.entrepriseNom="",this.entrepriseSecteur="",this.entrepriseEmail="",this.entrepriseTelephone="",this.entrepriseSiege="",this.entrepriseLogo="",this.entrepriseSiteWeb="",this.entrepriseNina="",this.entrepriseRccm="",this.entrepriseNif="",this.entrepriseBanque="",this.entrepriseAdresse="",this.entreprisePays="",this.entrepriseSignataireNom="",this.entrepriseSignataire="",this.factureCount=0,this.isEditing=!1,this.displayedColumns1=["numero","date","statut","montant"],this.paysIndicatifs={Mali:{indicatif:"+223",longueur:8},S\u00e9n\u00e9gal:{indicatif:"+221",longueur:9},"C\xf4te d'Ivoire":{indicatif:"+225",longueur:10}}}testImageCompression(e){var i=this;return(0,u.A)(function*(){if(!e)return void console.log("Aucun fichier s\xe9lectionn\xe9.");console.log("Taille originale:",e.size/1024,"Ko");const r={maxSizeMB:1,maxWidthOrHeight:1e3,useWebWorker:!0};try{const l=yield(0,k.A)(e,r);if(console.log("Taille apr\xe8s compression:",l.size/1024,"Ko"),"image/png"!==l.type&&"image/jpeg"!==l.type)return console.error("Le fichier compress\xe9 n'est pas un format support\xe9 (PNG ou JPEG)."),void(i.errorMessage="Erreur de compression : Le format de l'image n'est pas valide.");const _=new FileReader;_.onload=E=>{i.newPhotoUrl=E.target?.result,console.log("Image compress\xe9e pr\xeate \xe0 \xeatre affich\xe9e !")},_.readAsDataURL(l)}catch(l){console.error("Erreur lors de la compression:",l)}})()}onFileSelected(e){this.errorMessage="";const i=e.target;if(i.files?.length){const r=i.files[0];if(this.selectedImageFile=r,!["image/jpeg","image/png","image/jpg"].includes(r.type))return void(this.errorMessage="Seuls les formats JPG, PNG sont accept\xe9s");this.testImageCompression(r);const _=new FileReader;_.onload=E=>{this.newPhotoUrl=E.target?.result},_.readAsDataURL(r)}}loadFactureDetails(e){this.factureService.getFactureProformaById(e).subscribe({next:i=>{const r=i.remise||0,l=i.totalHT-i.totalHT*r/100;let _=0,E=0;i.tva&&(_=i.totalFacture-l,l>0&&(E=_/l));let I=r;I>100&&(console.warn(`Remise invalide corrig\xe9e: ${I}% -> 100%`),I=100),this.factureDetails={...i,montantTVA:_,tauxTva:E,remise:I}},error:i=>{console.error("Erreur chargement d\xe9tails facture",i)}})}onSelectFacture(e){this.selectedFactureId=e.id,this.loadFactureDetails(e.id)}loadEntrepriseInfo(){this.entrepriseService.getEntrepriseInfo().subscribe({next:e=>{this.entrepriseNom=e.nom,this.entrepriseSecteur=e.secteur,this.entrepriseEmail=e.email,this.entrepriseTelephone=e.telephone,this.entrepriseSiege=e.siege,this.entrepriseLogo=e.logo?`${this.imgUrl}${e.logo}`:"",this.entrepriseSiteWeb=e.siteWeb,this.entrepriseNina=e.nina,this.entrepriseRccm=e.rccm,this.entrepriseNif=e.nif,this.entrepriseBanque=e.banque,this.entrepriseAdresse=e.adresse,this.entreprisePays=e.pays,this.entrepriseSignataireNom=e.signataireNom,this.entrepriseSignataire=e.signataire},error:e=>{console.error("Erreur chargement infos entreprise",e)}})}getTotalFactures(){const e=this.facturesClient.reduce((i,r)=>i+r.totalFacture,0);return Math.round(e)}triggerFileInput(){this.isEditing&&this.fileInput.nativeElement.click()}startEditing(){this.isEditing=!0,this.modifierClientForm.enable()}onPaysChange(e){const r=this.paysIndicatifs[e.target.value];r?(this.indicatif=`${r.indicatif} `,this.maxPhoneLength=this.indicatif.length+r.longueur,this.modifierClientForm.get("telephone")?.enable(),(this.modifierClientForm.get("telephone")?.value||"").startsWith(this.indicatif)||this.modifierClientForm.get("telephone")?.setValue(this.indicatif),this.updatePhoneValidator(r.longueur)):this.modifierClientForm.get("telephone")?.disable()}updatePhoneValidator(e){this.modifierClientForm.controls.telephone.setValidators([s.k0.pattern(`^\\${this.indicatif}\\d{${e}}$`)]),this.modifierClientForm.controls.telephone.updateValueAndValidity()}formatPhoneNumber(){let e=this.modifierClientForm.get("telephone")?.value;if(!e.startsWith(this.indicatif))return void this.modifierClientForm.get("telephone")?.setValue(this.indicatif);const i=e.replace(this.indicatif,"").replace(/\D/g,""),r=this.indicatif+i,l=this.indicatif.length+this.maxPhoneLength;this.modifierClientForm.get("telephone")?.setValue(r.slice(0,l))}goToStock(){this.router.navigate(["/clients"])}getRouteClient(){this.route.params.subscribe(e=>{this.clientId=+e.id,this.loadClientData()})}cancelEditing(){this.isEditing=!1,this.modifierClientForm.disable(),this.loadClientData()}getFullImageUrl(e){return e.startsWith("http")||e.startsWith("assets")?e:e?`${D.c.imgUrl}${e}`:"assets/img/profil.png"}loadClientData(){this.clientService.getClientById(this.clientId).subscribe({next:e=>{this.clientPhotoUrl=e.photo?this.clientService.getFullImageUrl(e.photo):"assets/img/profil.png",this.populateForm(e),this.modifierClientForm.disable(),this.handleEntreprise(e.entrepriseClient),this.loadFacturesClient(),e.photo&&(this.clientPhotoUrl=this.clientService.getFullImageUrl(e.photo))},error:e=>{this.errorMessage="Erreur lors du chargement du client",console.error("Erreur:",e)}})}loadFacturesClient(){this.loadingFactures=!0,this.factureService.getFacturesByClient(this.clientId).subscribe({next:e=>{this.facturesClient=e,this.factureCount=e.length,this.loadingFactures=!1,this.facturesClient.length>0&&this.onSelectFacture(this.facturesClient[0])},error:e=>{this.errorFactures="Erreur lors du chargement des factures",this.loadingFactures=!1,console.error(e)}})}populateForm(e){if(this.modifierClientForm.patchValue({nomComplet:e.nomComplet,email:e.email,telephone:e.telephone,adresse:e.adresse,poste:e.poste,pays:e.pays,ville:e.ville}),e.telephone){const i=e.telephone.replace(/(\+\d{3})(\d+)/,"$1 $2");this.modifierClientForm.patchValue({telephone:i})}if(e.pays){const i=this.paysIndicatifs[e.pays];i&&(this.indicatif=`${i.indicatif} `,this.maxPhoneLength=i.longueur,this.updatePhoneValidator(i.longueur))}}handleEntreprise(e){this.isEntrepriseSelected=!!e,this.control.setValue(e),this.entrepriseRequiredError=!1}getClientForm(){this.modifierClientForm=this.fb.group({nomComplet:["",[s.k0.required,s.k0.minLength(2)]],email:["",[s.k0.email]],telephone:[""],adresse:[""],poste:[""],pays:[""],ville:[""]})}getEntrepriseForm(){this.entrepriseForm=this.fb.group({nom:["",s.k0.required],email:["",s.k0.email],telephone:[""],adresse:[""],siege:[""],secteur:[""],pays:[""]})}loadEntreprises(){const e=localStorage.getItem("authToken")||"";e&&this.entrepriseService.getListEntreprise(e).subscribe(i=>{this.optionsEntreprise$.next(i),this.setupAutocomplete()},i=>{console.error("Erreur lors de la r\xe9cup\xe9ration des entreprises :",i),this.errorMessage=i.error?.error||"Erreur chargement entreprises"})}setupAutocomplete(){this.filteredOptions=(0,C.z)([this.control.valueChanges.pipe((0,P.Z)(""),(0,M.T)(e=>"string"==typeof e?e:e?.nom)),this.optionsEntreprise$]).pipe((0,M.T)(([e,i])=>e?this._filter(e,i):i))}getListEntreprise(){const e=localStorage.getItem("authToken");e?this.entrepriseService.getListEntreprise(e).subscribe(i=>{console.log("Entreprise re\xe7ues depuis l'API :",i),this.optionsEntreprise$.next(i),this.filteredOptions=this.control.valueChanges.pipe((0,P.Z)(""),(0,M.T)(r=>r?"string"==typeof r?r:r.nom:""),(0,M.T)(r=>r?this._filter(r,this.optionsEntreprise$.value):this.optionsEntreprise$.value.slice()))},i=>{console.error("Erreur lors de la r\xe9cup\xe9ration des entreprises :",i)}):console.error("Aucun token trouv\xe9 !")}_filter(e,i){const r=e.toLowerCase();return i.filter(l=>l.nom.toLowerCase().includes(r))}displayFnEntreprise(e){return e?e.nom:""}onEntrepriseSelected(e){}openPopup(){this.isEditing?this.isEditing&&(this.getEntrepriseForm(),this.entrepriseForm.reset(),this.entrepriseForm.patchValue({pays:"Mali"}),this.onEntreprisePaysChange({target:{value:this.entrepriseForm.get("pays")?.value}}),this.showPopup=!0,this.entrepriseRequiredError=!1):this.errorMessage="Activez le mode \xe9dition pour cr\xe9er une entreprise"}closePopup(){this.showPopup=!1}initEntreprise(){this.entrepriseForm=this.fb.group({nom:["",s.k0.required],pays:[""],email:[""],telephone:[""],adresse:[""],siege:[""],secteur:[""]})}ajouterEntreprise(){this.entrepriseForm.invalid||(this.isLoading=!0,setTimeout(()=>{this.entrepriseService.addEntreprise({nom:this.entrepriseForm.value.nom,pays:this.entrepriseForm.value.pays,email:this.entrepriseForm.value.email,telephone:this.entrepriseForm.value.telephone,adresse:this.entrepriseForm.value.adresse,siege:this.entrepriseForm.value.siege,secteur:this.entrepriseForm.value.secteur,logo:this.entrepriseForm.value.logo,nif:this.entrepriseForm.value.nif,nina:this.entrepriseForm.value.nina,banque:this.entrepriseForm.value.banque,rccm:this.entrepriseForm.value.rccm,siteWeb:this.entrepriseForm.value.siteWeb,signataire:this.entrepriseForm.value.signataire,signataireNom:this.entrepriseForm.value.signataireNom,prefixe:this.entrepriseForm.value.prefixe,suffixe:this.entrepriseForm.value.suffixe,tauxTva:this.entrepriseForm.value.tauxTva}).subscribe({next:i=>{this.optionsEntreprise$.next([i,...this.optionsEntreprise$.value]),this.control.setValue(i),this.closePopup(),this.entrepriseForm.reset(),this.isLoading=!1},error:i=>{this.errorMessageApi=i.message||"Erreur lors de la cr\xe9ation",this.isLoading=!1}})},3e3))}modifierClient(){this.errorMessage="",this.errorMessageApi="",this.successMessage="",this.markFormGroupTouched(this.modifierClientForm),this.modifierClientForm.invalid?this.errorMessage="Veuillez corriger les erreurs dans le formulaire.":!this.isEntrepriseSelected||this.control.value?(this.isLoading=!0,setTimeout(()=>{const e={...this.modifierClientForm.value,id:this.clientId};let i;this.selectedImageFile?i=this.selectedImageFile:this.clientPhotoUrl?.includes("assets")&&(e.photo=null),e.entrepriseClient=this.isEntrepriseSelected&&this.control.value?.id?{id:this.control.value.id}:null,this.clientService.updateClient(this.clientId,e,i).subscribe({next:r=>{this.clientPhotoUrl=r.photo?this.clientService.getFullImageUrl(r.photo):"assets/img/profil.png",this.successMessage="Client modifi\xe9 avec succ\xe8s !",this.errorMessage="",this.newPhotoUrl=null,this.selectedImageFile=null,this.isEditing=!1,this.modifierClientForm.disable(),this.isLoading=!1},error:r=>{console.error("Erreur:",r),this.errorMessage=r.error?.message||"Erreur lors de la modification du client",this.successMessage="",this.isLoading=!1}})},3e3)):this.errorMessage="Veuillez s\xe9lectionner ou cr\xe9er une entreprise."}markFormGroupTouched(e){Object.values(e.controls).forEach(i=>{i.markAsTouched(),i instanceof s.gE&&this.markFormGroupTouched(i)})}toggleEditing(){this.isEditing=!this.isEditing,this.isEditing?(this.control.enable(),this.modifierClientForm.enable()):(this.errorMessage="",this.entrepriseRequiredError=!1,this.control.disable(),this.modifierClientForm.disable(),this.loadClientData())}goToClients(){this.isEditing?this.cancelEditing():this.router.navigate(["/clients"])}formatEntreprisePhoneNumber(){let e=this.entrepriseForm.get("telephone")?.value;if(!e.startsWith(this.entrepriseIndicatif))return void this.entrepriseForm.get("telephone")?.setValue(this.entrepriseIndicatif);const i=e.replace(this.entrepriseIndicatif,"").replace(/\D/g,""),r=this.entrepriseIndicatif+i,l=this.entrepriseIndicatif.length+this.entrepriseMaxPhoneLength;this.entrepriseForm.get("telephone")?.setValue(r.slice(0,l))}onEntreprisePaysChange(e){const r=this.paysIndicatifs[e.target.value];r&&(this.entrepriseIndicatif=`${r.indicatif} `,this.entrepriseMaxPhoneLength=r.longueur,(this.entrepriseForm.get("telephone")?.value||"").startsWith(this.entrepriseIndicatif)||this.entrepriseForm.get("telephone")?.setValue(this.entrepriseIndicatif),this.updateEntreprisePhoneValidator(r.longueur))}updateEntreprisePhoneValidator(e){this.entrepriseForm.controls.telephone.setValidators([s.k0.pattern(`^\\${this.entrepriseIndicatif}\\d{${e}}$`)]),this.entrepriseForm.controls.telephone.updateValueAndValidity()}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(T.Ix),t.rXU(s.ok),t.rXU(B.r),t.rXU(L.X),t.rXU(T.nX),t.rXU(z.c))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-detail-edit-client"]],viewQuery:function(i,r){if(1&i&&t.GBs(V,5),2&i){let l;t.mGM(l=t.lsd())&&(r.fileInput=l.first)}},decls:116,vars:22,consts:[["fileInput",""],["noFactureSelected",""],["auto","matAutocomplete"],[1,"toast-container"],["class","alert alert-danger toast-message-danger",4,"ngIf"],["class","alert alert-success toast-message-success",4,"ngIf"],[1,"container_client"],["class","loading-overlay",4,"ngIf"],[1,"information_cadre",2,"margin-bottom","20px","padding","20px"],[1,"info_personnel"],[1,"information_grid_two"],[1,"profil_section"],[1,"section_title"],[1,"title"],[1,"profile-img-wrapper",3,"click"],["alt","Photo de profil",1,"profile-img",3,"src"],[1,"overlay"],["src","assets/img/appareil.jpg","alt","Modifier",1,"camera-icon"],["type","file","accept","image/*","hidden","",3,"change"],[1,"taille_photo"],[2,"margin","0","font-size","8px","text-align","center"],[1,"info_section"],[1,"title","title_display"],[1,"icon_edit"],["class","ri-edit-box-line","title","Cliquer ici pour modifier",3,"click",4,"ngIf"],["style","color: #ff0000;","class","ri-close-line","title","Fermer l'\xe9dition",3,"click",4,"ngIf"],[1,"container_formulaire",3,"formGroup"],[1,"champ_grid_true"],[1,"champ_input"],["type","text","id","nomComplet","formControlName","nomComplet","name","nomComplet","placeholder","Saisis le nom et pr\xe9nom",1,"input_focus"],["for","nomComplet",1,"label"],["class","error",4,"ngIf"],["type","email","id","email","formControlName","email","placeholder","Saisis l'email",1,"input_focus"],["for","email",1,"label"],["id","adresse","formControlName","adresse","name","adresse","placeholder","Saisissez votre adresse ",1,"input_focus"],["for","adresse",1,"label"],[1,"champ_input","div1"],["formControlName","pays",1,"input_focus",3,"change"],["value","","disabled",""],["value","Mali"],["value","S\xe9n\xe9gal"],["value","C\xf4te d'Ivoire"],["for","telephone",1,"label"],[1,"champ_input","div2"],["type","tel","id","telephone","formControlName","telephone","name","telephone","placeholder","Saisis le num\xe9ro de t\xe9l\xe9phone",1,"input_focus",3,"input"],[1,"champ_input","div3"],["id","ville","formControlName","ville","name","ville","placeholder","Saisis la viille",1,"input_focus"],["for","pays",1,"label"],["id","poste","formControlName","poste","name","poste","placeholder","Saisissez votre poste ",1,"input_focus"],["for","poste",1,"label"],["class","info_titre_input","style","margin-top: 20px;",4,"ngIf"],["class","cadre_entreprise",4,"ngIf"],["class"," information_cadre_save",4,"ngIf"],[1,"information_cadre"],[1,"section_navbar"],[1,"custom-tabs",3,"selectedIndex"],["mat-tab-label",""],[1,"tab-content"],[1,"content_client"],[1,"profil_section","profil_section_facture"],["class","facture_model",4,"ngIf","ngIfElse"],[1,"non_facture"],[1,"info_section",2,"padding","0"],[1,"contact_info__"],[1,"section_title","section_title2",2,"padding","20px 20px 6px"],[1,"table-container",2,"max-height","41vh","border-radius","10px","display","flex","flex-direction","column","position","relative"],["class","loading-indicator",4,"ngIf"],["class","error-message",4,"ngIf"],["class","empty-state",4,"ngIf"],[4,"ngIf"],["class","sticky-footer",4,"ngIf"],["label","Achats"],["label","Notes"],["label","????"],["class","popup-overlay",4,"ngIf"],[1,"alert","alert-danger","toast-message-danger"],[1,"alert","alert-success","toast-message-success"],[1,"loading-overlay"],[1,"loading-content"],[1,"spinner"],["title","Cliquer ici pour modifier",1,"ri-edit-box-line",3,"click"],["title","Fermer l'\xe9dition",1,"ri-close-line",2,"color","#ff0000",3,"click"],[1,"error"],[1,"info_titre_input",2,"margin-top","20px"],[1,"champ_input_inventaire"],[1,"switch"],["type","checkbox",3,"ngModelChange","disabled","ngModel","ngModelOptions"],[1,"slider","round"],[1,"cadre_entreprise"],["type","text","placeholder","Selectionner un entreprise","matInput","",1,"input_focus","input_cursor",3,"formControl","matAutocomplete"],["for","categorieId",1,"label"],[3,"optionSelected","displayWith"],[1,"select-option",3,"click"],[2,"display","flex","align-items","center","color","#0672E4"],[1,"ri-community-line"],[2,"margin-left","8px"],[3,"value",4,"ngFor","ngForOf"],[1,"icon_arrow"],[1,"ri-arrow-down-s-line"],[3,"value"],[1,"option-content"],[1,"information_cadre_save"],[1,"info_titre_input","info_titre_input_btn"],[1,"btn_annuler"],[1,"btn_cancel",3,"click"],[1,"btn_ajouter"],[1,"btn_save",3,"click","disabled"],[1,"tab-label"],[1,"facture-count"],[1,"facture_model"],[1,"header_apercu",2,"display","flex","align-items","center","gap","5px","margin","10px"],[1,"logo_entreprise"],[3,"src"],[1,"entete_entreprise"],[1,"para1"],[1,"titre",2,"text-align","center","font-size","8px"],[2,"color","#0000003e"],[1,"date_right"],[2,"margin","0 10px","font-size","8px","text-align","right"],[1,"name_client",2,"margin-left","10px"],[1,"doit",2,"display","flex","align-items","center","gap","3px"],[2,"margin","0","font-size","8px"],[1,"objets",2,"display","flex","align-items","center","gap","3px"],[1,"container_table",2,"display","flex","justify-content","center"],[1,"table"],[1,"th"],[4,"ngFor","ngForOf"],[1,"tfoot"],["colspan","4",1,"td"],[1,"td"],[1,"arret_somme"],[2,"margin","0 0 0 10px","font-size","6px"],[1,"signature",2,"text-align","right","margin","20px 10px 16px 0"],[1,"post_signateure"],[2,"font-size","8px"],[1,"nom_signateure"],[1,"container_footer"],[1,"footer"],[2,"text-align","center","font-size","8px","margin","0 0 3px 0"],[2,"font-size","5px","text-align","center"],[2,"margin-top","0px","font-size","5px","text-align","center"],[1,"empty-preview"],[1,"ri-file-text-line"],[1,"loading-indicator"],[1,"ri-loader-4-line","spin"],[1,"error-message"],[1,"empty-state"],[1,"ri-file-list-2-line"],[2,"position","sticky","top","0","background","white","z-index","10","box-shadow","0 2px 2px -1px rgba(0,0,0,0.1)"],[1,"text-right"],[3,"selected-row","click",4,"ngFor","ngForOf"],[3,"click"],[1,"status-badge",3,"ngClass"],[1,"sticky-footer"],[2,"width","100%"],[2,"background-color","#ffffff"],["colspan","3",1,"text-bold"],[1,"text-right","text-bold"],[1,"popup-overlay"],[1,"popup-content"],[1,"popup-header"],[1,"close-btn",3,"click"],[3,"formGroup"],[1,"popup-body"],[1,"champ_grid"],["type","text","formControlName","nom","placeholder","Saisis le nom de l'entreprise",1,"input_focus"],[1,"label"],[2,"color","#ff0000","margin-left","5px"],["class","error-text",4,"ngIf"],["type","email","formControlName","email","placeholder","Saisis l'email",1,"input_focus"],["type","text","formControlName","adresse","placeholder","Saisis l'adresse",1,"input_focus"],["type","text","formControlName","siege","placeholder","Saisis le si\xe8ge",1,"input_focus"],[1,"grid_colonne"],["value","","disabled","","selected",""],["type","tel","formControlName","telephone","placeholder","Saisis le num\xe9ro de t\xe9l\xe9phone",1,"input_focus",3,"focus","input"],["formControlName","secteur","placeholder","Saisis le secteur",1,"input_focus"],[1,"container_error_message"],[1,"popup-footer"],["type","button",1,"btn-cancel",3,"click"],["type","submit",1,"btn-submit",3,"click","disabled"],[1,"error-text"]],template:function(i,r){if(1&i){const l=t.RV6();t.j41(0,"div",3),t.DNE(1,X,2,1,"div",4)(2,J,2,1,"div",5)(3,K,2,1,"div",4),t.k0s(),t.j41(4,"div",6),t.DNE(5,H,5,0,"div",7),t.j41(6,"div",8)(7,"div",9)(8,"div",10)(9,"div",11)(10,"div",12)(11,"div",13)(12,"h6"),t.EFF(13,"Photo de profil du client"),t.k0s()()(),t.j41(14,"div",14),t.bIt("click",function(){return t.eBV(l),t.Njj(r.triggerFileInput())}),t.nrm(15,"img",15),t.j41(16,"div",16),t.nrm(17,"img",17),t.k0s()(),t.j41(18,"input",18,0),t.bIt("change",function(E){return t.eBV(l),t.Njj(r.onFileSelected(E))}),t.k0s(),t.j41(20,"div",19)(21,"p",20),t.EFF(22,"Formats JPG, GIF ou PNG autoris\xe9s. "),t.nrm(23,"br"),t.EFF(24," Taille maximale : 800 Ko."),t.k0s()()(),t.j41(25,"div",21)(26,"div",12)(27,"div",22)(28,"h6"),t.EFF(29,"Informations Personnelles"),t.k0s(),t.j41(30,"div",23),t.DNE(31,Q,1,0,"i",24)(32,Z,1,0,"i",25),t.k0s()()(),t.j41(33,"form",26)(34,"div",27)(35,"div",28),t.nrm(36,"input",29),t.j41(37,"label",30),t.EFF(38,"Nom et pr\xe9nom"),t.k0s(),t.DNE(39,et,3,2,"div",31),t.k0s(),t.j41(40,"div",28),t.nrm(41,"input",32),t.j41(42,"label",33),t.EFF(43,"Email"),t.k0s(),t.DNE(44,it,2,1,"div",31),t.k0s(),t.j41(45,"div",28),t.nrm(46,"input",34),t.j41(47,"label",35),t.EFF(48,"Adresse"),t.k0s()()(),t.j41(49,"div",27)(50,"div",36)(51,"select",37),t.bIt("change",function(E){return t.eBV(l),t.Njj(r.onPaysChange(E))}),t.j41(52,"option",38),t.EFF(53,"Pays"),t.k0s(),t.j41(54,"option",39),t.EFF(55,"Mali"),t.k0s(),t.j41(56,"option",40),t.EFF(57,"S\xe9n\xe9gal"),t.k0s(),t.j41(58,"option",41),t.EFF(59,"C\xf4te d'Ivoire"),t.k0s(),t.j41(60,"label",42),t.EFF(61,"Pays"),t.k0s()()(),t.j41(62,"div",43)(63,"input",44),t.bIt("input",function(){return t.eBV(l),t.Njj(r.formatPhoneNumber())}),t.k0s(),t.j41(64,"label",42),t.EFF(65,"T\xe9l\xe9phone"),t.k0s()(),t.j41(66,"div",45),t.nrm(67,"input",46),t.j41(68,"label",47),t.EFF(69,"Ville"),t.k0s()()(),t.j41(70,"div",27)(71,"div",28),t.nrm(72,"input",48),t.j41(73,"label",49),t.EFF(74,"Poste"),t.k0s()(),t.j41(75,"div",28),t.nrm(76,"input",46),t.j41(77,"label",47),t.EFF(78,"Ville"),t.k0s()()()(),t.DNE(79,rt,9,4,"div",50)(80,at,16,6,"div",51)(81,st,9,8,"div",52),t.k0s()()()(),t.j41(82,"div",53)(83,"div",54)(84,"mat-tab-group",55)(85,"mat-tab"),t.DNE(86,lt,5,1,"ng-template",56),t.j41(87,"div",57)(88,"div",58)(89,"div",10)(90,"div",59),t.DNE(91,mt,86,31,"div",60),t.j41(92,"div",61),t.DNE(93,ut,4,0,"ng-template",null,1,t.C5r),t.k0s()(),t.j41(95,"div",62)(96,"div",63)(97,"div",64)(98,"div",13)(99,"h6"),t.EFF(100,"Toutes les factures"),t.k0s()()(),t.j41(101,"div",65),t.DNE(102,gt,3,0,"div",66)(103,ft,2,1,"div",67)(104,ht,4,0,"div",68)(105,vt,13,1,"table",69),t.k0s(),t.DNE(106,Ct,9,3,"div",70),t.k0s()()()()()(),t.j41(107,"mat-tab",71)(108,"div",57),t.EFF(109," Contenu des notifications "),t.k0s()(),t.j41(110,"mat-tab",72),t.nrm(111,"div",57),t.k0s(),t.j41(112,"mat-tab",73)(113,"div",57),t.EFF(114," Contenu de la s\xe9curit\xe9 "),t.k0s()()()()()(),t.DNE(115,bt,55,9,"div",74)}if(2&i){let l,_;const E=t.sdS(94);t.R7$(),t.Y8G("ngIf",r.errorMessage),t.R7$(),t.Y8G("ngIf",r.successMessage),t.R7$(),t.Y8G("ngIf",r.errorMessageApi),t.R7$(2),t.Y8G("ngIf",r.isLoading),t.R7$(10),t.Y8G("src",r.newPhotoUrl||r.clientPhotoUrl||"assets/img/profil.png",t.B4B),t.R7$(16),t.Y8G("ngIf",!r.isEditing),t.R7$(),t.Y8G("ngIf",r.isEditing),t.R7$(),t.Y8G("formGroup",r.modifierClientForm),t.R7$(6),t.Y8G("ngIf",(null==(l=r.modifierClientForm.get("nomComplet"))?null:l.touched)&&(null==(l=r.modifierClientForm.get("nomComplet"))?null:l.invalid)),t.R7$(5),t.Y8G("ngIf",(null==(_=r.modifierClientForm.get("email"))?null:_.touched)&&(null==(_=r.modifierClientForm.get("email"))?null:_.invalid)),t.R7$(35),t.Y8G("ngIf",r.isEditing||r.isEntrepriseSelected),t.R7$(),t.Y8G("ngIf",r.isEntrepriseSelected&&(r.isEditing||r.isEntrepriseSelected)),t.R7$(),t.Y8G("ngIf",r.isEditing),t.R7$(3),t.Y8G("selectedIndex",0),t.R7$(7),t.Y8G("ngIf",r.factureDetails)("ngIfElse",E),t.R7$(11),t.Y8G("ngIf",r.loadingFactures),t.R7$(),t.Y8G("ngIf",!r.loadingFactures&&r.errorFactures),t.R7$(),t.Y8G("ngIf",!r.loadingFactures&&!r.errorFactures&&0===r.facturesClient.length),t.R7$(),t.Y8G("ngIf",!r.loadingFactures&&!r.errorFactures&&r.facturesClient.length>0),t.R7$(),t.Y8G("ngIf",!r.loadingFactures&&!r.errorFactures&&r.facturesClient.length>0),t.R7$(9),t.Y8G("ngIf",r.showPopup)}},dependencies:[s.YN,s.qT,s.xH,s.y7,s.me,s.Zm,s.wz,s.BC,s.cb,s.vS,x.MD,x.YU,x.Sq,x.bT,x.Jj,x.vh,s.X1,s.l_,s.j4,s.JD,j.jL,j.$3,U.M,j.pN,g.v,d.RI,d.ES,d.mq,d.T8,c.MY,a.M,f.m_,R,N.tP,G],styles:['@charset "UTF-8";.container_client[_ngcontent-%COMP%]{width:100%;background-color:#f1f1f1;border-radius:12px;box-shadow:0 10px 30px #0000001a;overflow:hidden}.information_cadre[_ngcontent-%COMP%]{width:100%;height:auto;background-color:#fff;box-shadow:2px 2px 30px #0000001c;border-radius:5px;margin-top:0;margin-bottom:10px;padding:10px 0}.content_client[_ngcontent-%COMP%]{padding:30px}.information_grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 2fr 2fr;gap:20px}.information_grid_two[_ngcontent-%COMP%]{display:grid;grid-template-columns:27% 2fr;gap:20px}.section_title[_ngcontent-%COMP%]{margin-bottom:10px;position:relative;padding-bottom:2px}.section_title[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:#2c3e50;text-transform:uppercase;letter-spacing:1px}.title_display[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.section_title[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:50px;height:3px;background:linear-gradient(to right,#4b6cb7,#182848);border-radius:3px}.section_title2[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:21px;width:50px;height:3px;background:linear-gradient(to right,#4b6cb7,#182848);border-radius:3px}.profil_section[_ngcontent-%COMP%]{padding:25px;background-color:#fff;border:1px solid #e9e9e9;box-shadow:#00000001 0 0 0 1px;border-radius:20px}.profil_section_facture[_ngcontent-%COMP%]{min-height:50vh;padding:0!important}.info_section[_ngcontent-%COMP%]{padding:25px;background-color:#fff;border:1px solid #e9e9e9;box-shadow:#00000001 0 0 0 1px;border-radius:20px}.info_grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:20px}.champ_grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-template-rows:1fr;grid-column-gap:0px;grid-row-gap:0px;gap:20px}.champ_grid_true[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:1fr;grid-column-gap:0px;grid-row-gap:0px;gap:20px}.champ_input[_ngcontent-%COMP%]{position:relative;margin-bottom:5px}.input_focus[_ngcontent-%COMP%]{width:100%;height:40px;outline:none;border-bottom:1px solid rgb(53,50,50);border-top:none;border-left:none;border-right:none;margin:10px 0 0;transition:all .3s;font-size:10px;background:none;color:#000}.champ_input[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{position:absolute;top:22px;left:4px;pointer-events:none;color:#999}.input_focus[_ngcontent-%COMP%]:hover{border-bottom:1px solid #0672E4;border-top:none;border-left:none;border-right:none}.input_focus[_ngcontent-%COMP%]:not(:placeholder-shown) + .label[_ngcontent-%COMP%], .input_focus[_ngcontent-%COMP%]:focus + .label[_ngcontent-%COMP%]{color:#0672e4;top:5px;left:0;transition:all .3s ease-in-out;background:none;font-size:10px;padding:0}.input_focus[_ngcontent-%COMP%]::placeholder{opacity:0}.input_focus[_ngcontent-%COMP%]:focus::placeholder{opacity:1;animation-delay:1s;font-size:12px;transition:all .2s ease-in-out}.profile-img-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block;width:100px;height:100px;border-radius:50%;overflow:hidden;cursor:pointer;transition:transform .2s ease-in-out;display:flex;justify-content:center;margin:20px auto}.profile-img-wrapper[_ngcontent-%COMP%]:hover{transform:scale(1.01)}.profile-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0000004d;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .3s ease-in-out}.profile-img-wrapper[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{opacity:1}.camera-icon[_ngcontent-%COMP%]{width:30px;height:30px;background:#fff;padding:6px;border-radius:50%;box-shadow:0 0 4px #00000026}.icon_edit[_ngcontent-%COMP%]{margin-top:-7px}.icon_edit[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px;cursor:pointer}@media (max-width: 768px){.information_grid[_ngcontent-%COMP%], .information_grid_two[_ngcontent-%COMP%], .info_grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.info_item[_ngcontent-%COMP%]{margin-bottom:20px}.info_label[_ngcontent-%COMP%]{font-size:14px;color:#6c757d;font-weight:500;margin-bottom:5px}.info_value[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#2c3e50}.contact_info[_ngcontent-%COMP%]{margin-top:20px}.contact_item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:15px}.contact_icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:#e9ecef;display:flex;align-items:center;justify-content:center;color:#4b6cb7;font-size:18px}.tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;margin-top:20px}.tag[_ngcontent-%COMP%]{background:#e3f2fd;color:#1976d2;padding:6px 12px;border-radius:20px;font-size:13px;font-weight:500}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:30px;height:15px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0 0 0 2px;background-color:#ccc;transition:.4s;border-radius:24px}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:11px;width:11px;left:2px;bottom:2px;background-color:#fff;transition:.4s;border-radius:50%}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#0672e4}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(13px)}.input_cursor[_ngcontent-%COMP%]{cursor:pointer}.icon_arrow[_ngcontent-%COMP%]{position:absolute;right:10px;top:25px}.icon_arrow[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:17px;color:#000}.popup-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.popup-content[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;width:50%}.popup-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.popup-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer}.popup-footer[_ngcontent-%COMP%]{margin-top:20px;text-align:right}.btn-cancel[_ngcontent-%COMP%], .btn-submit[_ngcontent-%COMP%]{margin-left:10px;border:none;border-radius:4px;cursor:pointer}.btn-cancel[_ngcontent-%COMP%]{background-color:red;padding:6px 25px;color:#fff}.btn-cancel[_ngcontent-%COMP%]:hover{background-color:#d80101;transition:all ease-in .5s}.btn-submit[_ngcontent-%COMP%]{background-color:#0672e4;padding:6px 25px;color:#fff;cursor:pointer;cursor:no-drop}.btn-submit[_ngcontent-%COMP%]:hover{background-color:#0863c5;transition:all ease-in .5s}.error-text[_ngcontent-%COMP%]{color:#f44;font-size:.8rem;margin-top:4px}.btn-submit[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.error-messageApi[_ngcontent-%COMP%]{font-size:9px;color:red;font-weight:700;position:relative;top:-20px;left:-20px}.success-messageApi[_ngcontent-%COMP%]{font-size:9px;color:#0672e4;font-weight:700;position:relative;top:-20px;left:-20px}.error-messageApi2[_ngcontent-%COMP%]{font-size:9px;color:red;font-weight:700}.success-messageApi2[_ngcontent-%COMP%]{font-size:9px;color:#0672e4;font-weight:700}.error[_ngcontent-%COMP%]{font-size:9px;color:red;font-weight:700;position:relative}.champ_input_inventaire[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}.champ_input_inventaire[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.table-container[_ngcontent-%COMP%]{margin:0;overflow:auto}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:2px;height:2px}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#0003;border-radius:3px}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:12px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;border-bottom:1px solid #eee}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#fff;font-weight:600;color:#000;letter-spacing:.6px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background-color .2s}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#f1f3f5}table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:600;color:#212529}.text-right[_ngcontent-%COMP%]{text-align:right}.text-bold[_ngcontent-%COMP%]{font-weight:600}.status-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 8px;border-radius:12px;font-size:9px;font-weight:500}.status-badge.draft[_ngcontent-%COMP%]{background-color:#e9ecef;color:#495057}.status-badge.sent[_ngcontent-%COMP%]{background-color:#fff3cd;color:#856404}.status-badge.approved[_ngcontent-%COMP%]{background-color:#c5c5e2;color:#00f}.status-badge.valid[_ngcontent-%COMP%]{background-color:#d5e6d5;color:green}.loading-indicator[_ngcontent-%COMP%]{padding:20px;text-align:center;color:#6c757d}.loading-indicator[_ngcontent-%COMP%]   .spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-right:8px}.empty-state[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;color:#6c757d}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:48px;margin-bottom:16px;color:#ced4da}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.error-message[_ngcontent-%COMP%]{padding:20px;text-align:center;color:#dc3545;background-color:#fff8f8;border-radius:8px;margin:10px 0}.table-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}.table-wrapper[_ngcontent-%COMP%]{flex:1;overflow-y:auto}.sticky-footer[_ngcontent-%COMP%]{position:sticky;bottom:0;background:#fff;z-index:10;box-shadow:0 -2px 5px #0000001a;border-top:1px solid #eee}.sticky-footer[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{position:sticky;top:0;background:#fff;z-index:10;box-shadow:0 2px 5px #0000001a}.logo_entreprise[_ngcontent-%COMP%]{width:50px}.logo_entreprise[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.para1[_ngcontent-%COMP%]{font-size:6px;margin:0}hr[_ngcontent-%COMP%]{margin:3px}.titre[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:10px}.table[_ngcontent-%COMP%]{width:93%;border-collapse:collapse;margin:4px 0;font-size:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:3px 5px;text-align:center}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{background-color:#f5f5f5;font-weight:600}.table[_ngcontent-%COMP%]   .tfoot[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{font-weight:600;background-color:#f9f9f9}@media (max-width: 768px){table[_ngcontent-%COMP%]{font-size:11px}}@media (max-width: 480px){table[_ngcontent-%COMP%]{font-size:10px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px 3px}}.btn_annuler[_ngcontent-%COMP%]   .btn_cancel[_ngcontent-%COMP%]{padding:6px 20px;font-size:10px;letter-spacing:.6px;border:none;border-radius:5px;background-color:red;color:#fff}.btn_annuler[_ngcontent-%COMP%]   .btn_cancel[_ngcontent-%COMP%]:hover{background-color:#d80101;transition:all ease-in .5s}.btn_ajouter[_ngcontent-%COMP%]   .btn_save[_ngcontent-%COMP%]{padding:6px 20px;font-size:10px;letter-spacing:.6px;border:none;border-radius:5px;background-color:#0672e4;color:#fff}.btn_ajouter[_ngcontent-%COMP%]   .btn_save[_ngcontent-%COMP%]:hover{background-color:#0863c5;transition:all .5s}.info_titre_input_btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:end;gap:8px;margin-top:12px}.grid_colonne[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:1fr;grid-column-gap:0px;grid-row-gap:0px;gap:20px}.div1[_ngcontent-%COMP%]{grid-area:1/1/2/2}.div2[_ngcontent-%COMP%]{grid-area:1/2/2/3}.div3[_ngcontent-%COMP%]{grid-area:1/3/2/4}.selected-row[_ngcontent-%COMP%]{border:2px solid #0672E4;background-color:#f0f8ff}.tab-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.facture-count[_ngcontent-%COMP%]{background-color:#0672e4;color:#fff;border-radius:50%;font-size:12px;min-width:22px;height:22px;display:flex;justify-content:center;align-items:center;padding:2px}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;color:#fff;font-size:18px;z-index:1000}.loading-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px}.spinner[_ngcontent-%COMP%]{border:4px solid rgba(255,255,255,.3);border-top:4px solid white;border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.container_error_message[_ngcontent-%COMP%]{margin-top:10px}.information_cadre_save[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.success-messageApi2[_ngcontent-%COMP%]{font-size:12px;color:#0672e4;font-weight:700}.toast-container[_ngcontent-%COMP%]{position:fixed;top:60px;right:35px;z-index:9999}.toast-message-success[_ngcontent-%COMP%]{background-color:#77eb87;border:1px solid #ACCEBC;color:#000;padding:10px;border-radius:8px;font-size:13px;box-shadow:0 4px 6px #0000001a;opacity:0;animation:_ngcontent-%COMP%_fadeInOut 4s ease-in-out;transform:translateY(-20px)}.toast-message-danger[_ngcontent-%COMP%], .toast-message-warning[_ngcontent-%COMP%]{background-color:#f3d8da;border:1px solid #E7B1B6;color:#000;padding:10px;border-radius:8px;font-size:13px;box-shadow:0 4px 6px #0000001a;opacity:0;animation:_ngcontent-%COMP%_fadeInOut 4s ease-in-out;transform:translateY(-20px)}@keyframes _ngcontent-%COMP%_fadeInOut{0%{opacity:0;transform:translateY(-20px)}20%{opacity:1;transform:translateY(0)}80%{opacity:1}to{opacity:0;transform:translateY(2px)}}.empty-preview[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;color:#6c757d}.empty-preview[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:48px;margin-bottom:10px}.empty-preview[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;text-align:center}']})}}return n})()},1811:(O,F,o)=>{o.d(F,{M:()=>b});var u=o(2318),s=o(4438),v=o(777);let b=(()=>{class C{static \u0275fac=function(k){return new(k||C)};static \u0275mod=s.$C({type:C});static \u0275inj=s.G2t({imports:[v.M,u.w5,v.M]})}return C})()}}]);