{"version":3,"file":"src_app_admin-page_fournisseurs_fournisseurs_component_ts.js","mappings":"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","sources":["./src/app/admin-page/SERVICES/produit.service.ts","./src/app/admin-page/fournisseurs/fournisseurs.component.ts","./src/app/admin-page/fournisseurs/fournisseurs.component.html"],"sourcesContent":["// produit.service.ts\n\nimport { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\nimport { Produit } from '../MODELS/produit.model';\nimport { catchError, map, Observable, switchMap, throwError } from 'rxjs';\nimport { environment } from 'src/environments/environment';\nimport { UsersService } from './users.service';\n\n// produit.service.ts\n\nexport interface ProduitEntreprisePaginatedResponse {\n  content: Produit[];\n  pageNumber: number;\n  pageSize: number;\n  totalElements: number;\n  totalPages: number;\n  hasNext: boolean;\n  hasPrevious: boolean;\n  isFirst: boolean;\n  isLast: boolean;\n  totalProduitsUniques: number;\n  totalBoutiques: number;\n}\n\nexport interface ProduitStockPaginatedResponse {\n  content: Produit[];\n  pageNumber: number;\n  pageSize: number;\n  totalElements: number;\n  totalPages: number;\n  number: number;\n  hasNext: boolean;\n  hasPrevious: boolean;\n  isFirst: boolean;\n  isLast: boolean;\n  totalProduitsActifs: number;\n  totalProduitsEnStock: number;\n  totalProduitsHorsStock: number;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ProduitService {\n  private apiUrl = environment.apiBaseUrl;\n\n  constructor(private http: HttpClient, private usersService: UsersService) { }\n\n  ajouterProduit(\n    boutiqueIds: number[],\n    quantites: number[],\n    seuilAlert: number[],\n    produit: any,\n    imageFile: File | null,\n    addToStock: boolean,\n    datePreemption: string | null\n  ): Observable<Produit[]> {\n    const url = `${this.apiUrl}/create?addToStock=${addToStock}`;\n    const formData: FormData = new FormData();\n\n    formData.append('boutiqueIds', JSON.stringify(boutiqueIds));\n    formData.append('quantites', JSON.stringify(quantites));\n    formData.append('produit', JSON.stringify(produit));\n    formData.append('seuilAlert', JSON.stringify(seuilAlert));\n\n    if (imageFile) {\n      formData.append('image', imageFile, imageFile.name);\n    }\n\n    // Ajouter dans formData\n    if (datePreemption) {\n      formData.append('datePreemption', datePreemption);\n    }\n\n    return this.usersService.getValidAccessToken().pipe(\n      switchMap((token: string) => {\n        const headers = new HttpHeaders({\n          'Authorization': `Bearer ${token}`\n        });\n        return this.http.post<Produit[]>(url, formData, { headers });\n      })\n    );\n  }\n\n  modifierProduit(produit: Produit, file?: File): Observable<Produit> {\n    const formData: FormData = new FormData();\n\n    // Supprime id du payload si non nécessaire\n    const { id, ...productData } = produit;\n    formData.append('produit', JSON.stringify(productData));\n\n    formData.append('addToStock', produit.enStock ? 'true' : 'false');\n\n    if (file) {\n      formData.append('image', file, file.name);\n    }\n\n    return this.usersService.getValidAccessToken().pipe(\n      switchMap((token: string) => {\n        const headers = new HttpHeaders({\n          'Authorization': `Bearer ${token}`\n        });\n        return this.http.patch<Produit>(`${this.apiUrl}/updateProduit/${produit.id}`, formData, { headers });\n      })\n    );\n  }\n  \n  // Nouvelle méthode pour récupérer les détails d'un produit par son ID\n  getProduitById(productId: number): Observable<Produit> {\n    return this.usersService.getValidAccessToken().pipe(\n      switchMap((token: string) => {\n        const headers = new HttpHeaders({ 'Authorization': `Bearer ${token}` });\n        return this.http.get<Produit>(`${this.apiUrl}/produits/${productId}`, { headers });\n      })\n    );\n  }\n\n  // Méthode pour récupérer la liste des produits d'une boutique\n  getProduitsEntreprise(boutiqueId: number): Observable<Produit[]> {\n    return this.usersService.getValidAccessToken().pipe(\n      switchMap((token: string) => {\n        const headers = new HttpHeaders({ Authorization: `Bearer ${token}` });\n        return this.http.get<Produit[]>(`${this.apiUrl}/produits/${boutiqueId}/stock`, { headers }).pipe(\n          catchError(error => {\n            if (error.status === 400 && error.error?.error === 'Cette boutique est désactivée, ses produits ne sont pas accessibles !') {\n              return throwError(() => new Error('BOUTIQUE_DESACTIVEE'));\n            }\n            return throwError(() => error);\n          })\n        );\n      })\n    );\n  }\n\n  // Méthode pour récupérer les totaux des produits en stock (déjà existante)\n  getProduitBoutique(boutiqueId: number): Observable<Map<string, number>> {\n    return this.usersService.getValidAccessToken().pipe(\n      switchMap((token: string) => {\n        const headers = new HttpHeaders({ Authorization: `Bearer ${token}` });\n        return this.http.get<Map<string, number>>(`${this.apiUrl}/produits/${boutiqueId}/totaux-stock`, { headers });\n      })\n    );\n  }\n\n  // Nouvelle méthode pour récupérer tous les produits de l'entreprise\n  getProduitsByEntrepriseId(entrepriseId: number): Observable<Produit[]> {\n    return this.usersService.getValidAccessToken().pipe(\n      switchMap((token: string) => {\n        const headers = new HttpHeaders({ Authorization: `Bearer ${token}` });\n        return this.http.get<Produit[]>(`${this.apiUrl}/produits/entreprise/${entrepriseId}`, { headers });\n      })\n    );\n  }\n\n  getProduitsParEntreprise(entrepriseId: number): Observable<any[]> {\n    return this.usersService.getValidAccessToken().pipe(\n      switchMap(token => {\n        const headers = new HttpHeaders({ Authorization: `Bearer ${token}` });\n        return this.http.get<any[]>(`${this.apiUrl}/produits/entreprise/${entrepriseId}`, { headers });\n      })\n    );\n  }\n\n  // Méthode pour recuperer les fournisseur de lutilisateur connecter\n  getFournisseurs(): Observable<any[]> {\n    return this.usersService.getValidAccessToken().pipe(\n      switchMap(token => {\n        const headers = new HttpHeaders({\n          Authorization: `Bearer ${token}`\n        });\n        return this.http.get<any[]>(`${this.apiUrl}/get-fournisseurs`, { headers });\n      })\n    );\n  }\n\n  // Ajoutez un paramètre pour les IDs de boutiques\n  importProduitsFromExcel(formData: FormData, boutiqueIds: number[]): Observable<any> {\n    return this.usersService.getValidAccessToken().pipe(\n      switchMap((token: string) => {\n        const headers = new HttpHeaders({\n          'Authorization': `Bearer ${token}` \n        });\n        \n        // Ajoutez les IDs de boutique dans le FormData\n        formData.append('boutiqueIds', JSON.stringify(boutiqueIds));\n        \n        return this.http.post(`${this.apiUrl}/import-produits-excel`, formData, { headers });\n      })\n    );\n  }\n\n  // Pour les produits d'entreprise (toutes les boutiques) :\n  getProduitsByEntrepriseIdPaginated(entrepriseId: number, page: number = 0, size: number = 20): Observable<ProduitEntreprisePaginatedResponse> {\n  return this.usersService.getValidAccessToken().pipe(\n    switchMap((token: string) => {\n      const headers = new HttpHeaders({ Authorization: `Bearer ${token}` });\n      const params = new HttpParams()\n        .set('page', page.toString())\n        .set('size', size.toString());\n      \n      return this.http.get<ProduitEntreprisePaginatedResponse>(\n        `${this.apiUrl}/entreprise/${entrepriseId}/produits/paginated`, \n        { headers, params }\n      );\n    })\n  );\n}\n\n  // Pour les produits d'une boutique :\n  getProduitsEntreprisePaginated(boutiqueId: number, page: number = 0, size: number = 20): Observable<ProduitStockPaginatedResponse> {\n    return this.usersService.getValidAccessToken().pipe(\n      switchMap((token: string) => {\n        const headers = new HttpHeaders({ Authorization: `Bearer ${token}` });\n        const params = new HttpParams()\n          .set('page', page.toString())\n          .set('size', size.toString());\n        \n        return this.http.get<ProduitStockPaginatedResponse>(\n          `${this.apiUrl}/boutique/${boutiqueId}/produits/paginated`, \n          { headers, params }\n        ).pipe(\n          catchError(error => {\n            if (error.status === 400 && error.error?.error === 'Cette boutique est désactivée, ses produits ne sont pas accessibles !') {\n              return throwError(() => new Error('BOUTIQUE_DESACTIVEE'));\n            }\n            return throwError(() => error);\n          })\n        );\n      })\n    );\n  }\n\n  \n  \n  \n}\n","// fournisseurs.component.ts\nimport { CommonModule } from '@angular/common';\nimport { ChangeDetectorRef, Component, signal } from '@angular/core';\nimport { FormBuilder, FormsModule } from '@angular/forms';\nimport { ProduitService } from '../SERVICES/produit.service';\nimport { Router, RouterLink } from '@angular/router';\nimport { UsersService } from '../SERVICES/users.service';\nimport { StockService } from '../SERVICES/stocks.service';\nimport { TransfertService } from '../SERVICES/transfert-service';\nimport { Fournisseurs } from '../MODELS/fournisseurs-model';\nimport { MatPaginatorModule, PageEvent } from '@angular/material/paginator';\nimport { TruncateEmailPipe } from '../MODELS/truncate-email.pipe';\nimport { environment } from 'src/environments/environment';\nimport { FournisseurService } from '../SERVICES/fournisseur-service';\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser'; // Import ajouté\n\n@Component({\n  selector: 'app-fournisseurs',\n  standalone: true, \n  imports: [\n    FormsModule,\n    CommonModule,\n    MatPaginatorModule,\n    RouterLink,\n    TruncateEmailPipe,\n  ],\n  templateUrl: './fournisseurs.component.html',\n  styleUrl: './fournisseurs.component.scss'\n})\nexport class FournisseursComponent {\n  isListView = true;\n  showDropdown = false;\n  searchText = ''; // Modifié de searchQuery à searchText\n  fournisseursLoaded = false;\n  \n  // Pagination\n  pageSize = 6;\n  currentPage = 0;\n  sortField = 'nom';\n  sortDirection: 'asc' | 'desc' = 'asc';\n  fournisseurs: Fournisseurs[] = [];\n  private imgUrl = environment.imgUrl;\n  \n  constructor(\n        private produitService: ProduitService,\n        private fournisseurService: FournisseurService,\n        private fb: FormBuilder,\n        private router: Router,\n        private usersService: UsersService,\n        private stockService: StockService,\n        private cdRef: ChangeDetectorRef,\n        private transfertService: TransfertService,\n        private sanitizer: DomSanitizer // Injection ajoutée\n  ) {}\n  \n  ngOnInit(): void  {\n    const savedView = localStorage.getItem('fournisseurView');\n    this.isListView = savedView !== 'grid';\n    this.loadFournisseurs();\n  }\n\n  loadFournisseurs(): void {\n    this.fournisseursLoaded = false;\n    this.fournisseurService.getAllFournisseurs().subscribe({\n      next: (fournisseurs: Fournisseurs[]) => {\n        this.fournisseurs = fournisseurs.reverse();\n        //photo de fournisseur specifique pour chaque fournisseur\n        this.fournisseurs.forEach(fournisseur => {\n          if (fournisseur.photo) {\n            fournisseur.photo = `${this.imgUrl}${fournisseur.photo}`;\n          } else {\n            fournisseur.photo = 'assets/img/profil.png'; // Chemin par défaut si pas de photo\n          }\n        });\n        console.log('Fournisseurs:', this.fournisseurs);\n        this.fournisseursLoaded = true;\n      },\n      error: (err) => {\n        console.error(\"Erreur lors de la récupération des fournisseurs\", err);\n        this.fournisseurs = [];\n        this.fournisseursLoaded = true;\n      }\n    });\n  }\n\n  toggleView(viewType: 'list' | 'grid') {\n    this.isListView = viewType === 'list';\n    localStorage.setItem('fournisseurView', viewType);\n  }\n\n  sort(field: keyof Fournisseurs) {\n    if (this.sortField === field) {\n      this.sortDirection = this.sortDirection === 'asc' ? 'desc' : 'asc';\n    } else {\n      this.sortField = field;\n      this.sortDirection = 'asc';\n    }\n\n    this.fournisseurs.sort((a, b) => {\n      const valueA = a[field]?.toString().toLowerCase() ?? '';\n      const valueB = b[field]?.toString().toLowerCase() ?? '';\n      return valueA.localeCompare(valueB) * (this.sortDirection === 'asc' ? 1 : -1);\n    });\n  }\n\n  // Nouvelle méthode pour mettre en évidence les correspondances\n  highlightMatch(text: string | null | undefined): SafeHtml {\n    if (!text) return '';\n    if (!this.searchText.trim()) return text;\n    \n    const escapedSearch = this.searchText.trim().replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n    const regex = new RegExp(`(${escapedSearch})`, 'gi');\n    \n    return this.sanitizer.bypassSecurityTrustHtml(\n      text.replace(regex, '<mark>$1</mark>')\n    );\n  }\n\n  // Filtrage des fournisseurs\n  get filteredFournisseurs(): Fournisseurs[] {\n    if (!this.searchText.trim()) return this.fournisseurs;\n    \n    const searchLower = this.searchText.toLowerCase().trim();\n    return this.fournisseurs.filter(fournisseur => \n      (fournisseur.nomComplet?.toLowerCase().includes(searchLower)) ||\n      (fournisseur.email?.toLowerCase().includes(searchLower)) ||\n      (fournisseur.adresse?.toLowerCase().includes(searchLower)) ||\n      (fournisseur.telephone?.includes(searchLower))\n    );\n  }\n\n  onPageChange(event: PageEvent) {\n    this.currentPage = event.pageIndex;\n    this.pageSize = event.pageSize;\n    this.fournisseursLoaded = true;\n  }\n\n  // Mise à jour pour utiliser la liste filtrée\n  get paginatedFournisseurs(): Fournisseurs[] {\n    const start = this.currentPage * this.pageSize;\n    return this.filteredFournisseurs.slice(start, start + this.pageSize);\n  }\n\n  // Méthode pour ouvrir le détail d'un fournisseur\n  openDetail(fournisseurId: number) {\n    this.router.navigate(['/detail-fournisseur', fournisseurId]);\n  }\n}","<!-- fournisseurs.component.html -->\n<div class=\"containerTable\">\n    <!-- En-tête -->\n    <div class=\"tasks-header\">\n      <h1 class=\"title\">Mes Fournisseurs</h1>\n      <div class=\"actions\">\n        <button class=\"add-task\" routerLink=\"/ajouter-fournisseur\">\n          Ajouter un fournisseur\n        </button>\n\n        <div class=\"barre\"></div>\n\n        <!-- Sélection de vue -->\n        <div class=\"contentIcon\" (click)=\"showDropdown = !showDropdown\" clickOutside (clickOutside)=\"showDropdown = false\">\n          <i [class]=\"isListView ? 'ri-list-check' : 'ri-apps-fill'\"></i>\n          <div class=\"view-dropdown\" *ngIf=\"showDropdown\">\n            <div class=\"dropdown-item\" (click)=\"toggleView('list')\">\n                Liste {{ isListView ? '✓' : '' }}\n            </div>\n            <div class=\"dropdown-item\" (click)=\"toggleView('grid')\">\n                Cadre {{ !isListView ? '✓' : '' }}\n            </div>\n          </div>\n        </div>\n\n        <div class=\"barre\"></div>\n        \n        <div class=\"inputSearch\">\n          <i class=\"ri-search-2-line\"></i>\n          <input \n            type=\"text\"\n            placeholder=\"Recherche....\" \n            [(ngModel)]=\"searchText\"\n          />\n        </div>\n      </div>\n    </div>\n    \n    <!-- Vue Tableau -->\n    <table *ngIf=\"isListView\">\n      <thead>\n        <th>Photo</th>\n        <th>Nom</th>\n        <th (click)=\"sort('email')\">\n          Email \n          <i [class]=\"sortField === 'email' ? (sortDirection === 'asc' ? 'ri-arrow-up-s-line' : 'ri-arrow-down-s-line') : 'ri-arrow-up-down-line'\"></i>\n        </th>\n        <th (click)=\"sort('adresse')\">Adresse</th>\n        <th (click)=\"sort('telephone')\">Téléphone</th>\n        <th>Date Création</th>\n      </thead>\n\n      <tbody>\n          <tr *ngFor=\"let fournisseur of paginatedFournisseurs\" (click)=\"openDetail(fournisseur.id)\">\n            <td>\n              <div class=\"imgClient\">\n                <img [src]=\"fournisseur.photo\" alt=\"Photo fournisseur\">\n              </div>\n            </td>\n            <td>\n              <span *ngIf=\"fournisseur.nomComplet; else noNom\" \n                    [innerHTML]=\"highlightMatch(fournisseur.nomComplet)\"></span>\n              <ng-template #noNom>Non renseigné</ng-template>\n            </td>\n            <td>\n              <span *ngIf=\"fournisseur.email; else noEmail\" \n                    [innerHTML]=\"highlightMatch(fournisseur.email)\"></span>\n              <ng-template #noEmail>Non renseigné</ng-template>\n            </td>\n            <td>\n              <span *ngIf=\"fournisseur.adresse; else noAdresse\" \n                    [innerHTML]=\"highlightMatch(fournisseur.adresse)\"></span>\n              <ng-template #noAdresse>Non renseigné</ng-template>\n            </td>\n            <td>\n              <span *ngIf=\"fournisseur.telephone; else noTel\" \n                    [innerHTML]=\"highlightMatch(fournisseur.telephone)\"></span>\n              <ng-template #noTel>Non renseigné</ng-template>\n            </td>\n            <td>{{ fournisseur.createdAt | date: 'dd/MM/yyyy' }}</td>\n          </tr>\n      </tbody>\n    </table>\n    \n    <!-- Vue Cadre -->\n    <div class=\"container_cadre\" *ngIf=\"!isListView\">\n      <div class=\"grid-view\">\n        <div class=\"client-card\" *ngFor=\"let fournisseur of paginatedFournisseurs\" (click)=\"openDetail(fournisseur.id)\">\n          <div class=\"content_img_info\">\n            <div class=\"imgFourni_grid\">\n              <img [src]=\"fournisseur.photo\" alt=\"Icon fournisseur\">\n            </div>\n            <div class=\"info_fourni\">\n              <div class=\"info_name\">\n                <h3 *ngIf=\"fournisseur.nomComplet; else noNomCard\" \n                    [innerHTML]=\"highlightMatch(fournisseur.nomComplet)\"></h3>\n                <ng-template #noNomCard>Non renseigné</ng-template>\n              </div>\n              <div class=\"info_email\">\n                <p style=\"margin: 0; font-size: 12px;\">\n                  <i class=\"ri-mail-line\"></i>\n                  <span *ngIf=\"fournisseur.email; else noEmailCard\" \n                        [innerHTML]=\"highlightMatch(fournisseur.email | truncateEmail)\"></span>\n                  <ng-template #noEmailCard>Non renseigné</ng-template>\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"info_tel\">\n            <p style=\"font-size: 12px; margin-bottom: 0;\">\n              <i class=\"ri-phone-line\"></i>\n              <span *ngIf=\"fournisseur.telephone; else noTelCard\" \n                    [innerHTML]=\"highlightMatch(fournisseur.telephone)\"></span>\n              <ng-template #noTelCard>Non renseigné</ng-template>\n            </p>\n          </div>\n          <div class=\"info_adresse\">\n            <p style=\"font-size: 12px; margin: 0;\">\n              <i class=\"ri-map-pin-line\"></i>\n              <span *ngIf=\"fournisseur.adresse; else noAdresseCard\" \n                    [innerHTML]=\"highlightMatch(fournisseur.adresse)\"></span>\n              <ng-template #noAdresseCard>Non renseigné</ng-template>\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Message vide -->\n    <div *ngIf=\"fournisseursLoaded && filteredFournisseurs.length === 0\" class=\"no-client-message\">\n      Aucun fournisseur trouvée\n    </div>\n\n    <!-- Pagination -->\n    <div class=\"pagination\">\n      <mat-paginator *ngIf=\"filteredFournisseurs.length > 6\"\n        [length]=\"filteredFournisseurs.length\"\n        [pageSize]=\"pageSize\"\n        [pageSizeOptions]=\"[6, 10, 25, 100]\"\n        (page)=\"onPageChange($event)\">\n      </mat-paginator>\n    </div>\n</div>"],"names":["HttpHeaders","HttpParams","catchError","switchMap","throwError","environment","ProduitService","constructor","http","usersService","apiUrl","apiBaseUrl","ajouterProduit","boutiqueIds","quantites","seuilAlert","produit","imageFile","addToStock","datePreemption","url","formData","FormData","append","JSON","stringify","name","getValidAccessToken","pipe","token","headers","post","modifierProduit","file","id","productData","enStock","patch","getProduitById","productId","get","getProduitsEntreprise","boutiqueId","Authorization","error","status","Error","getProduitBoutique","getProduitsByEntrepriseId","entrepriseId","getProduitsParEntreprise","getFournisseurs","importProduitsFromExcel","getProduitsByEntrepriseIdPaginated","page","size","params","set","toString","getProduitsEntreprisePaginated","i0","ɵɵinject","i1","HttpClient","i2","UsersService","factory","ɵfac","providedIn","CommonModule","FormsModule","RouterLink","MatPaginatorModule","TruncateEmailPipe","ɵɵelementStart","ɵɵlistener","FournisseursComponent_div_10_Template_div_click_1_listener","ɵɵrestoreView","_r1","ctx_r1","ɵɵnextContext","ɵɵresetView","toggleView","ɵɵtext","ɵɵelementEnd","FournisseursComponent_div_10_Template_div_click_3_listener","ɵɵadvance","ɵɵtextInterpolate1","isListView","ɵɵelement","ɵɵproperty","highlightMatch","fournisseur_r5","nomComplet","ɵɵsanitizeHtml","email","adresse","telephone","FournisseursComponent_table_15_tr_16_Template_tr_click_0_listener","_r4","$implicit","openDetail","ɵɵtemplate","FournisseursComponent_table_15_tr_16_span_5_Template","FournisseursComponent_table_15_tr_16_ng_template_6_Template","ɵɵtemplateRefExtractor","FournisseursComponent_table_15_tr_16_span_9_Template","FournisseursComponent_table_15_tr_16_ng_template_10_Template","FournisseursComponent_table_15_tr_16_span_13_Template","FournisseursComponent_table_15_tr_16_ng_template_14_Template","FournisseursComponent_table_15_tr_16_span_17_Template","FournisseursComponent_table_15_tr_16_ng_template_18_Template","photo","ɵɵsanitizeUrl","noNom_r6","noEmail_r7","noAdresse_r8","noTel_r9","ɵɵtextInterpolate","ɵɵpipeBind2","createdAt","FournisseursComponent_table_15_Template_th_click_6_listener","_r3","sort","FournisseursComponent_table_15_Template_th_click_9_listener","FournisseursComponent_table_15_Template_th_click_11_listener","FournisseursComponent_table_15_tr_16_Template","ɵɵclassMap","sortField","sortDirection","paginatedFournisseurs","fournisseur_r11","ɵɵpipeBind1","FournisseursComponent_div_16_div_2_Template_div_click_0_listener","_r10","FournisseursComponent_div_16_div_2_h3_6_Template","FournisseursComponent_div_16_div_2_ng_template_7_Template","FournisseursComponent_div_16_div_2_span_12_Template","FournisseursComponent_div_16_div_2_ng_template_13_Template","FournisseursComponent_div_16_div_2_span_18_Template","FournisseursComponent_div_16_div_2_ng_template_19_Template","FournisseursComponent_div_16_div_2_span_24_Template","FournisseursComponent_div_16_div_2_ng_template_25_Template","noNomCard_r12","noEmailCard_r13","noTelCard_r14","noAdresseCard_r15","FournisseursComponent_div_16_div_2_Template","FournisseursComponent_mat_paginator_19_Template_mat_paginator_page_0_listener","$event","_r16","onPageChange","filteredFournisseurs","length","pageSize","ɵɵpureFunction0","_c0","FournisseursComponent","produitService","fournisseurService","fb","router","stockService","cdRef","transfertService","sanitizer","showDropdown","searchText","fournisseursLoaded","currentPage","fournisseurs","imgUrl","ngOnInit","savedView","localStorage","getItem","loadFournisseurs","getAllFournisseurs","subscribe","next","reverse","forEach","fournisseur","console","log","err","viewType","setItem","field","a","b","valueA","toLowerCase","valueB","localeCompare","text","trim","escapedSearch","replace","regex","RegExp","bypassSecurityTrustHtml","searchLower","filter","includes","event","pageIndex","start","slice","fournisseurId","navigate","ɵɵdirectiveInject","FournisseurService","i3","FormBuilder","i4","Router","i5","i6","StockService","ChangeDetectorRef","i7","TransfertService","i8","DomSanitizer","selectors","decls","vars","consts","template","FournisseursComponent_Template","rf","ctx","FournisseursComponent_Template_div_click_8_listener","FournisseursComponent_Template_div_clickOutside_8_listener","FournisseursComponent_div_10_Template","ɵɵtwoWayListener","FournisseursComponent_Template_input_ngModelChange_14_listener","ɵɵtwoWayBindingSet","FournisseursComponent_table_15_Template","FournisseursComponent_div_16_Template","FournisseursComponent_div_17_Template","FournisseursComponent_mat_paginator_19_Template","ɵɵtwoWayProperty","DefaultValueAccessor","NgControlStatus","NgModel","i9","NgForOf","NgIf","DatePipe","i10","MatPaginator","styles"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}