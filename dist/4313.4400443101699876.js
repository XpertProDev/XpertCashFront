"use strict";(self.webpackChunkskeleton=self.webpackChunkskeleton||[]).push([[4313],{34313:(U,g,a)=>{a.r(g),a.d(g,{PosCaisseComponent:()=>w});var _=a(60177),c=a(89417),m=a(21413),u=a(56977),p=a(23294),f=a(37726),e=a(54438),C=a(52719),h=a(12334),b=a(74864),M=a(37788),x=a(49192),v=a(35322);const P=i=>({"disabled-like":i});function O(i,r){1&i&&(e.j41(0,"div",9),e.nrm(1,"i",10),e.EFF(2," Chargement des caisses... "),e.k0s())}function E(i,r){if(1&i&&(e.j41(0,"p"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.JRh(t.errorMessage)}}function k(i,r){if(1&i&&(e.j41(0,"div",11),e.nrm(1,"i",12),e.DNE(2,E,2,1,"p",13),e.k0s()),2&i){const t=e.XpG();e.R7$(2),e.Y8G("ngIf",t.errorMessage)}}function I(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",28),e.bIt("click",function(s){return e.eBV(t),e.Njj(s.stopPropagation())}),e.j41(1,"button",29),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.goToPosJournalCaisse())}),e.EFF(2,"Journal des caisses"),e.k0s()()}}function R(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",14)(1,"div",15)(2,"div",16)(3,"div",17)(4,"span"),e.EFF(5),e.k0s()(),e.j41(6,"div",18)(7,"div",19),e.EFF(8),e.k0s(),e.j41(9,"div",20),e.EFF(10),e.k0s()()(),e.j41(11,"div",21),e.bIt("click",function(){const s=e.eBV(t).$implicit,o=e.XpG();return e.Njj(o.toggleMenu(s.id))}),e.nrm(12,"i",22),e.DNE(13,I,3,0,"div",23),e.k0s()(),e.j41(14,"div",24)(15,"button",25),e.bIt("click",function(){const s=e.eBV(t).$implicit,o=e.XpG();return e.Njj(o.onCaisseButtonClick(s))}),e.EFF(16),e.k0s(),e.j41(17,"div",26)(18,"div"),e.nrm(19,"i",27),e.k0s(),e.j41(20,"span"),e.EFF(21),e.k0s()()()()}if(2&i){const t=r.$implicit,n=e.XpG();e.R7$(5),e.JRh(t.nomVendeur?t.nomVendeur[0]:"?"),e.R7$(3),e.JRh(t.nomVendeur||"Non assign\xe9"),e.R7$(),e.AVh("open","OUVERTE"===t.statut)("closed","FERMEE"===t.statut),e.R7$(),e.SpI(" ",n.getStatusText(t)," "),e.R7$(3),e.Y8G("ngIf",n.openMenuId===t.id),e.R7$(3),e.SpI(" ",n.getButtonText(t)," "),e.R7$(5),e.JRh(n.getNomBoutique(t))}}function y(i,r){1&i&&(e.j41(0,"div",9),e.nrm(1,"i",10),e.EFF(2," Chargement des caisses... "),e.k0s())}function F(i,r){if(1&i&&(e.j41(0,"div",11),e.nrm(1,"i",12),e.j41(2,"p"),e.EFF(3),e.k0s()()),2&i){const t=e.XpG(2);e.R7$(3),e.JRh(t.errorMessageAllCaisses||"Aucune caisse disponible")}}function B(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",28),e.bIt("click",function(s){return e.eBV(t),e.Njj(s.stopPropagation())}),e.j41(1,"button",29),e.bIt("click",function(){e.eBV(t);const s=e.XpG(4);return e.Njj(s.goToPosJournalCaisse())}),e.EFF(2,"Journal des caisses"),e.k0s()()}}function j(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",14)(1,"div",15)(2,"div",16)(3,"div",17)(4,"span"),e.EFF(5),e.k0s()(),e.j41(6,"div",18)(7,"div",19),e.EFF(8),e.k0s(),e.j41(9,"div",20),e.EFF(10),e.k0s()()(),e.j41(11,"div",21),e.bIt("click",function(){const s=e.eBV(t).$implicit,o=e.XpG(3);return e.Njj(o.toggleMenu("last_"+s.id))}),e.nrm(12,"i",22),e.DNE(13,B,3,0,"div",23),e.k0s()(),e.j41(14,"div",24)(15,"button",34),e.EFF(16),e.k0s(),e.j41(17,"div",26)(18,"div"),e.nrm(19,"i",27),e.k0s(),e.j41(20,"span"),e.EFF(21),e.k0s()()()()}if(2&i){const t=r.$implicit,n=e.XpG(3);e.R7$(5),e.JRh(t.nomVendeur?t.nomVendeur[0]:"?"),e.R7$(3),e.JRh(t.nomVendeur||"Non assign\xe9"),e.R7$(),e.AVh("open","OUVERTE"===t.statut)("closed","FERMEE"===t.statut),e.R7$(),e.SpI(" ",n.getStatusText(t)," "),e.R7$(3),e.Y8G("ngIf",n.openMenuId==="last_"+t.id),e.R7$(2),e.FS9("title","FERMEE"===t.statut||"OUVERTE"===t.statut?"Action non disponible":""),e.Y8G("disabled","FERMEE"===t.statut||"OUVERTE"===t.statut)("ngClass",e.eq3(14,P,"FERMEE"===t.statut||"OUVERTE"===t.statut)),e.BMQ("aria-disabled","FERMEE"===t.statut||"OUVERTE"===t.statut),e.R7$(),e.SpI(" ",n.getButtonTextFerme(t)," "),e.R7$(5),e.JRh(n.getNomBoutique(t))}}function T(i,r){if(1&i&&(e.j41(0,"div",33),e.DNE(1,j,22,16,"div",6),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngForOf",t.allCaisses)}}function S(i,r){if(1&i&&(e.j41(0,"div",30)(1,"div",31)(2,"h6"),e.EFF(3,"Toutes les caisses"),e.k0s()(),e.DNE(4,y,3,0,"div",4)(5,F,4,1,"div",5)(6,T,2,1,"div",32),e.k0s()),2&i){const t=e.XpG();e.R7$(4),e.Y8G("ngIf",t.isLoadingAllCaisses),e.R7$(),e.Y8G("ngIf",!t.isLoadingAllCaisses&&0===t.allCaisses.length),e.R7$(),e.Y8G("ngIf",t.showAllCaissesSection)}}function q(i,r){if(1&i&&(e.j41(0,"div",51),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.getBoutiqueName(t.selectedBoutiqueId)," ")}}function D(i,r){if(1&i&&(e.j41(0,"option",53),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(),e.SpI(" ",t.nomBoutique," ")}}function $(i,r){if(1&i){const t=e.RV6();e.j41(0,"select",52),e.mxI("ngModelChange",function(s){e.eBV(t);const o=e.XpG(2);return e.DH7(o.selectedBoutiqueId,s)||(o.selectedBoutiqueId=s),e.Njj(s)}),e.j41(1,"option",53),e.EFF(2,"S\xe9lectionnez une boutique"),e.k0s(),e.DNE(3,D,2,2,"option",54),e.k0s()}if(2&i){const t=e.XpG(2);e.R50("ngModel",t.selectedBoutiqueId),e.Y8G("disabled",t.isLoading),e.R7$(),e.Y8G("value",null),e.R7$(2),e.Y8G("ngForOf",t.boutiques)}}function A(i,r){if(1&i&&(e.j41(0,"div",55),e.nrm(1,"i",56)(2,"span",57),e.nI1(3,"safeHtml"),e.k0s()),2&i){const t=e.XpG(2);e.R7$(2),e.Y8G("innerHTML",e.bMT(3,1,t.errorMessage),e.npT)}}function V(i,r){1&i&&(e.j41(0,"span"),e.EFF(1,"Ouvrir la caisse"),e.k0s())}function L(i,r){1&i&&e.nrm(0,"span",58)}function G(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",35)(1,"div",36)(2,"div",37)(3,"h3"),e.EFF(4,"Ouvrir une nouvelle caisse"),e.k0s(),e.j41(5,"button",38),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.closeModal())}),e.nrm(6,"i",39),e.k0s()(),e.j41(7,"div",40)(8,"form",41),e.bIt("ngSubmit",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.submitForm())}),e.j41(9,"div",42)(10,"label"),e.EFF(11,"Boutique assign\xe9e"),e.k0s(),e.DNE(12,q,2,1,"div",43)(13,$,4,4,"select",44),e.k0s(),e.j41(14,"div",42)(15,"label"),e.EFF(16,"Esp\xe8ces \xe0 l'ouverture"),e.k0s(),e.j41(17,"input",45),e.mxI("ngModelChange",function(s){e.eBV(t);const o=e.XpG();return e.DH7(o.montantOuverture,s)||(o.montantOuverture=s),e.Njj(s)}),e.k0s()(),e.DNE(18,A,4,3,"div",46),e.k0s()(),e.j41(19,"div",47)(20,"button",48),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.closeModal())}),e.EFF(21,"Annuler"),e.k0s(),e.j41(22,"button",49),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.submitForm())}),e.DNE(23,V,2,0,"span",13)(24,L,1,0,"span",50),e.k0s()()()()}if(2&i){const t=e.XpG();e.R7$(12),e.Y8G("ngIf",t.selectedBoutiqueId),e.R7$(),e.Y8G("ngIf",!t.selectedBoutiqueId),e.R7$(4),e.R50("ngModel",t.montantOuverture),e.Y8G("disabled",t.isLoading),e.R7$(),e.Y8G("ngIf",t.errorMessage),e.R7$(2),e.Y8G("disabled",t.isLoading),e.R7$(2),e.Y8G("disabled",t.isLoading),e.R7$(),e.Y8G("ngIf",!t.isLoading),e.R7$(),e.Y8G("ngIf",t.isLoading)}}let w=(()=>{class i{constructor(t,n,s,o,d,l){this.boutiqueService=t,this.caisseState=n,this.posCaisseService=s,this.boutiqueState=o,this.router=d,this.paginationService=l,this.destroy$=new m.B,this.currentBoutiqueId=null,this.showAllCaissesSection=!1,this.boutiques=[],this.showModal=!1,this.selectedBoutiqueId=null,this.montantOuverture=0,this.isLoading=!1,this.errorMessage=null,this.caisses=[],this.isLoadingCaisses=!1,this.openMenuId=null,this.allCaisses=[],this.isLoadingAllCaisses=!1,this.errorMessageAllCaisses=null,this.currentPage=1,this.itemsPerPage=10,this.currentLoadType="last"}ngOnInit(){this.loadBoutiques(),this.initStateCaisse(),this.initStateBoutique()}initStateBoutique(){this.boutiqueState.selectedBoutique$.pipe((0,u.Q)(this.destroy$),(0,p.F)()).subscribe(t=>{this.currentBoutiqueId=t,t?(this.loadDerniereCaisseVendeur(t),this.loadAllCaisses(t)):(this.caisses=[],this.allCaisses=[])}),this.boutiqueState.selectedBoutique$.pipe((0,u.Q)(this.destroy$),(0,p.F)()).subscribe(t=>{this.currentBoutiqueId=t,this.paginationService.setPage(1),t&&(this.loadDerniereCaisseVendeur(t),this.loadAllCaisses(t))})}initStateCaisse(){this.caisseState.caisseCreated$.pipe((0,u.Q)(this.destroy$)).subscribe(t=>{t&&this.currentBoutiqueId===t.boutiqueId&&(this.caisses=[t],this.errorMessage=null)}),this.caisseState.refreshCaisses$.pipe((0,u.Q)(this.destroy$)).subscribe(()=>{this.currentBoutiqueId&&this.loadDerniereCaisseVendeur(this.currentBoutiqueId)}),this.caisseState.showAllCaisses$.pipe((0,u.Q)(this.destroy$)).subscribe(t=>{if(console.log("[PosCaisse] showAllCaisses$ ->",t),this.showAllCaissesSection=!!t,this.showAllCaissesSection){const n=this.currentBoutiqueId||(this.boutiques?.length?this.boutiques[0].id:null);n?this.loadAllCaisses(n):(this.allCaisses=[],this.errorMessageAllCaisses="Aucune boutique s\xe9lectionn\xe9e")}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadBoutiques(){this.boutiqueService.getBoutiquesByEntreprise().subscribe({next:t=>{this.boutiques=t},error:t=>{console.error("Erreur lors du chargement des boutiques",t),this.errorMessage="Erreur lors du chargement des boutiques"}})}loadDerniereCaisseVendeur(t){this.currentLoadType="last",this.isLoadingCaisses=!0,this.caisses=[],this.errorMessage=null,this.posCaisseService.getDerniereCaisseVendeur(t).subscribe({next:n=>{this.caisses=[n],this.isLoadingCaisses=!1},error:n=>{this.isLoadingCaisses=!1,console.error("Erreur lors du chargement de la derni\xe8re caisse",n);const s="string"==typeof n?n:n?.message??(n?.toString?n.toString():"Erreur inconnue");this.errorMessage=s.includes("Aucune caisse trouv\xe9e")||s.includes("Aucune caisse disponible")?"Aucune caisse disponible pour cette boutique":s,this.caisses=[]}})}openModal(){this.showModal=!0}closeModal(){this.showModal=!1,this.selectedBoutiqueId=null,this.montantOuverture=0,this.errorMessage=null}loadCaisses(t,n=1,s=10){this.isLoadingCaisses=!0,this.caisses=[],this.errorMessage=null,this.posCaisseService.getCaissesByBoutique(t).subscribe({next:o=>{if(o&&Array.isArray(o.items)&&"number"==typeof o.totalItems)this.paginationService.setTotalItems(o.totalItems),this.caisses=o.items;else if(Array.isArray(o)){const d=o;this.paginationService.setTotalItems(d.length);const l=(n-1)*s;this.caisses=d.slice(l,l+s)}else if(o&&Array.isArray(o.data)){const d=o.data;this.paginationService.setTotalItems(o.total||d.length);const l=(n-1)*s;this.caisses=d.slice(l,l+s)}else if(o&&Array.isArray(o.items)){const d=o.items;this.paginationService.setTotalItems(o.totalItems||d.length),this.caisses=d}else this.caisses=[],this.paginationService.setTotalItems(0);this.isLoadingCaisses=!1},error:o=>{console.error("Erreur loadCaisses",o),this.isLoadingCaisses=!1,this.errorMessage="Erreur lors du chargement des caisses"}})}onCaisseButtonClick(t){"OUVERTE"===t.statut?(this.boutiqueState.setSelectedBoutique(t.boutiqueId),this.router.navigate(["/pos-accueil"],{state:{caisse:t}})):"FERMEE"===t.statut&&(this.openModalWithBoutique(t.boutiqueId),this.boutiqueState.setSelectedBoutique(t.boutiqueId))}getBoutiqueName(t){if(!t)return"Boutique non sp\xe9cifi\xe9e";const n=this.boutiques.find(s=>s.id===t);return n?n.nomBoutique:"Boutique inconnue"}openModalWithBoutique(t){this.showModal=!0,this.selectedBoutiqueId=t,this.montantOuverture=0,this.errorMessage=null}toggleMenu(t){this.openMenuId=this.openMenuId===t?null:t}allCaisseClose(t){console.log("Btn 1 clicked pour",t)}goToPosJournalCaisse(){this.router.navigate(["/pos-journal-caisse"])}getButtonText(t){return"OUVERTE"===t.statut?"Continuer la vente":"FERMEE"===t.statut?"Ouvrir la caisse":"Action inconnue"}getButtonTextFerme(t){return"OUVERTE"===t.statut?"La caisse est ouverte":"FERMEE"===t.statut?"La caisse est ferm\xe9e":"Action inconnue"}getNomBoutique(t){const n=this.boutiques.find(s=>s.id===t.boutiqueId);return n?n.nomBoutique:"Boutique inconnue"}getStatusText(t){return"OUVERTE"===t.statut?t.dateOuverture?`Ouverte le ${new Date(t.dateOuverture).toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}`:"Ouverte":"FERMEE"===t.statut?t.dateFermeture?`Ferm\xe9e le ${new Date(t.dateFermeture).toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}`:"Ferm\xe9e":"Statut inconnu"}submitForm(){if(this.montantOuverture<0)return void(this.errorMessage="Le montant ne peut pas \xeatre n\xe9gatif");if(!this.selectedBoutiqueId)return void(this.errorMessage="Veuillez s\xe9lectionner une boutique");this.isLoading=!0,this.errorMessage=null;const t={boutiqueId:this.selectedBoutiqueId,montantInitial:this.montantOuverture};this.posCaisseService.ouvrirCaisse(t).subscribe({next:n=>{this.caisseState.notifyCaisseCreated(n),this.caisseState.triggerRefresh(),console.log("Caisse ouverte avec succ\xe8s",n),this.isLoading=!1,this.closeModal(),this.loadDerniereCaisseVendeur(t.boutiqueId)},error:n=>{console.error("Erreur lors de l'ouverture de la caisse",n),this.isLoading=!1;let s="";s=n.error?.error?n.error.error:n.error?.message?n.error.message:n.message?n.message:"Erreur inconnue lors de l'ouverture de la caisse";const o=s.indexOf(": ");this.errorMessage=o>0?s.substring(o+2):s}})}formatDate(t){return("string"==typeof t?new Date(t):t).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}loadAllCaisses(t){t?(this.currentLoadType="all",this.isLoadingAllCaisses=!0,this.errorMessageAllCaisses=null,this.posCaisseService.getCaissesByBoutique(t).subscribe({next:n=>{this.allCaisses=n,this.isLoadingAllCaisses=!1},error:n=>{console.error("Erreur lors du chargement de toutes les caisses",n),this.isLoadingAllCaisses=!1,this.errorMessageAllCaisses=n.message||"Erreur lors du chargement des caisses",this.allCaisses=[]}})):this.errorMessageAllCaisses="Veuillez s\xe9lectionner une boutique"}formatErrorForUI(t){if(!t)return"Erreur inconnue";if(t instanceof Error)return t.message;if("string"==typeof t)return t;if(t?.message)return t.message;if(t?.error)return this.formatErrorForUI(t.error);try{return JSON.stringify(t)}catch{return String(t)}}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(C.c),e.rXU(h.f),e.rXU(b.U),e.rXU(M.j),e.rXU(x.Ix),e.rXU(v.m))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-pos-caisse"]],decls:11,vars:5,consts:[[1,"container_pos_caisse"],[1,"content_pos_caisse"],[1,"titre_all_caisse",2,"padding","20px 20px 0"],[1,"caisse-container"],["class","loading-indicator",4,"ngIf"],["class","no-caisses",4,"ngIf"],["class","caisse-card",4,"ngFor","ngForOf"],["class","all_caisse_container",4,"ngIf"],["class","modal-backdrop",4,"ngIf"],[1,"loading-indicator"],[1,"ri-loader-4-line","spin"],[1,"no-caisses"],[1,"ri-information-line"],[4,"ngIf"],[1,"caisse-card"],[1,"block"],[1,"double",2,"align-items","baseline"],[1,"profil"],[1,"caisse-info"],[1,"caisse-nom"],[1,"caisse-status"],[1,"icon_more",3,"click"],[1,"ri-more-2-fill"],["class","dropdown-menu",3,"click",4,"ngIf"],[1,"caisse-container-bottom"],[1,"caisse-btn",3,"click"],[1,"boutique-name",2,"display","flex","align-items","center","gap","5px"],[1,"ri-store-2-line"],[1,"dropdown-menu",3,"click"],[3,"click"],[1,"all_caisse_container"],[1,"titre_all_caisse",2,"padding","0 20px"],["class","all-caisse-container-bottom",4,"ngIf"],[1,"all-caisse-container-bottom"],[1,"caisse-btn",3,"disabled","ngClass","title"],[1,"modal-backdrop"],[1,"modal-container"],[1,"modal-header"],[1,"close-button",3,"click"],[1,"ri-close-line"],[1,"modal-body"],[3,"ngSubmit"],[1,"form-group"],["class","selected-boutique",4,"ngIf"],["name","boutique",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["type","number","name","montant","placeholder","Entrez le montant","required","","min","0","step","0.01",3,"ngModelChange","ngModel","disabled"],["class","error-message",4,"ngIf"],[1,"modal-footer"],[1,"btn-cancel",3,"click","disabled"],[1,"btn-submit",3,"click","disabled"],["class","loading-spinner",4,"ngIf"],[1,"selected-boutique"],["name","boutique",3,"ngModelChange","ngModel","disabled"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"error-message"],[1,"ri-error-warning-line"],[3,"innerHTML"],[1,"loading-spinner"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h6"),e.EFF(4,"Ma caisse"),e.k0s()(),e.j41(5,"div",3),e.DNE(6,O,3,0,"div",4)(7,k,3,1,"div",5)(8,R,22,10,"div",6),e.k0s(),e.DNE(9,S,7,3,"div",7),e.k0s()(),e.DNE(10,G,25,9,"div",8)),2&n&&(e.R7$(6),e.Y8G("ngIf",s.isLoadingCaisses),e.R7$(),e.Y8G("ngIf",!s.isLoadingCaisses&&0===s.caisses.length),e.R7$(),e.Y8G("ngForOf",s.caisses),e.R7$(),e.Y8G("ngIf",s.showAllCaissesSection),e.R7$(),e.Y8G("ngIf",s.showModal))},dependencies:[c.YN,c.qT,c.xH,c.y7,c.me,c.Q0,c.wz,c.BC,c.cb,c.YS,c.VZ,c.vS,c.cV,_.MD,_.YU,_.Sq,_.bT,c.X1,f.$],styles:['@charset "UTF-8";.content_pos_caisse[_ngcontent-%COMP%]{position:relative}.header_pos_caisse[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:10px;width:100%;height:60px;background-color:#fff;box-shadow:#0000000d 0 1px 2px;padding:0 15px;position:sticky;top:0;z-index:999}.content_header_pos_caisse_right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px}ul[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}p[_ngcontent-%COMP%]{margin:0}.double[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.icon_retour[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;cursor:pointer}.inputSearch[_ngcontent-%COMP%]{position:relative;width:250px;height:40px;display:flex;align-items:center}.inputSearch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:100%;padding-left:10px;border-radius:5px;border:1px solid #000}.inputSearch[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:15px;font-size:17px}.barre[_ngcontent-%COMP%]{height:25px;width:1px;background-color:#0000003f;margin:8px 10px}.add-task[_ngcontent-%COMP%]{padding:10px 30px;background-color:#0672e4;color:#fff;border-radius:5px;border:none}.add-task[_ngcontent-%COMP%]:hover{background-color:#0361c6}.caisse-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;padding:5px 20px 20px}.all-caisse-container-bottom[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;padding:0 20px 20px}.caisse-card[_ngcontent-%COMP%]{border:1px solid #ddd;padding:20px;border-radius:4px;min-height:150px;display:flex;flex-direction:column;justify-content:space-between}.caisse-nom[_ngcontent-%COMP%]{font-weight:700;font-size:18px;color:#1a1a1a}.caisse-btn[_ngcontent-%COMP%]{background-color:#0672e4;color:#fff;border:none;padding:6px 8px;border-radius:6px;cursor:pointer;font-weight:500;align-self:flex-start;transition:background-color .2s ease}.caisse-btn[_ngcontent-%COMP%]:hover{background-color:#0361c6}.profil[_ngcontent-%COMP%]{background-color:#e9d421;padding:0 12px;border-radius:4px;cursor:pointer}.profil[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;color:#000}.icon_more[_ngcontent-%COMP%]{cursor:pointer;display:none;position:absolute;top:-11px;right:-12px}.block[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;position:relative}.caisse-card[_ngcontent-%COMP%]:hover   .icon_more[_ngcontent-%COMP%]{display:block}.titre_all_caisse[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:16px}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-container[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:500px;max-width:90%;box-shadow:0 4px 20px #00000026;animation:_ngcontent-%COMP%_modalAppear .3s ease-out}@keyframes _ngcontent-%COMP%_modalAppear{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.modal-header[_ngcontent-%COMP%]{padding:16px 24px;border-bottom:1px solid #eee;display:flex;justify-content:space-between;align-items:center}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;color:#333}.close-button[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:#666;transition:color .2s}.close-button[_ngcontent-%COMP%]:hover{color:red}.modal-body[_ngcontent-%COMP%]{padding:24px}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:500;color:#555}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #ddd;border-radius:4px;font-size:15px}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#3498db;outline:none;box-shadow:0 0 0 2px #3498db33}.modal-footer[_ngcontent-%COMP%]{padding:16px 24px;border-top:1px solid #eee;display:flex;justify-content:flex-end;gap:12px}.modal-footer[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]{padding:10px 24px;border-radius:4px;cursor:pointer;font-weight:500;transition:all .2s}.modal-footer[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #ddd;color:#444}.modal-footer[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover{background-color:#eaeaea}.modal-footer[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]{background-color:#0672e4;color:#fff;border:none}.modal-footer[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]:hover{background-color:#0361c6}.error-message[_ngcontent-%COMP%]{background-color:#ffebee;color:#b71c1c;padding:12px;border-radius:4px;margin-top:15px;display:flex;align-items:center;gap:8px}.error-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.loading-spinner[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;border:3px solid rgba(255,255,255,.3);border-radius:50%;border-top-color:#fff;animation:_ngcontent-%COMP%_spin 1s ease-in-out infinite}button[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.o_pager_previous[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .o_pager_next[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;padding:0 5px}.d-print-none[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:1px solid #000}.d-print-none[_ngcontent-%COMP%]   .o_pager_previous[_ngcontent-%COMP%]{border-top:1px solid #000;border-right:none;border-bottom:1px solid #000;border-left:1px solid #000;border-top-left-radius:5px;border-bottom-left-radius:5px}.d-print-none[_ngcontent-%COMP%]   .o_pager_next[_ngcontent-%COMP%]{border-top:1px solid #000;border-left:1px solid #000;border-bottom:1px solid #000;border-top-right-radius:5px;border-bottom-right-radius:5px}.content_select[_ngcontent-%COMP%]{border:none;padding:6px 30px 6px 7px;background:#efefef;border-radius:5px;box-shadow:#0000000d 0 6px 24px,#00000014 0 0 0 1px;cursor:pointer}.loading-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:20px;color:#64748b}.loading-indicator[_ngcontent-%COMP%]   .spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-right:10px}.no-caisses[_ngcontent-%COMP%]{text-align:center;padding:30px;border:1px dashed #ddd;border-radius:8px;color:#888}.no-caisses[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;margin-bottom:10px;display:block}.caisse-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.caisse-status[_ngcontent-%COMP%]{font-size:12px;padding:2px 8px;border-radius:4px;display:inline-block;width:fit-content}.caisse-status.open[_ngcontent-%COMP%]{background-color:#e3f2ed;color:#0a8150}.caisse-status.closed[_ngcontent-%COMP%]{background-color:#fbebec;color:#de3618}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.icon_more[_ngcontent-%COMP%]{position:relative;cursor:pointer}.icon_more[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}.icon_more[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:100%;right:0;background:#fff;border:1px solid #ddd;border-radius:4px;box-shadow:0 2px 10px #0000001a;z-index:100;display:flex;flex-direction:column;min-width:120px;margin-top:6px;padding:0}.icon_more[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;padding:8px 12px;text-align:left;cursor:pointer;width:100%;font-size:12px}.icon_more[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.icon_more[_ngcontent-%COMP%]:hover   .dropdown-menu[_ngcontent-%COMP%]{color:red}.caisse-status[_ngcontent-%COMP%]{font-size:.85rem;padding:4px 8px;border-radius:12px;font-weight:500}.caisse-status.open[_ngcontent-%COMP%]{background-color:#e3fcef;color:#0e9f6e}.caisse-status.closed[_ngcontent-%COMP%]{background-color:#fde8e8;color:#c81e1e}.caisse-btn.disabled[_ngcontent-%COMP%]{background-color:#e5e7eb;color:#6b7280;cursor:not-allowed}.selected-boutique[_ngcontent-%COMP%]{padding:10px;background-color:#f0f4f8;border-radius:4px;border:1px solid #d1d5db;font-weight:500;color:#1e293b}.caisse-container-bottom[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;justify-content:space-between}.caisse-btn[disabled][_ngcontent-%COMP%], .caisse-btn.disabled-like[_ngcontent-%COMP%]{cursor:not-allowed;opacity:.6;pointer-events:none}']})}}return i})()}}]);