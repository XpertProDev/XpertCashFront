"use strict";(self.webpackChunkskeleton=self.webpackChunkskeleton||[]).push([[2353],{9293:(at,B,d)=>{d.d(B,{R:()=>E});var m=d(1626),S=d(4412),I=d(1985),y=d(8141),A=d(2525),L=d(4438);let E=(()=>{class R{constructor(u){this.http=u,this.apiUrl=A.c.apiBaseUrl,this.categoriesSubject=new S.t([]),this.categories$=this.categoriesSubject.asObservable()}getCategories(u){if(!u)return console.error("\u26a0\ufe0f Token vide ou non d\xe9fini ! V\xe9rifiez que l'utilisateur est bien connect\xe9."),new I.c;const v=(new m.Lr).set("Authorization",`Bearer ${u}`);return console.log("\u{1f539} En-t\xeates envoy\xe9s :",v),this.http.get(`${this.apiUrl}/allCategory`,{headers:v}).pipe((0,y.M)(x=>{this.categoriesSubject.next(x)}))}ajouterCategorie(u){const v=localStorage.getItem("authToken")||"",x=new m.Lr({Authorization:`Bearer ${v}`});return this.http.post(`${this.apiUrl}/createCategory`,u,{headers:x}).pipe((0,y.M)(D=>{this.categoriesSubject.next([...this.categoriesSubject.value,D])}))}static{this.\u0275fac=function(v){return new(v||R)(L.KVO(m.Qq))}}static{this.\u0275prov=L.jDH({token:R,factory:R.\u0275fac,providedIn:"root"})}}return R})()},6375:(at,B,d)=>{d.d(B,{D:()=>L});var m=d(1626),S=d(9437),I=d(8810),y=d(2525),A=d(4438);let L=(()=>{class E{constructor(_){this.http=_,this.apiUrl=y.c.apiBaseUrl}ajouterProduit(_,u,v,x,D,N){const n=`${this.apiUrl}/create?addToStock=${N}`,g=new FormData;g.append("boutiqueIds",JSON.stringify(_)),g.append("quantites",JSON.stringify(u)),g.append("produit",JSON.stringify(x)),g.append("seuilAlert",JSON.stringify(v)),D&&g.append("image",D,D.name);const M=localStorage.getItem("authToken")||"",W=new m.Lr({Authorization:`Bearer ${M}`});return this.http.post(n,g,{headers:W})}modifierProduit(_,u){const v=localStorage.getItem("authToken")||"",x=new m.Lr({Authorization:`Bearer ${v}`}),D=new FormData,{id:N,...n}=_;return D.append("produit",JSON.stringify(n)),D.append("addToStock",_.enStock?"true":"false"),u&&D.append("image",u,u.name),this.http.patch(`${this.apiUrl}/updateProduit/${_.id}`,D,{headers:x})}getProduitById(_){const u=localStorage.getItem("authToken")||"",v=new m.Lr({Authorization:`Bearer ${u}`});return this.http.get(`${this.apiUrl}/produits/${_}`,{headers:v})}getProduitsEntreprise(_){const u=localStorage.getItem("authToken"),v=new m.Lr({Authorization:`Bearer ${u}`});return this.http.get(`${this.apiUrl}/produits/${_}/stock`,{headers:v}).pipe((0,S.W)(x=>(0,I.$)(400===x.status&&"Cette boutique est d\xe9sactiv\xe9e, ses produits ne sont pas accessibles !"===x.error?.error?()=>new Error("BOUTIQUE_DESACTIVEE"):()=>x)))}getProduitBoutique(_){const u=localStorage.getItem("authToken");if(!u)return console.error("Aucun token trouv\xe9"),(0,I.$)("Aucun token trouv\xe9");const v=new m.Lr({Authorization:`Bearer ${u}`});return this.http.get(`${this.apiUrl}/produits/${_}/totaux-stock`,{headers:v})}getProduitsByEntrepriseId(_){return this.http.get(`${this.apiUrl}/produits/entreprise/${_}`)}getProduitsParEntreprise(_){return this.http.get(`${this.apiUrl}/produits/entreprise/${_}`)}getFournisseurs(){const _=localStorage.getItem("authToken")||"",u=new m.Lr({Authorization:`Bearer ${_}`});return this.http.get(`${this.apiUrl}/get-fournisseurs`,{headers:u})}static{this.\u0275fac=function(u){return new(u||E)(A.KVO(m.Qq))}}static{this.\u0275prov=A.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})()},2353:(at,B,d)=>{d.r(B),d.d(B,{ProduitsComponent:()=>Ne});var m=d(177),S=d(9417),I=d(9107),y=d(2288),A=d(8459),L=d(1811),E=d(850),R=d(9631),_=d(3509),u=d(1281),v=d(4941),x=d.n(v),D=d(6115),N=d(5837),n=d(4438),g=d(1413),M=d(8359),W=d(605),zt=d(536),lt=d(1985),X=d(7786),Ut=d(4412),T=d(9629),ct=d(3700),O=d(9355),k=d(7418),q=d(6977),$t=d(6354),Gt=d(6697),qt=d(8141),Vt=d(5558),dt=d(9172),Ht=d(4790),Q=d(7333),ht=d(1845),Wt=d(9022),Xt=d(1959);function pt(r){const i=r.cloneNode(!0),t=i.querySelectorAll("[id]"),e=r.nodeName.toLowerCase();i.removeAttribute("id");for(let o=0;o<t.length;o++)t[o].removeAttribute("id");return"canvas"===e?_t(r,i):("input"===e||"select"===e||"textarea"===e)&&ut(r,i),gt("canvas",r,i,_t),gt("input, textarea, select",r,i,ut),i}function gt(r,i,t,e){const o=i.querySelectorAll(r);if(o.length){const s=t.querySelectorAll(r);for(let a=0;a<o.length;a++)e(o[a],s[a])}}let Qt=0;function ut(r,i){"file"!==i.type&&(i.value=r.value),"radio"===i.type&&i.name&&(i.name=`mat-clone-${i.name}-${Qt++}`)}function _t(r,i){const t=i.getContext("2d");if(t)try{t.drawImage(r,0,0)}catch{}}function K(r){const i=r.getBoundingClientRect();return{top:i.top,right:i.right,bottom:i.bottom,left:i.left,width:i.width,height:i.height,x:i.x,y:i.y}}function Y(r,i,t){const{top:e,bottom:o,left:s,right:a}=r;return t>=e&&t<=o&&i>=s&&i<=a}function j(r,i,t){r.top+=i,r.bottom=r.top+r.height,r.left+=t,r.right=r.left+r.width}function ft(r,i,t,e){const{top:o,right:s,bottom:a,left:l,width:c,height:h}=r,p=c*i,P=h*i;return e>o-P&&e<a+P&&t>l-p&&t<s+p}class mt{_document;positions=new Map;constructor(i){this._document=i}clear(){this.positions.clear()}cache(i){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),i.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:K(t)})})}handleScroll(i){const t=(0,T._)(i),e=this.positions.get(t);if(!e)return null;const o=e.scrollPosition;let s,a;if(t===this._document){const h=this.getViewportScrollPosition();s=h.top,a=h.left}else s=t.scrollTop,a=t.scrollLeft;const l=o.top-s,c=o.left-a;return this.positions.forEach((h,p)=>{h.clientRect&&t!==p&&t.contains(p)&&j(h.clientRect,l,c)}),o.top=s,o.left=a,{top:l,left:c}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function vt(r,i){const t=r.rootNodes;if(1===t.length&&t[0].nodeType===i.ELEMENT_NODE)return t[0];const e=i.createElement("div");return t.forEach(o=>e.appendChild(o)),e}function Z(r,i,t){for(let e in i)if(i.hasOwnProperty(e)){const o=i[e];o?r.setProperty(e,o,t?.has(e)?"important":""):r.removeProperty(e)}return r}function F(r,i){const t=i?"":"none";Z(r.style,{"touch-action":i?"":"none","-webkit-user-drag":i?"":"none","-webkit-tap-highlight-color":i?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function Pt(r,i,t){Z(r.style,{position:i?"":"fixed",top:i?"":"0",opacity:i?"":"0",left:i?"":"-999em"},t)}function V(r,i){return i&&"none"!=i?r+" "+i:r}function bt(r,i){r.style.width=`${i.width}px`,r.style.height=`${i.height}px`,r.style.transform=H(i.left,i.top)}function H(r,i){return`translate3d(${Math.round(r)}px, ${Math.round(i)}px, 0)`}function xt(r){const i=r.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(r)*i}function J(r,i){return r.getPropertyValue(i).split(",").map(e=>e.trim())}const Yt=new Set(["position"]);class Zt{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(i,t,e,o,s,a,l,c,h,p){this._document=i,this._rootElement=t,this._direction=e,this._initialDomRect=o,this._previewTemplate=s,this._previewClass=a,this._pickupPositionOnPage=l,this._initialTransform=c,this._zIndex=h,this._renderer=p}attach(i){this._preview=this._createPreview(),i.appendChild(this._preview),Dt(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(i){this._preview.style.transform=i}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(i){this._preview.classList.add(i)}getTransitionDuration(){return function Kt(r){const i=getComputedStyle(r),t=J(i,"transition-property"),e=t.find(l=>"transform"===l||"all"===l);if(!e)return 0;const o=t.indexOf(e),s=J(i,"transition-duration"),a=J(i,"transition-delay");return xt(s[o])+xt(a[o])}(this._preview)}addEventListener(i,t){return this._renderer.listen(this._preview,i,t)}_createPreview(){const i=this._previewTemplate,t=this._previewClass,e=i?i.template:null;let o;if(e&&i){const s=i.matchSize?this._initialDomRect:null,a=i.viewContainer.createEmbeddedView(e,i.context);a.detectChanges(),o=vt(a,this._document),this._previewEmbeddedView=a,i.matchSize?bt(o,s):o.style.transform=H(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else o=pt(this._rootElement),bt(o,this._initialDomRect),this._initialTransform&&(o.style.transform=this._initialTransform);return Z(o.style,{"pointer-events":"none",margin:Dt(o)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},Yt),F(o,!1),o.classList.add("cdk-drag-preview"),o.setAttribute("popover","manual"),o.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(s=>o.classList.add(s)):o.classList.add(t)),o}}function Dt(r){return"showPopover"in r}const Jt={passive:!0},Ct={passive:!1},te={passive:!1,capture:!0},wt=new Set(["position"]);class ie{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_anchor;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=(0,n.vPA)(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new g.B;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=M.yU.EMPTY;_pointerUpSubscription=M.yU.EMPTY;_scrollSubscription=M.yU.EMPTY;_resizeSubscription=M.yU.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(i){i!==this._disabled&&(this._disabled=i,this._toggleNativeDragInteractions(),this._handles.forEach(t=>F(t,i)))}_disabled=!1;beforeStarted=new g.B;started=new g.B;released=new g.B;ended=new g.B;entered=new g.B;exited=new g.B;dropped=new g.B;moved=this._moveEvents;data;constrainPosition;constructor(i,t,e,o,s,a,l){this._config=t,this._document=e,this._ngZone=o,this._viewportRuler=s,this._dragDropRegistry=a,this._renderer=l,this.withRootElement(i).withParent(t.parentDragRef||null),this._parentPositions=new mt(e),a.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(i){this._handles=i.map(e=>(0,O.a)(e)),this._handles.forEach(e=>F(e,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(e=>{this._handles.indexOf(e)>-1&&t.add(e)}),this._disabledHandles=t,this}withPreviewTemplate(i){return this._previewTemplate=i,this}withPlaceholderTemplate(i){return this._placeholderTemplate=i,this}withRootElement(i){const t=(0,O.a)(i);return t!==this._rootElement&&(this._removeRootElementListeners(),this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[(0,k._)(this._renderer,t,"mousedown",this._pointerDown,Ct),(0,k._)(this._renderer,t,"touchstart",this._pointerDown,Jt),(0,k._)(this._renderer,t,"dragstart",this._nativeDragStart,Ct)]),this._initialTransform=void 0,this._rootElement=t),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(i){return this._boundaryElement=i?(0,O.a)(i):null,this._resizeSubscription.unsubscribe(),i&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(i){return this._parentDragRef=i,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(i){!this._disabledHandles.has(i)&&this._handles.indexOf(i)>-1&&(this._disabledHandles.add(i),F(i,!0))}enableHandle(i){this._disabledHandles.has(i)&&(this._disabledHandles.delete(i),F(i,this.disabled))}withDirection(i){return this._direction=i,this}_withDropContainer(i){this._dropContainer=i}getFreeDragPosition(){const i=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:i.x,y:i.y}}setFreeDragPosition(i){return this._activeTransform={x:0,y:0},this._passiveTransform.x=i.x,this._passiveTransform.y=i.y,this._dropContainer||this._applyRootElementTransform(i.x,i.y),this}withPreviewContainer(i){return this._previewContainer=i,this}_sortFromLastPointerPosition(){const i=this._lastKnownPointerPosition;i&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(i),i)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_pointerDown=i=>{if(this.beforeStarted.next(),this._handles.length){const t=this._getTargetHandle(i);t&&!this._disabledHandles.has(t)&&!this.disabled&&this._initializeDragSequence(t,i)}else this.disabled||this._initializeDragSequence(this._rootElement,i)};_pointerMove=i=>{const t=this._getPointerPositionOnPage(i);if(!this._hasStartedDragging()){if(Math.abs(t.x-this._pickupPositionOnPage.x)+Math.abs(t.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const l=Date.now()>=this._dragStartTime+this._getDragStartDelay(i),c=this._dropContainer;if(!l)return void this._endDragSequence(i);(!c||!c.isDragging()&&!c.isReceiving())&&(i.cancelable&&i.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(i)))}return}i.cancelable&&i.preventDefault();const e=this._getConstrainedPointerPosition(t);if(this._hasMoved=!0,this._lastKnownPointerPosition=t,this._updatePointerDirectionDelta(e),this._dropContainer)this._updateActiveDropContainer(e,t);else{const o=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,s=this._activeTransform;s.x=e.x-o.x+this._passiveTransform.x,s.y=e.y-o.y+this._passiveTransform.y,this._applyRootElementTransform(s.x,s.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:e,event:i,distance:this._getDragDistance(e),delta:this._pointerDirectionDelta})})};_pointerUp=i=>{this._endDragSequence(i)};_endDragSequence(i){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging()))if(this.released.next({source:this,event:i}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(i),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(i);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:i})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(i){z(i)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._getShadowRoot(),e=this._dropContainer;if(t&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=(0,k._)(this._renderer,t,"selectstart",ne,te)}),e){const o=this._rootElement,s=o.parentNode,a=this._placeholder=this._createPlaceholderElement(),l=this._anchor=this._anchor||this._document.createComment("");s.insertBefore(l,o),this._initialTransform=o.style.transform||"",this._preview=new Zt(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(s,t)),Pt(o,!1,wt),this._document.body.appendChild(s.replaceChild(a,o)),this.started.next({source:this,event:i}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this,event:i}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(i,t){this._parentDragRef&&t.stopPropagation();const e=this.isDragging(),o=z(t),s=!o&&0!==t.button,a=this._rootElement,l=(0,T._)(t),c=!o&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),h=o?(0,ct.a)(t):(0,ct.i)(t);if(l&&l.draggable&&"mousedown"===t.type&&t.preventDefault(),e||s||c||h)return;if(this._handles.length){const f=a.style;this._rootElementTapHighlight=f.webkitTapHighlightColor||"",f.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(f=>this._updateOnScroll(f)),this._boundaryElement&&(this._boundaryRect=K(this._boundaryElement));const p=this._previewTemplate;this._pickupPositionInElement=p&&p.template&&!p.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,i,t);const P=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:P.x,y:P.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(i){Pt(this._rootElement,!0,wt),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,e=t.getItemIndex(this),o=this._getPointerPositionOnPage(i),s=this._getDragDistance(o),a=t._isOverContainer(o.x,o.y);this.ended.next({source:this,distance:s,dropPoint:o,event:i}),this.dropped.next({item:this,currentIndex:e,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:a,distance:s,dropPoint:o,event:i}),t.drop(this,e,this._initialIndex,this._initialContainer,a,s,o,i),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:i,y:t},{x:e,y:o}){let s=this._initialContainer._getSiblingContainerFromPosition(this,i,t);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(i,t)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,i,t,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(e,o),this._dropContainer._sortItem(this,i,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(i,t):this._applyPreviewTransform(i-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const i=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(i.left,i.top);const t=this._preview.getTransitionDuration();return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(e=>{const o=l=>{(!l||this._preview&&(0,T._)(l)===this._preview.element&&"transform"===l.propertyName)&&(a(),e(),clearTimeout(s))},s=setTimeout(o,1.5*t),a=this._preview.addEventListener("transitionend",o)}))}_createPlaceholderElement(){const i=this._placeholderTemplate,t=i?i.template:null;let e;return t?(this._placeholderRef=i.viewContainer.createEmbeddedView(t,i.context),this._placeholderRef.detectChanges(),e=vt(this._placeholderRef,this._document)):e=pt(this._rootElement),e.style.pointerEvents="none",e.classList.add("cdk-drag-placeholder"),e}_getPointerPositionInElement(i,t,e){const o=t===this._rootElement?null:t,s=o?o.getBoundingClientRect():i,a=z(e)?e.targetTouches[0]:e,l=this._getViewportScrollPosition();return{x:s.left-i.left+(a.pageX-s.left-l.left),y:s.top-i.top+(a.pageY-s.top-l.top)}}_getPointerPositionOnPage(i){const t=this._getViewportScrollPosition(),e=z(i)?i.touches[0]||i.changedTouches[0]||{pageX:0,pageY:0}:i,o=e.pageX-t.left,s=e.pageY-t.top;if(this._ownerSVGElement){const a=this._ownerSVGElement.getScreenCTM();if(a){const l=this._ownerSVGElement.createSVGPoint();return l.x=o,l.y=s,l.matrixTransform(a.inverse())}}return{x:o,y:s}}_getConstrainedPointerPosition(i){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:e,y:o}=this.constrainPosition?this.constrainPosition(i,this,this._initialDomRect,this._pickupPositionInElement):i;if("x"===this.lockAxis||"x"===t?o=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===t)&&(e=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:s,y:a}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,l=this._boundaryRect,{width:c,height:h}=this._getPreviewRect(),p=l.top+a,P=l.bottom-(h-a);e=St(e,l.left+s,l.right-(c-s)),o=St(o,p,P)}return{x:e,y:o}}_updatePointerDirectionDelta(i){const{x:t,y:e}=i,o=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,a=Math.abs(t-s.x),l=Math.abs(e-s.y);return a>this._config.pointerDirectionChangeThreshold&&(o.x=t>s.x?1:-1,s.x=t),l>this._config.pointerDirectionChangeThreshold&&(o.y=e>s.y?1:-1,s.y=e),o}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const i=this._handles.length>0||!this.isDragging();i!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=i,F(this._rootElement,i))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(i=>i()),this._rootElementCleanups=void 0}_applyRootElementTransform(i,t){const e=1/this.scale,o=H(i*e,t*e),s=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=s.transform&&"none"!=s.transform?s.transform:""),s.transform=V(o,this._initialTransform)}_applyPreviewTransform(i,t){const e=this._previewTemplate?.template?void 0:this._initialTransform,o=H(i,t);this._preview.setTransform(V(o,e))}_getDragDistance(i){const t=this._pickupPositionOnPage;return t?{x:i.x-t.x,y:i.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:i,y:t}=this._passiveTransform;if(0===i&&0===t||this.isDragging()||!this._boundaryElement)return;const e=this._rootElement.getBoundingClientRect(),o=this._boundaryElement.getBoundingClientRect();if(0===o.width&&0===o.height||0===e.width&&0===e.height)return;const s=o.left-e.left,a=e.right-o.right,l=o.top-e.top,c=e.bottom-o.bottom;o.width>e.width?(s>0&&(i+=s),a>0&&(i-=a)):i=0,o.height>e.height?(l>0&&(t+=l),c>0&&(t-=c)):t=0,(i!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:i})}_getDragStartDelay(i){const t=this.dragStartDelay;return"number"==typeof t?t:z(i)?t.touch:t?t.mouse:0}_updateOnScroll(i){const t=this._parentPositions.handleScroll(i);if(t){const e=(0,T._)(i);this._boundaryRect&&e!==this._boundaryElement&&e.contains(this._boundaryElement)&&j(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,T.a)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(i,t){const e=this._previewContainer||"global";if("parent"===e)return i;if("global"===e){const o=this._document;return t||o.fullscreenElement||o.webkitFullscreenElement||o.mozFullScreenElement||o.msFullscreenElement||o.body}return(0,O.a)(e)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=i=>{if(this._handles.length){const t=this._getTargetHandle(i);t&&!this._disabledHandles.has(t)&&!this.disabled&&i.preventDefault()}else this.disabled||i.preventDefault()};_getTargetHandle(i){return this._handles.find(t=>i.target&&(i.target===t||t.contains(i.target)))}}function St(r,i,t){return Math.max(i,Math.min(t,r))}function z(r){return"t"===r.type[0]}function ne(r){r.preventDefault()}function tt(r,i,t){const e=U(i,r.length-1),o=U(t,r.length-1);if(e===o)return;const s=r[e],a=o<e?-1:1;for(let l=e;l!==o;l+=a)r[l]=r[l+a];r[o]=s}function U(r,i){return Math.max(0,Math.min(i,r))}class yt{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(i){this._dragDropRegistry=i}_previousSwap={drag:null,delta:0,overlaps:!1};start(i){this.withItems(i)}sort(i,t,e,o){const s=this._itemPositions,a=this._getItemIndexFromPointerPosition(i,t,e,o);if(-1===a&&s.length>0)return null;const l="horizontal"===this.orientation,c=s.findIndex(w=>w.drag===i),h=s[a],P=h.clientRect,f=c>a?1:-1,st=this._getItemOffsetPx(s[c].clientRect,P,f),Fe=this._getSiblingOffsetPx(c,s,f),je=s.slice();return tt(s,c,a),s.forEach((w,ze)=>{if(je[ze]===w)return;const Nt=w.drag===i,rt=Nt?st:Fe,Ft=Nt?i.getPlaceholderElement():w.drag.getRootElement();w.offset+=rt;const jt=Math.round(w.offset*(1/w.drag.scale));l?(Ft.style.transform=V(`translate3d(${jt}px, 0, 0)`,w.initialTransform),j(w.clientRect,0,rt)):(Ft.style.transform=V(`translate3d(0, ${jt}px, 0)`,w.initialTransform),j(w.clientRect,rt,0))}),this._previousSwap.overlaps=Y(P,t,e),this._previousSwap.drag=h.drag,this._previousSwap.delta=l?o.x:o.y,{previousIndex:c,currentIndex:a}}enter(i,t,e,o){const s=null==o||o<0?this._getItemIndexFromPointerPosition(i,t,e):o,a=this._activeDraggables,l=a.indexOf(i),c=i.getPlaceholderElement();let h=a[s];if(h===i&&(h=a[s+1]),!h&&(null==s||-1===s||s<a.length-1)&&this._shouldEnterAsFirstChild(t,e)&&(h=a[0]),l>-1&&a.splice(l,1),h&&!this._dragDropRegistry.isDragging(h)){const p=h.getRootElement();p.parentElement.insertBefore(c,p),a.splice(s,0,i)}else this._element.appendChild(c),a.push(i);c.style.transform="",this._cacheItemPositions()}withItems(i){this._activeDraggables=i.slice(),this._cacheItemPositions()}withSortPredicate(i){this._sortPredicate=i}reset(){this._activeDraggables?.forEach(i=>{const t=i.getRootElement();if(t){const e=this._itemPositions.find(o=>o.drag===i)?.initialTransform;t.style.transform=e||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(i){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(e=>e.drag===i)}updateOnScroll(i,t){this._itemPositions.forEach(({clientRect:e})=>{j(e,i,t)}),this._itemPositions.forEach(({drag:e})=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()})}withElementContainer(i){this._element=i}_cacheItemPositions(){const i="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(t=>{const e=t.getVisibleElement();return{drag:t,offset:0,initialTransform:e.style.transform||"",clientRect:K(e)}}).sort((t,e)=>i?t.clientRect.left-e.clientRect.left:t.clientRect.top-e.clientRect.top)}_getItemOffsetPx(i,t,e){const o="horizontal"===this.orientation;let s=o?t.left-i.left:t.top-i.top;return-1===e&&(s+=o?t.width-i.width:t.height-i.height),s}_getSiblingOffsetPx(i,t,e){const o="horizontal"===this.orientation,s=t[i].clientRect,a=t[i+-1*e];let l=s[o?"width":"height"]*e;if(a){const c=o?"left":"top",h=o?"right":"bottom";-1===e?l-=a.clientRect[c]-s[h]:l+=s[c]-a.clientRect[h]}return l}_shouldEnterAsFirstChild(i,t){if(!this._activeDraggables.length)return!1;const e=this._itemPositions,o="horizontal"===this.orientation;if(e[0].drag!==this._activeDraggables[0]){const a=e[e.length-1].clientRect;return o?i>=a.right:t>=a.bottom}{const a=e[0].clientRect;return o?i<=a.left:t<=a.top}}_getItemIndexFromPointerPosition(i,t,e,o){const s="horizontal"===this.orientation,a=this._itemPositions.findIndex(({drag:l,clientRect:c})=>l!==i&&((!o||l!==this._previousSwap.drag||!this._previousSwap.overlaps||(s?o.x:o.y)!==this._previousSwap.delta)&&(s?t>=Math.floor(c.left)&&t<Math.floor(c.right):e>=Math.floor(c.top)&&e<Math.floor(c.bottom))));return-1!==a&&this._sortPredicate(a,i)?a:-1}}class oe{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(i,t){this._document=i,this._dragDropRegistry=t}start(i){const t=this._element.childNodes;this._relatedNodes=[];for(let e=0;e<t.length;e++){const o=t[e];this._relatedNodes.push([o,o.nextSibling])}this.withItems(i)}sort(i,t,e,o){const s=this._getItemIndexFromPointerPosition(i,t,e),a=this._previousSwap;if(-1===s||this._activeItems[s]===i)return null;const l=this._activeItems[s];if(a.drag===l&&a.overlaps&&a.deltaX===o.x&&a.deltaY===o.y)return null;const c=this.getItemIndex(i),h=i.getPlaceholderElement(),p=l.getRootElement();s>c?p.after(h):p.before(h),tt(this._activeItems,c,s);const P=this._getRootNode().elementFromPoint(t,e);return a.deltaX=o.x,a.deltaY=o.y,a.drag=l,a.overlaps=p===P||p.contains(P),{previousIndex:c,currentIndex:s}}enter(i,t,e,o){let s=null==o||o<0?this._getItemIndexFromPointerPosition(i,t,e):o;-1===s&&(s=this._getClosestItemIndexToPointer(i,t,e));const a=this._activeItems[s],l=this._activeItems.indexOf(i);l>-1&&this._activeItems.splice(l,1),a&&!this._dragDropRegistry.isDragging(a)?(this._activeItems.splice(s,0,i),a.getRootElement().before(i.getPlaceholderElement())):(this._activeItems.push(i),this._element.appendChild(i.getPlaceholderElement()))}withItems(i){this._activeItems=i.slice()}withSortPredicate(i){this._sortPredicate=i}reset(){const i=this._element,t=this._previousSwap;for(let e=this._relatedNodes.length-1;e>-1;e--){const[o,s]=this._relatedNodes[e];o.parentNode===i&&o.nextSibling!==s&&(null===s?i.appendChild(o):s.parentNode===i&&i.insertBefore(o,s))}this._relatedNodes=[],this._activeItems=[],t.drag=null,t.deltaX=t.deltaY=0,t.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(i){return this._activeItems.indexOf(i)}updateOnScroll(){this._activeItems.forEach(i=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}withElementContainer(i){i!==this._element&&(this._element=i,this._rootNode=void 0)}_getItemIndexFromPointerPosition(i,t,e){const o=this._getRootNode().elementFromPoint(Math.floor(t),Math.floor(e)),s=o?this._activeItems.findIndex(a=>{const l=a.getRootElement();return o===l||l.contains(o)}):-1;return-1!==s&&this._sortPredicate(s,i)?s:-1}_getRootNode(){return this._rootNode||(this._rootNode=(0,T.a)(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(i,t,e){if(0===this._activeItems.length)return-1;if(1===this._activeItems.length)return 0;let o=1/0,s=-1;for(let a=0;a<this._activeItems.length;a++){const l=this._activeItems[a];if(l!==i){const{x:c,y:h}=l.getRootElement().getBoundingClientRect(),p=Math.hypot(t-c,e-h);p<o&&(o=p,s=a)}}return s}}var C=function(r){return r[r.NONE=0]="NONE",r[r.UP=1]="UP",r[r.DOWN=2]="DOWN",r}(C||{}),b=function(r){return r[r.NONE=0]="NONE",r[r.LEFT=1]="LEFT",r[r.RIGHT=2]="RIGHT",r}(b||{});class se{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis;autoScrollDisabled=!1;autoScrollStep=2;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new g.B;entered=new g.B;exited=new g.B;dropped=new g.B;sorted=new g.B;receivingStarted=new g.B;receivingStopped=new g.B;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=M.yU.EMPTY;_verticalScrollDirection=C.NONE;_horizontalScrollDirection=b.NONE;_scrollNode;_stopScrollTimers=new g.B;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(i,t,e,o,s){this._dragDropRegistry=t,this._ngZone=o,this._viewportRuler=s;const a=this.element=(0,O.a)(i);this._document=e,this.withOrientation("vertical").withElementContainer(a),t.registerDropContainer(this),this._parentPositions=new mt(e)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(i,t,e,o){this._draggingStarted(),null==o&&this.sortingDisabled&&(o=this._draggables.indexOf(i)),this._sortStrategy.enter(i,t,e,o),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:i,container:this,currentIndex:this.getItemIndex(i)})}exit(i){this._reset(),this.exited.next({item:i,container:this})}drop(i,t,e,o,s,a,l,c={}){this._reset(),this.dropped.next({item:i,currentIndex:t,previousIndex:e,container:this,previousContainer:o,isPointerOverContainer:s,distance:a,dropPoint:l,event:c})}withItems(i){const t=this._draggables;return this._draggables=i,i.forEach(e=>e._withDropContainer(this)),this.isDragging()&&(t.filter(o=>o.isDragging()).every(o=>-1===i.indexOf(o))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(i){return this._direction=i,this._sortStrategy instanceof yt&&(this._sortStrategy.direction=i),this}connectedTo(i){return this._siblings=i.slice(),this}withOrientation(i){if("mixed"===i)this._sortStrategy=new oe(this._document,this._dragDropRegistry);else{const t=new yt(this._dragDropRegistry);t.direction=this._direction,t.orientation=i,this._sortStrategy=t}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((t,e)=>this.sortPredicate(t,e,this)),this}withScrollableParents(i){const t=this._container;return this._scrollableElements=-1===i.indexOf(t)?[t,...i]:i.slice(),this}withElementContainer(i){if(i===this._container)return this;(0,O.a)(this.element);const e=this._scrollableElements.indexOf(this._container),o=this._scrollableElements.indexOf(i);return e>-1&&this._scrollableElements.splice(e,1),o>-1&&this._scrollableElements.splice(o,1),this._sortStrategy&&this._sortStrategy.withElementContainer(i),this._cachedShadowRoot=null,this._scrollableElements.unshift(i),this._container=i,this}getScrollableParents(){return this._scrollableElements}getItemIndex(i){return this._isDragging?this._sortStrategy.getItemIndex(i):this._draggables.indexOf(i)}isReceiving(){return this._activeSiblings.size>0}_sortItem(i,t,e,o){if(this.sortingDisabled||!this._domRect||!ft(this._domRect,.05,t,e))return;const s=this._sortStrategy.sort(i,t,e,o);s&&this.sorted.next({previousIndex:s.previousIndex,currentIndex:s.currentIndex,container:this,item:i})}_startScrollingIfNecessary(i,t){if(this.autoScrollDisabled)return;let e,o=C.NONE,s=b.NONE;if(this._parentPositions.positions.forEach((a,l)=>{l===this._document||!a.clientRect||e||ft(a.clientRect,.05,i,t)&&([o,s]=function re(r,i,t,e,o){const s=It(i,o),a=Rt(i,e);let l=C.NONE,c=b.NONE;if(s){const h=r.scrollTop;s===C.UP?h>0&&(l=C.UP):r.scrollHeight-h>r.clientHeight&&(l=C.DOWN)}if(a){const h=r.scrollLeft;"rtl"===t?a===b.RIGHT?h<0&&(c=b.RIGHT):r.scrollWidth+h>r.clientWidth&&(c=b.LEFT):a===b.LEFT?h>0&&(c=b.LEFT):r.scrollWidth-h>r.clientWidth&&(c=b.RIGHT)}return[l,c]}(l,a.clientRect,this._direction,i,t),(o||s)&&(e=l))}),!o&&!s){const{width:a,height:l}=this._viewportRuler.getViewportSize(),c={width:a,height:l,top:0,right:a,bottom:l,left:0};o=It(c,t),s=Rt(c,i),e=window}e&&(o!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||e!==this._scrollNode)&&(this._verticalScrollDirection=o,this._horizontalScrollDirection=s,this._scrollNode=e,(o||s)&&e?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const i=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=i.msScrollSnapType||i.scrollSnapType||"",i.scrollSnapType=i.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;const i=this._container.style;i.scrollSnapType=i.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),(0,W.Y)(0,zt.X).pipe((0,q.Q)(this._stopScrollTimers)).subscribe(()=>{const i=this._scrollNode,t=this.autoScrollStep;this._verticalScrollDirection===C.UP?i.scrollBy(0,-t):this._verticalScrollDirection===C.DOWN&&i.scrollBy(0,t),this._horizontalScrollDirection===b.LEFT?i.scrollBy(-t,0):this._horizontalScrollDirection===b.RIGHT&&i.scrollBy(t,0)})};_isOverContainer(i,t){return null!=this._domRect&&Y(this._domRect,i,t)}_getSiblingContainerFromPosition(i,t,e){return this._siblings.find(o=>o._canReceive(i,t,e))}_canReceive(i,t,e){if(!this._domRect||!Y(this._domRect,t,e)||!this.enterPredicate(i,this))return!1;const o=this._getShadowRoot().elementFromPoint(t,e);return!!o&&(o===this._container||this._container.contains(o))}_startReceiving(i,t){const e=this._activeSiblings;!e.has(i)&&t.every(o=>this.enterPredicate(o,this)||this._draggables.indexOf(o)>-1)&&(e.add(i),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:i,receiver:this,items:t}))}_stopReceiving(i){this._activeSiblings.delete(i),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:i,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(i=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(i);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const i=(0,T.a)(this._container);this._cachedShadowRoot=i||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const i=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,i))}}function It(r,i){const{top:t,bottom:e,height:o}=r,s=.05*o;return i>=t-s&&i<=t+s?C.UP:i>=e-s&&i<=e+s?C.DOWN:C.NONE}function Rt(r,i){const{left:t,right:e,width:o}=r,s=.05*o;return i>=t-s&&i<=t+s?b.LEFT:i>=e-s&&i<=e+s?b.RIGHT:b.NONE}const $={capture:!0},et={passive:!1,capture:!0};let ae=(()=>{class r{static \u0275fac=function(e){return new(e||r)};static \u0275cmp=n.VBU({type:r,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(e,o){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}\n"],encapsulation:2,changeDetection:0})}return r})(),it=(()=>{class r{_ngZone=(0,n.WQX)(n.SKi);_document=(0,n.WQX)(m.qQ);_styleLoader=(0,n.WQX)(Ht._);_renderer=(0,n.WQX)(n._9s).createRenderer(null,null);_cleanupDocumentTouchmove;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=(0,n.vPA)([]);_globalListeners;_draggingPredicate=t=>t.isDragging();_domNodesToDirectives=null;pointerMove=new g.B;pointerUp=new g.B;scroll=new g.B;constructor(){}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=(0,k._)(this._renderer,this._document,"touchmove",this._persistentTouchmoveListener,et)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._cleanupDocumentTouchmove?.()}startDragging(t,e){if(!(this._activeDragInstances().indexOf(t)>-1)&&(this._styleLoader.load(ae),this._activeDragInstances.update(o=>[...o,t]),1===this._activeDragInstances().length)){const o=e.type.startsWith("touch"),s=l=>this.pointerUp.next(l),a=[["scroll",l=>this.scroll.next(l),$],["selectstart",this._preventDefaultWhileDragging,et]];o?a.push(["touchend",s,$],["touchcancel",s,$]):a.push(["mouseup",s,$]),o||a.push(["mousemove",l=>this.pointerMove.next(l),et]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=a.map(([l,c,h])=>(0,k._)(this._renderer,this._document,l,c,h))})}}stopDragging(t){this._activeDragInstances.update(e=>{const o=e.indexOf(t);return o>-1?(e.splice(o,1),[...e]):e}),0===this._activeDragInstances().length&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances().indexOf(t)>-1}scrolled(t){const e=[this.scroll];return t&&t!==this._document&&e.push(new lt.c(o=>this._ngZone.runOutsideAngular(()=>{const s=(0,k._)(this._renderer,t,"scroll",a=>{this._activeDragInstances().length&&o.next(a)},$);return()=>{s()}}))),(0,X.h)(...e)}registerDirectiveNode(t,e){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(t,e)}removeDirectiveNode(t){this._domNodesToDirectives?.delete(t)}getDragDirectiveForNode(t){return this._domNodesToDirectives?.get(t)||null}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=t=>{this._activeDragInstances().length>0&&t.preventDefault()};_persistentTouchmoveListener=t=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&t.preventDefault(),this.pointerMove.next(t))};_clearGlobalListeners(){this._globalListeners?.forEach(t=>t()),this._globalListeners=void 0}static \u0275fac=function(e){return new(e||r)};static \u0275prov=n.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const le={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let nt=(()=>{class r{_document=(0,n.WQX)(m.qQ);_ngZone=(0,n.WQX)(n.SKi);_viewportRuler=(0,n.WQX)(Q.Xj);_dragDropRegistry=(0,n.WQX)(it);_renderer=(0,n.WQX)(n._9s).createRenderer(null,null);constructor(){}createDrag(t,e=le){return new ie(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(t){return new se(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(e){return new(e||r)};static \u0275prov=n.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const G=new n.nKC("CDK_DRAG_PARENT"),Mt=new n.nKC("CdkDragHandle"),Tt=new n.nKC("CDK_DRAG_CONFIG"),kt=new n.nKC("CdkDropList");let Bt=(()=>{class r{element=(0,n.WQX)(n.aKT);dropContainer=(0,n.WQX)(kt,{optional:!0,skipSelf:!0});_ngZone=(0,n.WQX)(n.SKi);_viewContainerRef=(0,n.WQX)(n.c1b);_dir=(0,n.WQX)(ht.D,{optional:!0});_changeDetectorRef=(0,n.WQX)(n.gRc);_selfHandle=(0,n.WQX)(Mt,{optional:!0,self:!0});_parentDrag=(0,n.WQX)(G,{optional:!0,skipSelf:!0});_dragDropRegistry=(0,n.WQX)(it);_destroyed=new g.B;_handles=new Ut.t([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!(!this.dropContainer||!this.dropContainer.disabled)}set disabled(t){this._disabled=t,this._dragRef.disabled=this._disabled}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new n.bkB;released=new n.bkB;ended=new n.bkB;entered=new n.bkB;exited=new n.bkB;dropped=new n.bkB;moved=new lt.c(t=>{const e=this._dragRef.moved.pipe((0,$t.T)(o=>({source:this,pointerPosition:o.pointerPosition,event:o.event,delta:o.delta,distance:o.distance}))).subscribe(t);return()=>{e.unsubscribe()}});_injector=(0,n.WQX)(n.zZn);constructor(){const t=this.dropContainer,e=(0,n.WQX)(Tt,{optional:!0}),o=(0,n.WQX)(nt);this._dragRef=o.createDrag(this.element,{dragStartThreshold:e&&null!=e.dragStartThreshold?e.dragStartThreshold:5,pointerDirectionChangeThreshold:e&&null!=e.pointerDirectionChangeThreshold?e.pointerDirectionChangeThreshold:5,zIndex:e?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),e&&this._assignDefaults(e),t&&(this._dragRef._withDropContainer(t._dropListRef),t.addItem(this),t._dropListRef.beforeStarted.pipe((0,q.Q)(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(t){this._dragRef.setFreeDragPosition(t)}ngAfterViewInit(){(0,n.mal)(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(t){const e=t.rootElementSelector,o=t.freeDragPosition;e&&!e.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,o&&!o.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(t){const e=this._handles.getValue();e.push(t),this._handles.next(e)}_removeHandle(t){const e=this._handles.getValue(),o=e.indexOf(t);o>-1&&(e.splice(o,1),this._handles.next(e))}_setPreviewTemplate(t){this._previewTemplate=t}_resetPreviewTemplate(t){t===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(t){this._placeholderTemplate=t}_resetPlaceholderTemplate(t){t===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){const t=this.element.nativeElement;let e=t;this.rootElementSelector&&(e=void 0!==t.closest?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(e||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):(0,O.a)(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const e=this._dir,o=this.dragStartDelay,s=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,a=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.scale=this.scale,t.dragStartDelay="object"==typeof o&&o?o:(0,O.c)(o),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(s).withPreviewTemplate(a).withPreviewContainer(this.previewContainer||"global"),e&&t.withDirection(e.value)}}),t.beforeStarted.pipe((0,Gt.s)(1)).subscribe(()=>{if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let e=this.element.nativeElement.parentElement;for(;e;){const o=this._dragDropRegistry.getDragDirectiveForNode(e);if(o){t.withParent(o._dragRef);break}e=e.parentElement}})}_handleEvents(t){t.started.subscribe(e=>{this.started.emit({source:this,event:e.event}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(e=>{this.released.emit({source:this,event:e.event})}),t.ended.subscribe(e=>{this.ended.emit({source:this,distance:e.distance,dropPoint:e.dropPoint,event:e.event}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(e=>{this.entered.emit({container:e.container.data,item:this,currentIndex:e.currentIndex})}),t.exited.subscribe(e=>{this.exited.emit({container:e.container.data,item:this})}),t.dropped.subscribe(e=>{this.dropped.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,previousContainer:e.previousContainer.data,container:e.container.data,isPointerOverContainer:e.isPointerOverContainer,item:this,distance:e.distance,dropPoint:e.dropPoint,event:e.event})})}_assignDefaults(t){const{lockAxis:e,dragStartDelay:o,constrainPosition:s,previewClass:a,boundaryElement:l,draggingDisabled:c,rootElementSelector:h,previewContainer:p}=t;this.disabled=c??!1,this.dragStartDelay=o||0,e&&(this.lockAxis=e),s&&(this.constrainPosition=s),a&&(this.previewClass=a),l&&(this.boundaryElement=l),h&&(this.rootElementSelector=h),p&&(this.previewContainer=p)}_setupHandlesListener(){this._handles.pipe((0,qt.M)(t=>{const e=t.map(o=>o.element);this._selfHandle&&this.rootElementSelector&&e.push(this.element),this._dragRef.withHandles(e)}),(0,Vt.n)(t=>(0,X.h)(...t.map(e=>e._stateChanges.pipe((0,dt.Z)(e))))),(0,q.Q)(this._destroyed)).subscribe(t=>{const e=this._dragRef,o=t.element.nativeElement;t.disabled?e.disableHandle(o):e.enableHandle(o)})}static \u0275fac=function(e){return new(e||r)};static \u0275dir=n.FsC({type:r,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,o){2&e&&n.AVh("cdk-drag-disabled",o.disabled)("cdk-drag-dragging",o._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",n.L39],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",n.Udg]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[n.Jv_([{provide:G,useExisting:r}]),n.GFd,n.OA$]})}return r})();const ot=new n.nKC("CdkDropListGroup");let At=(()=>{class r{element=(0,n.WQX)(n.aKT);_changeDetectorRef=(0,n.WQX)(n.gRc);_scrollDispatcher=(0,n.WQX)(Q.R);_dir=(0,n.WQX)(ht.D,{optional:!0});_group=(0,n.WQX)(ot,{optional:!0,skipSelf:!0});_latestSortedRefs;_destroyed=new g.B;_scrollableParentsResolved;static _dropLists=[];_dropListRef;connectedTo=[];data;orientation;id=(0,n.WQX)(Wt._).getId("cdk-drop-list-");lockAxis;get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=t}_disabled;sortingDisabled;enterPredicate=()=>!0;sortPredicate=()=>!0;autoScrollDisabled;autoScrollStep;elementContainerSelector;dropped=new n.bkB;entered=new n.bkB;exited=new n.bkB;sorted=new n.bkB;_unsortedItems=new Set;constructor(){const t=(0,n.WQX)(nt),e=(0,n.WQX)(Tt,{optional:!0});this._dropListRef=t.createDropList(this.element),this._dropListRef.data=this,e&&this._assignDefaults(e),this._dropListRef.enterPredicate=(o,s)=>this.enterPredicate(o.data,s.data),this._dropListRef.sortPredicate=(o,s,a)=>this.sortPredicate(o,s.data,a.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),r._dropLists.push(this),this._group&&this._group._items.add(this)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef(this.getSortedItems().map(e=>e._dragRef))}removeItem(t){if(this._unsortedItems.delete(t),this._latestSortedRefs){const e=this._latestSortedRefs.indexOf(t._dragRef);e>-1&&(this._latestSortedRefs.splice(e,1),this._syncItemsWithRef(this._latestSortedRefs))}}getSortedItems(){return Array.from(this._unsortedItems).sort((t,e)=>t._dragRef.getVisibleElement().compareDocumentPosition(e._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const t=r._dropLists.indexOf(this);t>-1&&r._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._latestSortedRefs=void 0,this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe((0,dt.Z)(this._dir.value),(0,q.Q)(this._destroyed)).subscribe(e=>t.withDirection(e)),t.beforeStarted.subscribe(()=>{const e=(0,Xt.c)(this.connectedTo).map(o=>"string"==typeof o?r._dropLists.find(a=>a.id===o):o);if(this._group&&this._group._items.forEach(o=>{-1===e.indexOf(o)&&e.push(o)}),!this._scrollableParentsResolved){const o=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(s=>s.getElementRef().nativeElement);this._dropListRef.withScrollableParents(o),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){const o=this.element.nativeElement.querySelector(this.elementContainerSelector);t.withElementContainer(o)}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=this.sortingDisabled,t.autoScrollDisabled=this.autoScrollDisabled,t.autoScrollStep=(0,O.c)(this.autoScrollStep,2),t.connectedTo(e.filter(o=>o&&o!==this).map(o=>o._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(this.getSortedItems().map(e=>e._dragRef)),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(e=>{this.entered.emit({container:this,item:e.item.data,currentIndex:e.currentIndex})}),t.exited.subscribe(e=>{this.exited.emit({container:this,item:e.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(e=>{this.sorted.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,container:this,item:e.item.data})}),t.dropped.subscribe(e=>{this.dropped.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,previousContainer:e.previousContainer.data,container:e.container.data,item:e.item.data,isPointerOverContainer:e.isPointerOverContainer,distance:e.distance,dropPoint:e.dropPoint,event:e.event}),this._changeDetectorRef.markForCheck()}),(0,X.h)(t.receivingStarted,t.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(t){const{lockAxis:e,draggingDisabled:o,sortingDisabled:s,listAutoScrollDisabled:a,listOrientation:l}=t;this.disabled=o??!1,this.sortingDisabled=s??!1,this.autoScrollDisabled=a??!1,this.orientation=l||"vertical",e&&(this.lockAxis=e)}_syncItemsWithRef(t){this._latestSortedRefs=t,this._dropListRef.withItems(t)}static \u0275fac=function(e){return new(e||r)};static \u0275dir=n.FsC({type:r,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,o){2&e&&(n.BMQ("id",o.id),n.AVh("cdk-drop-list-disabled",o.disabled)("cdk-drop-list-dragging",o._dropListRef.isDragging())("cdk-drop-list-receiving",o._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",n.L39],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",n.L39],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",n.L39],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[n.Jv_([{provide:ot,useValue:void 0},{provide:kt,useExisting:r}]),n.GFd]})}return r})(),ue=(()=>{class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=n.$C({type:r});static \u0275inj=n.G2t({providers:[nt],imports:[Q.Gj]})}return r})();var Lt=d(2525),_e=d(9293),fe=d(6375),me=d(9192),ve=d(8026),Pe=d(9252);const be=()=>[5,10,25,100],xe=()=>[];function De(r,i){if(1&r){const t=n.RV6();n.j41(0,"i",29),n.bIt("click",function(){n.eBV(t);const o=n.XpG();return n.Njj(o.rafraichirProduits())}),n.k0s()}}function Ce(r,i){1&r&&n.nrm(0,"i",30)}function we(r,i){if(1&r){const t=n.RV6();n.j41(0,"div",31)(1,"div",32),n.bIt("click",function(){n.eBV(t);const o=n.XpG();return n.Njj(o.downloadExcel())}),n.EFF(2,"T\xe9l\xe9charger en Excel"),n.k0s(),n.j41(3,"div",32),n.bIt("click",function(){n.eBV(t);const o=n.XpG();return n.Njj(o.downloadPDF())}),n.EFF(4,"T\xe9l\xe9charger en PDF"),n.k0s(),n.j41(5,"div",32),n.bIt("click",function(){n.eBV(t);const o=n.XpG();return n.Njj(o.downloadCSV())}),n.EFF(6,"T\xe9l\xe9charger en CSV"),n.k0s()()}}function Se(r,i){1&r&&n.nrm(0,"i",37)}function ye(r,i){1&r&&n.nrm(0,"div",38)}function Ee(r,i){if(1&r){const t=n.RV6();n.qex(0),n.j41(1,"div",34),n.bIt("click",function(){const o=n.eBV(t).$implicit,s=n.XpG(2);return n.Njj(o.actif?s.selectBoutique(o):s.showSuspendedBoutiqueDialog())}),n.j41(2,"p"),n.EFF(3),n.DNE(4,Se,1,0,"i",35),n.k0s()(),n.DNE(5,ye,1,0,"div",36),n.bVm()}if(2&r){const t=i.$implicit,e=i.index,o=n.XpG(2);n.R7$(),n.xc7("color",t.actif),n.AVh("name_boutique_active",t.id===(null==o.selectedBoutique?null:o.selectedBoutique.id)&&t.actif)("suspended-boutique",!t.actif),n.R7$(2),n.SpI(" ",t.nomBoutique," "),n.R7$(),n.Y8G("ngIf",!t.actif),n.R7$(),n.Y8G("ngIf",e!==o.boutiques.length-1)}}function Oe(r,i){if(1&r&&(n.qex(0),n.DNE(1,Ee,6,9,"ng-container",33),n.bVm()),2&r){const t=n.XpG();n.R7$(),n.Y8G("ngForOf",t.boutiques||n.lJ4(1,xe))}}function Ie(r,i){1&r&&(n.j41(0,"p",39),n.EFF(1,"Aucune boutique trouv\xe9e"),n.k0s())}function Re(r,i){1&r&&(n.qex(0),n.j41(1,"th"),n.EFF(2,"Boutique"),n.k0s(),n.bVm())}function Me(r,i){if(1&r){const t=n.RV6();n.j41(0,"div",47)(1,"div",48),n.bIt("click",function(o){return n.eBV(t),n.Njj(o.stopPropagation())}),n.nrm(2,"img",43),n.k0s()()}if(2&r){const t=n.XpG(2);n.R7$(2),n.Y8G("src",t.imagePopup,n.B4B)}}function Te(r,i){if(1&r&&(n.j41(0,"div",49),n.EFF(1),n.k0s()),2&r){const t=n.XpG().$implicit;n.R7$(),n.JRh(t.description||"Non description")}}function ke(r,i){if(1&r&&(n.j41(0,"td"),n.EFF(1),n.k0s()),2&r){const t=n.XpG().$implicit,e=n.XpG();n.R7$(),n.JRh(e.getBoutiqueNames(t.boutiques))}}function Be(r,i){if(1&r){const t=n.RV6();n.j41(0,"tr",40),n.bIt("click",function(){const o=n.eBV(t).$implicit,s=n.XpG();return n.Njj(s.openProduitDetail(o.id))}),n.nrm(1,"td",41),n.j41(2,"td")(3,"div",42),n.nrm(4,"img",43),n.k0s(),n.DNE(5,Me,3,1,"div",44),n.k0s(),n.nrm(6,"td",41),n.j41(7,"td",45),n.bIt("mouseover",function(){n.eBV(t);const o=n.XpG();return n.Njj(o.showDescription=!0)})("mouseout",function(){n.eBV(t);const o=n.XpG();return n.Njj(o.showDescription=!1)}),n.EFF(8),n.nI1(9,"slice"),n.DNE(10,Te,2,1,"div",46),n.k0s(),n.nrm(11,"td",41),n.j41(12,"td"),n.EFF(13),n.nI1(14,"customNumber"),n.k0s(),n.j41(15,"td"),n.EFF(16),n.nI1(17,"customNumber"),n.k0s(),n.j41(18,"td"),n.EFF(19),n.k0s(),n.j41(20,"td"),n.EFF(21),n.k0s(),n.qex(22),n.DNE(23,ke,2,1,"td",24),n.bVm(),n.k0s()}if(2&r){const t=i.$implicit,e=n.XpG();n.R7$(),n.Y8G("innerHTML",e.highlightMatch(t.codeGenerique||""),n.npT),n.R7$(3),n.Y8G("src",t.photo,n.B4B),n.R7$(),n.Y8G("ngIf",e.imagePopup),n.R7$(),n.Y8G("innerHTML",e.highlightMatch(t.nom),n.npT),n.R7$(2),n.SpI(" ",t.description?n.brH(9,12,t.description,0,20)+(t.description.length>20?"...":""):"Non description"," "),n.R7$(2),n.Y8G("ngIf",e.showDescription),n.R7$(),n.Y8G("innerHTML",e.highlightMatch(t.nomCategorie||"Non categorie"),n.npT),n.R7$(2),n.JRh(n.bMT(14,16,t.prixVente)),n.R7$(3),n.JRh(n.bMT(17,18,t.prixAchat)),n.R7$(3),n.JRh(t.nomUnite||"Non unit\xe9"),n.R7$(2),n.JRh(t.typeProduit||"type Produit"),n.R7$(2),n.Y8G("ngIf",!e.selectedBoutique)}}function Ae(r,i){1&r&&(n.j41(0,"tr")(1,"td",50),n.EFF(2,"Aucun produit trouv\xe9."),n.k0s()())}function Le(r,i){1&r&&(n.j41(0,"div",51)(1,"p",52),n.EFF(2,"Vous n'avez pas de produit"),n.k0s()())}let Ne=(()=>{class r{constructor(t,e,o,s,a,l){this.categorieService=t,this.produitService=e,this.fb=o,this.router=s,this.usersService=a,this.dialog=l,this.backendUrl=Lt.c.apiBaseUrl,this.searchText="",this.tasks=[],this.imagePopup=null,this.nomEntreprise="",this.adresseEntreprise="",this.logoEntreprise="",this.userName="",this.boutiqueName="",this.addressBoutique="",this.showDescription=!1,this.selectedBoutique=null,this.previousSelectedBoutique=null,this.boutiqueActuelle="Toutes les boutiques",this.boutiques=[],this.apiUrl=Lt.c.imgUrl,this.isLoading=!1,this.dataSource=new u.I6,this.pageSize=5,this.currentPage=0,this.showExportDropdown=!1,this.urllink="assets/img/appareil.jpg",this.newPhotoUrl=null,this.selectedFile=null,this.entrepriseId=null}ngOnInit(){this.getUserInfo()}goToAddProduit(){this.router.navigate(["/addProduit"])}highlightMatch(t){if(!this.searchText)return t;const e=new RegExp(`(${this.searchText})`,"gi");return t.replace(e,"<mark>$1</mark>")}filteredProducts(){const e=[...this.tasks].sort((s,a)=>{const l=new Date(s.createdAt||new Date).getTime();return new Date(a.createdAt||new Date).getTime()-l}).filter(s=>s.nom&&s.nom.toLowerCase().includes(this.searchText.toLowerCase())||s.codeGenerique&&s.codeGenerique.toLowerCase().includes(this.searchText.toLowerCase())||s.codeBare&&s.codeBare.toLowerCase().includes(this.searchText.toLowerCase())),o=this.currentPage*this.pageSize;return e.slice(o,o+this.pageSize)}toggleExportDropdown(){this.showExportDropdown=!this.showExportDropdown}onClickOutside(t){t.target.closest(".export-container")||(this.showExportDropdown=!1)}getImageBase64(t){return new Promise((e,o)=>{const s=new XMLHttpRequest;s.onload=function(){const a=new FileReader;a.onloadend=function(){e(a.result)},a.readAsDataURL(s.response)},s.onerror=function(){o(new Error("Erreur lors du chargement de l'image"))},s.open("GET",t),s.responseType="blob",s.send()})}downloadExcel(){const t=y.Wp.json_to_sheet(this.tasks),e=y.Wp.book_new();y.Wp.book_append_sheet(e,t,"Produits"),y._h(e,"Produits.xlsx")}downloadPDF(){if(!this.tasks||0===this.tasks.length)return void console.error("Aucun produit \xe0 afficher dans le PDF !");const t=new I.default,o=this.nomEntreprise||"Nom non disponible";this.getImageBase64(this.logoEntreprise?`${this.apiUrl}${this.logoEntreprise}`:`${this.apiUrl}/logoUpload/651.jpg`).then(s=>{const a=s.startsWith("data:image/png")?"PNG":"JPEG";t.addImage(s,a,14,5,30,30),t.setFontSize(18),t.setFont("helvetica","bold"),t.text(`Nom de l'entreprise: ${o}`,60,20),t.text("Liste des produits",60,30),t.setLineWidth(.5),t.line(14,35,195,35);const c=this.currentPage*this.pageSize,h=this.tasks.slice(c,c+this.pageSize);if(!Array.isArray(h)||0===h.length)return void console.error("Aucun produit trouv\xe9 sur cette page !");const p=h.map(f=>[f.codeGenerique||"",f.nom||"",f.description||"",f.nomCategorie?`${f.nomCategorie}`:"Non cat\xe9gorie",f.prixVente??0,f.prixAchat??0,f.quantite??0,f.nomUnite?`${f.nomUnite}`:"Non Unit\xe9",f.seuilAlert??0]);x()(t,{head:[["Code","Nom produit","Description","Cat\xe9gorie","Prix vente","Prix achat","En Stock","Unite","Seuil Alert"]],body:p,startY:40,theme:"grid",headStyles:{fillColor:[64,153,255],textColor:[255,255,255],fontSize:12},bodyStyles:{fontSize:10}});const P=t.lastAutoTable?.finalY||60;t.setLineWidth(.5),t.line(14,P+5,195,P+5),t.setFontSize(10),t.setFont("helvetica","italic"),t.text(`Nom de Boutique: ${this.boutiqueName}`,14,P+10),t.text(`Adress: ${this.addressBoutique}`,14,P+15),t.save("Produits.pdf")}).catch(s=>{console.error("Erreur lors du chargement du logo :",s)})}downloadCSV(){const e=this.tasks.map(l=>[l.codeGenerique||"",l.photo,l.nom,l.nomCategorie||"",l.description,l.prixVente,l.prixAchat,l.quantite,l.nomUnite||"",l.seuilAlert,l.createdAt]),o=[["Code","Photo","Nom produit","Cat\xe9gorie","Description","Prix Vente","Prix Achat","Quantit\xe9","Unit\xe9","Seuil Alerte","Date & heure"].join(","),...e.map(l=>l.join(","))].join("\n"),s=new Blob([o],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(s),a.download="Produits.csv",a.click()}onPageChange(t){this.currentPage=t.pageIndex,this.pageSize=t.pageSize}onFileSelected(t){const e=t.target;if(e.files&&e.files.length>0){this.selectedFile=e.files[0];const o=new FileReader;o.onload=s=>{this.newPhotoUrl=s.target?.result},o.readAsDataURL(this.selectedFile)}}getUserBoutiqueId(){const t=JSON.parse(localStorage.getItem("user")||"{}");return t&&t.boutiques&&t.boutiques.length>0?t.boutiques[0]?.id||null:(console.error("Aucune boutique trouv\xe9e pour cet utilisateur"),null)}getUserInfo(){this.usersService.getUserInfo().subscribe({next:t=>{console.log("Donn\xe9es re\xe7ues:",t),localStorage.setItem("user",JSON.stringify(t)),this.userName=t.nomComplet,this.nomEntreprise=t.nomEntreprise,this.boutiques=t.boutiques??[],this.entrepriseId=t.entrepriseId,this.entrepriseId?(this.boutiques.length>0&&(this.selectedBoutique=this.boutiques[0],this.loadProduits(this.selectedBoutique.id)),this.addressBoutique=this.selectedBoutique?.adresse||"Adresse non trouv\xe9e"):console.error("Aucun ID entreprise trouv\xe9 !")},error:t=>{this.boutiques=[],console.error("Erreur lors de la r\xe9cup\xe9ration des informations utilisateur :",t)}})}selectBoutique(t){!t||t.actif?(this.previousSelectedBoutique=this.selectedBoutique,null===t?(this.selectedBoutique=t,this.boutiqueActuelle="Toutes les boutiques",this.loadAllProduits()):(console.log("Boutique s\xe9lectionn\xe9e:",t),this.selectedBoutique=t,this.boutiqueActuelle=t.nomBoutique?t.nomBoutique:"Boutique sans nom",this.loadProduits(t.id)),this.currentPage=0,console.log("Boutique actuelle:",this.boutiqueActuelle)):this.showSuspendedBoutiqueDialog()}loadAllProduits(){this.entrepriseId?this.produitService.getProduitsByEntrepriseId(this.entrepriseId).subscribe({next:t=>{this.tasks=t.map(e=>{const o=e.photo&&"null"!==e.photo&&"undefined"!==e.photo?`${this.backendUrl}${e.photo}`:"";return{...e,photo:o,createdAt:this.formatDate(e.createdAt?.toString()||"")}}).sort((e,o)=>{const s=new Date(e.createdAt??(new Date).toISOString()).getTime();return new Date(o.createdAt??(new Date).toISOString()).getTime()-s}),this.dataSource.data=this.tasks,this.paginator&&(this.dataSource.paginator=this.paginator)},error:t=>console.error("Erreur :",t)}):console.error("ID entreprise manquant")}loadProduits(t){t?this.produitService.getProduitsEntreprise(t).subscribe({next:e=>{console.log("Produits re\xe7us :",e),this.tasks=e.map(o=>{const l=`${this.apiUrl.endsWith("/")?this.apiUrl.slice(0,-1):this.apiUrl}${o.photo?encodeURI(o.photo):"/imageanonyme"}`;console.log(this.tasks.map(h=>h.photo));let c="";if(o.createdAt)if(o.createdAt.includes("\xe0")){const[h,p]=o.createdAt.split(" \xe0 ")}else c=new Date(o.createdAt).toISOString();return{id:o.id,codeGenerique:o.codeGenerique||"",codeBare:o.codeBare||"",nom:o.nom||"Nom inconnu",description:o.description||"",prixVente:o.prixVente||0,prixAchat:o.prixAchat||0,quantite:o.quantite||0,seuilAlert:o.seuilAlert||0,enStock:o.enStock||!1,photo:l,nomCategorie:o.nomCategorie||"",nomUnite:o.nomUnite||"",createdAt:c,categorieId:o.categorieId||0,uniteId:o.uniteId||0,typeProduit:o.typeProduit||"Non d\xe9fini",boutiques:o.boutiques||[]}}).sort((o,s)=>{const a=new Date(o.createdAt??(new Date).toISOString()).getTime();return new Date(s.createdAt??(new Date).toISOString()).getTime()-a}),this.dataSource.data=this.tasks,this.paginator&&(this.dataSource.paginator=this.paginator),this.isLoading=!1},error:e=>{if(this.isLoading=!1,"BOUTIQUE_DESACTIVEE"===e.message)return this.showSuspendedBoutiqueDialog(),void(this.selectedBoutique=this.previousSelectedBoutique);console.error("Erreur :",e)}}):console.error("L'ID de la boutique est manquant")}rafraichirProduits(){if(!this.selectedBoutique?.id)return;this.isLoading=!0;const t=Date.now();this.produitService.getProduitsEntreprise(this.selectedBoutique.id).subscribe({next:e=>{const o=Date.now()-t,s=Math.max(500-o,0);setTimeout(()=>{this.tasks=e.map(a=>{const l=a.photo&&"null"!==a.photo&&"undefined"!==a.photo?`${this.apiUrl}${a.photo}`:"";let c="";if(a.createdAt)if(a.createdAt.includes("\xe0")){const[h,p]=a.createdAt.split(" \xe0 ")}else c=new Date(a.createdAt).toISOString();return{id:a.id,codeGenerique:a.codeGenerique||"",codeBare:a.codeBare||"",nom:a.nom||"Nom inconnu",description:a.description||"",prixVente:a.prixVente||0,prixAchat:a.prixAchat||0,quantite:a.quantite||0,seuilAlert:a.seuilAlert||0,enStock:a.enStock||!1,photo:l,nomCategorie:a.nomCategorie||"",nomUnite:a.nomUnite||"",createdAt:c,categorieId:a.categorieId||0,uniteId:a.uniteId||0,typeProduit:a.typeProduit||"Non d\xe9fini",boutiques:a.boutiques||[]}}).sort((a,l)=>{const c=new Date(a.createdAt??(new Date).toISOString()).getTime();return new Date(l.createdAt??(new Date).toISOString()).getTime()-c}),this.dataSource.data=this.tasks,this.paginator&&(this.dataSource.paginator=this.paginator),this.isLoading=!1},s)},error:e=>{this.isLoading=!1,"BOUTIQUE_DESACTIVEE"===e.message?(this.showSuspendedBoutiqueDialog(),this.selectedBoutique=this.previousSelectedBoutique):console.error("Erreur :",e)}})}showSuspendedBoutiqueDialog(){this.dialog.open(N.F,{width:"400px",disableClose:!0,data:{onClose:()=>{this.selectedBoutique=this.previousSelectedBoutique}}})}formatDate(t){try{const[e,o]=t.split(" \xe0 "),[s,a,l]=e.split("-"),[c,h]=o.split(":");return new Date(parseInt(l),parseInt(a)-1,parseInt(s),parseInt(c),parseInt(h)).toISOString()}catch{return(new Date).toISOString()}}openProduitDetail(t){const e=this.selectedBoutique?.id;this.router.navigate(["/detail-produit",t],{queryParams:{boutiqueId:e}})}getImageUrl(t){if(t.photo&&""!==t.photo.trim())return t.photo;{const e=t.nom?t.nom.trim().charAt(0):"P";return this.generateInitialImage(e)}}generateInitialImage(t){const e=`\n      <svg xmlns="http://www.w3.org/2000/svg" width="200" height="200">\n        <rect width="100%" height="100%" fill="#0671e4ac"/>\n        <text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" font-size="100" fill="#fff">\n          ${t.toUpperCase()}\n        </text> \n      </svg>\n    `;return"data:image/svg+xml;base64,"+btoa(e)}getBoutiqueNames(t){return t&&0!==t.length?t.length>2?`${t.slice(0,2).map(s=>s.nom).join(", ")}, ...`:t.map(o=>o.nom).join(", "):"Aucune boutique"}onDrop(t){const e=this.boutiques.findIndex(s=>s===t.item.data);tt(this.boutiques,e,t.currentIndex)}static{this.\u0275fac=function(e){return new(e||r)(n.rXU(_e.R),n.rXU(fe.D),n.rXU(S.ok),n.rXU(me.Ix),n.rXU(ve.g),n.rXU(Pe.j))}}static{this.\u0275cmp=n.VBU({type:r,selectors:[["app-produits"]],viewQuery:function(e,o){if(1&e&&n.GBs(_.iy,5),2&e){let s;n.mGM(s=n.lsd())&&(o.paginator=s.first)}},hostBindings:function(e,o){1&e&&n.bIt("click",function(a){return o.onClickOutside(a)},!1,n.EBC)},decls:55,vars:17,consts:[["noBoutiques",""],[1,"containerTable"],[1,"tasks-header"],[1,"title"],[1,"actions"],[1,"add-task",3,"click"],[1,"contentIcon"],["class","ri-refresh-line",3,"click",4,"ngIf"],["class","ri-loader-line ri-spin",4,"ngIf"],[1,"bare"],[1,"export-container"],[1,"iconDrop"],[1,"ri-printer-cloud-line",3,"click"],["class","export-dropdown",4,"ngIf"],[1,"inputSearch"],[1,"ri-search-2-line"],["type","text","placeholder","Recherche....",3,"ngModelChange","ngModel"],["cdkDropList","","cdkDropListAutoScroll","",1,"container_list_boutique",3,"cdkDropListDropped","cdkDropListData"],[1,"content_list_boutique"],[1,"name_boutique"],[1,"all_boutique",3,"click"],[1,"all_boutique"],[4,"ngIf","ngIfElse"],[1,"titleTableProduit"],[4,"ngIf"],["style","font-size: 10px;",3,"click",4,"ngFor","ngForOf"],["style","text-align: center; margin-top: 20px;",4,"ngIf"],[1,"pagination"],[3,"page","length","pageSize","pageSizeOptions"],[1,"ri-refresh-line",3,"click"],[1,"ri-loader-line","ri-spin"],[1,"export-dropdown"],[1,"export-option",3,"click"],[4,"ngFor","ngForOf"],["cdkDrag","",1,"draggable-item",3,"click"],["class","ri-error-warning-line warning-icon",4,"ngIf"],["class","barre",4,"ngIf"],[1,"ri-error-warning-line","warning-icon"],[1,"barre"],[1,"no-boutiques-message"],[2,"font-size","10px",3,"click"],[3,"innerHTML"],[1,"imgProduit"],["alt","Produit",3,"src"],["class","modal",4,"ngIf"],[1,"description-cell",3,"mouseover","mouseout"],["class","description-hover",4,"ngIf"],[1,"modal"],[1,"modal-content",3,"click"],[1,"description-hover"],["colspan","10",2,"text-align","center"],[2,"text-align","center","margin-top","20px"],[2,"color","red"]],template:function(e,o){if(1&e){const s=n.RV6();n.j41(0,"div",1)(1,"div",2)(2,"h1",3),n.EFF(3,"Produits"),n.k0s(),n.j41(4,"div",4)(5,"button",5),n.bIt("click",function(){return n.eBV(s),n.Njj(o.goToAddProduit())}),n.EFF(6,"Ajouter un produit"),n.k0s(),n.j41(7,"div",6),n.DNE(8,De,1,0,"i",7)(9,Ce,1,0,"i",8),n.nrm(10,"div",9),n.j41(11,"div",10)(12,"div",11)(13,"i",12),n.bIt("click",function(){return n.eBV(s),n.Njj(o.toggleExportDropdown())}),n.k0s()(),n.DNE(14,we,7,0,"div",13),n.k0s()(),n.j41(15,"div",14),n.nrm(16,"i",15),n.j41(17,"input",16),n.mxI("ngModelChange",function(l){return n.eBV(s),n.DH7(o.searchText,l)||(o.searchText=l),n.Njj(l)}),n.k0s()()()(),n.j41(18,"div",17),n.bIt("cdkDropListDropped",function(l){return n.eBV(s),n.Njj(o.onDrop(l))}),n.j41(19,"div",18)(20,"div",19)(21,"div",20),n.bIt("click",function(){return n.eBV(s),n.Njj(o.selectBoutique(null))}),n.j41(22,"p",21),n.EFF(23,"Toutes les boutiques"),n.k0s()(),n.DNE(24,Oe,2,2,"ng-container",22)(25,Ie,2,0,"ng-template",null,0,n.C5r),n.k0s()()(),n.j41(27,"table")(28,"thead")(29,"tr",23)(30,"th"),n.EFF(31,"Code"),n.k0s(),n.j41(32,"th"),n.EFF(33,"Photo"),n.k0s(),n.j41(34,"th"),n.EFF(35,"Nom produit"),n.k0s(),n.j41(36,"th"),n.EFF(37,"Description"),n.k0s(),n.j41(38,"th"),n.EFF(39,"Cat\xe9gorie"),n.k0s(),n.j41(40,"th"),n.EFF(41,"Prix Vente"),n.k0s(),n.j41(42,"th"),n.EFF(43,"Co\xfbt du produit"),n.k0s(),n.j41(44,"th"),n.EFF(45,"Unit\xe9"),n.k0s(),n.j41(46,"th"),n.EFF(47,"Type"),n.k0s(),n.DNE(48,Re,3,0,"ng-container",24),n.k0s()(),n.j41(49,"tbody"),n.DNE(50,Be,24,20,"tr",25)(51,Ae,3,0,"tr",24),n.k0s()(),n.DNE(52,Le,3,0,"div",26),n.j41(53,"div",27)(54,"mat-paginator",28),n.bIt("page",function(l){return n.eBV(s),n.Njj(o.onPageChange(l))}),n.k0s()()()}if(2&e){const s=n.sdS(26);n.R7$(8),n.Y8G("ngIf",!o.isLoading),n.R7$(),n.Y8G("ngIf",o.isLoading),n.R7$(5),n.Y8G("ngIf",o.showExportDropdown),n.R7$(3),n.R50("ngModel",o.searchText),n.R7$(),n.Y8G("cdkDropListData",o.boutiques),n.R7$(3),n.AVh("name_boutique_active",null===o.selectedBoutique),n.R7$(3),n.Y8G("ngIf",((null==o.boutiques?null:o.boutiques.length)||0)>0)("ngIfElse",s),n.R7$(24),n.Y8G("ngIf",!o.selectedBoutique),n.R7$(2),n.Y8G("ngForOf",o.filteredProducts()),n.R7$(),n.Y8G("ngIf",o.tasks.length>0&&0===o.filteredProducts().length),n.R7$(),n.Y8G("ngIf",0===o.tasks.length),n.R7$(2),n.Y8G("length",o.tasks.length)("pageSize",o.pageSize)("pageSizeOptions",n.lJ4(16,be))}},dependencies:[m.MD,m.Sq,m.bT,m.P9,S.X1,S.me,S.BC,S.YN,S.vS,A.M,L.M,E.jL,R.fS,_.Ou,_.iy,D.v,ue,At,Bt],styles:['@charset "UTF-8";table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.title[_ngcontent-%COMP%]{font-size:18px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border-bottom:1px solid rgba(221,221,221,.5803921569);padding:8px}th[_ngcontent-%COMP%]{background-color:#f2f2f2}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f9f9f9}tr[_ngcontent-%COMP%]:hover{background-color:#ddd}.containerTable[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:10px}.tasks-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:20px}.actions[_ngcontent-%COMP%]{display:flex;align-items:center}.actions[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#000}.add-task[_ngcontent-%COMP%]{padding:10px 30px;background-color:#0672e4;color:#fff;border-radius:5px;border:none}.contentIcon[_ngcontent-%COMP%]{margin:0 10px;display:flex;align-items:center}.contentIcon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding:0 15px;font-size:20px;cursor:pointer}.contentIcon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:#0672e4;transition:all .5s ease}.bare[_ngcontent-%COMP%]{width:2px;height:30px;background-color:#eee}.inputSearch[_ngcontent-%COMP%]{position:relative;width:250px;height:40px;display:flex;align-items:center}.inputSearch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:100%;padding-left:10px;border-radius:5px}.inputSearch[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:15px;font-size:17px}.export-container[_ngcontent-%COMP%]{position:relative;display:inline-block}.export-dropdown[_ngcontent-%COMP%]{position:absolute;background-color:#f9f9f9;min-width:180px;box-shadow:0 8px 16px #00000063;z-index:1;top:100%;left:0;border-radius:5px}.export-dropdown[_ngcontent-%COMP%]   .export-option[_ngcontent-%COMP%]{padding:12px 16px;cursor:pointer}.export-dropdown[_ngcontent-%COMP%]   .export-option[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.iconDrop[_ngcontent-%COMP%]{display:flex;align-items:center}.iconMontreArrow[_ngcontent-%COMP%]{margin-left:-30px}.iconMontreArrow[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px}.imgProduit[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;overflow:hidden;display:flex;align-items:center;justify-content:center;background-color:#f5f5f5;box-shadow:0 4px 6px #0000001a;cursor:pointer}.imgProduit[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80%;height:80%;object-fit:cover;border-radius:50%;transition:transform .2s}.imgProduit[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:10px;max-width:80%;max-height:80%;display:flex;justify-content:center}.modal-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:80vh;border-radius:10px}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;width:100%;max-width:600px;border-radius:8px;box-shadow:0 2px 10px #0003;overflow:hidden}.modal-header[_ngcontent-%COMP%]{padding:16px;background-color:#f1f1f1;display:flex;justify-content:space-between;align-items:center;margin:0}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:18px}.modal-close[_ngcontent-%COMP%]{cursor:pointer;font-size:24px}.modal-body[_ngcontent-%COMP%]{padding:16px;overflow:auto;width:100%;height:100%}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#e9d52132;border-radius:10px}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#0671e43e;border-radius:10px}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#0465cd56}.modal-footer[_ngcontent-%COMP%]{padding:16px;display:flex;margin-top:10px}.champ_input[_ngcontent-%COMP%]{position:relative;margin-bottom:10px}.formulaire[_ngcontent-%COMP%]{position:relative}.inpuemail[_ngcontent-%COMP%]{margin-top:20px}.input_focus[_ngcontent-%COMP%]{width:100%;min-width:250px;height:49px;outline:none;border-bottom:1px solid rgb(53,50,50);border-top:none;border-left:none;border-right:none;margin:10px 0;transition:all .3s;font-size:18px;background:none;color:#695c5c}.add_category[_ngcontent-%COMP%]{border:none;margin-top:5px;cursor:pointer}.champ_input[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{position:absolute;top:22px;left:4px;pointer-events:none}.input_focus[_ngcontent-%COMP%]:hover{border-bottom:1px solid #0672E4;border-top:none;border-left:none;border-right:none}.input_focus[_ngcontent-%COMP%]:not(:placeholder-shown) + .label[_ngcontent-%COMP%], .input_focus[_ngcontent-%COMP%]:focus + .label[_ngcontent-%COMP%]{color:#0672e4;top:-6px;left:0;transition:all .3s ease-in-out;background:none;font-size:14px;padding:0}.input_focus[_ngcontent-%COMP%]::placeholder{opacity:0}.input_focus[_ngcontent-%COMP%]:focus::placeholder{opacity:1;animation-delay:1s;font-size:15px;transition:all .2s ease-in-out}.double_input[_ngcontent-%COMP%]{display:flex;align-items:center}.input_focus2[_ngcontent-%COMP%]{width:100%;min-width:250px;height:60px;outline:none;border-top:none;border-left:none;border-right:none;margin-top:10px;transition:all .3s;font-size:18px;background-color:#dcdcdc4c;color:#777474;resize:none;border-radius:5px;padding-top:10px;border-bottom:1px solid rgb(53,50,50)}.input_focus2[_ngcontent-%COMP%]:hover{border-bottom:1px solid #0672E4;border-top:none;border-left:none;border-right:none}.champ_input2[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{position:absolute;top:0;left:15px;pointer-events:none;color:#423838}.input_focus2[_ngcontent-%COMP%]:not(:placeholder-shown) + .label[_ngcontent-%COMP%], .input_focus2[_ngcontent-%COMP%]:focus + .label[_ngcontent-%COMP%]{color:#0672e4;top:-10px;left:0;transition:all .3s ease-in-out;background:none;font-size:14px;padding:0}.input_focus2[_ngcontent-%COMP%]::placeholder{opacity:0}.input_focus2[_ngcontent-%COMP%]:focus::placeholder{opacity:1;animation-delay:1s;font-size:15px;transition:all .2s ease-in-out}.champ_input_margin[_ngcontent-%COMP%]{margin-left:50px}.input_file[_ngcontent-%COMP%]{display:inline-block;width:300px;margin-top:10px}.custom-file-label[_ngcontent-%COMP%]{display:flex;align-items:center;border:1px solid #ccc;border-radius:5px;overflow:hidden;width:100%;cursor:pointer}.custom-file-button[_ngcontent-%COMP%]{background-color:#0672e4;color:#fff;padding:8px 12px;font-size:14px;border:none;outline:none;cursor:pointer}.custom-file-text[_ngcontent-%COMP%]{flex:1;padding:8px;font-size:14px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:#555}.btn-save[_ngcontent-%COMP%]{padding:8px 20px;margin-right:10px;background-color:#0672e4;color:#fff;border:none;border-radius:5px}.btn-cancel[_ngcontent-%COMP%]{padding:8px 20px;margin-right:10px;background-color:#ff0000b3;color:#fff;border:none;border-radius:5px}.btn-save[_ngcontent-%COMP%]:hover{background-color:#0465cd;transition:all .5s}.btn-cancel[_ngcontent-%COMP%]:hover{background-color:red;transition:all .5s}.iconArrow[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;right:10px;top:20px}.iconArrow[_ngcontent-%COMP%]{font-size:20px}.pagination[_ngcontent-%COMP%]{justify-content:right;margin-top:20px}mat-paginator[_ngcontent-%COMP%]{background-color:#dcdcdc51;border-radius:5px}.error-message[_ngcontent-%COMP%]{font-size:12px;color:red;font-weight:700;margin-top:-6px}.error-message2[_ngcontent-%COMP%]{font-size:13px;color:red;font-weight:700;margin-top:7px}.btn_add_categoryDiv[_ngcontent-%COMP%]{margin:10px 0;justify-content:center}.btn_add_categoryDiv2[_ngcontent-%COMP%]{margin:10px 0;justify-content:center;position:absolute;right:10px;top:10px}.double_input2[_ngcontent-%COMP%]{position:relative}.martopBottom[_ngcontent-%COMP%]{height:90px}.btn_add_category[_ngcontent-%COMP%]{border:none;padding-left:15px}.btn_add_category2[_ngcontent-%COMP%]{border:none;border-radius:2px}.btn_add_category[_ngcontent-%COMP%]:hover{background-color:#f2efef;transition:all .5s}.messageCate[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:red}.modal-overlay2[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0009;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content2[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:10px;text-align:center;width:90%;max-width:400px;box-shadow:0 5px 15px #0000004d;animation:_ngcontent-%COMP%_fadeInDown .3s ease;position:relative}.popup-header2[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-bottom:20px}.popup-img2[_ngcontent-%COMP%]{width:80px;height:85px;margin-bottom:10px}.popup-icon2[_ngcontent-%COMP%]{width:100%;height:100%;margin-bottom:10px}.modal-content2[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5em;color:#333}.modal-content2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;color:#555;margin:20px 0}.modal-content2[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#0672e4;color:#fff;border:none;padding:10px 20px;font-size:1em;border-radius:5px;cursor:pointer;transition:background .3s ease}.modal-content2.error[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#e53935}.modal-content2[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0863c5}.modal-content2.error[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#d32f2f}@keyframes _ngcontent-%COMP%_fadeInDown{0%{opacity:0;transform:translateY(-30px)}to{opacity:1;transform:translateY(0)}}.modal-overlay-category[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0009;z-index:1000;display:flex;justify-content:center;align-items:center}.modal-content-category[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:10px;text-align:center;width:90%;max-width:400px;box-shadow:0 5px 15px #0000004d;animation:_ngcontent-%COMP%_fadeInDown .3s ease;position:relative}.modal-header-category[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-bottom:20px}.modal-content-category[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5em;color:#333}.img_input[_ngcontent-%COMP%]{display:flex;align-items:center}.roudel_img[_ngcontent-%COMP%]{margin-left:20px;width:50px;height:50px;border-radius:4px;overflow:hidden;display:flex;align-items:center;justify-content:center;background-color:#f5f5f5;box-shadow:0 4px 6px #0000001a;cursor:pointer;position:relative;top:4px}img.roudel[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:2px;transition:transform .2s}.tableProduit[_ngcontent-%COMP%]{cursor:pointer}.titleTableProduit[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:12px}.tableProduit[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:11px}.input_focus_taille[_ngcontent-%COMP%]{font-size:14px;cursor:pointer;color:#0672e4}.img_input_detail[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:30px}.roudel_img_detail[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:4px;overflow:hidden;display:flex;align-items:center;justify-content:center;background-color:#f5f5f5;box-shadow:0 4px 6px #0000001a;cursor:pointer;position:relative;top:4px}img.roudel_detail[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:2px;transition:transform .2s}.input_focus_detail[_ngcontent-%COMP%]:not(:placeholder-shown) + .label[_ngcontent-%COMP%], .input_focus_detail[_ngcontent-%COMP%]:focus + .label[_ngcontent-%COMP%]{color:#000}.title_produit_detail[_ngcontent-%COMP%]{display:flex;align-items:center}.iconEdit[_ngcontent-%COMP%]{margin-left:30px}.iconEdit[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px;color:#0672e4}.input-non-editing[_ngcontent-%COMP%]{cursor:no-drop}.input-editing[_ngcontent-%COMP%]{cursor:text}.container_file[_ngcontent-%COMP%]{width:150px;border-radius:10px;box-shadow:4px 4px 30px #0003;display:flex;flex-direction:column;align-items:center;justify-content:space-between;padding:10px;gap:5px;background-color:#006eff0a;margin-bottom:10px}.header_file[_ngcontent-%COMP%]{height:140px;width:140px;border:1px dashed rgba(6,113,228,.6156862745);border-radius:10px;flex-direction:column;overflow:hidden;display:flex;align-items:center;justify-content:center;box-shadow:#959da533 0 8px 24px}.header_file[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:cover;transition:transform .2s}.header_file[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:100px}.header_file[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;color:#000}.footer_file[_ngcontent-%COMP%]{background-color:#006eff13;width:140px;height:35px;padding:5px 8px;border-radius:5px;cursor:pointer;display:flex;align-items:center;color:#000;border:none;margin-top:3px}.footer_file[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0!important;font-size:10px}.footer_file[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px;margin-right:7px}#file[_ngcontent-%COMP%]{display:none}.header_file[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.btn_save_edit[_ngcontent-%COMP%]{position:absolute;right:10px}.btn_save_edit[_ngcontent-%COMP%]   .save_edit[_ngcontent-%COMP%]{padding:5px 10px;border:none;background-color:#0672e4;color:#fff;border-radius:5px;margin-right:15px}.btn_save_edit[_ngcontent-%COMP%]   .annule_edit[_ngcontent-%COMP%]{padding:5px 10px;border:none;background-color:#ff0000b6;color:#fff;border-radius:5px}.btn_save_edit[_ngcontent-%COMP%]   .save_edit[_ngcontent-%COMP%]:hover{background-color:#0465cd;transition:all .5s}.btn_save_edit[_ngcontent-%COMP%]   .annule_edit[_ngcontent-%COMP%]:hover{background-color:red;transition:all .5s}.inputSize[_ngcontent-%COMP%]{font-size:15px;color:#0672e4}.labelColor[_ngcontent-%COMP%]{color:#000!important}.updateDate[_ngcontent-%COMP%]{float:right}.description-cell[_ngcontent-%COMP%]{position:relative;cursor:pointer}.description-hover[_ngcontent-%COMP%]{display:none;position:absolute;top:100%;left:50%;transform:translate(-50%);background-color:#333;color:#fff;padding:10px;border-radius:5px;font-size:12px;width:200px;z-index:10}.description-cell[_ngcontent-%COMP%]:hover   .description-hover[_ngcontent-%COMP%]{display:block}.container_list_boutique[_ngcontent-%COMP%]{scrollbar-width:auto;overflow:auto;scrollbar-color:#888 #f1f1f1;scrollbar-width:thin}.container_list_boutique[_ngcontent-%COMP%]::-webkit-scrollbar{width:2px;height:3px}.container_list_boutique[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.container_list_boutique[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#00f;border-radius:4px}.container_list_boutique[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:red}.name_boutique[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;cursor:pointer;margin:30px 0 10px}.name_boutique[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:5px 15px}.name_boutique_active[_ngcontent-%COMP%]{background-color:#e9d421;border-radius:5px;color:#000}.barre[_ngcontent-%COMP%]{height:25px;width:1px;background-color:#0000003f;margin:8px 0}.name_boutique[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{cursor:pointer;padding:8px 16px;margin:4px 0;transition:all .3s ease;font-weight:500;border-radius:4px}.name_boutique[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:hover{background-color:#0000000d;transform:translateY(-1px)}.name_boutique[_ngcontent-%COMP%]   p.name_boutique_active[_ngcontent-%COMP%]{background-color:#e9d421;color:#000!important}.name_boutique[_ngcontent-%COMP%]   .no-boutiques-message[_ngcontent-%COMP%]{color:#666;font-style:italic;padding:10px;text-align:center}.warning-icon[_ngcontent-%COMP%]{margin-left:8px;color:red;font-size:14px}.container_list_boutique[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto;scroll-behavior:smooth}.cdk-drag-preview[_ngcontent-%COMP%]{background:#e4cb0d;border-radius:5px;text-align:center;display:flex;align-items:center;justify-content:center;min-height:40px;padding:10px;font-weight:700}']})}}return r})()}}]);