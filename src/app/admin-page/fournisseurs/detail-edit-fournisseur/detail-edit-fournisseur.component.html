<div class="container_global">
    <div *ngIf="isLoading" class="loading-overlay">
      <div class="loading-content">
        <div class="spinner"></div>
        <p>Creation en cours...</p>
      </div>
    </div>
  
      <div class="content_formulaire">
        <div class="modal-body">
          <form [formGroup]="fournisseurEditForm" class="container_formulaire">
            <!-- Titre d'ajout de produits -->
            <div class="Title">
              <h3>Detail de fournisseur</h3>
            </div>
    
            <div class="form_left_right">
              <div class="formulaire">
                <!-- Cadre contenant le select et la description -->
                <div class="information_cadre">
                  <div class="info_titre_input">
                    <!-- Nom et prenom -->
                    <div class="champ_grid">
                        <div class="champ_input div1">
                            <input type="text" class="input_focus"
                                      id="nomComplet" formControlName="nomComplet"
                                      name="nomComplet"
                                      placeholder="Saisis le nom et prénom">
                            <label for="nomComplet" class="label">Nom et prénom</label>
                            <div *ngIf="fournisseurEditForm.get('nomComplet')?.touched && fournisseurEditForm.get('nomComplet')?.invalid" class="error">
                              <small *ngIf="fournisseurEditForm.get('nomComplet')?.errors?.['required']">Champ requis.</small>
                              <small *ngIf="fournisseurEditForm.get('nomComplet')?.errors?.['minlength']">Au moins 2 caractères.</small>
                            </div>
                        </div>
                        <!-- Email -->
                          <div class="champ_input div2">
                              <input type="email" class="input_focus"
                                      id="email" formControlName="email"
                                      name="email"
                                      placeholder="Saisis l'email">
                              <label for="email" class="label">Email</label>
                              <div *ngIf="fournisseurEditForm.get('email')?.touched && fournisseurEditForm.get('email')?.invalid" class="error">
                              <small *ngIf="fournisseurEditForm.get('email')?.errors?.['email']">Format invalide.</small>
                              </div>
                        </div>
                    </div>

                    <div class="champ_grid">
                        <!-- Adresse -->
                        <div class="champ_input">
                            <input class="input_focus"
                                        id="adresse" formControlName="adresse"
                                        name="adresse"
                                        placeholder="Saisis l'adresse">
                            <label for="adresse" class="label">Adresse</label>
                        </div>
                        <!-- Ville -->
                        <div class="champ_input">
                          <input class="input_focus"
                                    id="ville" formControlName="ville"
                                    name="ville"
                                    placeholder="Saisis la ville">
                          <label for="ville" class="label">Ville</label>
                        </div>
                    </div>
  
                    <!-- Modifiez le sélecteur de pays et le champ téléphone -->
                    <div class="champ_grid">
                      <!-- Pays -->
                      <div class="champ_input">
                        <select class="input_focus" formControlName="pays" (change)="onPaysChange($event)">
                          <option value="" disabled selected>Pays</option>
                          <option value="Mali">Mali</option>
                          <option value="Sénégal">Sénégal</option>
                          <option value="Côte d'Ivoire">Côte d'Ivoire</option>
                        </select>
                        <label for="pays" class="label">Pays</label>
                        <div *ngIf="fournisseurEditForm.get('pays')?.invalid && fournisseurEditForm.get('pays')?.touched" class="error">
                          <small>Ce champ est requis</small>
                        </div>
                      </div>
  
                      <!-- Téléphone -->
                      <div class="champ_input">
                        <input type="tel" class="input_focus"
                              id="telephone" formControlName="telephone"
                              name="telephone"
                              placeholder="Saisis le numéro de téléphone"
                              (input)="formatPhoneNumber()">
                        <label for="telephone" class="label">Téléphone</label>
                      </div>
                    </div>

                    <div class="champ_grid">
                        <!-- Entreprise -->
                        <div class="champ_input">
                            <input class="input_focus" readonly style="cursor: no-drop;"
                                        id="entreprise" value="Nom entreprise"
                                        name="entreprise" >
                            <label for="entreprise" class="label">Entreprise</label>
                        </div>
                        <!-- Date de creation -->
                        <div class="champ_input">
                            <input class="input_focus" readonly style="cursor: no-drop;"
                                        id="dateCreation" value="Date de creation"
                                        name="entreprise" >
                            <label for="dateCreation" class="label">Date de creation</label>
                        </div>
                    </div>
                                      
                  </div>
                </div>
                <!-- Boutons Ajouter et Sauvegarder -->
                <div class="information_cadre information_cadre_save">
                   <!-- Message d'erreur global -->
                  <div class="container_error_message">
                      <!-- Messages API -->
                      <div *ngIf="errorMessage" class="error-messageApi2">{{ errorMessage }}</div>
                      <div *ngIf="successMessage" class="success-messageApi2">{{ successMessage }}</div>
                  </div>
  
                  <div class="info_titre_input info_titre_input_btn">
                    <div class="btn_annuler">
                      <button class="btn_cancel" (click)="goToFournisseur()">Annuler</button>
                    </div>
                    <div class="btn_ajouter">
                      <button class="btn_save" (click)="modifierFournisseur()"
                            [disabled]="fournisseurEditForm.invalid"
                            [disabled]="fournisseurEditForm.invalid" 
                            [style.backgroundColor]="fournisseurEditForm.valid ? '#0672E4' : '#0671e434'"
                            [style.color]="fournisseurEditForm.valid ? '#ffffff' : '#00000073'"
                            [style.cursor]="fournisseurEditForm.valid ? 'pointer' : 'no-drop'">
                        Modifier
                    </button>
                    </div>
                  </div>
                </div>
    
              </div>
            </div>
          </form>
        </div>
      </div>
  </div>