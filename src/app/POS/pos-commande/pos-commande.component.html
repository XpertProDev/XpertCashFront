
<div class="section_contenu_container">
    <!-- // section contenu left -->
    <div class="section_contenu_left">
        <!-- // section favory produit -->
        <div class="section_commande">
            <!-- // section recherche  -->
            <div class="toolbar">
                <div class="icon_search">
                    <i class="ri-search-line"></i>
                </div>
                <div class="search">
                    <input type="text" placeholder="Rechercher des commandes..." />
                </div>
                <div class="btn_search_filtre">
                    <button class="btn">Actif <i class="ri-arrow-down-s-fill"></i> </button>
                </div>
            </div>
            <!-- Section liste des commandes -->
            <div class="section_list_commande">
                <ul *ngFor="let vente of ventes" 
                    class="ul_commande" 
                    [class.ul_commande_active]="activeVenteId === vente.venteId"
                    (click)="setActiveVente(vente.venteId)">
                    <li class="li_commande">
                        <div class="commande_date_heure">
                        <p class="commande_date">{{ vente.dateVente | date:'dd/MM/yyyy' }}</p>
                        <p class="commande_heure">{{ vente.dateVente | date:'HH:mm' }}</p>
                        </div>
                    </li>
                    <li class="li_commande">
                        <div class="num_onglet_commande">
                        <p>{{ vente.venteId }}</p>
                        </div>
                    </li>
                    <li class="li_commande">
                        <div class="quantite_commande">
                        <p>Quantité {{ getTotalItems(vente) }}</p>
                        </div>
                    </li>
                    <li class="li_commande">
                        <div class="price_commande">
                        <p>{{ vente.montantTotal | cfaCurrency }}</p>
                        </div>
                    </li>
                    <li class="li_commande" style="display: flex; align-items: center; gap: 30px;">
                        <div class="etat_commande">
                        <p>Terminée</p>
                        </div>
                    </li>
                </ul>

                <div *ngIf="!ventes.length" class="loading_commande">
                    Pour le moment, aucune vente n’a été réalisée
                </div>
            </div>
        </div>
    </div>
    <!-- // section contenu right -->
    <div class="section_contenu_right" style="background-color: #ffffff; height: 100vh; box-shadow: rgba(0, 0, 0, 0.04) 0px 3px 5px;">
        <div class="list_produit_select">
            <ul class="ul_list_produit_select">
                <li class="li_list_produit_select" *ngFor="let item of activeVenteItems">
                <div class="double_commande">
                    <div class="nombre_select">
                    {{ item.quantity }}
                    </div>
                    <div class="name_produit_select">
                    <p style="margin: 0;">
                        {{ item.product.nom }}
                        <span>({{ item.product.prixVente | cfaCurrency }})</span>
                    </p>
                    </div>
                </div>
                <div class="double_commande">
                    <div class="price_produit">
                    {{ (item.quantity * item.product.prixVente) | cfaCurrency }}
                    </div>
                </div>
                </li>
            </ul>
            <div *ngIf="activeVenteItems.length === 0" class="empty-cart-message">
                <p>Aucun produit dans cette vente</p>
            </div>
        </div>
        
        <!-- Récapitulatif : Taxes / Total -->
        <div class="summary_panel">
            <div class="double_row">
                <span>Taxes</span>
                <span>00 CFA</span>
            </div>
            <div class="double_row total">
                <strong>Total</strong>
                <strong>{{ activeVente?.montantTotal | cfaCurrency }}</strong>
            </div>
        </div>

        <!-- Boutons d'action -->
        <div class="btn_container">
            <!-- Bouton retour -->
            <div class="btn_action_commande">
                <button class="btn_retourn" (click)="router.navigate(['/pos-accueil'])">
                    <i class="ri-arrow-left-s-line"></i>
                </button>
            </div>
            
            <!-- Bouton paiement -->
            <div class="btn_content">
                <button class="btn-payment">Annuler la commande</button>
            </div>
            
            <!-- Bouton supprimer la commande -->
            <div class="btn_action_commande">
                <button class="btn_delete" (click)="removeCommande(activeCommandeId)">
                    <i class="ri-delete-bin-5-line"></i>
                </button>
            </div>
        </div>
    </div>
</div>